{
  MPSModulesPartitioner partitioner=new MPSModulesPartitioner(_context.getNode());
  partitioner.buildChunks();
  partitioner.buildExternalDependencies();
  if (ListSequence.fromList(partitioner.getChunks()).any(new IWhereFilter<MPSModulesPartitioner.Chunk>(){
    public boolean accept(    MPSModulesPartitioner.Chunk it){
      return it.isBootstrap();
    }
  }
) && !(ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(),MetaAdapterFactory.getContainmentLink(0x798100da4f0a421aL,0xb99171f8c50ce5d2L,0x4df58c6f18f84a13L,0x31292e1a60db57afL,"aspects"))).any(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x5a408fb8c80220a9L,"jetbrains.mps.build.mps.structure.BuildMpsAspect")) && SPropertyOperations.getBoolean(SNodeOperations.cast(it,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x5a408fb8c80220a9L,"jetbrains.mps.build.mps.structure.BuildMpsAspect")),MetaAdapterFactory.getProperty(0xcf935df46994e9cL,0xa132fa109541cba3L,0x5a408fb8c80220a9L,0x5a408fb8c80270bcL,"bootstrap"));
    }
  }
))) {
    Iterable<SNode> samples=ListSequence.fromList(partitioner.getChunks()).where(new IWhereFilter<MPSModulesPartitioner.Chunk>(){
      public boolean accept(      MPSModulesPartitioner.Chunk it){
        return it.isBootstrap();
      }
    }
).translate(new ITranslator2<MPSModulesPartitioner.Chunk,SNode>(){
      public Iterable<SNode> translate(      MPSModulesPartitioner.Chunk it){
        return it.getConflicting();
      }
    }
).select(new ISelector<SNode,SNode>(){
      public SNode select(      SNode it){
        return SNodeOperations.as(DependenciesHelper.getOriginalNode(it,_context),MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x4780308f5d333ebL,"jetbrains.mps.build.mps.structure.BuildMps_AbstractModule"));
      }
    }
).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,"jetbrains.mps.build.mps.structure.BuildMps_Module"));
      }
    }
);
    _context.showErrorMessage(null,"cannot create `generate' task, there is a dependency cycle between a language and modules using it; add `mps settings' aspect with bootstrap = true to turn off the check");
    for (    SNode c : Sequence.fromIterable(samples)) {
      _context.showErrorMessage(c,"(bootstrap cycle) " + SPropertyOperations.getString(c,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")) + "; right click on a module -> Analyze -> Analyze Module Dependencies");
    }
  }
  return partitioner;
}
