{
  Collections.sort(myTools,new Comparator<INavigateableTool>(){
    public int compare(    INavigateableTool t1,    INavigateableTool t2){
      boolean v1=t1.getToolWindow().isVisible();
      boolean v2=t2.getToolWindow().isVisible();
      if (v1 && !v2)       return -1;
      if (!v1 && v2)       return 1;
      boolean a1=t1.getToolWindow().isAvailable();
      boolean a2=t2.getToolWindow().isAvailable();
      if (a1 && !a2)       return -1;
      if (!a1 && a2)       return 1;
      return t1.getPriority() - t2.getPriority();
    }
  }
);
  for (  INavigateableTool tool : myTools) {
    INavigator navigator=tool.getCurrentNavigateableView();
    if (navigator != null)     return navigator;
  }
  return null;
}
