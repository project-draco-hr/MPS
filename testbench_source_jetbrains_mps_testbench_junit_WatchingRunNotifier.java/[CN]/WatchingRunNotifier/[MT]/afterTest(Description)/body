{
  cacheOut.flush();
  cacheOut.stopCaching();
  cacheErr.flush();
  cacheErr.stopCaching();
  Logger.getRootLogger().removeAppender(app);
  Logger.getRootLogger().setLevel(oldLevel);
  Failure fail=null;
  if (!testsToIgnore.containsKey(desc) && (cacheOut.isNotEmpty() || cacheErr.isNotEmpty() || app.isNotEmpty())) {
    fail=new Failure(desc,new UncleanTestExecutionException(cacheOut,cacheErr,app));
  }
  cacheOut.clear();
  cacheErr.clear();
  if (fail != null) {
    super.fireTestFailure(fail);
  }
}
