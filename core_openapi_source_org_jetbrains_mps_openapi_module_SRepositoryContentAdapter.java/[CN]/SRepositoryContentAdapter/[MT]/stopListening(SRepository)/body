{
  for (  SModule module : repository.getModules()) {
    stopListening(module);
  }
synchronized (commandStack) {
    commandStack.remove(repository);
  }
}
