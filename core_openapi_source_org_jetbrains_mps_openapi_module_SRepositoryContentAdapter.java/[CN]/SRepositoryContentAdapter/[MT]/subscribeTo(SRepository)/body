{
  repository.getModelAccess().checkReadAccess();
  SRepository parent=repository.getParent();
  if (parent != null) {
    subscribeTo(parent);
  }
  repository.addRepositoryListener(this);
  for (  SModule module : repository.getModules()) {
    startListening(module);
  }
  if (repository.getModelAccess().isCommandAction()) {
    commandStack.push(repository);
  }
}
