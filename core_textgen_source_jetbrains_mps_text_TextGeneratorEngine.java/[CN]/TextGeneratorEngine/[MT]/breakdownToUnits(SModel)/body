{
  final boolean needsJava=SModelOperations.getAllLanguageImports(model).contains(MetaAdapterFactory.getLanguage(BootstrapLanguages.baseLanguageRef()));
  ArrayList<TextUnit> rv=new ArrayList<TextUnit>();
  for (  SNode root : model.getRootNodes()) {
    String name=TextGen.getFileName(root);
    rv.add(needsJava ? new JavaTextUnit(root,name) : new RegularTextUnit(root,name));
  }
  return rv;
}
