{
  SNode cd=MapSequence.fromMap(myFQNameToConcepDecl).get(conceptFQName);
  if (cd != null) {
    return cd;
  }
  if (conceptFQName.equals("jetbrains.mps.smodel.structure.ModelPersistence$UnknownSNode")) {
    return null;
  }
  return NodeReadAccessCasterInEditor.runReadTransparentAction(new Computable<SNode>(){
    @Override public SNode compute(){
      String languageFqName=NameUtil.namespaceFromConceptFQName(conceptFQName);
      Language language=ModuleRepositoryFacade.getInstance().getModule(languageFqName,Language.class);
      if (language == null) {
        return null;
      }
      String conceptName=NameUtil.shortNameFromLongName(conceptFQName);
      SNode result=language.findConceptDeclaration(conceptName);
      if (result != null) {
        SModelUtil.myFQNameToConcepDecl.putIfAbsent(InternUtil.intern(conceptFQName),result);
      }
      return result;
    }
  }
);
}
