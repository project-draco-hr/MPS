{
  List<SNode> functions=SNodeOperations.getAncestors(thisNode,"jetbrains.mps.baseLanguage.structure.ConceptFunction",false);
  final SNode ourConcept=SNodeOperations.getConceptDeclaration(thisNode);
  return ListSequence.<SNode>fromList(functions).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return ListSequence.<SNode>fromList(SLinkOperations.getConceptLinkTargets(it,"conceptFunctionParameter")).contains(ourConcept) || ListSequence.<SNode>fromList(SLinkOperations.getConceptLinkTargets(it,"applicableConceptFunctionParameter")).contains(ourConcept);
    }
  }
).first();
}
