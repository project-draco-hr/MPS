{
  if (reference.equals(myModel.getSModelReference())) {
    return myModel.getModelDescriptor();
  }
  List<IScope> scopes=ListSequence.<IScope>fromList(new ArrayList<IScope>());
  ProjectScope ps=myProject.getComponent(ProjectScope.class);
  if (ps != null) {
    ListSequence.<IScope>fromList(scopes).addElement(ps);
  }
  ListSequence.<IScope>fromList(scopes).addElement(GlobalScope.getInstance());
  for (  IScope scope : ListSequence.<IScope>fromList(scopes)) {
    SModelDescriptor md=scope.getModelDescriptor(reference);
    if (md != null) {
      return md;
    }
  }
  for (  IScope scope : ListSequence.<IScope>fromList(scopes)) {
    SModelDescriptor md=scope.getModelDescriptor(reference.getSModelFqName());
    if (md != null) {
      return md;
    }
  }
  return null;
}
