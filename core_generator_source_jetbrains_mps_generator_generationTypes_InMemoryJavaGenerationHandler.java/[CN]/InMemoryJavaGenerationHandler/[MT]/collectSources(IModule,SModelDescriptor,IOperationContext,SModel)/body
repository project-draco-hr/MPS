{
  boolean wereErrors=false;
  myContextModules.add(context.getModule());
  Iterable<SNode> iterable=new ConditionalIterable<SNode>(outputModel.roots(),new Condition<SNode>(){
    public boolean met(    SNode node){
      return node.getName() != null;
    }
  }
);
  for (  SNode root : iterable) {
    INodeAdapter outputNode=BaseAdapter.fromNode(root);
    TextGenerationResult genResult=TextGenerationUtil.generateText(context,root);
    wereErrors|=genResult.hasErrors();
    String key=getKey(outputModel.getSModelReference(),root);
    Object result=genResult.getResult();
    if (result instanceof String) {
      mySources.put(key,(String)result);
      if (isJavaSource(outputNode)) {
        myJavaSources.add(key);
      }
    }
 else {
    }
  }
  return !wereErrors;
}
