{
  boolean wereErrors=false;
  myContextModules.add(context.getModule());
  for (  SNode root : new ConditionalIterable<SNode>(outputModel.getRootNodes(),new Condition<SNode>(){
    @Override public boolean met(    SNode node){
      return node.getName() != null;
    }
  }
)) {
    TextGenerationResult genResult=TextGen.generateText(root);
    wereErrors|=genResult.hasErrors();
    String key=getKey(outputModel.getReference(),root);
    Object result=genResult.getResult();
    if (result instanceof String) {
      mySources.put(key,(String)result);
      if (isJavaSource(root)) {
        myJavaSources.add(key);
      }
    }
 else {
    }
  }
  return !wereErrors;
}
