{
  return new ConsoleStream(){
    public void addText(    String text){
      Scanner scanner=new Scanner(text);
      while (scanner.hasNextLine()) {
        String line=scanner.nextLine();
        if ((line != null && line.length() > 0)) {
          ListSequence.fromList(SLinkOperations.getChildren(getLastReponse(),MetaAdapterFactory.getContainmentLink(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171a5ba02L,0x4e3b035171b356edL,"item"))).addElement(createTextResponseItem_6q36mf_a0a0a1a1a0a0a0a15(line));
        }
        if (scanner.hasNextLine() || text.charAt(text.length() - 1) == '\n') {
          SLinkOperations.addNewChild(getLastReponse(),MetaAdapterFactory.getContainmentLink(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171a5ba02L,0x4e3b035171b356edL,"item"),SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171b35d30L,"jetbrains.mps.console.base.structure.NewLineResponseItem")));
        }
      }
    }
    public void addNode(    SNode node){
      addNodeImports(node);
      SLinkOperations.setTarget(SLinkOperations.addNewChild(getLastReponse(),MetaAdapterFactory.getContainmentLink(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171a5ba02L,0x4e3b035171b356edL,"item"),SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171b35c14L,"jetbrains.mps.console.base.structure.NodeResponseItem"))),MetaAdapterFactory.getContainmentLink(0xde1ad86d6e504a02L,0xb306d4d17f64c375L,0x4e3b035171b35c14L,0x4e3b035171b35c15L,"node"),node);
    }
  }
;
}
