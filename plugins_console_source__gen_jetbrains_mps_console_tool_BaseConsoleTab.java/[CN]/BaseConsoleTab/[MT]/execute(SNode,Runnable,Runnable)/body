{
  final SNode typedCommand=SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,"jetbrains.mps.console.base.structure.CommandHolder")));
  if (command != null) {
    addNodeImports(command);
    SLinkOperations.setTarget(typedCommand,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command"),SNodeOperations.copyNode(SLinkOperations.getTarget(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command"))));
    SLinkOperations.setTarget(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command"),SNodeOperations.copyNode(command));
  }
  myTool.selectTab(this);
  BehaviorReflection.invokeVirtual(Void.class,SLinkOperations.getTarget(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command")),"virtual_execute_6854397602732226506",new Object[]{getConsoleContext(),getConsoleStream(),new Runnable(){
    public void run(){
      ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930415l,"history")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),757553790980850366l,7195119950189425818l,"item"))).addElement(SNodeOperations.copyNode(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder"))));
      SNodeOperations.deleteNode(SLinkOperations.getTarget(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command")));
      check_6q36mf_a2a0a0c0a3a85(executeBefore);
    }
  }
,new Runnable(){
    public void run(){
      SLinkOperations.setTarget(SLinkOperations.getTarget(myRoot,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),1583916890557930028l,1583916890557930417l,"commandHolder")),MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command"),SLinkOperations.getTarget(typedCommand,MetaAdapterFactory.getContainmentLink(new UUID(-2442401883381282302l,-5546511894809623691l),351968380916615243l,351968380916615460l,"command")));
      check_6q36mf_a1a0a0d0a3a85(executeAfter);
    }
  }
});
}
