{
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      createConsoleModel();
      addBuiltInImports();
      loadHistory(history);
      createEditor();
      myFileEditor=new ConsoleFileEditor(myEditor);
    }
  }
);
  this.setLayout(new BorderLayout());
  DefaultActionGroup group=new DefaultActionGroup();
  registerActions(group);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,false);
  JPanel toolbarComponent=new JPanel(new BorderLayout());
  toolbarComponent.add(toolbar.getComponent(),BorderLayout.CENTER);
  this.add(toolbarComponent,BorderLayout.WEST);
  JPanel editorPanel=new ScrollablePanel(new BorderLayout()){
    @Override public boolean getScrollableTracksViewportHeight(){
      return getParent() instanceof JViewport && getPreferredSize().height < getParent().getHeight();
    }
    @Override public boolean getScrollableTracksViewportWidth(){
      return getParent() instanceof JViewport && getPreferredSize().width < getParent().getWidth();
    }
  }
;
  editorPanel.add(myEditor,BorderLayout.CENTER);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(editorPanel);
  this.add(scrollPane,BorderLayout.CENTER);
  this.add(myEditor.getUpperPanel(),BorderLayout.NORTH);
  myHighlighter=check_6q36mf_a0s0cc(myTool.getProject());
  myHighlighter.addAdditionalEditorComponent(myEditor);
}
