{
  for (  PsiFile f : dir.getFiles()) {
    if (f instanceof PsiJavaFile) {
      result.add((PsiJavaFile)f);
    }
  }
  if (!shallow) {
    for (    PsiDirectory d : dir.getSubdirectories()) {
      collectPsiJavaFiles(d,false,result);
    }
  }
}
