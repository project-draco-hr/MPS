{
  int index=rootIndex + 1;
  while (index < candidates.size()) {
    SModel candidate=candidates.get(index);
    if (treeNode.isSubfolderModel(candidate)) {
      int countNamePart=getCountNamePart(candidate,NameUtil.getModelLongName(treeNode.getModel()));
      SModelTreeNode newChildModel=new SModelTreeNode(candidate,null,countNamePart);
      treeNode.addChildModel(newChildModel);
      index=buildChildModels(newChildModel,candidates,index);
    }
 else {
      return index;
    }
  }
  return index;
}
