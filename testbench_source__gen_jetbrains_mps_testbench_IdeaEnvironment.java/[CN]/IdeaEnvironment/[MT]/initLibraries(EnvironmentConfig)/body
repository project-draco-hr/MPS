{
  if (LOG.isInfoEnabled()) {
    LOG.info("Initializing libraries");
  }
  final LibraryContributor libContributor=EnvironmentUtils.createLibContributor(false,config.libs());
  LibraryInitializer.getInstance().addContributor(libContributor);
  try {
    SwingUtilities.invokeAndWait(new Runnable(){
      @Override public void run(){
        ModelAccess.instance().runWriteAction(new Runnable(){
          public void run(){
            LibraryInitializer.getInstance().update();
          }
        }
);
      }
    }
);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return libContributor;
}
