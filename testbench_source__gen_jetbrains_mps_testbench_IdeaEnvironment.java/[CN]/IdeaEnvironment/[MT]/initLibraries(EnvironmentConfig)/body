{
  if (LOG.isInfoEnabled()) {
    LOG.info("Initializing libraries");
  }
  final LibraryContributor libContributor=EnvironmentUtils.createLibContributor(config);
  final LibraryContributor pluginsContributor=EnvironmentUtils.createPluginLibContributor(config);
  LibraryInitializer.getInstance().addContributor(libContributor);
  LibraryInitializer.getInstance().addContributor(pluginsContributor);
  try {
    SwingUtilities.invokeAndWait(new Runnable(){
      @Override public void run(){
        ModelAccess.instance().runWriteAction(new Runnable(){
          public void run(){
            LibraryInitializer.getInstance().update();
          }
        }
);
      }
    }
);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  ListSequence.fromList(myLibContributors).addElement(libContributor);
  ListSequence.fromList(myLibContributors).addElement(pluginsContributor);
}
