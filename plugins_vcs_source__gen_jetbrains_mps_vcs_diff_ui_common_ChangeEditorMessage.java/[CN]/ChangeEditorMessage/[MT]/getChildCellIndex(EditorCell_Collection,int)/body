{
  if (nodeIndex == -1) {
    return -1;
  }
  int currentNodeIndex=-1;
  for (int i=0; i < collectionCell.getChildCount(); i++) {
    if (collectionCell.getChildAt(i).getSNode() != collectionCell.getSNode()) {
      currentNodeIndex++;
    }
    if (currentNodeIndex == nodeIndex) {
      return i;
    }
  }
  if (currentNodeIndex == nodeIndex - 1) {
    return collectionCell.getChildCount();
  }
  if (log.isWarnEnabled()) {
    log.warn("Could not find child cell index for deleted child: currentNodeIndex=" + currentNodeIndex + ", total cells="+ collectionCell.getChildCount()+ ", requested nodeIndex="+ nodeIndex);
  }
  return -1;
}
