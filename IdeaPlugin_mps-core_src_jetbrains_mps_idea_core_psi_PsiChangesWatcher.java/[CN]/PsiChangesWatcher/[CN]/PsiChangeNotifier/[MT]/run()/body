{
  Runnable notify=new Runnable(){
    @Override public void run(){
      try {
        for (        PsiListener l : myListeners) {
          l.psiChanged(myCollectedData);
        }
      }
  finally {
        myCollectedData=new PsiChangeData();
        myTimerTask=null;
      }
    }
  }
;
  if (ModelAccess.instance().isInsideCommand()) {
    notify.run();
  }
 else {
    ModelAccess.instance().runUndoTransparentCommand(notify);
  }
}
