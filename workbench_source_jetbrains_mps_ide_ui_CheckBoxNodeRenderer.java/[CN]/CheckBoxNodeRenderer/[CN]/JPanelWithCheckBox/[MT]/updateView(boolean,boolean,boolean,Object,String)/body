{
  myCheckBox.setEnabled(enabled);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (userObject instanceof NodeData) {
        NodeData data=(NodeData)userObject;
        myIconLabel.setIcon(data.getIcon(expanded));
        Color color=data.getColor();
        if (color != null) {
          myCheckBox.setForeground(color);
          myTextLabel.setForeground(color);
        }
        myTextLabel.setText(data.getText());
        myCheckBox.setSelected(data.isSelected());
      }
 else {
        myIconLabel.setIcon(null);
        myTextLabel.setText(text);
        myCheckBox.setSelected(false);
      }
    }
  }
);
  myCheckBox.setForeground(getForeground(selected));
  myCheckBox.setBackground(getBackground(selected));
  setForeground(getForeground(selected));
  setBackground(getBackground(selected));
}
