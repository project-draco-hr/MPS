{
  ConceptDeclaration cd=node.getConceptDeclarationAdapter();
  while (cd != SModelUtil_new.getBaseConcept()) {
    String className=NameUtil.oldStructureClassFromConceptFqName(NameUtil.conceptFqName(cd));
    String packageName=NameUtil.namespaceFromLongName(className);
    className=className.substring(className.lastIndexOf('.') + 1);
    String textgenClassname=packageName + ".textGen." + className+ "_TextGen";
    try {
      Class textgenClass=Class.forName(textgenClassname,true,ClassLoaderManager.getInstance().getClassLoader());
      return (SNodeTextGen)textgenClass.newInstance();
    }
 catch (    ClassNotFoundException e) {
    }
catch (    InstantiationException e) {
      LOG.error(e,node);
    }
catch (    IllegalAccessException e) {
      LOG.error(e,node);
    }
    cd=cd.getExtends();
  }
  return new DefaultTextGen();
}
