{
  ConceptDeclaration cd=(ConceptDeclaration)node.getConceptDeclarationAdapter();
  while (cd != SModelUtil_new.getBaseConcept()) {
    Language l=SModelUtil_new.getDeclaringLanguage(cd,GlobalScope.getInstance());
    String packageName=NameUtil.namespaceFromConcept(cd);
    String className=cd.getName();
    String textgenClassname=packageName + ".textGen." + className+ "_TextGen";
    try {
      Class textgenClass=Class.forName(textgenClassname,true,ClassLoaderManager.getInstance().getClassLoaderFor(l));
      return (SNodeTextGen)textgenClass.newInstance();
    }
 catch (    ClassNotFoundException e) {
    }
catch (    InstantiationException e) {
      LOG.error(e,node);
    }
catch (    IllegalAccessException e) {
      LOG.error(e,node);
    }
    cd=cd.getExtends();
  }
  return new DefaultTextGen();
}
