{
  ConcurrentHashMap<CacheNodeHandler,ConcurrentMap<String,SNode>> cache=isWeak ? myCoerceToConceptsCacheWeak : myCoerceToConceptsCache;
  CacheNodeHandler subtypeHandler=new CacheNodeHandler(subtype);
  ConcurrentMap<String,SNode> map=cache.get(subtypeHandler);
  if (map == null) {
    map=new ConcurrentHashMap<String,SNode>();
    if (cache.putIfAbsent(subtypeHandler,map) != null) {
      map=cache.get(subtypeHandler);
    }
  }
  if (map != null) {
    map.put(concept.getQualifiedName(),preprocessPutNode(result));
  }
}
