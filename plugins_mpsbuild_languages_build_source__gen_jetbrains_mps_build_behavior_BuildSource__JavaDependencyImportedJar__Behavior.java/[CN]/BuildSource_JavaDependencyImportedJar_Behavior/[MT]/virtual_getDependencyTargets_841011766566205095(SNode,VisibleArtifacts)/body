{
  if (SNodeOperations.getContainingRoot(thisNode) == SNodeOperations.getContainingRoot(SLinkOperations.getTarget(thisNode,"jar",false))) {
    return null;
  }
  SNode target=SNodeOperations.as(artifacts.toOriginalNode(SLinkOperations.getTarget(thisNode,"jar",false)),"jetbrains.mps.build.structure.BuildInputSingleFile");
  if (target == null) {
    return null;
  }
  SNode artifact=SNodeOperations.as(artifacts.findArtifact(SLinkOperations.getTarget(target,"path",true)),"jetbrains.mps.build.structure.BuildLayout_Node");
  if (artifact != null) {
    artifacts.needsFetch(SNodeOperations.getParent(thisNode));
    return Sequence.<SNode>singleton(artifact);
  }
  return null;
}
