{
  myRealTabs.clear();
  myJbTabs.removeAll();
  ArrayList<RelationDescriptor> tabs=new ArrayList<RelationDescriptor>(myPossibleTabs);
  Collections.sort(tabs,new RelationComparator());
  Map<RelationDescriptor,List<SNode>> newContent=updateDocumentsAndNodes();
  JLabel fill=new JLabel("");
  for (  RelationDescriptor tab : tabs) {
    List<SNode> nodes=newContent.get(tab);
    if (nodes != null) {
      for (      SNode node : nodes) {
        myRealTabs.add(new PlainEditorTab(new SNodePointer(node),tab));
        myJbTabs.addTab(node.getPresentation(),IconManager.getIconFor(node),fill,"");
      }
    }
 else     if (myShowGrayed) {
      myRealTabs.add(new PlainEditorTab(null,tab));
      myJbTabs.addTab(tab.getTitle(),fill);
      myJbTabs.setForegroundAt(myJbTabs.getTabCount() - 1,Color.GRAY);
    }
  }
  updateTabColors();
}
