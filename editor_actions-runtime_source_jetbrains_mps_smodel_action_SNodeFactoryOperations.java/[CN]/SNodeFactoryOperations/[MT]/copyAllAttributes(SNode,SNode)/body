{
  for (  SNode attribute : AttributeOperations.getAllAttributes(oldChild)) {
    String role=attribute.getRole();
    if (AttributesRolesUtil.isPropertyAttributeRole(role)) {
      String propertyName=AttributesRolesUtil.getPropertyNameFromPropertyAttributeRole(role);
      if (SModelSearchUtil.findPropertyDeclaration(newChild.getConceptDeclarationNode(),propertyName) == null) {
        LOG.error("couldn't copy attribute " + attribute.getConceptShortName() + " for property '"+ propertyName+ "' : so such property in concept "+ newChild.getConceptShortName(),newChild);
        continue;
      }
    }
    if (AttributesRolesUtil.isLinkAttributeRole(role)) {
      String linkRole=AttributesRolesUtil.getLinkRoleFromLinkAttributeRole(role);
      if (SModelSearchUtil.findLinkDeclaration(newChild.getConceptDeclarationNode(),linkRole) == null) {
        LOG.error("couldn't copy attribute " + attribute.getConceptShortName() + " for link '"+ linkRole+ "' : so such link in concept "+ newChild.getConceptShortName(),newChild);
        continue;
      }
    }
    SNode newAttribute=CopyUtil.copy(attribute);
    newChild.addChild(role,newAttribute);
  }
}
