{
  String namespace1=node.getLanguageNamespace();
  if (!namespace1.equals("jetbrains.mps.lang.generator")) {
    namespaces.add(namespace1);
    for (    SNode child : node.getChildrenIterable()) {
      collectLanguageNamespaces(child,namespaces,isTemplateModel);
    }
  }
 else {
    if (isTemplateModel) {
      if (node.isInstanceOfConcept(RuleUtil.concept_TemplateDeclaration)) {
        SNode content=RuleUtil.getTemplateDeclaration_ContentNode(node);
        if (content != null) {
          collectLanguageNamespaces(content,namespaces,isTemplateModel);
        }
      }
    }
 else {
      namespaces.add(namespace1);
      for (      SNode child : node.getChildren()) {
        collectLanguageNamespaces(child,namespaces,isTemplateModel);
      }
    }
  }
}
