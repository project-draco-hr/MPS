{
  if (statementList == null) {
    return;
  }
  if (statementList != beforeStatement) {
    List<SNode> varElements=ILocalVariableElementList_Behavior.call_getLocalVariableElements_1238805763253(statementList);
    for (    SNode sNode : varElements) {
      if (!((SNodeOperations.isInstanceOf(sNode,"jetbrains.mps.baseLanguage.structure.ILocalVariableElement")))) {
        continue;
      }
      SNode statement=SNodeOperations.cast(sNode,"jetbrains.mps.baseLanguage.structure.ILocalVariableElement");
      if (statement == beforeStatement) {
        break;
      }
      SNode declNode=ILocalVariableElement_Behavior.call_getLocalVariableDeclaration_1238803857389(statement);
      if (declNode != null) {
        result.add(declNode);
      }
    }
  }
  SNode containingStatement=SNodeOperations.as(LocalVariablesScope.findThisOrParent(statementList,SConceptOperations.findConceptDeclaration("jetbrains.mps.baseLanguage.structure.ILocalVariableElement")),"jetbrains.mps.baseLanguage.structure.ILocalVariableElement");
  if (containingStatement != null) {
    statementList=SNodeOperations.getAncestor(containingStatement,"jetbrains.mps.baseLanguage.structure.ILocalVariableElementList",false,false);
    this._populateLocalVariables(statementList,containingStatement,result);
  }
}
