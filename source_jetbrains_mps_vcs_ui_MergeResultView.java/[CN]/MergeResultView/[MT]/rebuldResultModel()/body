{
  myResultModel=ModelPersistence.copyModel(myBaseModel);
  myResultModel.setLoading(true);
  SNode tmp=new SNode(myResultModel,"jetbrains.mps.vcs.ui.TmpConcept");
  myResultModel.addRoot(tmp);
  applyNewNodes();
  applyProperties();
  applyReferences();
  for (  MoveNodeChange mnc : getChanges(MoveNodeChange.class)) {
    SNode node=myResultModel.getNodeById(mnc.getNode());
    if (node != null) {
      if (node.isRoot()) {
        myResultModel.removeRoot(node);
      }
 else {
        node.getParent().removeChild(node);
      }
      tmp.addChild("tmp",node);
    }
  }
  applyDeletes();
  applyMoves();
  myResultModel.removeRoot(tmp);
  myResultModel.deleteLanguage("jetbrains.mps.vcs.ui");
  myResultModel.setLoading(false);
}
