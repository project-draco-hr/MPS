{
  final SNodeId id=node.getSNodeId();
  Sequence.fromIterable(((Iterable<SModelEvent>)myNodesToUnconsumedEvents.getValues(id))).where(new IWhereFilter<SModelEvent>(){
    public boolean accept(    SModelEvent e){
      return !(e instanceof SModelRootEvent);
    }
  }
).toListSequence().visitAll(new IVisitor<SModelEvent>(){
    public void visit(    SModelEvent e){
      myNodesToUnconsumedEvents.remove(id,e);
    }
  }
);
}
