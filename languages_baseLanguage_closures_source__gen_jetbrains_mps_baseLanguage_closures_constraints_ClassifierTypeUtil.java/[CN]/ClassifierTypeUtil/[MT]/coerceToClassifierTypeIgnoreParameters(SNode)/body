{
  SNode cType=(SNodeOperations.isInstanceOf(type,"jetbrains.mps.baseLanguage.structure.ClassifierType") ? SNodeOperations.cast(type,"jetbrains.mps.baseLanguage.structure.ClassifierType") : null);
  if ((cType != null)) {
    return cType;
  }
  cType=TypeChecker.getInstance().getRuntimeSupport().coerce_(type,HUtil.createMatchingPatternByConceptFQName("jetbrains.mps.baseLanguage.structure.ClassifierType"),false);
  if ((cType == null)) {
    cType=TypeChecker.getInstance().getRuntimeSupport().coerce_(type,HUtil.createMatchingPatternByConceptFQName("jetbrains.mps.baseLanguage.structure.ClassifierType"),true);
  }
  if ((cType != null)) {
    for (    Object imsup : TypeChecker.getInstance().getSubtypingManager().collectImmediateSupertypes(type,true)) {
      if (SLinkOperations.getTarget(SNodeOperations.as(((SNode)imsup),"jetbrains.mps.baseLanguage.structure.ClassifierType"),"classifier",false) == SLinkOperations.getTarget(cType,"classifier",false)) {
        return cType;
      }
    }
  }
  return null;
}
