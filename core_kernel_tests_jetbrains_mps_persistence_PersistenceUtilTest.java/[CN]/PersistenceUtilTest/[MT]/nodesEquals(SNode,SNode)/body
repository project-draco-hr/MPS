{
  if (!EqualUtil.equals(a.getConcept(),b.getConcept())) {
    return false;
  }
  if (!EqualUtil.equals(a.getNodeId(),b.getNodeId())) {
    return false;
  }
  Iterator<? extends SNode> aChildren=a.getChildren().iterator();
  Iterator<? extends SNode> bChildren=b.getChildren().iterator();
  while (aChildren.hasNext() || bChildren.hasNext()) {
    if (!aChildren.hasNext() || !bChildren.hasNext()) {
      return false;
    }
    if (!nodesEquals(aChildren.next(),bChildren.next())) {
      return false;
    }
  }
  Iterator<SProperty> aProperties=a.getProperties().iterator();
  Iterator<SProperty> bProperties=b.getProperties().iterator();
  while (aProperties.hasNext() || bProperties.hasNext()) {
    if (!aProperties.hasNext() || !bProperties.hasNext()) {
      return false;
    }
    if (!EqualUtil.equals(aProperties.next(),bProperties.next())) {
      return false;
    }
  }
  Iterator<? extends SReference> aReferences=a.getReferences().iterator();
  Iterator<? extends SReference> bReferences=b.getReferences().iterator();
  while (aReferences.hasNext() || bReferences.hasNext()) {
    if (!aReferences.hasNext() || !bReferences.hasNext()) {
      return false;
    }
    SReference aRef=aReferences.next();
    SReference bRef=bReferences.next();
    if (!EqualUtil.equals(aRef.getLink(),bRef.getLink())) {
      return false;
    }
    if (!EqualUtil.equals(aRef.getTargetNodeReference(),bRef.getTargetNodeReference())) {
      return false;
    }
  }
  return true;
}
