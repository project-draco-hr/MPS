{
  for (  SNode child : ListSequence.fromList(SNodeOperations.getChildren(node)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return !(SNodeOperations.isAttribute(it));
    }
  }
)) {
    SNode link=SNodeOperations.getContainingLinkDeclaration(child);
    if (link == null || !(SPropertyOperations.hasValue(link,MetaAdapterFactory.getProperty(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979bd086aL,0xf980556927L,"metaClass"),"aggregation","reference"))) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"Child in undeclared role \"" + SNodeOperations.getContainingLinkRole(child) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","1556973682253868925",null,errorTarget);
{
          BaseQuickFixProvider intentionProvider=new BaseQuickFixProvider("jetbrains.mps.lang.core.typesystem.RemoveUnknownChildren_QuickFix",false);
          intentionProvider.putArgument("role",SNodeOperations.getContainingLinkRole(child));
          _reporter_2309309498.addIntentionProvider(intentionProvider);
        }
      }
    }
  }
  for (  SReference reference : Sequence.fromIterable(SNodeOperations.getReferences(node))) {
    SNode link=SLinkOperations.findLinkDeclaration(reference);
    if (link == null || !(SPropertyOperations.hasValue(link,MetaAdapterFactory.getProperty(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979bd086aL,0xf980556927L,"metaClass"),"reference","reference"))) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"Reference in undeclared role \"" + SLinkOperations.getRole(reference) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","1556973682253870183",null,errorTarget);
{
          BaseQuickFixProvider intentionProvider=new BaseQuickFixProvider("jetbrains.mps.lang.core.typesystem.RemoveUnknownReference_QuickFix",false);
          intentionProvider.putArgument("role",SLinkOperations.getRole(reference));
          _reporter_2309309498.addIntentionProvider(intentionProvider);
        }
      }
    }
  }
  for (  String propname : jetbrains.mps.util.SNodeOperations.getProperties(node).keySet()) {
    if (((jetbrains.mps.smodel.SNode)node).getPropertyDeclaration(propname) == null) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"Undeclared property \"" + propname + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","2889243336884177777",null,errorTarget);
{
          BaseQuickFixProvider intentionProvider=new BaseQuickFixProvider("jetbrains.mps.lang.core.typesystem.RemoveUndeclaredProperty_QuickFix",false);
          intentionProvider.putArgument("propertyName",propname);
          _reporter_2309309498.addIntentionProvider(intentionProvider);
        }
      }
    }
  }
}
