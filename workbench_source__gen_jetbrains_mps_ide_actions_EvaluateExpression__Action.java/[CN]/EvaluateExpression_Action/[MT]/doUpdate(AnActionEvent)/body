{
  try {
{
      AbstractDebugSession debugSession=DebugActionsUtil.getDebugSession(event);
      IEvaluationProvider provider=debugSession.getEvaluationProvider();
      event.getPresentation().setEnabled(debugSession != null && debugSession.isStepEnabled() && provider != null);
    }
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action doUpdate method failed. Action:" + "EvaluateExpression",t);
    }
    this.disable(event.getPresentation());
  }
}
