{
  normalizeAllDotExpressions(evaluateMethod);
  for (  SNode node : ListSequence.fromList(SNodeOperations.getDescendants(evaluateMethod,null,false,new String[]{}))) {
    SLinkOperations.setNewChild(node,AttributesRolesUtil.childRoleFromAttributeRole("unprocessedAnnotation"),"jetbrains.mps.debug.evaluation.structure.UnprocessedAnnotation");
  }
  for (  SNode binaryOperation : ListSequence.fromList(SNodeOperations.getDescendants(evaluateMethod,"jetbrains.mps.baseLanguage.structure.BinaryOperation",false,new String[]{}))) {
    SNode ltype=TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(binaryOperation,"leftExpression",true));
    SNode rtype=TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(binaryOperation,"rightExpression",true));
    binaryOperation.addChild(LTYPE,getBoxedTypeIfNeeded(SNodeOperations.copyNode(ltype)));
    binaryOperation.addChild(RTYPE,getBoxedTypeIfNeeded(SNodeOperations.copyNode(rtype)));
  }
  for (  SNode arrayAccess : ListSequence.fromList(SNodeOperations.getDescendants(evaluateMethod,"jetbrains.mps.baseLanguage.structure.ArrayAccessExpression",false,new String[]{}))) {
    SNode ltype=TypeChecker.getInstance().getTypeOf(arrayAccess);
    arrayAccess.addChild(LTYPE,SNodeOperations.copyNode(ltype));
  }
  for (  SNode baseAssignment : ListSequence.fromList(SNodeOperations.getDescendants(evaluateMethod,"jetbrains.mps.baseLanguage.structure.BaseAssignmentExpression",false,new String[]{})).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return !(SNodeOperations.isInstanceOf(it,"jetbrains.mps.baseLanguage.structure.AssignmentExpression"));
    }
  }
)) {
    baseAssignment.addChild(LTYPE,getBoxedTypeIfNeeded(SNodeOperations.copyNode(TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(baseAssignment,"lValue",true)))));
    baseAssignment.addChild(RTYPE,getBoxedTypeIfNeeded(SNodeOperations.copyNode(TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(baseAssignment,"rValue",true)))));
  }
}
