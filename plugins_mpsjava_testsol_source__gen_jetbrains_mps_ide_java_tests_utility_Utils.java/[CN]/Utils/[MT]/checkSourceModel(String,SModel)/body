{
  try {
    DirParser dirParser=new DirParser(ourModule,null,null);
    SModel result=SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.ide.java.tests.placeholder","")).getSModel();
    List<SNode> nodes=dirParser.parseDir(new File(dirPath));
    for (    SNode n : ListSequence.fromList(nodes)) {
      SModelOperations.addRootNode(result,n);
    }
    Map<SNode,SNode> referentMap=MapSequence.fromMap(new HashMap<SNode,SNode>());
    buildModelNodeMap(result,expected,referentMap);
    boolean wereErrors=compare2models(result,expected,referentMap);
    Assert.assertFalse(wereErrors);
  }
 catch (  JavaParseException e) {
    throw new RuntimeException(e);
  }
}
