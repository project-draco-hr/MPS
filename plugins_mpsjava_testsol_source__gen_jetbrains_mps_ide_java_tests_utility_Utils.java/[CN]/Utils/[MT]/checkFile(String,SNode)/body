{
  SModelReference modRef=StubHelper.uidForPackageInStubs("unused",LanguageID.JAVA,ourModule.getModuleReference());
  BaseStubModelDescriptor smd;
  smd=new BaseStubModelDescriptor(modRef,new JavaSourceStubModelDS(ourModule.getModuleReference(),null),ourModule);
  ((JavaSourceStubModelDS)smd.getSource()).addPath(path);
  SModel mdl=smd.getSModel();
  Assert.assertTrue(mdl.rootsIterator().hasNext());
  SNode result=SNodeOperations.cast(mdl.rootsIterator().next(),"jetbrains.mps.baseLanguage.structure.Classifier");
  NodePatcher.removeStatements(expected);
  NodePatcher.fixNonStatic(expected);
  NodePatcher.fixNonStatic(result);
  Assert.assertEquals(null,NodesMatcher.matchNodes(ListSequence.fromListAndArray(new ArrayList<SNode>(),expected),ListSequence.fromListAndArray(new ArrayList<SNode>(),result)));
}
