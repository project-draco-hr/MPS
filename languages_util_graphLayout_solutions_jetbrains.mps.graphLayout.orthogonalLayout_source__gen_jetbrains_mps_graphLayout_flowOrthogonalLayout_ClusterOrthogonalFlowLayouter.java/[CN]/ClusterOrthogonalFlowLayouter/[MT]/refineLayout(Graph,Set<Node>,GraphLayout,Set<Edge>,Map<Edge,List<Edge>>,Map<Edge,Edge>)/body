{
  ClusteredGraphLayout refinedLayout=((ClusteredGraphLayout)super.refineLayout(graph,initialNodes,layout,initialEdges,history,labeledEdges));
  for (  Node cluster : SetSequence.<Node>fromSet(MapSequence.fromMap(myClusterBorderMap).keySet())) {
    List<Edge> border=MapSequence.<Node,List<Edge>>fromMap(myClusterBorderMap).get(cluster);
    List<Point> borderLayout=ListSequence.<Point>fromList(new LinkedList<Point>());
    for (    Edge borderEdge : ListSequence.<Edge>fromList(border)) {
      List<Edge> borderEdgeHistory=MapSequence.<Edge,List<Edge>>fromMap(history).get(borderEdge);
      for (      Edge historyEdge : ListSequence.<Edge>fromList(borderEdgeHistory)) {
        List<Point> copyEdgeLayout=layout.getEdgeLayout(historyEdge);
        ListSequence.<Point>fromList(borderLayout).addSequence(ListSequence.<Point>fromList(copyEdgeLayout));
      }
    }
    refinedLayout.setClusterLayout(cluster,borderLayout);
  }
  return refinedLayout;
}
