{
  myMappings=plan.getMappingConfigurations(step);
  myTemplateSwitchGraph=plan.getTemplateSwitchGraph();
  if (myTemplateSwitchGraph == null)   throw new IllegalStateException("switch graph is not initialized");
  initialize(myMappings);
  myRuleFinder=initRules(myMappings);
}
