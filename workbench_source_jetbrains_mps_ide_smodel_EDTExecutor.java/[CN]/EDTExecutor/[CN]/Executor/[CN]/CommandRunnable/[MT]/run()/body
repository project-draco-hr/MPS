{
synchronized (myLock) {
    if (hasCommandWorker) {
      return;
    }
    hasCommandWorker=true;
  }
  try {
    final Project project=peekToExecuteProject();
    if (project != null && !project.isDisposed()) {
      myModelAccess.tryWriteInCommand(new Runnable(){
        public void run(){
          Runnable command;
          while ((command=getToExecuteCommand(project)) != null) {
            command.run();
          }
        }
      }
,project);
    }
 else     if (project != null) {
      LOG.error("disposed project, command dropped " + project);
      getToExecuteCommand(project);
    }
  }
  finally {
synchronized (myLock) {
      hasCommandWorker=false;
      myLock.notifyAll();
    }
  }
}
