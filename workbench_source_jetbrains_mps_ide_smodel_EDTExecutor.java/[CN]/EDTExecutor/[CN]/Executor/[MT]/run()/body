{
  try {
    while (true) {
      boolean schedule, needsWrite;
synchronized (myLock) {
        if (workerStarted || myTasks.isEmpty()) {
          try {
            myLock.wait();
          }
 catch (          InterruptedException e) {
          }
        }
        if (workerStarted) {
          continue;
        }
        Task first=myTasks.peek();
        schedule=first != null;
        needsWrite=schedule && first.needsWrite();
      }
      if (schedule) {
        myModelAccess.waitLock(needsWrite);
        workerStarted=true;
        LaterInvocator.invokeLater(myWorker,ModalityState.NON_MODAL);
      }
    }
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
