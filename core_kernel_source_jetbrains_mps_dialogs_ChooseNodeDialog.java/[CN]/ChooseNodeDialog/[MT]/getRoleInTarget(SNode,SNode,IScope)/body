{
  AbstractConceptDeclaration nodeToMoveDeclaration=SModelUtil_new.findConceptDeclaration(nodeToMove.getConceptFqName(),scope);
  AbstractConceptDeclaration conceptDeclaration=SModelUtil_new.findConceptDeclaration(targetNode.getConceptFqName(),scope);
  String roleInParent=null;
  for (  AbstractConceptDeclaration abstractConceptDeclaration : SModelUtil_new.getConceptAndSuperConcepts(conceptDeclaration)) {
    for (    LinkDeclaration linkDeclaration : abstractConceptDeclaration.getLinkDeclarations()) {
      if (linkDeclaration.getMetaClass() == LinkMetaclass.reference)       continue;
      AbstractConceptDeclaration targetConcept=linkDeclaration.getTarget();
      if (SModelUtil_new.isAssignableConcept(nodeToMoveDeclaration,targetConcept)) {
        roleInParent=linkDeclaration.getRole();
        break;
      }
    }
  }
  return roleInParent;
}
