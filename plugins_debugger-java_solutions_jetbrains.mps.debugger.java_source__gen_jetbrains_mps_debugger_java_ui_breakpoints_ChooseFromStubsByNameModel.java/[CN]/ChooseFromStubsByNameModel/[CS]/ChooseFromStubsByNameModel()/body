{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      IModule m : GlobalScope.getInstance().getVisibleModules()) {
        boolean hasStubs=false;
        for (        SModelDescriptor sd : m.getOwnModelDescriptors()) {
          if (SModelStereotype.isStubModelStereotype(sd.getStereotype())) {
            hasStubs=true;
            break;
          }
        }
        if (!(hasStubs)) {
          continue;
        }
        List<BaseSNodeDescriptor> descriptors=ListSequence.fromList(new ArrayList<BaseSNodeDescriptor>());
        for (        SModelDescriptor model : ListSequence.fromList(m.getOwnModelDescriptors())) {
          ListSequence.fromList(descriptors).addSequence(ListSequence.fromList(StubsNodeDescriptorsCache.getInstance().getSNodeDescriptors(model.getSModelReference())));
        }
        for (        BaseSNodeDescriptor descriptor : descriptors) {
          String name=getName(descriptor);
          List<BaseSNodeDescriptor> descriptorList=myPossibleNodes.get(name);
          if (descriptorList == null) {
            descriptorList=new ArrayList<BaseSNodeDescriptor>();
            myPossibleNodes.put(name,descriptorList);
          }
          descriptorList.add(descriptor);
        }
      }
    }
  }
);
}
