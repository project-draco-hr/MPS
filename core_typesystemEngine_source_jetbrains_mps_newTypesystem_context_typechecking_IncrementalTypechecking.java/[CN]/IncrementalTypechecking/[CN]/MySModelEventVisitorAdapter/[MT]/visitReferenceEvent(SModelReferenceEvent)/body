{
  markDependentNodesForInvalidation(event.getReference().getSourceNode(),getTypecheckingComponent());
  markDependentNodesForInvalidation(event.getReference().getSourceNode(),myNonTypeSystemComponent);
  if (!event.isAdded())   return;
  SNode node=jetbrains.mps.util.SNodeOperations.getTargetNodeSilently(event.getReference());
  if (node == null)   return;
  markDependentNodesForInvalidation(node,myNonTypeSystemComponent);
}
