{
  if (typesystemErrors) {
    return new THashSet<Pair<SNode,List<IErrorReporter>>>(super.getNodesWithErrors(typesystemErrors));
  }
  Set<Pair<SNode,List<IErrorReporter>>> result=new THashSet<Pair<SNode,List<IErrorReporter>>>();
  Map<SNode,List<IErrorReporter>> nodesToErrorsMapNT=myNonTypeSystemComponent.getNodesToErrorsMap();
  Set<SNode> keySet=new THashSet<SNode>(nodesToErrorsMapNT.keySet());
  keySet.addAll(nodesToErrorsMapNT.keySet());
  for (  SNode key : keySet) {
    List<IErrorReporter> reporters=nodesToErrorsMapNT.get(key);
    if (reporters.isEmpty())     continue;
    if (key.getModel() == null) {
      LOG.warning("Type system reports error for node without containing root. Node: " + key);
      for (      IErrorReporter reporter : reporters) {
        LOG.warning("This error was reported from: model: " + reporter.getRuleModel() + " id: "+ reporter.getRuleId());
      }
      continue;
    }
    result.add(new Pair<SNode,List<IErrorReporter>>(key,reporters));
  }
  return result;
}
