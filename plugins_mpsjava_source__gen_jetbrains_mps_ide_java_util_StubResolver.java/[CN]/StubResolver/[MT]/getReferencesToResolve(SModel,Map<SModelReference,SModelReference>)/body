{
  List<SReference> result=ListSequence.fromList(new ArrayList<SReference>());
  for (  SNode node : ListSequence.fromList(SModelOperations.getNodes(sourceModel,null))) {
    for (    SReference ref : Sequence.fromIterable(SNodeOperations.getReferences(node))) {
      SModelReference targetModelRef=ref.getTargetSModelReference();
      if (targetModelRef == null || !(JAVA_STUB.equals(targetModelRef.getStereotype()))) {
        continue;
      }
      SModelFqName modelName=new SModelFqName(targetModelRef.getLongName(),null);
      SModelReference modelRef=check_ar1im2_a0e0a0c0a(SModelRepository.getInstance().getModelDescriptor(modelName));
      if (modelRef == null) {
        continue;
      }
      if (myUsedModels == null || SetSequence.fromSet(myUsedModels).contains(modelRef)) {
        MapSequence.fromMap(models).put(targetModelRef,modelRef);
        ListSequence.fromList(result).addElement(ref);
      }
    }
  }
  return result;
}
