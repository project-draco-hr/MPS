{
  final List<Message> errors=new ArrayList<Message>();
  final IMessageHandler handler=new IMessageHandler(){
    public void handle(    Message msg){
      if (msg.getKind() == MessageKind.ERROR) {
        errors.add(msg);
      }
      System.out.println(msg.getKind() + " : " + msg.getText());
    }
  }
;
  CommandProcessor.instance().executeCommand(new Runnable(){
    public void run(){
      for (      RunConfiguration t : myProjectDescriptor.getRunConfigurations()) {
        if (!t.getTest())         continue;
        SModelDescriptor modelDescriptor=getScope().getModelDescriptor(SModelUID.fromString(t.getModelFqName()));
        GenerationPlans.Plan p=getComponentSafe(GenerationPlans.class).findPlan(t.getGenerationPlan());
        String tl=t.getTargetLanguage();
        if (tl == null) {
          tl=BootstrapLanguages.getInstance().getBaseLanguage().getNamespace();
        }
        Language target=getScope().getLanguage(tl);
        if (modelDescriptor == null || target == null) {
          System.out.println("can't execute test configuration " + t.getName());
          continue;
        }
        System.out.println("executing configuration " + t.getName());
        IModule module=null;
        for (        IModule m : getModules()) {
          if (m.getOwnModelDescriptors().contains(modelDescriptor)) {
            module=m;
            break;
          }
        }
        if (module == null) {
          System.out.println("there is no module that can be used to generate model " + modelDescriptor.getModelUID());
          continue;
        }
        IGenerationScript script;
        if (p != null) {
          script=p.getGenerationScript();
        }
 else {
          script=IGenerationScript.DEFAULT;
        }
        getComponentSafe(GeneratorManager.class).generateModels(CollectionUtil.asList(modelDescriptor.getSModel()),target,new ModuleContext(module,MPSProject.this),new GenerateClassesGenerationType(false){
          public boolean requiresCompilationInIDEABeforeGeneration(){
            return false;
          }
          public boolean requiresCompilationInIDEAfterGeneration(){
            return false;
          }
        }
,script,IAdaptiveProgressMonitor.NULL_PROGRESS_MONITOR,handler);
        System.out.println("");
        System.out.println("");
        System.out.println("");
      }
    }
  }
);
  return errors.size() == 0;
}
