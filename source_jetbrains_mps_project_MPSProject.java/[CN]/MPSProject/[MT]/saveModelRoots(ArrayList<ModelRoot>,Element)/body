{
  for (Iterator<ModelRoot> iterator=modelRoots.iterator(); iterator.hasNext(); ) {
    ModelRoot modelRoot=iterator.next();
    String absolutePath=modelRoot.root.getAbsolutePath();
    String fileName=null;
    if (absolutePath.startsWith(myProjectFile.getParent())) {
      String modelRelationalPath=PathManager.getRelationalPathByAbsolute(myProjectFile,absolutePath);
      fileName=PATH_MACRO_PROJECT + modelRelationalPath;
    }
 else {
      String modelRelationalPath=PathManager.getRelationalPathByAbsolute(new File(PathManager.getModelPath()),absolutePath);
      fileName=PATH_MACRO_MODELS_ROOT + modelRelationalPath;
    }
    Element modelRootElement=new Element(MODEL_ROOT);
    modelRootElement.setAttribute(ROOT_PATH,fileName);
    if (modelRoot.namespacePrefix != null) {
      modelRootElement.setAttribute(NAMESPACE_PREFIX,modelRoot.namespacePrefix);
    }
    modelsElement.addContent(modelRootElement);
  }
}
