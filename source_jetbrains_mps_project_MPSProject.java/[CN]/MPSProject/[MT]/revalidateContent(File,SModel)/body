{
  final File solutionDescriptorFile=Solution.createSolutionDescriptorFromLegacyProjectFile(projectFile);
  if (solutionDescriptorFile != null) {
    projectModel.runLoadingAction(new Runnable(){
      public void run(){
        SolutionPath solutionPath=SolutionPath.newInstance(projectModel);
        solutionPath.setPath(solutionDescriptorFile.getAbsolutePath());
        myProjectDescriptor.addProjectSolution(solutionPath);
      }
    }
);
  }
  mySolutions=new LinkedList<Solution>();
  for (  SolutionPath solutionPath : CollectionUtil.iteratorAsIterable(myProjectDescriptor.projectSolutions())) {
    String path=solutionPath.getPath();
    if (path == null) {
      LOG.error("Solution path is null");
      continue;
    }
    File descriptorFile=new File(path);
    if (descriptorFile.exists()) {
      mySolutions.add((Solution)MPSModuleRepository.getInstance().registerSolution(descriptorFile,this));
    }
 else {
      LOG.error("Couldn't load solution from: " + descriptorFile.getAbsolutePath() + " : file doesn't exist");
    }
  }
  myLanguages=new LinkedList<Language>();
  for (  LanguagePath languagePath : CollectionUtil.iteratorAsIterable(myProjectDescriptor.projectLanguages())) {
    File descriptorFile=new File(languagePath.getPath());
    if (descriptorFile.exists()) {
      myLanguages.add(MPSModuleRepository.getInstance().registerLanguage(descriptorFile,this));
    }
 else {
      LOG.error("Couldn't load language from: " + descriptorFile.getAbsolutePath() + " : file doesn't exist");
    }
  }
}
