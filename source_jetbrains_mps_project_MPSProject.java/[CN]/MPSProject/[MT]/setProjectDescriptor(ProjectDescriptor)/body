{
  CommandProcessor.instance().executeCommand(new Runnable(){
    public void run(){
      SModelDescriptor modelDescriptor=SModelRepository.getInstance().getModelDescriptor(newDescriptor.getModel().getUID(),(ModelOwner)MPSProject.this);
      LanguageRepository.getInstance().unRegisterLanguages(MPSProject.this);
      SModelRepository.getInstance().unRegisterModelDescriptors(MPSProject.this);
      SModelRepository.getInstance().registerModelDescriptor(modelDescriptor,MPSProject.this);
      for (      Solution solution : getProjectSolutions()) {
        solution.dispose();
      }
    }
  }
,"Set project descriptor");
  myProjectDescriptor=newDescriptor;
  LOG.assertLog(myProjectDescriptor.isRoot(),"Project descriptor has to be root");
  revalidateContent(myProjectFile,newDescriptor.getModel());
  myEventTranslator.projectChanged();
}
