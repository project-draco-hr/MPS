{
  List<SModelDescriptor> modelsToOptimize=new ArrayList<SModelDescriptor>();
  modelsToOptimize.addAll(language.getOwnModelDescriptors());
  for (  Generator g : language.getGenerators()) {
    modelsToOptimize.addAll(g.getOwnModelDescriptors());
  }
  Result result=optimizeModelsImports_internal(modelsToOptimize);
  SModelRepository.getInstance().saveAll();
  LanguageDescriptor descriptor=language.getModuleDescriptor();
  for (  Generator g : language.getGenerators()) {
    GeneratorDescriptor gd=g.getModuleDescriptor();
    result.myReport=optimizeModuleImports(gd,result) + "\n\n" + result.myReport;
    g.setModuleDescriptor(gd,false);
  }
  result.myReport=optimizeModuleImports(descriptor,result) + "\n\n" + result.myReport;
  language.setLanguageDescriptor(descriptor,false);
  return result;
}
