{
  if (typeRef instanceof QualifiedTypeReference) {
    return addReference((QualifiedTypeReference)typeRef,source,role);
  }
 else   if (typeRef instanceof SingleTypeReference) {
    return addReference((SingleTypeReference)typeRef,source,role);
  }
 else {
    LOG.error("Unexpected kind of type reference: " + typeRef.getClass().getName());
    return 0;
  }
}
