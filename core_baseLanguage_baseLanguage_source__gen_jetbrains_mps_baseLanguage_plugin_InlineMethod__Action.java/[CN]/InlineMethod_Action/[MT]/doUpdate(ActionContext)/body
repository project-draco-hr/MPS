{
  try {
    super.doUpdate(context);
    if (!(this.fillFieldsIfNecessary(context))) {
      this.setEnabled(false);
      this.setVisible(this.isAlwaysVisible);
      return;
    }
{
      final MPSActionAdapter action=this;
      final SNode node=context.getNode();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          boolean b=false;
          if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation")) {
            b=true;
          }
          if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.baseLanguage.structure.BaseMethodCall")) {
            b=true;
          }
          action.setVisible(b);
        }
      }
);
    }
  }
 catch (  Throwable t) {
    LOG.error("User's action doUpdate method failed. Action:" + "InlineMethod",t);
    this.setEnabled(false);
    this.setVisible(this.isAlwaysVisible);
  }
}
