{
  if (tests == null) {
    throw new ExecutionException("Tests to run are null.");
  }
  Tuples._2<List<ITestNodeWrapper>,TestRunParameters> testsToRun=Junit_Command.getTestsToRunWithParameters(tests);
  if (ListSequence.fromList(testsToRun._0()).isEmpty()) {
    throw new ExecutionException("Could not find tests to run.");
  }
  return new Java_Command().setVirtualMachineParameter_String(IterableUtils.join(ListSequence.fromList(testsToRun._1().getVmParameters())," ") + ((StringUtils.isNotEmpty(myVirtualMachineParameter_String) ? " " + myVirtualMachineParameter_String : ""))).setDebuggerSettings_String(myDebuggerSettings_String).setClassPath_ListString(ListSequence.fromList(testsToRun._1().getClassPath()).union(ListSequence.fromList(Junit_Command.getClasspath(testsToRun._0()))).toListSequence()).setJrePath_String(myJrePath_String).setWorkingDirectory_File(myWorkingDirectory_File).setProgramParameter_String(Junit_Command.getProgramParameters(testsToRun._0())).createProcess(testsToRun._1().getTestRunner());
}
