{
  IdeFocusManager.findInstanceByComponent(this).requestFocus(this,true);
  if (e.getButton() == 0) {
    TreePath path=getSelectionPath();
    if (path == null)     return;
    int rowNum=getRowForPath(path);
    Rectangle r=getRowBounds(rowNum);
    showPopup(r.x,r.y);
    return;
  }
  if (e.isPopupTrigger()) {
    showPopup(e.getX(),e.getY());
    return;
  }
  TreePath path=getClosestPathForLocation(e.getX(),e.getY());
  if (path == null)   return;
  MPSTreeNode nodeToClick=getOpenableNode(e);
  if (nodeToClick != null) {
    if ((e.getClickCount() == 1 && isAutoOpen())) {
      autoscroll(nodeToClick);
    }
  }
}
