{
  if (!editorCells.isFolded() && editorCells.getParent() != null && editorCells.getParent().getCellLayout() instanceof CellLayout_Indent) {
    return;
  }
  if (editorCells.isFolded()) {
    Font font=EditorSettings.getInstance().getDefaultEditorFont();
    FontMetrics metrics=editorCells.getEditor().getFontMetrics(font);
    editorCells.setHeight(metrics.getHeight());
    editorCells.setWidth(metrics.stringWidth(EditorCell_Collection.FOLDED_TEXT));
    for (    EditorCell cell : editorCells.dfsCells()) {
      cell.setX(editorCells.getX());
      cell.setY(editorCells.getY());
      cell.setWidth(0);
      cell.setHeight(0);
    }
    return;
  }
  new CellLayouter(editorCells).layout();
}
