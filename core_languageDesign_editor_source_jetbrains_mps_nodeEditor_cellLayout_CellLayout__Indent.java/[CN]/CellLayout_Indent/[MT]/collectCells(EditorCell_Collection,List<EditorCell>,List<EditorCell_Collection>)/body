{
  for (  EditorCell child : current) {
    if (child instanceof EditorCell_Collection) {
      EditorCell_Collection collection=(EditorCell_Collection)child;
      if (isIndentCollection(collection) && !collection.isFolded()) {
        collectCells(collection,frontier,collections);
      }
 else {
        frontier.add(child);
      }
    }
 else {
      frontier.add(child);
    }
    if (collections != null) {
      collections.add(current);
    }
  }
}
