{
  final SNode node=ModelAccess.instance().runWriteActionInCommand(new Computable<SNode>(){
    public SNode compute(){
      SNode result=NodeFactoryManager.createNode((ConceptDeclaration)myNodeConcept.getNode().getAdapter(),null,null,myModelDescriptor.getSModel(),myScope);
      result.setProperty(SModelTreeNode.PACK,myPackage);
      myModelDescriptor.getSModel().addRoot(result);
      return result;
    }
  }
,myProject);
  if (!trySelectInCurrentPane(node)) {
    ProjectPane pane=ProjectPane.getInstance(myProject);
    pane.selectNode(node,false);
  }
  IEditor editor=myProject.getComponent(MPSEditorOpener.class).editNode(node,myContext);
  EditorComponent component=editor.getCurrentEditorComponent();
  if (component == null)   return;
  component.requestFocus();
}
