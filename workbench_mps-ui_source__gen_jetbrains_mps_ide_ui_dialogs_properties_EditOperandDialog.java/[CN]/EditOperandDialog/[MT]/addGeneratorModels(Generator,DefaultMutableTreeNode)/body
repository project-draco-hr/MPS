{
  MappingSelectTree.GenRefNodeData genData=new MappingSelectTree.GenRefNodeData(gen.getModuleReference());
  DefaultMutableTreeNode genNode=new DefaultMutableTreeNode(genData);
  root.add(genNode);
  for (  SModelDescriptor templateModel : gen.getOwnTemplateModels()) {
    MappingSelectTree.ModelRefNodeData modelData=new MappingSelectTree.ModelRefNodeData(templateModel.getSModelReference());
    DefaultMutableTreeNode modelNode=new DefaultMutableTreeNode(modelData);
    genNode.add(modelNode);
    for (    SNode mapping : SModelOperations.getRoots(((SModel)templateModel.getSModel()),"jetbrains.mps.lang.generator.structure.MappingConfiguration")) {
      SNodeReference np=new jetbrains.mps.smodel.SNodePointer(mapping);
      MappingSelectTree.NodeRefNodeData nodeData=new MappingSelectTree.NodeRefNodeData(np);
      DefaultMutableTreeNode nodeNode=new DefaultMutableTreeNode(nodeData);
      modelNode.add(nodeNode);
    }
  }
}
