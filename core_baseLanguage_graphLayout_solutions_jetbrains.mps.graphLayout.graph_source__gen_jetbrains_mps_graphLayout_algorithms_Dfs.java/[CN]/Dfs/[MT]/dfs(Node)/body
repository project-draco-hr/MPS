{
  MapSequence.fromMap(myDfsState).put(node,1);
  preprocess(node);
  for (  Edge edge : ListSequence.fromList(node.getOutEdges())) {
    processEdge(edge);
    Node target=edge.getTarget();
    if (MapSequence.fromMap(myDfsState).get(target) == 0) {
      dfs(target);
    }
  }
  postprocess(node);
  MapSequence.fromMap(myDfsState).put(node,2);
}
