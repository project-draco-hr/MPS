{
  MapSequence.fromMap(myDfsState).put(node,DURING);
  preprocess(node);
  for (  Edge edge : ListSequence.fromList(node.getOutEdges())) {
    processEdge(edge);
    Node target=edge.getTarget();
    if (MapSequence.fromMap(myDfsState).get(target) == BEFORE) {
      dfs(target);
    }
  }
  postprocess(node);
  MapSequence.fromMap(myDfsState).put(node,AFTER);
}
