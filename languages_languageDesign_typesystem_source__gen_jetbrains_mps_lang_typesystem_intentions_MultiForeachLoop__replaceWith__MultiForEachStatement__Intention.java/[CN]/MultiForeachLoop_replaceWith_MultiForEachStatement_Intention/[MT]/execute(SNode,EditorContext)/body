{
  final List<SNode> mfps=ListSequence.fromList(SLinkOperations.getTargets(node,"loopVariable",true)).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode lv){
      return new MultiForeachLoop_replaceWith_MultiForEachStatement_Intention.QuotationClass_5rn0la_a0a0a0a0a0a0a0f().createNode(SPropertyOperations.getString(SLinkOperations.getTarget(lv,"variable",true),"name"),SNodeOperations.copyNode(SLinkOperations.getTarget(lv,"iterable",true)));
    }
  }
).toListSequence();
  SNode mfs=SNodeOperations.replaceWithAnother(node,new MultiForeachLoop_replaceWith_MultiForEachStatement_Intention.QuotationClass_5rn0la_a1a0b0f().createNode(mfps,SNodeOperations.copyNode(SLinkOperations.getTarget(node,"body",true))));
  final List<SNode> lvs=ListSequence.fromList(SLinkOperations.getTargets(node,"loopVariable",true)).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode lv){
      return SLinkOperations.getTarget(lv,"variable",true);
    }
  }
).toListSequence();
  ListSequence.fromList(SNodeOperations.getDescendants(mfs,"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false,new String[]{})).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode lvr){
      return ListSequence.fromList(lvs).contains(SLinkOperations.getTarget(lvr,"variableDeclaration",false));
    }
  }
).toListSequence().visitAll(new IVisitor<SNode>(){
    public void visit(    SNode lvr){
      SNodeOperations.replaceWithAnother(lvr,new MultiForeachLoop_replaceWith_MultiForEachStatement_Intention.QuotationClass_5rn0la_a1a0a0a0a0a3a5().createNode(SLinkOperations.getTarget(ListSequence.fromList(mfps).getElement(SNodeOperations.getIndexInParent(SNodeOperations.getParent(SLinkOperations.getTarget(lvr,"variableDeclaration",false)))),"variable",true)));
    }
  }
);
}
