{
  final SReference oldAttribute=myAttribute;
  myAttribute=reference;
  if (!getModel().isLoading()) {
    UndoManager.instance().undoableActionPerformed(new IUndoableAction(){
      public void undo() throws UnexpectedUndoException {
        setAttributeReference(oldAttribute);
      }
    }
);
  }
}
