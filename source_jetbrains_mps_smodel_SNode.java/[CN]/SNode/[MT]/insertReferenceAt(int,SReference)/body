{
  if (myReferences == null)   myReferences=new ArrayList<SReference>(1);
  myReferences.add(i,reference);
  if (!getModel().isLoading()) {
    UndoManager.instance().undoableActionPerformed(new NodeUndoableAction(){
      public void undo() throws UnexpectedUndoException {
        removeReferenceAt(i);
      }
      public String toString(){
        return "add reference " + reference;
      }
    }
);
  }
  getModel().fireReferenceAddedEvent(reference);
}
