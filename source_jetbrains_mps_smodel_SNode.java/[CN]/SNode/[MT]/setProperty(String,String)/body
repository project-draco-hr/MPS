{
  final String oldValue=myProperties.get(propertyName);
  if (propertyValue == null) {
    myProperties.remove(propertyName);
  }
 else {
    myProperties.put(propertyName,propertyValue);
  }
  if (!getModel().isLoading()) {
    UndoManager.instance().undoableActionPerformed(new IUndoableAction(){
      public void undo() throws UnexpectedUndoException {
        setProperty(propertyName,oldValue);
      }
    }
);
  }
  getModel().firePropertyChangedEvent(this,propertyName,oldValue,propertyValue);
}
