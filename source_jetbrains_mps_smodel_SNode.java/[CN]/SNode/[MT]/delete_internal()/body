{
  if (getModel().isRoot(this)) {
    getModel().fireBeforeRootDeletedEvent(this);
  }
  myModel.removeNodeId(getId());
  List<SNode> children=new LinkedList<SNode>(getChildren());
  for (  SNode child : children) {
    child.delete_internal();
  }
  removeAllReferences();
  SNode parent=getParent();
  if (parent != null) {
    parent.removeChild(this);
  }
  if (getModel().isRoot(this)) {
    getModel().deleteRoot(this);
  }
}
