{
  for (  SNode switchCase : RuleUtil.getInlineSwitch_case(mySwitchNode)) {
    SNode condition=RuleUtil.getInlineSwitch_caseCondition(switchCase);
    final QueryExecutionContext queryExecutor=context.getEnvironment().getQueryExecutor();
    if (queryExecutor.checkCondition(condition,true,context,switchCase)) {
      SNode caseConsequence=RuleUtil.getInlineSwitch_caseConsequence(switchCase);
      RuleConsequenceProcessor rcp=RuleConsequenceProcessor.prepare(caseConsequence);
      return rcp.processRuleConsequence(context);
    }
  }
  SNode defaultConsequence=RuleUtil.getInlineSwitch_defaultConsequence(mySwitchNode);
  if (defaultConsequence == null) {
    IGeneratorLogger log=context.getEnvironment().getLogger();
    log.error(mySwitchNode.getReference(),"no default consequence in switch",GeneratorUtil.describeInput(context));
    throw new GenerationFailureException("no default consequence in switch");
  }
 else {
    RuleConsequenceProcessor rcp=RuleConsequenceProcessor.prepare(defaultConsequence);
    return rcp.processRuleConsequence(context);
  }
}
