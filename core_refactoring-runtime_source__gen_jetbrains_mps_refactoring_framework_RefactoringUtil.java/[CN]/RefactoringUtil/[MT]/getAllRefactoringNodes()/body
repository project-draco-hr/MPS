{
  final List<SNode> availableRefactorings=new ArrayList<SNode>();
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      SAbstractConcept c1=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.refactoring.structure.Refactoring");
      Set<SNode> newRefactorings=FindUsagesFacade.getInstance().findInstances(GlobalScope.getInstance(),Collections.singleton(c1),false,new EmptyProgressMonitor());
      SAbstractConcept c2=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.refactoring.structure.OldRefactoring");
      Set<SNode> oldRefactorings=((Set)FindUsagesFacade.getInstance().findInstances(GlobalScope.getInstance(),Collections.singleton(c2),false,new EmptyProgressMonitor()));
      availableRefactorings.addAll(newRefactorings);
      availableRefactorings.addAll(oldRefactorings);
    }
  }
);
  return availableRefactorings;
}
