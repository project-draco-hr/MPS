{
  final List<SNode> availableRefactorings=new ArrayList<SNode>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      SConcept c1=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.refactoring.structure.Refactoring");
      Set<SNode> newRefactorings=((Set)FindUsagesManager.getInstance().findUsages(Collections.singleton(c1),SearchType.INSTANCES,GlobalScope.getInstance(),null));
      SConcept c2=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.refactoring.structure.OldRefactoring");
      Set<SNode> oldRefactorings=((Set)FindUsagesManager.getInstance().findUsages(Collections.singleton(c2),SearchType.INSTANCES,GlobalScope.getInstance(),null));
      availableRefactorings.addAll(newRefactorings);
      availableRefactorings.addAll(oldRefactorings);
    }
  }
);
  return availableRefactorings;
}
