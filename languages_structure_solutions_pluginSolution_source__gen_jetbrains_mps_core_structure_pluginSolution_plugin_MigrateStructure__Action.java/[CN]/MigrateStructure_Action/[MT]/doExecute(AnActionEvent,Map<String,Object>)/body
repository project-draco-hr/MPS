{
  try {
    Language newStructureLanguage=(Language)MPSModuleRepository.getInstance().getModuleByFqName("jetbrains.mps.core.structure");
    Language language=(Language)((IModule)MapSequence.fromMap(_params).get("module"));
    language.addUsedLanguage(newStructureLanguage.getModuleReference());
    SModelFqName newModelName=SModelFqName.fromString(LanguageAspect.STRUCTURE.get(language).getSModel().getSModelFqName().toString() + "_new");
    SModelRoot root=Sequence.fromIterable(((Iterable<SModelRoot>)language.getSModelRoots())).where(new IWhereFilter<SModelRoot>(){
      public boolean accept(      SModelRoot it){
        return it.getManager() instanceof DefaultModelRootManager;
      }
    }
).first();
    SModel newStructure=language.createModel(newModelName,root,null).getSModel();
    newStructure.addLanguage(newStructureLanguage.getModuleReference());
    newStructure.addRoot(PluginUtils.convertStructure(LanguageAspect.STRUCTURE.get(language).getSModel()));
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "MigrateStructure",t);
    }
  }
}
