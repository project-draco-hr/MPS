{
  if (!(myModelDescriptor instanceof EditableSModelDescriptor)) {
    return;
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      addNewModels();
      removeUnusedModels();
      addNewLanguages();
      removeUnusedLanguages();
      addNewDevKits();
      removeUnusedDevKits();
      addNewEngagedOnGenerationLanguages();
      removeUnusedEngagedOnGenerationLanguages();
      if (myModelDescriptor instanceof DefaultSModelDescriptor) {
        DefaultSModelDescriptor dmd=(DefaultSModelDescriptor)myModelDescriptor;
        if (dmd.isDoNotGenerate() != myDoNotGenerate) {
          dmd.setDoNotGenerate(myDoNotGenerate);
        }
      }
      ((EditableSModelDescriptor)myModelDescriptor).save();
    }
  }
);
  new MissingDependenciesFixer(myModelDescriptor).fix(true);
}
