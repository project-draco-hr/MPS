{
  this.findDuplicates();
  SNode var=_quotation_createNode_nngwe4_a0b0b(this.getName(),this.getExpressionType(),this.getExpression());
  if (myIsFinal) {
    SPropertyOperations.set(SLinkOperations.getTarget(var,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068581242864l,1068581242865l,"localVariableDeclaration")),MetaAdapterFactory.getProperty(new UUID(-935030926396207931l,-6610165693999523818l),1068431474542l,1176718929932l,"isFinal"),"" + (true));
  }
  SNode varDeclaration=SLinkOperations.getTarget(var,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068581242864l,1068581242865l,"localVariableDeclaration"));
  SNode parentStatement=SNodeOperations.getNodeAncestor(this.getExpression(),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068580123157l,"jetbrains.mps.baseLanguage.structure.Statement"),false,false);
  while (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(parentStatement),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068580123136l,"jetbrains.mps.baseLanguage.structure.StatementList")))) {
    parentStatement=SNodeOperations.getNodeAncestor(parentStatement,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068580123157l,"jetbrains.mps.baseLanguage.structure.Statement"),false,false);
  }
  SNodeOperations.insertPrevSiblingChild(parentStatement,var);
  replaceNode(getExpression(),varDeclaration);
  if (myIsReplacingAll) {
    for (    SNode duplicate : ListSequence.fromList(myDuplicates)) {
      replaceNode(duplicate,varDeclaration);
    }
  }
  return varDeclaration;
}
