{
  setModal(true);
  myModels.addAll(options);
  if (nonProjectModels != null) {
    myNonProjectModels.addAll(nonProjectModels);
  }
  DataContext dataContext=DataManager.getInstance().getDataContext();
  final Project project=MPSDataKeys.PROJECT.getData(dataContext);
  BaseModelModel goToModelModel=new BaseModelModel(project){
    public NavigationItem doGetNavigationItem(    final SModelDescriptor modelDescriptor){
      return new BaseModelItem(modelDescriptor){
        public void navigate(        boolean requestFocus){
        }
      }
;
    }
    @Override public SModelDescriptor[] find(    boolean checkboxState){
      if (checkboxState) {
        return myNonProjectModels.toArray(new SModelDescriptor[myNonProjectModels.size()]);
      }
 else {
        return myModels.toArray(new SModelDescriptor[myModels.size()]);
      }
    }
    public SModelDescriptor[] find(    IScope scope){
      throw new UnsupportedOperationException("must not be used");
    }
    @Override public boolean loadInitialCheckBoxState(){
      return false;
    }
  }
;
  myChooser=new SmartChooseByNamePanel(goToModelModel,!myNonProjectModels.isEmpty(),new MPSMatcher(goToModelModel){
    protected boolean canShowListForEmptyPattern(){
      return true;
    }
  }
);
  myChooser.invoke(new Callback(){
    public void elementChosen(    Object element){
      if (!myOkDone) {
        myOkDone=true;
        onOk();
      }
    }
  }
,ModalityState.current(),myIsMultipleSelection);
}
