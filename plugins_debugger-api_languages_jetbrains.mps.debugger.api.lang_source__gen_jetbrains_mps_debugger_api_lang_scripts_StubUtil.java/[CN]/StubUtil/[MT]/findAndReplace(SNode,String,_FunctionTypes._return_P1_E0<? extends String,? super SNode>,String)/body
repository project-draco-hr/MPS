{
  SReference reference=targetNode.getReference(role);
  SModelDescriptor newModelDescriptor=StubUtil.getDebuggerModelForReference(reference);
  for (  SNode candidate : ListSequence.fromList(SModelOperations.getNodes(newModelDescriptor.getSModel(),conceptFqName))) {
    if (eq_g10q2g_a0a0d0d(getResolveInfo.invoke(candidate),((jetbrains.mps.smodel.SReference)reference).getResolveInfo())) {
      SModelReference oldModelReference=reference.getTargetSModelReference();
      ((jetbrains.mps.smodel.SModel)SNodeOperations.getModel(targetNode)).deleteModelImport(oldModelReference);
      SNodeAccessUtil.setReferenceTarget(targetNode,role,candidate);
      StubRefUtil.addRequiredImports(SNodeOperations.getModel(targetNode),candidate);
      return;
    }
  }
}
