{
  String refactoringClass;
  if ((node == null)) {
    return;
  }
 else   if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.structure.structure.ConceptDeclaration")) {
    refactoringClass=((String)BehaviorManager.getInstance().invoke(Object.class,SNodeOperations.getNode("r:de5b7214-45ee-4f6d-89bf-acde59cdb050(jetbrains.mps.lang.structure.refactorings)","1851015849775237139"),"virtual_getFqName_1213877404258",new Class[]{SNode.class}));
  }
 else   if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.structure.structure.LinkDeclaration")) {
    refactoringClass=((String)BehaviorManager.getInstance().invoke(Object.class,SNodeOperations.getNode("r:de5b7214-45ee-4f6d-89bf-acde59cdb050(jetbrains.mps.lang.structure.refactorings)","1851015849775217786"),"virtual_getFqName_1213877404258",new Class[]{SNode.class}));
  }
 else {
    refactoringClass=((String)BehaviorManager.getInstance().invoke(Object.class,SNodeOperations.getNode("r:d9efd362-28b8-4f70-9bcd-fb582528d11c(jetbrains.mps.lang.core.refactorings)","1851015849775217755"),"virtual_getFqName_1213877404258",new Class[]{SNode.class}));
  }
  final IRefactoring refactoring=RefactoringUtil.getRefactoringByClassName(refactoringClass);
  final RefactoringContext refactoringContext=new RefactoringContext(refactoring);
  refactoringContext.setCurrentOperationContext(context);
  refactoringContext.setSelectedNode(node);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      refactoringContext.setSelectedModel(SNodeOperations.getModel(node).getModelDescriptor());
    }
  }
);
  refactoringContext.setSelectedModule(context.getModule());
  refactoringContext.setSelectedProject(context.getProject());
  new Thread(){
    public void run(){
      refactoringContext.setRefactoring(refactoring);
      RefactoringAccess.getInstance().getRefactoringFacade().execute(refactoringContext);
    }
  }
.start();
}
