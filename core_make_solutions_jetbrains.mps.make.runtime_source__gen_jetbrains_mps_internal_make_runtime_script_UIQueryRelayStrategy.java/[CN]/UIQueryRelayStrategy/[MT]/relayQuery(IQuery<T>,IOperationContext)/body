{
  String[] options=Sequence.fromIterable(query.options()).select(new ISelector<T,String>(){
    public String select(    T o){
      return o.getText();
    }
  }
).toGenericArray(String.class);
  int res=JOptionPane.showOptionDialog(context.getMainFrame(),query.getText(),query.getName().toString(),JOptionPane.DEFAULT_OPTION,JOptionPane.QUESTION_MESSAGE,null,options,null);
  if (res == JOptionPane.CLOSED_OPTION) {
    return null;
  }
  return ListSequence.fromList(Sequence.fromIterable(query.options()).toListSequence()).getElement(res);
}
