{
  final List<SNode> result=new ArrayList<SNode>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      AbstractConceptDeclaration concept=((ConceptDeclaration)SNodeOperations.getAdapter(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.stubs.structure.StubsCreatorDeclaration")));
      for (      Language l : MPSModuleRepository.getInstance().getAllLanguages()) {
        SModelDescriptor stubsAspect=LanguageAspect.STUBS.get(l);
        if (stubsAspect == null) {
          continue;
        }
        result.addAll(stubsAspect.getSModel().getRoots(new IsInstanceCondition(concept)));
      }
    }
  }
);
  return result;
}
