{
  myMappings=new HashSet<TemplateMappingConfiguration>(mappings);
  myRules=new HashSet<MappingPriorityRule>(rules);
  if (mappings.isEmpty()) {
    myIsTopPriority=false;
  }
 else {
    final Iterator<TemplateMappingConfiguration> it=mappings.iterator();
    final boolean topPri=it.next().isTopPriority();
    while (it.hasNext()) {
      if (topPri != it.next().isTopPriority()) {
        throw new IllegalArgumentException();
      }
    }
    myIsTopPriority=topPri;
  }
}
