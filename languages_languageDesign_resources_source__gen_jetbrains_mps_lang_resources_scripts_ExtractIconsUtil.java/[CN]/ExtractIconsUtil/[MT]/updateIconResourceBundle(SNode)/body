{
  IModule module=SNodeOperations.getModel(cb).getModelDescriptor().getModule();
  if (module instanceof Language) {
    SNode irb=getIconResourceBundle((Language)module);
    for (    SNode ire : ListSequence.fromList(SNodeOperations.getDescendants(cb,"jetbrains.mps.lang.resources.structure.IconResourceExpression",false,new String[]{})).toListSequence()) {
{
        Pattern _pattern_0=REGEXP_st4ewd_a0a0a0b0b0a;
        Matcher _matcher_0=_pattern_0.matcher(IconResource_Behavior.call_getFilename_8974276187400030131(SLinkOperations.getTarget(ire,"icon",true)));
        if (_matcher_0.find()) {
          final String iconName=_matcher_0.group(1).toUpperCase();
          SNode decl=ListSequence.fromList(SLinkOperations.getTargets(irb,"icons",true)).findFirst(new IWhereFilter<SNode>(){
            public boolean accept(            SNode it){
              return iconName.equals(SPropertyOperations.getString(it,"name"));
            }
          }
);
          if ((decl == null)) {
            decl=SLinkOperations.addNewChild(irb,"icons","jetbrains.mps.lang.resources.structure.IconResourceDeclaration");
            SLinkOperations.setTarget(decl,"iconExpression",new ExtractIconsUtil.QuotationClass_st4ewd_a0a1a2a0a1a1a0().createNode(SNodeOperations.copyNode(SLinkOperations.getTarget(ire,"icon",true))),true);
            SPropertyOperations.set(decl,"name",iconName);
          }
          SNodeOperations.replaceWithAnother(ire,new ExtractIconsUtil.QuotationClass_st4ewd_a0a0d0a0b0b0a().createNode(decl));
        }
      }
    }
  }
}
