{
  SNode node=myEditorComponent.getRootCell().getSNode();
  if (node == null)   return;
  SModelDescriptor modelDescriptor=node.getModel().getModelDescriptor();
  if (!modelDescriptor.isTypesUpToDate()) {
    myErrosLabel.setIcon(Icons.IN_PROGRESS);
    return;
  }
  myErrosLabel.setIcon(Icons.OK);
  IStatus status=(IStatus)node.getUserObject(SNode.ERROR_STATUS);
  if (status != null && status.isError()) {
    myErrosLabel.setIcon(Icons.ERRORS);
  }
 else {
    status=(IStatus)node.getUserObject(SNode.CHILDREN_ERROR_STATUS);
    if (status != null && status.isError()) {
      myErrosLabel.setIcon(Icons.ERRORS);
    }
  }
  if (status != null && status.isError()) {
    TSStatus type=TypeCheckerAccess.instance().getTypeChecker().getNodeType(node);
    List<TSStatus> tsStatuses=new ArrayList<TSStatus>();
    if (type instanceof TSStatus.ERROR_COMPOSITE) {
      tsStatuses.addAll(type.getAllErrors());
    }
 else {
      tsStatuses.add(type);
    }
    for (    final TSStatus s : tsStatuses) {
      if (myEditorComponent.getBigCellForNode(s.getSNode()) == null)       return;
      add(new IGutterMessage(){
        public int getStart(){
          return myEditorComponent.getBigCellForNode(s.getSNode()).getY();
        }
        public int getHeight(){
          return myEditorComponent.getBigCellForNode(s.getSNode()).getHeight();
        }
        public String getMessage(){
          return s.getMessage();
        }
        public void doNavigate(){
          myEditorComponent.changeSelection(myEditorComponent.getBigCellForNode(s.getSNode()));
        }
      }
);
    }
  }
}
