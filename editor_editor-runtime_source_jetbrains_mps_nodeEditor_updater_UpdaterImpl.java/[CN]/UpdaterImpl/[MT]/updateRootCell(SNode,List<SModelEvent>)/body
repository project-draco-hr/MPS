{
  myUpdateSession=createUpdateSession(node,events);
  EditorCell result=null;
  try {
    result=TypeContextManager.getInstance().runTypecheckingAction(myEditorComponent,new Computable<EditorCell>(){
      @Override public EditorCell compute(){
        return myUpdateSession.performUpdate();
      }
    }
);
  }
  finally {
    myUpdateSession=null;
  }
  myModelListenersController.attachListeners(node,getRelatedNodes(result),getRelatedRefTargets(result));
  return result;
}
