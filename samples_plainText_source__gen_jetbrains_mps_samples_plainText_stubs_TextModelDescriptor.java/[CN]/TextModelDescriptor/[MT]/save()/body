{
  SModel model=getSModelInternal();
  for (  SNode tf : ListSequence.fromList(SModelOperations.getRoots(((org.jetbrains.mps.openapi.model.SModel)model.getModelDescriptor()),"jetbrains.mps.samples.plainText.structure.TextFile"))) {
    try {
      OutputStream os=((MultiStreamDataSource)getSource()).openOutputStream(SPropertyOperations.getString(tf,"name"));
      os.write(SPropertyOperations.getString(tf,"text").getBytes());
      os.close();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  isChanged=false;
  updateDiskTimestamp();
}
