{
  ModelAccess.assertLegalWrite();
  SModel old=myModel;
  notifyModelReplaced(old);
  check_bp2jat_a5a31(((jetbrains.mps.smodel.SModel)old));
  myModel=null;
  isChanged=false;
  updateDiskTimestamp();
  ThreadUtils.runInUIThreadNoWait(new Runnable(){
    public void run(){
      ModelAccess.instance().runWriteAction(new Runnable(){
        public void run(){
          fireModelStateChanged(ModelLoadingState.FULLY_LOADED,ModelLoadingState.NOT_LOADED);
        }
      }
);
    }
  }
);
}
