{
  if (kind == MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x11266742db0L,"jetbrains.mps.lang.actions.structure.SubstituteNodeBuilderVariableDeclaration").getDeclarationNode()) {
    if (ScopeUtils.comeFrom("precondition",__thisNode__,child)) {
      return ScopeProvider__BehaviorDescriptor.getScope_id3fifI_xCJOQ.invokeSpecial(__thisNode__,kind,child);
    }
    SNode thisVarDecl=SNodeOperations.as(child,MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x11266742db0L,"jetbrains.mps.lang.actions.structure.SubstituteNodeBuilderVariableDeclaration"));
    List<SNode> result=new ArrayList<SNode>();
    for (    SNode nextVarDecl : ListSequence.fromList(SLinkOperations.getChildren(__thisNode__,MetaAdapterFactory.getContainmentLink(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x102ebd2e9eaL,0x1126677dd6aL,"variable")))) {
      if (nextVarDecl == thisVarDecl) {
        break;
      }
      ListSequence.fromList(result).addElement(nextVarDecl);
    }
    return Scopes.forVariables(MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x11266742db0L,"jetbrains.mps.lang.actions.structure.SubstituteNodeBuilderVariableDeclaration").getDeclarationNode(),result,ScopeUtils.lazyParentScope(__thisNode__,kind));
  }
  return ScopeProvider__BehaviorDescriptor.getScope_id3fifI_xCJOQ.invokeSpecial(__thisNode__,kind,child);
}
