{
  SModel model=mySource.getModel();
  LinkDeclaration genuineLink=SModelUtil_new.getGenuineLinkDeclaration(myLink);
  LinkMetaclass metaclass=genuineLink.getMetaClass();
  if (metaclass == LinkMetaclass.aggregation) {
    myTarget.delete();
    Cardinality sourceCardinality=genuineLink.getSourceCardinality();
    if (sourceCardinality == Cardinality._1) {
      ConceptDeclaration defaultTargetConcept=myLink.getTarget();
      SNode defaultTarget=SModelUtil.instantiateConceptDeclaration((jetbrains.mps.bootstrap.structureLanguage.ConceptDeclaration)defaultTargetConcept.getNode(),model);
      String role=genuineLink.getRole();
      mySource.setChild(role,defaultTarget);
    }
  }
 else   if (metaclass == LinkMetaclass.reference) {
    String role=genuineLink.getRole();
    mySource.removeReferent(role,myTarget);
  }
}
