{
  if (visible == null) {
    buildVisible();
  }
  if (SNodeOperations.isInstanceOf(module,"jetbrains.mps.build.mps.structure.BuildMps_Module")) {
    MPSModulesClosure runtimeDependencies=new MPSModulesClosure(null,SNodeOperations.cast(module,"jetbrains.mps.build.mps.structure.BuildMps_Module")).closure().runtimeDependencies();
    Iterable<SNode> seq=Sequence.fromIterable(runtimeDependencies.getModules()).concat(Sequence.fromIterable(runtimeDependencies.getLanguagesWithRuntime())).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(visible.contains(it));
      }
    }
);
    return seq;
  }
  return Sequence.fromIterable(Collections.<SNode>emptyList());
}
