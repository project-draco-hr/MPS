{
  if (visible == null) {
    buildVisible();
  }
  if (SNodeOperations.isInstanceOf(module,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,"jetbrains.mps.build.mps.structure.BuildMps_Module"))) {
    MPSModulesClosure runtimeDependencies=new MPSModulesClosure(SNodeOperations.cast(module,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,"jetbrains.mps.build.mps.structure.BuildMps_Module"))).runtimeClosure();
    Iterable<SNode> seq=Sequence.fromIterable(runtimeDependencies.getAllModules()).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(visible.contains(it));
      }
    }
);
    return seq;
  }
  return Sequence.fromIterable(Collections.<SNode>emptyList());
}
