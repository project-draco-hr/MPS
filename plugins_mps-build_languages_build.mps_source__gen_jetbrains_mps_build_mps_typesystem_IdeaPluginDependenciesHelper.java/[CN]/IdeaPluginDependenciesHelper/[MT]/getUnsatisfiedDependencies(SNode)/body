{
  if (visible == null) {
    buildVisible();
  }
  if (SNodeOperations.isInstanceOf(module,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,"jetbrains.mps.build.mps.structure.BuildMps_Module"))) {
    MPSModulesClosure runtimeDependencies=new MPSModulesClosure(SNodeOperations.cast(module,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,"jetbrains.mps.build.mps.structure.BuildMps_Module")),new MPSModulesClosure.ModuleDependenciesOptions()).runtimeClosure();
    Iterable<SNode> seq=Sequence.fromIterable(runtimeDependencies.getAllModules()).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(visible.contains(it));
      }
    }
);
    return seq;
  }
  return Sequence.fromIterable(Collections.<SNode>emptyList());
}
