{
  Iterable<SNode> allReferences=ListSequence.fromList(SNodeOperations.getDescendants(SNodeOperations.getAncestor(node,"org.jetbrains.mps.samples.Constants.structure.Constants",false,false),"org.jetbrains.mps.samples.Constants.structure.ConstantReference",false,new String[]{})).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SLinkOperations.getTarget(it,"original",false) == node;
    }
  }
);
  Sequence.fromIterable(allReferences).visitAll(new IVisitor<SNode>(){
    public void visit(    SNode it){
      SNodeOperations.replaceWithAnother(it,SNodeOperations.copyNode(SLinkOperations.getTarget(node,"initializer",true)));
    }
  }
);
  SNodeOperations.deleteNode(node);
}
