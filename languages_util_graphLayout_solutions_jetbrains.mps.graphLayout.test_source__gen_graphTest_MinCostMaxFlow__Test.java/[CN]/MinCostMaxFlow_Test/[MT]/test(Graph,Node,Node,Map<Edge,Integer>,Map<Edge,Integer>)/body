{
  int numNodes=graph.getNumNodes();
  int numEdges=ListSequence.<Edge>fromList(graph.getEdges()).count();
  Map<Edge,Integer> flow;
  flow=MinCostMaxFlow.getFlow(graph,source,target,capacity,cost);
  FlowChecker.checkFlow(graph,source,target,capacity,flow,false);
  Assert.assertTrue(numNodes == graph.getNumNodes());
  Assert.assertTrue(numEdges == ListSequence.<Edge>fromList(graph.getEdges()).count());
  return flow;
}
