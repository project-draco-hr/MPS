{
  myMessageBusConnection.disconnect();
  myFileAnnotation.removeListener(myAnnotationListener);
  myFileAnnotation.dispose();
  final CurrentDifferenceRegistry registry=CurrentDifferenceRegistry.getInstance(getProject());
  registry.getCommandQueue().runTask(new Runnable(){
    public void run(){
      registry.getCurrentDifference(myModelDescriptor).removeDifferenceListener(myDifferenceListener);
    }
  }
);
}
