{
  TextGenBuffer buffer=nodeTextGen.getBuffer();
  if (!buffer.hasPositionsSupport())   return;
  UnitPositionInfo info=getUserObject(buffer,UNIT_INFO,node);
  info.setEndLine(buffer.getLineNumber());
  info.setEndPosition(buffer.getPosition());
  info.setUnitName(unitName);
  warnIfUnitNameInvalid(unitName,node);
}
