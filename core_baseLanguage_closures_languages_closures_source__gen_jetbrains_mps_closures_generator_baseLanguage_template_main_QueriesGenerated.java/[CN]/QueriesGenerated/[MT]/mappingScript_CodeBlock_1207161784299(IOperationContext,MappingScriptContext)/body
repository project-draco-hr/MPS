{
  if (true) {
    return;
  }
  List<SNode> telist=new ArrayList(SModelOperations.getNodes(_context.getModel(),"jetbrains.mps.baseLanguage.structure.ThisExpression"));
  for (  SNode te : telist) {
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(te,null,false,false),"jetbrains.mps.baseLanguage.structure.FieldReference") && (SLinkOperations.getTarget(te,"classConcept",false) == null)) {
      SNode cl=SNodeOperations.getAncestor(te,"jetbrains.mps.closures.structure.ClosureLiteral",false,false);
      SNode thisCC=SNodeOperations.getAncestor(te,"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
      if ((cl != null)) {
        SNodeOperations.getAncestors(cl,"jetbrains.mps.baseLanguage.structure.ClassConcept",false);
        for (        SNode cc : SNodeOperations.getAncestors(cl,"jetbrains.mps.baseLanguage.structure.ClassConcept",false)) {
          if (cc == thisCC) {
            if (SNodeOperations.isInstanceOf(thisCC,"jetbrains.mps.baseLanguage.structure.AnonymousClass")) {
              SNodeOperations.replaceWithNewChild(te,"jetbrains.mps.baseLanguageInternal.structure.InternalThisExpression");
            }
 else {
              SLinkOperations.setTarget(te,"classConcept",thisCC,false);
            }
            break;
          }
        }
      }
 else       if (thisCC == null) {
        _context.getGenerator().showWarningMessage(te,"Cound not find the class concept");
      }
    }
  }
}
