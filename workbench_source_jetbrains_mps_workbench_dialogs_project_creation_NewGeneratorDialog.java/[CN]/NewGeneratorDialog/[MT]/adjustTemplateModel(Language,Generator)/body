{
  boolean alreadyOwnsTemplateModel=false;
  for (  SModelDescriptor modelDescriptor : newGenerator.getOwnModelDescriptors()) {
    if (SModelStereotype.isGeneratorModel(modelDescriptor)) {
      alreadyOwnsTemplateModel=true;
      break;
    }
  }
  if (!alreadyOwnsTemplateModel) {
    EditableSModelDescriptor templateModelDescriptor=newGenerator.createModel(new SModelFqName(getTemplateModelPrefix(sourceLanguage),"main",SModelStereotype.GENERATOR),newGenerator.getSModelRoots().get(0));
    SModel templateModel=templateModelDescriptor.getSModel();
    SModelOperations.addLanguage(templateModel,Generator_Language.get().getModuleReference());
    SModelOperations.addLanguage(templateModel,GenerationContext_Language.get().getModuleReference());
    templateModel.addDevKit(GeneralPurpose_DevKit.get().getModuleReference());
    templateModel.addModelImport(sourceLanguage.getStructureModelDescriptor().getSModelReference(),false);
    templateModel.addModelImport(SModelReference.fromString("java.lang@java_stub"),false);
    MappingConfiguration mappingConfiguration=MappingConfiguration.newInstance(templateModel);
    mappingConfiguration.setName("main");
    templateModel.addRoot(mappingConfiguration.getNode());
    templateModelDescriptor.save();
  }
}
