{
  boolean oldSelected=isSelected();
  super.setSelected(selected);
  if (oldSelected && !selected && myModelAccessor instanceof TransactionalModelAccessor) {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        if (myCommitInCommand) {
          ModelAccess.instance().runWriteActionInCommand(new Runnable(){
            public void run(){
              commit();
            }
          }
);
        }
 else {
          commit();
        }
      }
    }
);
  }
}
