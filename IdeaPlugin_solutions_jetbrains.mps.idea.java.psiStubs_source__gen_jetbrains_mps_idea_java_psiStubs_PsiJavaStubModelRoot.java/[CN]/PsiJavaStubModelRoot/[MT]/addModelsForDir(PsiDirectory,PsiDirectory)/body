{
  if (Sequence.fromIterable(Sequence.fromArray(dir.getFiles())).ofType(PsiJavaFile.class).isNotEmpty()) {
    PsiJavaStubModelDescriptor model=makeModelDescriptor(sourceRoot,dir);
    PsiJavaStubDataSource ds=model.getSource();
    MapSequence.fromMap(myDataSources).put(dir,ds);
    MapSequence.fromMap(myModels).put(ds,model);
  }
  for (  PsiDirectory subDir : dir.getSubdirectories()) {
    addModelsForDir(sourceRoot,subDir);
  }
}
