{
  ThreadUtils.assertEDT();
  if (myEditorExtensions.containsKey(editorComponent)) {
    throw new IllegalArgumentException("Editor already extended: " + editorComponent);
  }
  Collection<EditorExtension> applicableExtensions=getApplicableExtensions(editorComponent);
  myEditorExtensions.put(editorComponent,applicableExtensions);
  installExtensions(editorComponent,applicableExtensions);
  ((jetbrains.mps.nodeEditor.EditorComponent)editorComponent).addDisposeListener(myUnextendOnEditorDisposeListener);
}
