{
  List<IModule> modules=findModelRootIntersection(file);
  Set<ModuleReference> mrefs=toModuleRefs(modules);
  SetSequence.fromSet(myModulesWithChangedModelSets).addSequence(ListSequence.fromList(modules));
  List<FileBasedModelDataSource> sources=findSourceIntersection(file);
  for (Iterator<FileBasedModelDataSource> i=ListSequence.fromList(sources).iterator(); i.hasNext(); ) {
    if (SetSequence.fromSet(mrefs).contains(i.next().getOrigin())) {
      i.remove();
    }
  }
  SetSequence.fromSet(myInvalidatedSources).addSequence(ListSequence.fromList(sources));
}
