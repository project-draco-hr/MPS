{
  Collection<WarningPanel> oldPanels=myWarnings.get(editor);
  List<WarningPanel> toRemove=new ArrayList<WarningPanel>(oldPanels);
  toRemove.removeAll(newPanels);
  List<WarningPanel> toAdd=new ArrayList<WarningPanel>(newPanels);
  toAdd.removeAll(oldPanels);
  for (  WarningPanel panel : toRemove) {
    myFileEditorManager.removeTopComponent(editor,panel);
    myWarnings.removeValue(editor,panel);
  }
  for (  WarningPanel panel : toAdd) {
    myFileEditorManager.addTopComponent(editor,panel);
    myWarnings.putValue(editor,panel);
  }
}
