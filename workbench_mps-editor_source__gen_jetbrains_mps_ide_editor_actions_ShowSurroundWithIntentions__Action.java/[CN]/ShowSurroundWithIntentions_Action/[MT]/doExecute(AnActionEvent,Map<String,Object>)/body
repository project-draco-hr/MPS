{
  final EditorCell selectedCell=ShowSurroundWithIntentions_Action.this.getAnchorCell(_params);
  int x=selectedCell.getX();
  int y=selectedCell.getY();
  y+=selectedCell.getHeight();
  final Wrappers._T<ListPopup> popup=new Wrappers._T<ListPopup>(null);
  ((EditorContext)MapSequence.fromMap(_params).get("editorContext")).getRepository().getModelAccess().runReadAction(new Runnable(){
    public void run(){
      ActionGroup group=ShowSurroundWithIntentions_Action.this.getActionGroup(_params);
      if (group.getChildren(event).length == 0) {
        return;
      }
      popup.value=JBPopupFactory.getInstance().createActionGroupPopup("Surround with",group,event.getDataContext(),JBPopupFactory.ActionSelectionAid.ALPHA_NUMBERING,false);
    }
  }
);
  if (popup.value == null) {
    return;
  }
  RelativePoint relativePoint=new RelativePoint((EditorComponent)((EditorContext)MapSequence.fromMap(_params).get("editorContext")).getEditorComponent(),new Point(x,y));
  popup.value.show(relativePoint);
}
