{
  SNode rule=SModelOperations.createNewNode(myModel,"jetbrains.mps.lang.project.structure.MappingPriorityRule",null);
switch (source.getType()) {
case BEFORE_OR_TOGETHER:
    SPropertyOperations.set(rule,"type","before_or_together");
case STRICTLY_BEFORE:
  SPropertyOperations.set(rule,"type","strictly_before");
default :
SPropertyOperations.set(rule,"type","strictly_together");
}
SLinkOperations.setTarget(rule,"left",convert(source.getLeft()),true);
SLinkOperations.setTarget(rule,"right",convert(source.getRight()),true);
return rule;
}
