{
  SNode rule=SConceptOperations.createNewNode("jetbrains.mps.lang.project.structure.MappingPriorityRule",null);
switch (source.getType()) {
case BEFORE_OR_TOGETHER:
    SPropertyOperations.set(rule,"type","before_or_together");
  break;
case STRICTLY_BEFORE:
SPropertyOperations.set(rule,"type","strictly_before");
break;
case STRICTLY_AFTER:
SPropertyOperations.set(rule,"type","strictly_after");
break;
case AFTER_OR_TOGETHER:
SPropertyOperations.set(rule,"type","after_or_together");
break;
default :
SPropertyOperations.set(rule,"type","strictly_together");
}
SLinkOperations.setTarget(rule,"left",convert(source.getLeft()),true);
SLinkOperations.setTarget(rule,"right",convert(source.getRight()),true);
return rule;
}
