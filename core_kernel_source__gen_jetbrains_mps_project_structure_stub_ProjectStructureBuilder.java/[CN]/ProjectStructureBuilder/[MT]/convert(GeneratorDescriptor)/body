{
  SNode generator=SModelOperations.createNewNode(myModel,"jetbrains.mps.lang.project.structure.Generator",null);
  fill(generator,source);
  SPropertyOperations.set(generator,"generatorUID",source.getGeneratorUID());
  SPropertyOperations.set(generator,"generateTemplates","" + source.isGenerateTemplates());
  SPropertyOperations.set(generator,"namespace",((source.getNamespace() != null && source.getNamespace().length() > 0) ? source.getNamespace() : null));
  for (  MappingPriorityRule rule : source.getPriorityRules()) {
    SLinkOperations.getTargets(generator,"priorityRules",true).add(convert(rule));
  }
  for (  ModuleReference ref : source.getDepGenerators()) {
    SLinkOperations.getTargets(generator,"depGenerators",true).add(convert(ref));
  }
  collectModels(generator,source);
  return generator;
}
