{
  if (outputRoot == null) {
    throw new RuntimeException("unspecified output path for file generation.");
  }
  if (!status.isOk()) {
    return false;
  }
  Map<SNode,String> outputNodeContents=new LinkedHashMap<SNode,String>();
  boolean ok=true;
  if (!generateText(context,status,outputNodeContents)) {
    return false;
  }
  Set<File> generatedFiles=generateFiles(status,outputRoot,outputNodeContents);
  FileProcessor.processVCSAddition(outputRoot,context,generatedFiles);
  FileProcessor.processVCSDeletion(status.getInputModel(),outputRoot,generatedFiles);
  File cachesOutput=FileGenerationUtil.getCachesOutputDir(outputRoot);
  Set<File> generatedCaches=generateCaches(status,cachesOutput);
  FileProcessor.processVCSAddition(cachesOutput,context,generatedCaches);
  FileProcessor.processVCSDeletion(status.getInputModel(),cachesOutput,generatedFiles);
  return ok;
}
