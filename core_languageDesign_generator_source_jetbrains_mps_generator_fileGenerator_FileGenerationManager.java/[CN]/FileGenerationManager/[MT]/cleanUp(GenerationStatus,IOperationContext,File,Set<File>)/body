{
  Set<File> directories=new HashSet<File>();
  for (  File f : generatedFiles) {
    directories.add(f.getParentFile());
  }
  directories.add(FileGenerationUtil.getDefaultOutputDir(status.getInputModel(),outputDir));
  List<File> filesToDelete=new ArrayList<File>();
  for (  File dir : directories) {
    File[] files=dir.listFiles();
    if (files != null) {
      for (      File outputDirectoryFile : files) {
        if (!outputDirectoryFile.isDirectory() && !outputDirectoryFile.isHidden()) {
          if (!generatedFiles.contains(outputDirectoryFile)) {
            filesToDelete.add(outputDirectoryFile);
          }
        }
      }
    }
  }
  MPSVCSManager manager=context.getComponent(MPSVCSManager.class);
  manager.deleteFilesAndRemoveFromVcs(filesToDelete,false);
}
