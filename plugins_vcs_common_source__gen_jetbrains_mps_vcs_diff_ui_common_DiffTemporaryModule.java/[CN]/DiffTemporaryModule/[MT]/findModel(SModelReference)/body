{
  if (reference.equals(myModel.getReference())) {
    return myModel;
  }
  List<IScope> scopes=ListSequence.fromList(new ArrayList<IScope>());
  IScope ps=myProject.getScope();
  if (ps != null) {
    ListSequence.fromList(scopes).addElement(ps);
  }
  ListSequence.fromList(scopes).addElement(GlobalScope.getInstance());
  for (  IScope scope : ListSequence.fromList(scopes)) {
    SModel md=scope.getModelDescriptor(reference);
    if (md != null) {
      return md;
    }
  }
  for (  IScope scope : ListSequence.fromList(scopes)) {
    SModel md=Sequence.fromIterable(((Iterable<SModel>)ScopeOperations.getModelsByName(scope,reference.getModelName()))).first();
    if (md != null) {
      return md;
    }
  }
  return null;
}
