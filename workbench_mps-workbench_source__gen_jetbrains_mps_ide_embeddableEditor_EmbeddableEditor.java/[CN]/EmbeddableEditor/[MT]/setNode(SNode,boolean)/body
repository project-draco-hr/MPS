{
  myNode=node;
  if (addToModel) {
    smodel().addRootNode(node);
  }
  myFileNodeEditor=new MPSFileNodeEditor(myContext,MPSNodesVirtualFileSystem.getInstance().getFileFor(myNode));
  Editor editor=myFileNodeEditor.getNodeEditor();
  if (editor instanceof NodeEditor) {
    NodeEditor nodeEditor=(NodeEditor)editor;
    nodeEditor.getCurrentEditorComponent().setEditable(myIsEditable);
  }
  if (myPanel == null) {
    myPanel=new EmbeddableEditorPanel(myFileNodeEditor);
  }
 else {
    myPanel.setEditor(myFileNodeEditor);
  }
}
