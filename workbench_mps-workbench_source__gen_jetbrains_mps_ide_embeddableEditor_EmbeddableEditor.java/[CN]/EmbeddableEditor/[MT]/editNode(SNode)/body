{
  myNode=node;
  myNodeEditor=new MPSFileNodeEditor(myContext,MPSNodesVirtualFileSystem.getInstance().getFileFor(myNode));
  Editor editor=myNodeEditor.getNodeEditor();
  if (editor instanceof NodeEditor) {
    NodeEditor nodeEditor=(NodeEditor)editor;
    nodeEditor.getCurrentEditorComponent().setReadOnly(!(myIsEditable));
  }
  if (myPanel == null) {
    myPanel=new EmbeddableEditorPanel(myNodeEditor);
  }
 else {
    myPanel.setEditor(myNodeEditor);
  }
}
