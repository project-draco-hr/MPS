{
  String templateModelsPath=myTemplateModelsDir.getText();
  if (templateModelsPath.length() == 0) {
    setErrorText("No template models root");
    return;
  }
  final File dir=new File(templateModelsPath);
  if (!dir.isAbsolute()) {
    setErrorText("Path should be absolute");
    return;
  }
  if (!dir.exists()) {
    dir.mkdirs();
  }
  dispose();
  final Language targetLanguage=myContext.getScope().getLanguage(TARGET_LANGUAGE);
  final String name=myGeneratorName.getText();
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      createNewGenerator(mySourceLanguage,targetLanguage,dir,name);
    }
  }
);
}
