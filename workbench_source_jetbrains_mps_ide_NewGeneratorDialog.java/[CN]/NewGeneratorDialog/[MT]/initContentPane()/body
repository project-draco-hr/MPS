{
  JPanel internalPanel=new JPanel(new GridLayout(0,1));
  internalPanel.setBorder(BorderFactory.createEmptyBorder(0,4,10,4));
  myContenetPane.setLayout(new BorderLayout());
  myContenetPane.add(internalPanel,BorderLayout.NORTH);
  internalPanel.add(new JLabel("Target language :"));
  List<Language> visibleLanguages=myContext.getScope().getVisibleLanguages();
  Object[] items=new Object[visibleLanguages.size()];
  int count=0;
  for (  Language language : visibleLanguages) {
    items[count++]=language.getNamespace();
  }
  Arrays.sort(items);
  myTargetLanguageName=new JComboBox(items);
  myTargetLanguageName.setSelectedItem("jetbrains.mps.baseLanguage");
  internalPanel.add(myTargetLanguageName);
  internalPanel.add(new JLabel("Template models root :"));
  myTargetLanguageName.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      updateTemplateModelsDir();
    }
  }
);
  myTemplateModelsDir=new JTextField();
  updateTemplateModelsDir();
  JPanel rootChooser=new JPanel(new BorderLayout());
  JButton chooseButton=new JButton(new AbstractAction("..."){
    public void actionPerformed(    ActionEvent e){
      String oldPath=myTemplateModelsDir.getText();
      if (UseTreeFileChooser.get()) {
        String initialFile="";
        if (oldPath != null && oldPath.length() != 0) {
          initialFile=oldPath;
        }
        TreeFileChooser chooser=new TreeFileChooser(TreeFileChooser.MODE_DIRECTORIES,TreeFileChooser.ALL_FILES_FILTER,initialFile,null);
        if (chooser.getResult() != null) {
          myTemplateModelsDir.setText(chooser.getResult().getAbsolutePath());
        }
      }
 else {
        SmartFileChooser chooser=new SmartFileChooser();
        if (oldPath != null && oldPath.length() != 0) {
          chooser.setSelectedFile(new File(oldPath));
        }
        chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        if (chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {
          myTemplateModelsDir.setText(chooser.getSelectedFile().getAbsolutePath());
        }
      }
    }
  }
);
  rootChooser.add(myTemplateModelsDir,BorderLayout.CENTER);
  rootChooser.add(chooseButton,BorderLayout.EAST);
  internalPanel.add(rootChooser);
}
