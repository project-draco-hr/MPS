{
  SNode result=SNodeOperations.copyNode(typeWithVars);
  List<SNode> varRefs=SNodeOperations.getDescendants(result,"jetbrains.mps.baseLanguage.structure.TypeVariableReference",false,new String[]{});
  List<SNode> params=ListSequence.fromList(SLinkOperations.getTargets(classifierSubtype,"parameter",true)).toListSequence();
  for (  SNode varRef : varRefs) {
    int index=SNodeOperations.getIndexInParent(SLinkOperations.getTarget(varRef,"typeVariableDeclaration",false));
    if (index < ListSequence.fromList(params).count()) {
      SNodeOperations.replaceWithAnother(varRef,SNodeOperations.copyNode(ListSequence.fromList(params).getElement(index)));
    }
 else {
      SNodeOperations.replaceWithAnother(varRef,TypeVariableDeclaration_Behavior.call_getConcreteUpperBound_4346214032091509920(SLinkOperations.getTarget(varRef,"typeVariableDeclaration",false)));
    }
  }
  return result;
}
