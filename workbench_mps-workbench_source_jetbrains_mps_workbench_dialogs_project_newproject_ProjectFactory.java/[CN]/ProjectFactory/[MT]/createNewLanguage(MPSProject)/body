{
  String descriptorFileName=NameUtil.shortNameFromLongName(myOptions.getLanguageNamespace()) + MPSExtentions.DOT_LANGUAGE;
  String descriptorPath=myOptions.getLanguagePath() + File.separator + descriptorFileName;
  IFile descriptorFile=FileSystem.getInstance().getFileByPath(descriptorPath);
  Language language=NewModuleUtil.createNewLanguage(myOptions.getLanguageNamespace(),descriptorFile,mpsProject);
  LanguageDescriptor languageDescriptor=language.getModuleDescriptor();
  languageDescriptor.getUsedDevkits().add(LanguageDesign_DevKit.MODULE_REFERENCE);
  LanguageAspect.STRUCTURE.createNew(language,false).save();
  LanguageAspect.EDITOR.createNew(language,false).save();
  LanguageAspect.CONSTRAINTS.createNew(language,false).save();
  LanguageAspect.BEHAVIOR.createNew(language,false).save();
  LanguageAspect.TYPESYSTEM.createNew(language,false).save();
  language.setLanguageDescriptor(languageDescriptor,false);
  return language;
}
