{
  LanguageDescriptor languageDescriptor=sourceLanguage.getLanguageDescriptor();
  GeneratorDescriptor generatorDescriptor=new GeneratorDescriptor();
  generatorDescriptor.setGeneratorUID(Generator.generateGeneratorUID(sourceLanguage));
  generatorDescriptor.setName(name);
  String templateModelNamePrefix=getTemplateModelPrefix(sourceLanguage);
  ModelRoot templateModelsRoot=new ModelRoot();
  templateModelsRoot.setPrefix(templateModelNamePrefix);
  templateModelsRoot.setPath(templateModelsDir.getAbsolutePath());
  generatorDescriptor.getModelRoots().add(templateModelsRoot);
  ModuleReference ref=ModuleReference.fromString(LanguageDesign_DevKit.MODULE_REFERENCE.toString());
  generatorDescriptor.getUsedDevkits().add(ref);
  languageDescriptor.getGenerators().add(generatorDescriptor);
  sourceLanguage.setLanguageDescriptor(languageDescriptor);
  sourceLanguage.save();
  List<Generator> generators=sourceLanguage.getGenerators();
  return generators.get(generators.size() - 1);
}
