{
  LanguageDescriptor languageDescriptor=sourceLanguage.getLanguageDescriptor();
  SModel model=languageDescriptor.getModel();
  model.setLoading(true);
  GeneratorDescriptor generatorDescriptor=GeneratorDescriptor.newInstance(model);
  generatorDescriptor.setGeneratorUID(Generator.generateGeneratorUID(sourceLanguage));
  generatorDescriptor.setName(name);
  String templateModelNamePrefix=getTemplateModelPrefix(sourceLanguage);
  ModelRoot templateModelsRoot=ModelRoot.newInstance(model);
  templateModelsRoot.setPrefix(templateModelNamePrefix);
  templateModelsRoot.setPath(templateModelsDir.getAbsolutePath());
  generatorDescriptor.addModelRoot(templateModelsRoot);
  DevKitReference devkitRef=DevKitReference.newInstance(model);
  devkitRef.setName(LanguageDesign_DevKit.MODULE_REFERENCE.toString());
  generatorDescriptor.addUsedDevKit(devkitRef);
  languageDescriptor.addGenerator(generatorDescriptor);
  sourceLanguage.setLanguageDescriptor(languageDescriptor);
  sourceLanguage.save();
  List<Generator> generators=sourceLanguage.getGenerators();
  return generators.get(generators.size() - 1);
}
