{
  myRepository.getModelAccess().checkReadAccess();
  Map<ReloadableModule,AbsentDependencyException> modulesWithAbsentDeps=myModuleUpdater.getModulesWithAbsentDeps();
  Collection<SModuleReference> result=new HashSet<SModuleReference>();
  Collection<? extends SModuleReference> allModuleRefs=getAllModules();
  for (  SModuleReference mRef : allModuleRefs) {
    if (!result.contains(mRef)) {
      String msg=getModuleProblemMessage(mRef,modulesWithAbsentDeps);
      if (msg == null) {
        continue;
      }
      if (errorLevel)       LOG.error(msg);
 else       LOG.debug(msg);
      result.add(mRef);
    }
  }
  return result;
}
