{
  assert myChanged;
  LOG.debug("Recount status map for modules");
  myChanged=false;
  myRepository.getModelAccess().runReadAction(new Runnable(){
    @Override public void run(){
      constructEdges();
      resetStatus();
    }
  }
);
  Collection<SModule> invalidModules=findInvalidModules();
  LOG.debug(invalidModules.size() + " modules marked invalid for class loading out of " + getModules().size()+ " modules totally");
  for (  SModule module : getBackDependencies(invalidModules)) {
    myStatusMap.put(module,ClassLoadingStatus.INVALID);
  }
  checkStatusMapCorrectness();
}
