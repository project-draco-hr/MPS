{
  if (mRefs.isEmpty())   return;
synchronized (LOCK) {
    for (    SModuleReference mRef : mRefs) {
      for (Iterator<ReloadableModule> iterator=myModulesToAdd.iterator(); iterator.hasNext(); ) {
        ReloadableModule module=iterator.next();
        SModuleReference ref=((ReloadableModuleBase)module).getModuleReference();
        if (mRef.equals(ref))         iterator.remove();
      }
      myModulesToRemove.add(mRef);
      myRefStorage.moduleRemoved(mRef);
    }
    myChanged=true;
  }
}
