{
  Collection<SModuleReference> refs=new LinkedHashSet<SModuleReference>();
  for (  ReloadableModule module : modules) {
    refs.add(module.getModuleReference());
  }
  Collection<SModuleReference> referencedDeps=getDependencies(refs);
  Collection<ReloadableModule> resolvedDeps=resolveRefs(referencedDeps);
  assert(resolvedDeps.size() == referencedDeps.size());
  return resolvedDeps;
}
