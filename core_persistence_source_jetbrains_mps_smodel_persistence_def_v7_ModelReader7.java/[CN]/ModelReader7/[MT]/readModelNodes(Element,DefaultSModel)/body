{
  Element roots=rootElement.getChild(ModelPersistence.ROOTS);
  for (  Element element : (List<Element>)roots.getChildren(ModelPersistence.NODE)) {
    SNode node=readNode(element,model,false);
    if (node != null) {
      model.addRootNode(node);
    }
  }
  for (  Element root : (List<Element>)rootElement.getChildren(ModelPersistence.ROOT_CONTENT)) {
    SNode node=model.getNode(jetbrains.mps.smodel.SNodeId.fromString(root.getAttributeValue(ModelPersistence.ID)));
    if (node == null) {
      LOG.errorWithTrace("Cannot find root for " + root.getAttributeValue(ModelPersistence.ID));
      continue;
    }
    readChildren(root,node);
  }
}
