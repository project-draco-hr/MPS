{
  myCommandQueue.runTask(new Runnable(){
    public void run(){
      if (!(checkLoaded()) && !(isNewModel())) {
        return;
      }
      fireChangeUpdateStarted();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          removeChanges(AddRootChange.class,new _FunctionTypes._return_P1_E0<Boolean,AddRootChange>(){
            public Boolean invoke(            AddRootChange ch){
              return ch.getAffectedNodeId().equals(e.getRoot().getSNodeId());
            }
          }
);
          if (removeChanges(DeleteNodeChange.class,new _FunctionTypes._return_P1_E0<Boolean,DeleteNodeChange>(){
            public Boolean invoke(            DeleteNodeChange ch){
              return ch.getAffectedNodeId().equals(e.getRoot().getSNodeId());
            }
          }
) == 0) {
            addChange(new AddRootChange(e.getRoot().getConceptFqName(),e.getRoot().getSNodeId()),e.getRoot());
          }
          recursivelyChildAdded(e.getRoot());
        }
      }
);
      fireChangeUpdateFinished();
    }
  }
);
}
