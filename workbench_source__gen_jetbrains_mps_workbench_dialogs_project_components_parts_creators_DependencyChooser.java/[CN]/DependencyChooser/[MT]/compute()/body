{
  ArrayList modules=ModelAccess.instance().runReadAction(new Computable<ArrayList>(){
    public ArrayList compute(){
      return new ArrayList(MPSModuleRepository.getInstance().getAllModules());
    }
  }
);
  List<IModule> module=CommonChoosers.showDialogModuleCollectionChooser(myOwner.getMainComponent(),"module",modules,null);
  if (module == null) {
    return null;
  }
  List<Dependency> result=new ArrayList<Dependency>();
  for (  IModule m : module) {
    Dependency dependency=new Dependency();
    dependency.setModuleRef(m.getModuleReference());
    result.add(dependency);
  }
  return result;
}
