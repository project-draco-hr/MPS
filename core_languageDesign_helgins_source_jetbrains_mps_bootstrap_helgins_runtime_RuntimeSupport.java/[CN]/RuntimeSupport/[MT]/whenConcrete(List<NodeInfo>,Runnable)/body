{
  if (arguments.isEmpty()) {
    return;
  }
  final EquationManager equationManager=myTypeChecker.getEquationManager();
  Runnable current=r;
  int lastindex=arguments.size() - 1;
  int index=0;
  for (  final NodeInfo argument : arguments) {
    if (index == lastindex)     break;
    final Runnable oldRunnable=current;
    final Runnable oldRunnableWrapper=new Runnable(){
      public void run(){
        SNode nodeType=typeOf(argument.myNode);
        SNode restriction=argument.myType;
        if (argument.myEquals) {
          if (MatchingUtil.matchNodes(nodeType,restriction)) {
            oldRunnable.run();
          }
        }
 else {
          if (myTypeChecker.getSubtypingManager().isSubtype(nodeType,restriction)) {
            oldRunnable.run();
          }
        }
      }
    }
;
    Runnable newRunnable=new Runnable(){
      public void run(){
        equationManager.addNewWhenConcreteEntity(NodeWrapper.createWrapperFromNode(argument.myNode,equationManager),new WhenConcreteEntity(oldRunnableWrapper,argument.myNodeModel,argument.myNodeId));
      }
    }
;
    current=newRunnable;
    index++;
  }
  NodeInfo lastInfo=arguments.get(lastindex);
  equationManager.addNewWhenConcreteEntity(NodeWrapper.createWrapperFromNode(lastInfo.myNode,equationManager),new WhenConcreteEntity(current,lastInfo.myNodeModel,lastInfo.myNodeId));
}
