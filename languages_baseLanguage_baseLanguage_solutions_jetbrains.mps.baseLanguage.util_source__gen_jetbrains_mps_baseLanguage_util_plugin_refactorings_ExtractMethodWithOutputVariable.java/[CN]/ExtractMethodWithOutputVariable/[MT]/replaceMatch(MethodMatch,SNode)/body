{
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      SNode methodCall=ExtractMethodWithOutputVariable.this.createMethodCall(match,methodDeclaration);
      List<SNode> statements=match.getNodes();
      if ((ExtractMethodWithOutputVariable.this.myDeclarationStatement != null)) {
        SLinkOperations.setTarget(SLinkOperations.getTarget(ExtractMethodWithOutputVariable.this.myDeclarationStatement,"localVariableDeclaration",true),"initializer",methodCall,true);
      }
 else {
        SNode newStatement=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement",null);
        SLinkOperations.setTarget(newStatement,"expression",_quotation_createNode_n3576q_a0b0a2a0a0f(BehaviorReflection.invokeVirtual((Class<SNode>)((Class)Object.class),ExtractMethodWithOutputVariable.this.myOutputVariable,"virtual_createReference_1213877517482",new Object[]{}),methodCall),true);
        SNodeOperations.insertPrevSiblingChild(ListSequence.fromList(statements).first(),newStatement);
      }
      for (      SNode statement : ListSequence.fromList(statements)) {
        if (statement != ExtractMethodWithOutputVariable.this.myDeclarationStatement) {
          SNodeOperations.deleteNode(statement);
        }
      }
    }
  }
);
}
