{
  boolean wereErrors=false;
  myContextModules.add(context.getModule());
  Iterable<SNode> iterable=new ConditionalIterable<SNode>(outputModel.roots(),new Condition<SNode>(){
    public boolean met(    SNode node){
      return node.getName() != null;
    }
  }
);
  for (  SNode root : iterable) {
    INodeAdapter outputNode=BaseAdapter.fromNode(root);
    TextGenerationResult genResult=TextGenerationUtil.generateText(context,root);
    wereErrors|=genResult.hasErrors();
    String key=getKey(outputModel.getSModelReference(),root);
    mySources.put(key,genResult.getText());
    if (InMemoryJavaGenerationHandler.isJavaSource(outputNode)) {
      myJavaSources.add(key);
    }
  }
  return !(wereErrors);
}
