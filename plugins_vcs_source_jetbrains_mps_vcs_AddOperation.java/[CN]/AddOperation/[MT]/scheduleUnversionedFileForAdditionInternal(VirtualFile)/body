{
  if (vf.exists()) {
    AbstractVcs vcs=myManager.getVcsFor(vf);
    if (vcs != null) {
      CheckinEnvironment ci=vcs.getCheckinEnvironment();
      if (ci != null) {
        List<VirtualFile> vfs=new ArrayList<VirtualFile>();
        vfs.add(vf);
        List<VcsException> result=ci.scheduleUnversionedFilesForAddition(vfs);
        if (result != null) {
          for (          VcsException e : result) {
            LOG.error(e);
          }
        }
        myVcsDirtyScopeManager.fileDirty(vf);
      }
    }
  }
}
