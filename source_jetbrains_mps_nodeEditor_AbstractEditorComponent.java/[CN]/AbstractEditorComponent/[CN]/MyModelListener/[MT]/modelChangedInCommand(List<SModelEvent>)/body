{
  if (!EventUtil.isDramaticalChange(events)) {
    myRootCell.updateView();
    relayout();
  }
 else {
    rebuildEditorContent();
    List<SModelChildEvent> childEvents=CollectionUtil.filter(SModelChildEvent.class,events);
    SModelChildEvent lastAdd=null;
    SModelChildEvent lastRemove=null;
    for (    SModelChildEvent e : childEvents) {
      if (e.isAdded())       lastAdd=e;
      if (e.isRemoved())       lastRemove=e;
    }
    if (lastAdd != null) {
      EditorCell cell=findNodeCell(lastAdd.getChild());
      EditorCell error=findErrorOrEditableCell(cell);
      if (error == null) {
        selectNode(lastAdd.getChild());
      }
 else {
        changeSelection(error);
      }
      return;
    }
    if (lastRemove != null) {
      int index=lastRemove.getChildIndex();
      String role=lastRemove.getChildRole();
      SNode parent=lastRemove.getParent();
      if (parent.getChildCount() > index) {
        SNode child=parent.getChildAt(index);
        if (child.getRole_().equals(role)) {
          selectNode(child);
          return;
        }
      }
      if (index != 0) {
        SNode child=parent.getChildAt(index - 1);
        if (child.getRole_().equals(role)) {
          selectNode(child);
          return;
        }
      }
      selectNode(lastRemove.getParent());
      return;
    }
  }
}
