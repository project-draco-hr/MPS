{
  final SemanticNode selectedNode=getSelectedCell().getSemanticNode();
  if (selectedNode == null)   return;
  JPopupMenu popupMenu=new JPopupMenu();
  String header=JavaNameUtil.shortName(selectedNode.getClass().getName());
  if (selectedNode.getName() != null) {
    header=header + " \"" + selectedNode.getName()+ "\"";
  }
  popupMenu.add(JavaNameUtil.shortName(header));
  popupMenu.addSeparator();
  ActionManager.instance().getGroup(EDITOR_POPUP_MENU_ACTIONS).addGroup(popupMenu,new ActionContext(getProject().getComponent(IdeMain.class),selectedNode));
  if (selectedNode instanceof ClassConcept) {
    popupMenu.addSeparator();
    popupMenu.add(createGenStubFromClassFileAction((ClassConcept)selectedNode));
  }
  if (selectedNode instanceof BaseEditorComponent || selectedNode instanceof EditorCellModel) {
    popupMenu.addSeparator();
    popupMenu.add(EditorLanguageUtil.createTurnCellBordersOnOffAction(selectedNode,true,getContext().getProject()));
    popupMenu.add(EditorLanguageUtil.createTurnCellBordersOnOffAction(selectedNode,false,getContext().getProject()));
  }
  popupMenu.show(AbstractEditorComponent.this,e.getX(),e.getY());
}
