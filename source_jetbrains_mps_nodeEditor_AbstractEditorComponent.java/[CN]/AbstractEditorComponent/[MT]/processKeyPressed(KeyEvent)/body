{
  if (keyEvent.getKeyCode() == KeyEvent.VK_Z && keyEvent.isControlDown()) {
    if (keyEvent.isShiftDown()) {
      if (UndoManager.instance().isRedoAvailable(getContext())) {
        UndoManager.instance().redo(getContext());
      }
    }
 else {
      if (UndoManager.instance().isUndoAvailable(getContext())) {
        UndoManager.instance().undo(getContext());
      }
    }
    keyEvent.consume();
    return;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_F5) {
    rebuildEditorContent();
    keyEvent.consume();
    return;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_D && keyEvent.isControlDown()) {
    if (mySelectedCell != null) {
      System.out.println("--- Selected cell parents ---");
      EditorUtil.dumpCellsUp(mySelectedCell,0);
      System.out.println("--- Selected cell children ---");
      EditorUtil.dumpCellsDown(mySelectedCell,0);
      System.out.println("--- end dump ---");
      keyEvent.consume();
      return;
    }
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_U && keyEvent.isControlDown()) {
    if (mySelectedCell != null) {
      System.out.println("--- Usages of " + mySelectedCell.getSemanticNode().getDebugText() + " ---");
      EditorUtil.dumpUsages(mySelectedCell.getSemanticNode());
      System.out.println("--- end dump ---");
      keyEvent.consume();
      return;
    }
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_T && keyEvent.isControlDown()) {
    if (mySelectedCell != null) {
      System.out.println("--- Type System Info " + mySelectedCell.getSemanticNode().getDebugText() + " ---");
      MPSProject project=IdeMain.instance().getProject();
      Language language=Language.getLanguage(mySelectedCell.getSemanticNode(),project);
      ITypesystem typesystem=language.getTypesystem();
      TSStatus status=typesystem.checkNodeType(mySelectedCell.getSemanticNode());
      if (status.isOk()) {
        System.out.println("--- TYPE CHECK STATUS: OK");
        System.out.println("--- Type: " + status.getTypeObject());
      }
 else       if (status.isErrorComposite()) {
        System.out.println("--- TYPE CHECK STATUS: ERROR COMPOSITE");
        List<TSStatus> errors=status.getAllErrors();
        for (int i=0; i < errors.size(); i++) {
          TSStatus error=errors.get(i);
          System.out.println((i + 1) + ". --- Message: " + error.getMessage());
        }
      }
 else {
        System.out.println("--- TYPE CHECK STATUS: ERROR");
        System.out.println("--- Message: " + status.getMessage());
      }
      keyEvent.consume();
      return;
    }
  }
  CommandProcessor.instance().executeCommand(getContext(),new Runnable(){
    public void run(){
      if (peekKeyboardHandler().processKeyPressed(getContext(),keyEvent) == true) {
        keyEvent.consume();
        return;
      }
    }
  }
,null);
  return;
}
