{
  if (keyEvent.getKeyCode() == KeyEvent.VK_Z && keyEvent.isControlDown()) {
    if (keyEvent.isShiftDown()) {
      if (UndoManager.instance().isRedoAvailable(getContext())) {
        UndoManager.instance().redo(getContext());
      }
    }
 else {
      if (UndoManager.instance().isUndoAvailable(getContext())) {
        UndoManager.instance().undo(getContext());
      }
    }
    keyEvent.consume();
    return;
  }
  CommandProcessor.instance().executeCommand(getContext(),new Runnable(){
    public void run(){
      if (peekKeyboardHandler().processKeyPressed(getContext(),keyEvent) == true) {
        return;
      }
      String actionType=getActionType(keyEvent);
      if (actionType != null) {
        if (executeAction(mySelectedCell,actionType)) {
          keyEvent.consume();
        }
      }
    }
  }
,null);
  return;
}
