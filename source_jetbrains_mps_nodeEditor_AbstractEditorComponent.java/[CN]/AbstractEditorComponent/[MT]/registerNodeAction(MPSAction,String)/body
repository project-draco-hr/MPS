{
  registerKeyboardAction(new AbstractAction(action.getName()){
    public void actionPerformed(    ActionEvent e){
      if (mySelectedCell != null && mySelectedCell.getSNode() != null) {
        IdeMain ide=ApplicationComponents.getInstance().getComponent(IdeMain.class);
        final ActionContext context=new ActionContext(getEditorContext().getOperationContext(),mySelectedCell.getSNode());
        if (action.executeInsideCommand()) {
          CommandProcessor.instance().executeCommand(new Runnable(){
            public void run(){
              action.execute(context);
            }
          }
);
        }
 else {
          action.execute(context);
        }
      }
    }
  }
,KeyStroke.getKeyStroke(keyStroke),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
}
