{
  removeOurListener();
  myRootCell=rootCell;
  doRelayout(false);
  Set<SNode> nodesWhichEditorDependsOn=myCellsToNodesToDependOnMap.get(myRootCell);
  if (nodesWhichEditorDependsOn != null) {
    for (    SNode node : nodesWhichEditorDependsOn) {
      SModelDescriptor modelDescriptor=node.getModel().getModelDescriptor();
      if (modelDescriptor != null) {
        addOurListener(modelDescriptor);
      }
    }
  }
  Set<SNodeProxy> refTargetsWhichEditorDependsOn=myCellsToRefTargetsToDependOnMap.get(myRootCell);
  if (refTargetsWhichEditorDependsOn != null) {
    Set<SNodeProxy> nodeProxiesToDelete=new HashSet<SNodeProxy>();
    for (    SNodeProxy nodeProxy : refTargetsWhichEditorDependsOn) {
      SModelDescriptor model=nodeProxy.getModel();
      if (model == null) {
        nodeProxiesToDelete.add(nodeProxy);
        continue;
      }
      addOurListener(model);
    }
    refTargetsWhichEditorDependsOn.removeAll(nodeProxiesToDelete);
  }
  revalidate();
  repaint();
}
