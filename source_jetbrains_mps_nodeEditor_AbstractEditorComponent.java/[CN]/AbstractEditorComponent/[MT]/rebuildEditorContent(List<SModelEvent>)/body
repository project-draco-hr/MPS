{
  if (isDisplayable() && !ThreadUtils.isEventDispatchThread()) {
    throw new RuntimeException("Editor rebuild can only happen in UI Thread");
  }
  removeAll();
  runSwapCellsActions(new Runnable(){
    public void run(){
      setRootCell(createRootCell(events));
    }
  }
);
  for (  JComponent component : myRootCell.getSwingComponents()) {
    this.add(component);
  }
  for (  RebuildListener listener : myRebuildListeners) {
    listener.editorRebuilt(this);
  }
}
