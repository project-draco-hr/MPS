{
  EditorCell focusPolicyCell=FocusPolicy.findCellToSelectDueToFocusPolicy(cell);
  EditorCell toSelect;
  if (focusPolicyCell == null || (focusPolicyCell == cell && focusPolicyCell.getUserObject(EditorCell.ATTRACTS_FOCUS_POLICY) == null)) {
    toSelect=findErrorOrEditableCell(cell);
    if (toSelect == null) {
      toSelect=EditorUtil.findFirstSelectableCell(cell);
    }
  }
 else {
    toSelect=focusPolicyCell;
  }
  if (toSelect == null)   toSelect=cell;
  changeSelection(toSelect);
  if (toSelect instanceof EditorCell_Label && !toSelect.isErrorState()) {
    ((EditorCell_Label)toSelect).getTextLine().end();
  }
}
