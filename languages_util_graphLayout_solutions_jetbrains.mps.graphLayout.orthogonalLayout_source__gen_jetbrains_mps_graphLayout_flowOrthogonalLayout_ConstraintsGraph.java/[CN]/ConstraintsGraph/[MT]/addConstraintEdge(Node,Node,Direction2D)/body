{
  Map<Node,Node> constraintsMap;
  if (direction.isHorizontal()) {
    constraintsMap=myVerNodeMap;
  }
 else {
    constraintsMap=myHorNodeMap;
  }
  Node source;
  Node target;
  if (direction == Direction2D.RIGHT || direction == Direction2D.UP) {
    source=MapSequence.<Node,Node>fromMap(constraintsMap).get(first);
    target=MapSequence.<Node,Node>fromMap(constraintsMap).get(second);
  }
 else {
    source=MapSequence.<Node,Node>fromMap(constraintsMap).get(second);
    target=MapSequence.<Node,Node>fromMap(constraintsMap).get(first);
  }
  Graph graph=source.getGraph();
  return graph.connect(source,target);
}
