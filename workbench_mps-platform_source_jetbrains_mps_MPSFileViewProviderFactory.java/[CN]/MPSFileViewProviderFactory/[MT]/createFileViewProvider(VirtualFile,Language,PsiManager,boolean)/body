{
  if (file instanceof MPSNodeVirtualFile) {
    MPSNodeVirtualFile mpsFile=(MPSNodeVirtualFile)file;
    if (!mpsFile.getNode().isRoot())     return null;
    return new MPSModelFileViewProvider(manager,mpsFile.getParent(),language);
  }
 else   if (file.getFileType().equals(MPSFileTypeFactory.MODEL_FILE_TYPE)) {
    return new MPSModelFileViewProvider(manager,file,language);
  }
  return null;
}
