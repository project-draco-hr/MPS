{
  if (!modelDescriptor.isInitialized())   return;
  for (  final SNode root : modelDescriptor.getSModel().getRoots()) {
    final VirtualFile vf=myVirtualFiles.get(new SNodePointer(root));
    if (vf != null) {
      ModelAccess.instance().runCommandInEDT(new Runnable(){
        public void run(){
          fireBeforeFileDeletion(this,vf);
          fireFileDeleted(this,vf,vf.getName(),null);
          myVirtualFiles.remove(new SNodePointer(root));
        }
      }
);
    }
  }
}
