{
  return ModelAccess.instance().runReadAction(new Computable<MPSNodeVirtualFile>(){
    public MPSNodeVirtualFile compute(){
      if (myVirtualFiles.containsKey(node)) {
        return myVirtualFiles.get(node);
      }
      MPSNodeVirtualFile vf=new MPSNodeVirtualFile(node);
      myVirtualFiles.put(node,vf);
      return vf;
    }
  }
);
}
