{
  return ModelAccess.instance().runReadAction(new Computable<MPSNodeVirtualFile>(){
    public MPSNodeVirtualFile compute(){
      SNodePointer nodePointer=new SNodePointer(node);
      if (myVirtualFiles.containsKey(nodePointer)) {
        return myVirtualFiles.get(nodePointer);
      }
      MPSNodeVirtualFile vf=new MPSNodeVirtualFile(node);
      myVirtualFiles.put(nodePointer,vf);
      return vf;
    }
  }
);
}
