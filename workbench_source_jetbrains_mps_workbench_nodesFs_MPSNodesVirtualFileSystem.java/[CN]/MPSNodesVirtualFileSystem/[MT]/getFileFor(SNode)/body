{
  return CommandProcessor.instance().executeLightweightCommand(new Calculable<MPSNodeVirtualFile>(){
    public MPSNodeVirtualFile calculate(){
      if (myVirtualFiles.containsKey(node)) {
        return myVirtualFiles.get(node);
      }
      MPSNodeVirtualFile vf=new MPSNodeVirtualFile(node);
      myVirtualFiles.put(node,vf);
      return vf;
    }
  }
);
}
