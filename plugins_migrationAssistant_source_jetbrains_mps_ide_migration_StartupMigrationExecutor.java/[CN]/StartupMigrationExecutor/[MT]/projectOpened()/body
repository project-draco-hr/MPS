{
  if (!myMigrationManager.isMigrationRequired())   return;
  StartupManager.getInstance(myProject).registerPostStartupActivity(new Runnable(){
    public void run(){
      LaterInvocator.invokeLater(new Runnable(){
        @Override public void run(){
          VirtualFileManager.getInstance().syncRefresh();
          ModelAccess.instance().runWriteAction(new Runnable(){
            @Override public void run(){
              for (              SModule module : myMpsProject.getModulesWithGenerators()) {
                for (                SModel md : module.getModels()) {
                  if (!(md instanceof EditableSModel))                   continue;
                  if (md.isReadOnly())                   continue;
                  ((EditableSModel)md).reloadFromSource();
                }
              }
            }
          }
);
          ProjectManagerEx.getInstance().reloadProject(myProject);
          MigrationAssistantWizard wizard=new MigrationAssistantWizard(myProject);
          wizard.showAndGetOk();
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
}
