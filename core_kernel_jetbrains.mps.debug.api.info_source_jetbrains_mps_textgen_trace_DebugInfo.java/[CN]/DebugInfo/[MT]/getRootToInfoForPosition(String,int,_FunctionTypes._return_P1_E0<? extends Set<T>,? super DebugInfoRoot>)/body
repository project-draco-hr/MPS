{
  Map<DebugInfoRoot,List<T>> result=new LinkedHashMap<DebugInfoRoot,List<T>>(16,(float)0.75,false);
  for (  DebugInfoRoot root : getRootsForFile(file)) {
    List<T> list=result.get(root);
    for (    T element : getAllPositionsForRoot.invoke(root)) {
      if (element.contains(file,line)) {
        if (list == null) {
          result.put(root,list=new ArrayList<T>());
        }
        list.add(element);
      }
    }
    if (list != null) {
      Collections.sort(list,Collections.reverseOrder(new PositionInfo.StartLineComparator()));
    }
  }
  return result;
}
