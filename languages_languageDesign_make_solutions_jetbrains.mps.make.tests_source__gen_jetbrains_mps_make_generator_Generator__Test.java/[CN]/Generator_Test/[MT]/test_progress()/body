{
  if (1 + 1 > 0) {
    return;
  }
  ScriptBuilder scb=new ScriptBuilder();
  final IProgress pstub=context.mock(IProgress.class);
  context.checking(new Expectations(){
{
      exactly(1).of(pstub).beginWork(with(equal(internalWorkName("script"))),with(same(20)),with(any(Integer.class)));
      exactly(1).of(pstub).beginWork(with(equal(internalWorkName(new ITarget.Name("jetbrains.mps.make.tests.Worker_.work").toString()))),with(equal(1000)),with(equal(10)));
      exactly(1).of(pstub).beginWork(with(equal(internalWorkName(new ITarget.Name("jetbrains.mps.make.tests.Maker_.Make").toString()))),with(equal(1000)),with(equal(10)));
      org.jmock.Sequence seq=context.sequence("sequence");
      exactly(1).of(pstub).beginWork(with(equal("WORK")),with(same(100)),with(any(Integer.class)));
      inSequence(seq);
      atMost(1).of(pstub).advanceWork(with(equal("WORK")),with(same(50)));
      inSequence(seq);
      exactly(1).of(pstub).beginWork(with(equal("WORKWORK")),with(same(10)),with(any(Integer.class)));
      inSequence(seq);
      atMost(1).of(pstub).advanceWork(with(equal("WORKWORK")),with(same(5)));
      inSequence(seq);
      atMost(1).of(pstub).advanceWork(with(equal("WORKWORK")),with(same(5)));
      inSequence(seq);
      exactly(1).of(pstub).finishWork(with(equal("WORKWORK")));
      inSequence(seq);
      exactly(1).of(pstub).finishWork(with(equal("WORK")));
      inSequence(seq);
      atMost(2).of(pstub).advanceWork(with(equal(internalWorkName("script"))),with(same(1)));
      exactly(1).of(pstub).finishWork(with(equal(internalWorkName(new ITarget.Name("jetbrains.mps.make.tests.Maker_.Make").toString()))));
      exactly(1).of(pstub).finishWork(with(equal(internalWorkName(new ITarget.Name("jetbrains.mps.make.tests.Worker_.work").toString()))));
      exactly(1).of(pstub).finishWork(with(equal(internalWorkName("script"))));
      allowing(pstub).workLeft();
      will(returnValue(Integer.MAX_VALUE));
    }
  }
);
  final IScriptController mons=new IScriptController.Stub(new IConfigMonitor.Stub(),new IJobMonitor.Stub(pstub));
  IScript scr=scb.withFacetName(new IFacet.Name("jetbrains.mps.make.tests.Maker_")).withFacetName(new IFacet.Name("jetbrains.mps.make.tests.Worker_")).withFinalTarget(new ITarget.Name("jetbrains.mps.make.tests.Maker_.Make")).toScript();
  Assert.assertTrue(scr.isValid());
  ITarget dt=scr.finalTarget();
  Assert.assertNotNull(dt);
  Assert.assertEquals(new ITarget.Name("jetbrains.mps.make.tests.Maker_.Make"),dt.getName());
  IResult res=scr.execute(mons,null,new EmptyProgressMonitor());
  Assert.assertNotNull(res);
  Assert.assertTrue(res.isSucessful());
  Assert.assertTrue(Sequence.fromIterable(res.output()).isEmpty());
}
