{
  Queue<SNode> queue=QueueSequence.fromQueue(new LinkedList<SNode>());
  QueueSequence.fromQueue(queue).addSequence(ListSequence.fromList(SNodeOperations.getDescendants(expanded,"jetbrains.mps.baseLanguage.structure.IGenericType",false,new String[]{})));
  while (!(QueueSequence.fromQueue(queue).isEmpty())) {
    SNode next=QueueSequence.fromQueue(queue).removeFirstElement();
    SNode exNext=IGenericType_Behavior.call_expandGenerics_4122274986016348613(next,substitutions,expTrace);
    if (exNext != next) {
      SNodeOperations.replaceWithAnother(next,exNext);
      for (      SNode dsc : ListSequence.fromList(SNodeOperations.getDescendants(next,"jetbrains.mps.baseLanguage.structure.IGenericType",false,new String[]{}))) {
        QueueSequence.fromQueue(queue).addLastElement(dsc);
      }
    }
  }
  return expanded;
}
