{
  DataManager.getInstance().getDataContextFromFocus().doWhenDone(new Handler<DataContext>(){
    public void run(    final DataContext dataContext){
      Project p=MPSDataKeys.PROJECT.getData(dataContext);
      if (p == null)       return;
      IModule module=ModelAccess.instance().runReadAction(new Computable<IModule>(){
        public IModule compute(){
          SNode node=myNode.getNode();
          if (node == null)           return null;
          SModel model=node.getModel();
          if (model == null)           return null;
          return model.getModelDescriptor().getModule();
        }
      }
);
      SNode node=ModelAccess.instance().runReadAction(new Computable<SNode>(){
        public SNode compute(){
          return myNode.getNode();
        }
      }
);
      if (module == null)       return;
      new MPSEditorOpener(p).editNode(node,new ModuleContext(module,ProjectHelper.toMPSProject(p)));
    }
  }
);
}
