{
  sb.append(SPropertyOperations.getString(attr,MetaAdapterFactory.getProperty(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681447923l,6666499814681447926l,"attrName")));
  sb.append("=");
  sb.append('"');
  for (  SNode val : SLinkOperations.getChildren(attr,MetaAdapterFactory.getContainmentLink(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681447923l,6666499814681541918l,"value"))) {
    if (SNodeOperations.isInstanceOf(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),3080189811177215998l,"jetbrains.mps.core.xml.structure.XmlCharRefValue"))) {
      sb.append("&#");
      sb.append(SPropertyOperations.getString(SNodeOperations.cast(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),3080189811177215998l,"jetbrains.mps.core.xml.structure.XmlCharRefValue")),MetaAdapterFactory.getProperty(new UUID(5160134014823646133l,-7982110198386724200l),3080189811177215998l,3080189811177216006l,"charCode")));
      sb.append(";");
    }
 else     if (SNodeOperations.isInstanceOf(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541921l,"jetbrains.mps.core.xml.structure.XmlEntityRefValue"))) {
      sb.append("&");
      sb.append(SPropertyOperations.getString(SNodeOperations.cast(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541921l,"jetbrains.mps.core.xml.structure.XmlEntityRefValue")),MetaAdapterFactory.getProperty(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541921l,6666499814681543256l,"entityName")));
      sb.append(";");
    }
 else     if (SNodeOperations.isInstanceOf(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),3080189811177426492l,"jetbrains.mps.core.xml.structure.XmlNoSpaceValue"))) {
    }
 else     if (SNodeOperations.isInstanceOf(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541919l,"jetbrains.mps.core.xml.structure.XmlTextValue"))) {
      SNode tv=SNodeOperations.cast(val,MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541919l,"jetbrains.mps.core.xml.structure.XmlTextValue"));
      if (BehaviorReflection.invokeVirtual(Boolean.TYPE,tv,"virtual_onNewLine_3080189811177340422",new Object[]{})) {
        sb.append("\n");
      }
      sb.append(SPropertyOperations.getString(tv,MetaAdapterFactory.getProperty(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541919l,6666499814681541920l,"text")));
      if (BehaviorReflection.invokeVirtual(Boolean.TYPE,tv,"virtual_hasNewLineAfter_3080189811177340429",new Object[]{})) {
        if (SNodeOperations.isInstanceOf(SNodeOperations.getNextSibling(tv),MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541916l,"jetbrains.mps.core.xml.structure.XmlValuePart")) && BehaviorReflection.invokeVirtual(Boolean.TYPE,SNodeOperations.cast(SNodeOperations.getNextSibling(tv),MetaAdapterFactory.getConcept(new UUID(5160134014823646133l,-7982110198386724200l),6666499814681541916l,"jetbrains.mps.core.xml.structure.XmlValuePart")),"virtual_onNewLine_3080189811177340422",new Object[]{})) {
          return;
        }
        sb.append("\n");
      }
    }
 else {
      hasErrors=true;
    }
  }
  sb.append('"');
}
