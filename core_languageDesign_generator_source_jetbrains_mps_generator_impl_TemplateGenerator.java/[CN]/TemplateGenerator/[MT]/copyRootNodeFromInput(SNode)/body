{
  for (  DropRootRule dropRootRule : myRuleManager.getDropRootRules()) {
    if (isApplicableDropRootRule(inputRootNode,dropRootRule)) {
      return;
    }
  }
  myGenerationTracer.pushInputNode(inputRootNode);
  try {
    boolean[] changed=new boolean[]{false};
    SNode root=copyNodeFromInputNode_internal(null,null,inputRootNode,null,changed);
    registerRoot(root,inputRootNode);
    getGeneratorSessionContext().registerCopiedRoot(root);
    myOutputModel.addRoot(root);
    if (changed[0]) {
      setChanged(true);
    }
  }
  finally {
    myGenerationTracer.closeInputNode(inputRootNode);
  }
}
