{
  try {
    List<SNode> outputNodes=new TemplateProcessor(this,null).processTemplateNode(mappingName,templateNode,new TemplateContext(inputNode));
    for (    SNode outputNode : outputNodes) {
      registerRoot(outputNode,inputNode);
      myOutputModel.addRoot(outputNode);
      setChanged(true);
    }
  }
 catch (  DismissTopMappingRuleException e) {
    if (copyRootOnFailure && inputNode.isRoot()) {
      copyRootNodeFromInput(inputNode);
    }
  }
catch (  TemplateProcessingFailureException e) {
    showErrorMessage(inputNode,templateNode,"couldn't create root node");
  }
}
