{
  return ThreadUtils.isEventDispatchThread() && !ourUndoBlocked && ModelAccess.instance().isInsideCommand();
}
