{
  final Map<T,Set<T>> rootToSet=MapSequence.<T,Set<T>>fromMap(new HashMap<T,Set<T>>());
  SetSequence.<T>fromSet(MapSequence.fromMap(myParent).keySet()).visitAll(new IVisitor<T>(){
    public void visit(    T x){
      T r=getRoot(x);
      if (MapSequence.<T,Set<T>>fromMap(rootToSet).get(r) == null) {
        MapSequence.<T,Set<T>>fromMap(rootToSet).put(r,SetSequence.<T>fromSet(new HashSet<T>()));
      }
      SetSequence.fromSet(MapSequence.<T,Set<T>>fromMap(rootToSet).get(r)).addElement(x);
    }
  }
);
  return MapSequence.fromMap(rootToSet).values();
}
