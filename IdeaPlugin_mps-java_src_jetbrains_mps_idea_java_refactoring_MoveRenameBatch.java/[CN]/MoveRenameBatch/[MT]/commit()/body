{
  ReloadManager.getInstance().flush();
  UndoManager.getInstance(myProject).undoableActionPerformed(myUndoRedoSupport);
  ModelAccess.instance().runUndoTransparentCommand(new Runnable(){
    @Override public void run(){
      for (      Runnable upd : nodeUpdaters) {
        upd.run();
      }
      for (      Runnable upd : sreferenceUpdaters.values()) {
        upd.run();
      }
      for (      SReferencePtr link : prefixReferenceUpdaters.keySet()) {
        if (!sreferenceUpdaters.containsKey(link)) {
          prefixReferenceUpdaters.get(link).run();
        }
      }
    }
  }
,ProjectHelper.toMPSProject(myProject));
}
