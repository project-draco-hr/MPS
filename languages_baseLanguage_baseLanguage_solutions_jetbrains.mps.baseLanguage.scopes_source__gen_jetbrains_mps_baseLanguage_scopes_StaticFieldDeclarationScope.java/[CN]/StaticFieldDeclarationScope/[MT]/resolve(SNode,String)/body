{
  if (MapSequence.fromMap(nameToField).containsKey(refText)) {
    return MapSequence.fromMap(nameToField).get(refText);
  }
 else {
    SNode result=null;
    for (    Scope scope : extendsScopes) {
      SNode r=scope.resolve(contextNode,refText);
      if (r != null) {
        if (result == null) {
          result=r;
        }
 else {
          return null;
        }
      }
    }
    return result;
  }
}
