{
  if (element instanceof PaletteActionGroup) {
    PaletteActionGroup group=((PaletteActionGroup)element);
    if (group.isPopup()) {
      return new PopupPaletteActionGroupAdapter(palette,group);
    }
 else {
      return new PaletteActionGroupAdapter(palette,group);
    }
  }
 else   if (element instanceof PaletteSimpleAction) {
    return new PaletteSimpleActionAdapter(((PaletteSimpleAction)element),palette);
  }
 else   if (element instanceof PaletteToggleAction) {
    return new PaletteToggleActionAdapter(((PaletteToggleAction)element),palette);
  }
 else   if (element instanceof PaletteSeparator) {
    return new Separator(element.getText());
  }
  return null;
}
