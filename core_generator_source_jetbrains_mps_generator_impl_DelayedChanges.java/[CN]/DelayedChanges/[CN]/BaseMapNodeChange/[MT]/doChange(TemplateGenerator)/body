{
  try {
    SNode child=mapNode();
    if (child == null) {
      return;
    }
    ChildAdopter ca=new ChildAdopter(generator);
    ca.checkIsExpectedLanguage(Collections.singletonList(child),getMapSrcMacro(),myContext);
    child=ca.adopt(child,myContext);
    generator.replacePlaceholderNode(myChildToReplace,child,myContext,getMapSrcMacro());
    postProcess(child);
  }
 catch (  Throwable t) {
    IGeneratorLogger log=generator.getLogger();
    log.error(getMapSrcMacro(),String.format("mapping failed: '%s'",t.getMessage()),GeneratorUtil.describe(myContext.getInput(),"input"));
    log.handleException(t);
  }
}
