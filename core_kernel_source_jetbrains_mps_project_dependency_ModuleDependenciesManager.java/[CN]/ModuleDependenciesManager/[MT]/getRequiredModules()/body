{
  Set<IModule> modules=new LinkedHashSet<IModule>();
  for (  IModule m : ModuleUtil.getDependencies(myModule)) {
    modules.add(m);
  }
  for (  Language language : ModuleUtil.getUsedLanguages(myModule)) {
    for (    ModuleReference ref : language.getRuntimeModulesReferences()) {
      IModule m=MPSModuleRepository.getInstance().getModule(ref);
      if (m == null)       continue;
      modules.add(m);
    }
  }
  return modules;
}
