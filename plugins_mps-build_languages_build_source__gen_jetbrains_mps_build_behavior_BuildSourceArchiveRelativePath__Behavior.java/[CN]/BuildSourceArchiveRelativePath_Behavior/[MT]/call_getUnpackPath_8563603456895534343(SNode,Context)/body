{
  TemplateQueryContext generationContext=context.getGenerationContext();
  if (generationContext == null) {
    LOG.error("Can not calculate ant path for " + thisNode + " outside of a generator.");
    return null;
  }
  DependenciesHelper helper=new DependenciesHelper(generationContext,SNodeOperations.getAncestor(thisNode,"jetbrains.mps.build.structure.BuildProject",false,false));
  String unpackPath=helper.contentLocations().get(DependenciesHelper.getOriginalNode(thisNode,generationContext));
  if ((unpackPath == null || unpackPath.length() == 0)) {
    generationContext.showErrorMessage(thisNode,"Empty unpack path for an archive relative path.");
    return null;
  }
  return unpackPath;
}
