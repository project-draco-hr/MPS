{
  Map<Integer,Method> buttonMethods=new HashMap<Integer,Method>();
  for (  Method m : getClass().getMethods()) {
    if (m.isAnnotationPresent(Button.class) && !Modifier.isStatic(m.getModifiers())) {
      Button b=m.getAnnotation(Button.class);
      if (buttonMethods.containsKey(b.position())) {
        throw new RuntimeException("BaseDialog has buttons with the same position");
      }
      if (m.getReturnType() != Void.TYPE || m.getParameterTypes().length != 0) {
        throw new RuntimeException("Button methods should return void type and have no parameters");
      }
      buttonMethods.put(b.position(),m);
    }
  }
  return buttonMethods;
}
