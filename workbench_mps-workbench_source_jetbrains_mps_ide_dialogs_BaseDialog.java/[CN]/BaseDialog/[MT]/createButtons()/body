{
  Map<Integer,Method> buttonMethods=getButtonMethods();
  List<JButton> result=new ArrayList<JButton>();
  for (int i=0; i < buttonMethods.keySet().size(); i++) {
    if (!buttonMethods.containsKey(i))     throw new RuntimeException("BaseDialog doesn't contain button with index " + i);
    final Button b=buttonMethods.get(i).getAnnotation(Button.class);
    final Method m=buttonMethods.get(i);
    int mnemonic=-1;
    String name=b.name();
    if (b.mnemonic() != Button.VOID_MNEMONIC_CHAR) {
      mnemonic=b.mnemonic();
    }
 else     if (b.name().contains("" + Button.VOID_MNEMONIC_CHAR)) {
      int index=b.name().indexOf(Button.VOID_MNEMONIC_CHAR);
      mnemonic=b.name().charAt(index + 1);
      name=name.replaceAll("_","");
    }
    final int mnemonicFin=mnemonic;
    JButton button=new JButton(new AbstractAction(name){
{
        if (mnemonicFin != -1) {
          putValue(Action.MNEMONIC_KEY,new Integer(mnemonicFin));
        }
      }
      public void actionPerformed(      ActionEvent e){
        try {
          m.setAccessible(true);
          m.invoke(BaseDialog.this);
        }
 catch (        IllegalAccessException e1) {
          LOG.error(e1);
        }
catch (        InvocationTargetException e1) {
          LOG.error(e1);
        }
      }
    }
);
    if (b.defaultButton()) {
      setDefaultButton(button);
    }
    result.add(button);
  }
  return result.toArray(new JButton[result.size()]);
}
