{
  MapSequence.fromMap(myDfsState).put(node,DURING);
  BiconnectedComponent nextComponent=component;
  if (from != null) {
    int lowNum=MapSequence.fromMap(myNum).get(MapSequence.fromMap(myLow).get(node));
    Node source=from.getOpposite(node);
    int sourceNum=MapSequence.fromMap(myNum).get(source);
    if (lowNum < sourceNum) {
      component.addNode(node);
    }
 else     if (lowNum == sourceNum) {
      nextComponent=new BiconnectedComponent();
      nextComponent.addNode(source);
      nextComponent.addNode(node);
      component.addComponent(nextComponent,source);
    }
 else {
      nextComponent=new BiconnectedComponent();
      nextComponent.addNode(node);
      component.addComponent(nextComponent,from);
    }
  }
 else {
    component.addNode(node);
  }
  for (  Edge edge : ListSequence.fromList(node.getEdges())) {
    Node next=edge.getOpposite(node);
    if (MapSequence.fromMap(myDfsState).get(next) == BEFORE) {
      dfs(next,edge,nextComponent);
    }
  }
}
