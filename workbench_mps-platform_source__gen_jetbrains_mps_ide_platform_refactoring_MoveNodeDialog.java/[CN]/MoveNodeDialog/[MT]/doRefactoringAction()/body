{
  final Object selectedObject=myChooser.getSelectedObject();
  if (!(selectedObject instanceof SNode)) {
    JOptionPane.showMessageDialog(myChooser.getComponent(),"Choose node","Node can't be moved",JOptionPane.INFORMATION_MESSAGE);
    return;
  }
  final Wrappers._boolean doRefactoring=new Wrappers._boolean(false);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (myNodeFilter == null || myNodeFilter.checkForObject(((SNode)selectedObject),myNodeToMove,myNodeToMove.getModel().getModelDescriptor(),myChooser.getComponent())) {
        mySelectedObject=((SNode)selectedObject);
        doRefactoring.value=true;
      }
    }
  }
);
  if (doRefactoring.value) {
    super.doRefactoringAction();
  }
}
