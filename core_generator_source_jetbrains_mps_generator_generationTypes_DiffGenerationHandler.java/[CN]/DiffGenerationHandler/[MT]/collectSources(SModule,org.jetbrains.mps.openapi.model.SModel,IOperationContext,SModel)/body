{
  String outputDir=((IModule)module).getOutputFor(inputModel);
  myLastOutputDir=new File(context.getModule().getGeneratorOutputPath());
  myOutputModelToPath.put(outputModel,outputDir);
  myOutputModelRefToPath.put((SModelReference)outputModel.getReference(),outputDir);
  List<String> roots=new ArrayList<String>();
  myOutputModelRefToRoots.put((SModelReference)outputModel.getReference(),roots);
  Condition<SNode> cond=new Condition<SNode>(){
    public boolean met(    SNode node){
      return node.getName() != null;
    }
  }
;
  Iterable<SNode> iterable=new ConditionalIterable<SNode>(outputModel.getRootNodes(),cond);
  for (  SNode outputRoot : iterable) {
    roots.add(getKey((SModelReference)outputModel.getReference(),outputRoot));
  }
  return super.collectSources(module,inputModel,context,outputModel);
}
