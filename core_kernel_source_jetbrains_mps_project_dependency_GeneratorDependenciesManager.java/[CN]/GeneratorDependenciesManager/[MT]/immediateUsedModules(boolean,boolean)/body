{
  Set<IModule> result=super.immediateUsedModules(includeNonReexport,runtimes);
  HashSet<Language> lang=new HashSet<Language>();
  myModule.getSourceLanguage().getDependenciesManager().collectAllExtendedLanguages(lang);
  if (includeNonReexport) {
    result.addAll(lang);
    for (    ModuleReference refGenerator : myModule.getReferencedGeneratorUIDs()) {
      IModule gm=ModuleRepositoryFacade.getInstance().getModule(refGenerator);
      if (gm == null)       continue;
      result.add(gm);
    }
  }
  return result;
}
