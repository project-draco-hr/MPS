{
  if (myConceptName != null && myConceptId != null) {
    return;
  }
  if (myConceptId == null) {
    String langName=NameUtil.namespaceFromConceptFQName(myConceptName);
    SLanguageAdapter lang=new SLanguageAdapter(langName);
    SNode concept=lang.getSourceModule().findConceptDeclaration(NameUtil.shortNameFromLongName(myConceptName));
    myConceptId=new SConceptId(lang.getId(),MetaIdByDeclaration.getNodeId((jetbrains.mps.smodel.SNode)concept));
  }
 else {
    Language lang=new SLanguageAdapter(myConceptId.getLanguageId()).getSourceModule();
    if (lang != null) {
      myConceptName=NameUtil.nodeFQName(LanguageAspect.STRUCTURE.get(lang).getNode(new SNodeId.Regular(myConceptId.getConceptId())));
    }
 else {
      myConceptName=IdUtil.getConceptFqName(myConceptId);
    }
  }
synchronized (ourNames) {
    ourNames.put(myConceptId,myConceptName);
  }
}
