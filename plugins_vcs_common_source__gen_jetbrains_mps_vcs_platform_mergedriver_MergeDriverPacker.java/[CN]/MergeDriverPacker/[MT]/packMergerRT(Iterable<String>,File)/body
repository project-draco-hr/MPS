{
  Map<String,File> files=MapSequence.fromMap(new LinkedHashMap<String,File>(16,(float)0.75,false));
  for (  String basePath : classpathDirs) {
    File baseDir=new File(basePath);
    Queue<String> pathQueue=QueueSequence.fromQueueAndArray(new LinkedList<String>(),baseDir.list());
    while (QueueSequence.fromQueue(pathQueue).isNotEmpty()) {
      String path=QueueSequence.fromQueue(pathQueue).removeFirstElement();
      File f=new File(baseDir,path);
      if (f.isDirectory()) {
        for (        String child : f.list()) {
          QueueSequence.fromQueue(pathQueue).addLastElement(path + "/" + child);
        }
      }
 else       if (path.endsWith(".class")) {
        MapSequence.fromMap(files).put(path,f);
      }
    }
  }
  if (MapSequence.fromMap(files).isNotEmpty()) {
    FileUtil.zip(files,to);
  }
}
