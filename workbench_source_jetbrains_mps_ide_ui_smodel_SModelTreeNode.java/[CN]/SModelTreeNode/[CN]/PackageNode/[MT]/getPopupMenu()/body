{
  JPopupMenu menu=new JPopupMenu();
  ActionContext context=getActionContext();
  CreateRootNodeGroup cg=new CreateRootNodeGroup(getPackage());
  cg.doUpdate(context);
  cg.add(menu,context);
  menu.addSeparator();
  menu.add(new AbstractActionWithEmptyIcon("Rename"){
    public void actionPerformed(    ActionEvent e){
      Frame frame=SModelTreeNode.this.getOperationContext().getMainFrame();
      final String newName=JOptionPane.showInputDialog(frame,"Enter New Package Name",myName);
      if (newName != null) {
        ModelAccess.instance().runWriteActionInCommand(new Runnable(){
          public void run(){
            for (            SNode n : getNodesUnderPackage()) {
              String oldPackage=n.getProperty(PACK);
              String newPack=newName + oldPackage.substring(myName.length());
              if (newPack.length() > 0) {
                n.setProperty(PACK,newPack);
              }
 else {
                n.setProperty(PACK,null);
              }
            }
          }
        }
);
      }
    }
  }
);
  return menu;
}
