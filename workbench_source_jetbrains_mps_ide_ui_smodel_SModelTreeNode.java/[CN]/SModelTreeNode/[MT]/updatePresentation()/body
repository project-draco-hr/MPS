{
  ModelCheckResult r=getModelCheckResult();
  if (r != null && r.hasErrors()) {
    setColor(Color.RED);
  }
 else {
    SModelDescriptor sm=getSModelDescriptor();
    if (sm != null && sm.isInitialized() && SModelRepository.getInstance().isChanged(sm)) {
      setColor(new Color(0x00,0x00,0x90));
    }
 else {
      setColor(Color.BLACK);
    }
  }
  if (getSModelDescriptor() != null) {
    setIcon(IconManager.getIconFor(getSModelDescriptor()));
  }
 else {
    setIcon(Icons.MODEL_ICON);
  }
  if (myGenerationRequired) {
    setAdditionalText("generation required");
  }
 else {
    setAdditionalText(null);
  }
  if (myModelDescriptor != null) {
    setNodeIdentifier(myModelDescriptor.toString());
  }
 else {
    setNodeIdentifier("");
  }
  if (myModelDescriptor.isInitialized()) {
    setErrorState(!isValid(getSModelDescriptor()));
  }
  setText(calculateText());
}
