{
  try {
    DumbService.getInstance(myProject).runWhenSmart(new Runnable(){
      @Override public void run(){
        fireStartingAction(myAction);
        AnActionEvent event=new AnActionEvent(null,DataManager.getInstance().getDataContext(myComponent),ActionPlaces.UNKNOWN,myAction.getTemplatePresentation(),ActionManager.getInstance(),0);
        boolean success=false;
        try {
          myAction.update(event);
          if (myAction.getTemplatePresentation().isEnabled()) {
            myAction.actionPerformed(event);
            success=true;
          }
        }
 catch (        Exception e) {
          LOG.error(null,e);
        }
 finally {
          if (success) {
            fireFinishedAction(myAction);
          }
 else {
            fireFailedAction(myAction);
          }
        }
      }
    }
);
  }
  finally {
    myLatch.countDown();
  }
}
