{
  if (myModelName.getText().length() == 0) {
    setErrorText("Empty model's name isn't allowed");
    return;
  }
  if (SModelRepository.getInstance().getModelDescriptor(SModelUID.fromString(myModelName.getText())) != null) {
    setErrorText("Model with a name " + myModelName.getText() + " is already exists");
    return;
  }
  ModelRootWrapper wrapper=(ModelRootWrapper)myModelRoots.getSelectedItem();
  if (!myModelName.getText().startsWith(wrapper.myModelRoot.getPrefix())) {
    setErrorText("Model name should have a prefix " + wrapper.myModelRoot.getPrefix());
    return;
  }
  SModelDescriptor model=myContext.getModule().createModel(SModelUID.fromString(myModelName.getText()),wrapper.myModelRoot);
  new ModelPropertiesDialog(model,myContext).showDialog();
  dispose();
}
