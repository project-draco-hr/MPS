{
  if (myLanguageSettings == null) {
    myLanguageSettings=new NewLanguageSettings(myProject != null ? (!ProjectUtil.isDirectoryBased(ProjectHelper.toIdeaProject(myProject)) ? myProject.getProjectFile().getParentFile().getAbsolutePath() : myProject.getProjectFile().getAbsolutePath()) : null);
    myLanguageSettings.setListener(new NewLanguageSettings.LangSettingsChangedListener(){
      @Override public void changed(){
        NewLanguageDialog.this.check();
      }
    }
);
  }
  return myLanguageSettings;
}
