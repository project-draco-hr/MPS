{
  super(new GridLayoutManager(3,1,new Insets(0,5,5,5),-1,-1));
  myProjectPath=projectPath;
  this.add(new JLabel("Solution name:"),Util.getGridConstraints(0));
  mySolutionName=new JTextField();
  mySolutionName.setName("Name");
  mySolutionName.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent p0){
      if ((myProjectPath == null || myProjectPath.length() == 0)) {
        return;
      }
      String path=myProjectPath + File.separator + "solutions"+ File.separator;
      final String solutionName=getSolutionName();
      if (!(Comparing.strEqual(solutionName,getSolutionLocation()))) {
        path+=solutionName;
      }
      if (!(mySolutionLocationChangedByUser)) {
        setSolutionLocation(path);
      }
    }
  }
);
  this.add(mySolutionName,Util.getGridConstraints(1));
  mySolutionLocation=new JTextField();
  mySolutionLocation.setName("Path");
  mySolutionLocation.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent p0){
      if (mySolutionLocationDocListenerEnabled) {
        mySolutionLocationChangedByUser=true;
      }
    }
  }
);
  final FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFolderDescriptor();
  InsertPathAction.addTo(mySolutionLocation,descriptor);
  BrowseFilesListener listener=new BrowseFilesListener(mySolutionLocation,"Choose Solution Location Folder","",descriptor);
  FieldPanel fieldPanel=new FieldPanel(mySolutionLocation,"Solution location:",null,listener,EmptyRunnable.getInstance());
  FileChooserFactory.getInstance().installFileCompletion(fieldPanel.getTextField(),descriptor,false,null);
  this.add(fieldPanel,Util.getGridConstraints(2));
  this.setPreferredSize(new Dimension(400,100));
  reset();
}
