{
  if (ruleNode != null) {
    if (myFailedRules.contains(ruleNode)) {
      myErrorsCount++;
      return;
    }
    myFailedRules.add(ruleNode);
  }
  error((templateNode != null ? templateNode : ruleNode),message);
  if (inputNode != null) {
    report(MessageKind.ERROR,"-- was input node: " + inputNode.getDebugText(),myOperationContext != null ? new NodeWithContext(inputNode,myOperationContext) : inputNode);
  }
  if (ruleNode != null) {
    report(MessageKind.ERROR,"-- was rule: " + ruleNode.getDebugText(),myOperationContext != null ? new NodeWithContext(ruleNode,myOperationContext) : ruleNode);
  }
  if (templateNode != null) {
    report(MessageKind.ERROR,"-- was template: " + templateNode.getDebugText(),myOperationContext != null ? new NodeWithContext(templateNode,myOperationContext) : templateNode);
  }
}
