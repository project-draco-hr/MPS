{
  Collection<VirtualFile> filesCollection=vcsContext.getSelectedFilesCollection();
  List<SModelDescriptor> modelsToGenerate=new ArrayList<SModelDescriptor>();
  for (  VirtualFile f : filesCollection) {
    if (f.exists() && !f.isDirectory()) {
      SModelDescriptor model=SModelRepository.getInstance().findModel(VirtualFileUtils.toIFile(f));
      if (model != null) {
        modelsToGenerate.add(model);
      }
    }
  }
  return modelsToGenerate;
}
