{
  String jdkHome=Java_Command.getJdkHome();
  if (StringUtils.isEmpty(jdkHome)) {
    throw new ExecutionException("Could not find valid java home.");
  }
  return new Java_Command().createProcess(new ListCommandPart(ListSequence.fromListAndArray(new ArrayList(),new PropertyCommandPart("java.home",jdkHome),new PropertyCommandPart("ant.home",myAntLocation),new ListCommandPart(Sequence.fromIterable(Ant_Command.getMacroValues()).toListSequence()),((StringUtils.isNotEmpty(myOptions) ? myOptions + " " : "")),new KeyValueCommandPart("-" + "f",new File(antFilePath)),((StringUtils.isEmpty(myTargetName) ? "" : " " + myTargetName)))),"org.apache.tools.ant.launch.Launcher",Ant_Command.getAntClassPath(myAntLocation));
}
