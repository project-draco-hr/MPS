{
synchronized (LOCK) {
    if (!myBatchStarted) {
      return Collections.emptyList();
    }
    List<SRepositoryEvent> result=new ArrayList<>(myEvents);
    myEvents.clear();
    return result;
  }
}
