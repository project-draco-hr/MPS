{
  final SNode feature=_context.getReferenceNode();
  final boolean isGeneric=SNodeOperations.isInstanceOf(feature,"jetbrains.mps.ypath.structure.IGenericFeature");
  return new SimpleSearchScope(ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.getParent(feature,null,false,false),"features",true)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return it != feature && ((isGeneric ? SNodeOperations.isInstanceOf(it,"jetbrains.mps.ypath.structure.IGenericFeature") : !(SNodeOperations.isInstanceOf(it,"jetbrains.mps.ypath.structure.IGenericFeature"))));
    }
  }
).toListSequence());
}
