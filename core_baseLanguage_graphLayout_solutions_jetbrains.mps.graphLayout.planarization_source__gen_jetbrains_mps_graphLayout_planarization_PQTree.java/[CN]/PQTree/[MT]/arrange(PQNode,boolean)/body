{
  if (!(MapSequence.fromMap(myNumFullLeaves).containsKey(node)) || MapSequence.fromMap(myNumFullLeaves).get(node) == 0) {
    node.setState(PQNode.State.EMPTY);
    return node;
  }
  List<PQNode> children=node.getChildren();
  ListIterator<PQNode> childItr=children.listIterator();
  while (childItr.hasNext()) {
    PQNode child=childItr.next();
    PQNode newChild=arrange(child,false);
    if (newChild == null) {
      return null;
    }
    childItr.set(newChild);
  }
  return node.makeReduction(isRealPertinentRoot);
}
