{
  if (!isVisible()) {
    throw new IllegalStateException("NodeSubstituteChooser is not visible");
  }
  if (isMenuEmpty()) {
    return 0;
  }
  return mySubstituteActions.size();
}
