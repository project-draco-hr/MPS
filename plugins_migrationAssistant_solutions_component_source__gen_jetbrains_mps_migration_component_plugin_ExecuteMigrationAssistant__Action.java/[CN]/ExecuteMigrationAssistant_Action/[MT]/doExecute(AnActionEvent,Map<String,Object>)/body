{
  final Iterable<SModule> allModules=MigrationsUtil.getMigrateableModulesFromProject(((MPSProject)MapSequence.fromMap(_params).get("mpsProject")));
  final Wrappers._boolean migrationRequired=new Wrappers._boolean();
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      MigrationTrigger.updateUsedLanguagesVersions(allModules);
      migrationRequired.value=MigrationComponent.isMigrationRequired(((MPSProject)MapSequence.fromMap(_params).get("mpsProject")),allModules);
    }
  }
);
  if (!(migrationRequired.value)) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        Messages.showMessageDialog(((Project)MapSequence.fromMap(_params).get("project")),"None of the modules in project require migration.\n" + "Migration assistant will not be started.","Migration not required",null);
      }
    }
);
    return;
  }
  MigrationTrigger mt=((MigrationTrigger)((Project)MapSequence.fromMap(_params).get("project")).getComponent(IStartupMigrationExecutor.class));
  mt.postponeMigration();
}
