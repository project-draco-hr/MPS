{
  final UsagesView view=new UsagesView(ProjectHelper.toMPSProject(getProject()),myDefaultViewOptions,myChangeTracker);
  ArrayList<AnAction> actions=new ArrayList<AnAction>();
  if (searchTask != null) {
    final RerunAction rerunAction=new RerunAction(view,"Run again");
    rerunAction.setRunOptions(searchTask);
    actions.add(rerunAction);
  }
  actions.add(new RebuildAction(view));
  actions.add(new AnAction("Close","",Actions.Cancel){
    @Override public void actionPerformed(    @NotNull AnActionEvent e){
      int i=0;
      for (      UsageViewData vd : myUsageViewsData) {
        if (vd.myUsagesView == view) {
          UsagesViewTool.this.closeTab(i);
          break;
        }
        i++;
      }
    }
  }
);
  actions.add(new PinToolwindowTabAction());
  if (ActionManager.getInstance().getAction(MPSActions.FIND_USAGES_WITH_DIALOG_ACTION) != null && searchTask != null) {
    actions.add(new FindUsagesWithDialogAction(searchTask));
  }
  view.setActions(actions);
  return view;
}
