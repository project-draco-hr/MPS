{
  TreePath[] paths=myTree.getSelectionPaths();
  if (paths == null || paths.length == 0) {
    return;
  }
  DependencyViewerScope scope=new DependencyViewerScope(getProject().getRepository());
  for (  TreePath path : paths) {
    MPSTreeNode node=(MPSTreeNode)path.getLastPathComponent();
    Object userObject=node.getUserObject();
    if (userObject instanceof DataNode) {
      BaseNodeData data=((DataNode)userObject).getData();
      if (data instanceof ModelNodeData) {
        scope.add(((ModelNodeData)data).getModelReference());
      }
      if (data instanceof ModuleNodeData) {
        scope.add(((ModuleNodeData)data).getModuleReference());
      }
      if (data instanceof NodeNodeData) {
        scope.add(((NodeNodeData)data).getNodePointer());
      }
    }
  }
  myDependenciesComponent.updateReferencesView(scope);
}
