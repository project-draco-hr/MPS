{
  final Wrappers._T<SNode> layout=new Wrappers._T<SNode>();
  final Wrappers._boolean isApplicable=new Wrappers._boolean();
  final Wrappers._T<String> configurationId=new Wrappers._T<String>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      layout.value=SNodeOperations.getAncestor(parameter,"jetbrains.mps.build.packaging.structure.MPSLayout",false,true);
      isApplicable.value=(layout.value != null) && ListSequence.fromList(SNodeOperations.getDescendants(layout.value,"jetbrains.mps.build.packaging.structure.INotBuildableComponent",false,new String[]{})).isEmpty();
      configurationId.value=parameter.getId();
    }
  }
);
  if (!(isApplicable.value)) {
    return;
  }
  DefaultPackagingLanguageConfigurationFromConfiguration.this.setSourceElement(new MPSPsiElement(parameter));
{
    PackagingConfigurationType_ConfigurationType configType=ContainerUtil.findInstance(Extensions.getExtensions(PackagingConfigurationType_ConfigurationType.CONFIGURATION_TYPE_EP),PackagingConfigurationType_ConfigurationType.class);
    DefaultPackagingLanguageApplication_Configuration _config=new DefaultPackagingLanguageApplication_Configuration(DefaultPackagingLanguageConfigurationFromConfiguration.this.getContext().getProject(),configType.getConfigurationFactories()[0],"NewConfig");
    _config.setName(SPropertyOperations.getString(layout.value,"name") + "." + SPropertyOperations.getString(parameter,"name"));
    _config.getStateObject().nodeId=layout.value.getId();
    _config.getStateObject().modelId=layout.value.getModel().getModelDescriptor().getSModelReference().toString();
    _config.getStateObject().configurationId=configurationId.value;
    DefaultPackagingLanguageConfigurationFromConfiguration.this.myConfig=_config;
  }
}
