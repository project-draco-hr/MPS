{
  try {
    String header=new String(xmlContent,0,1024,"UTF-8");
    Matcher matcher=Pattern.compile("<" + ModelPersistence.PERSISTENCE + "\\s+"+ ModelPersistence.PERSISTENCE_VERSION+ "=\"\\d+\"").matcher(header);
    if (matcher.find()) {
      int end=matcher.end();
      for (      String possibleEnd : ListSequence.fromList(Arrays.asList("</" + ModelPersistence.PERSISTENCE + ">","/>"))) {
        int indexOf=header.indexOf(possibleEnd,end + 1);
        if (indexOf != -1) {
          header=header.substring(0,indexOf + possibleEnd.length()) + System.getProperty("line.separator");
          return header.getBytes("UTF-8");
        }
      }
    }
  }
 catch (  UnsupportedEncodingException e) {
    throw new AssertionError(UTF_PANIC_MESSAGE);
  }
  return new byte[0];
}
