{
  if (dependency == null) {
    return;
  }
  Set<SNode> errorNodes=MapSequence.<SNode,Set<SNode>>fromMap(myDependenciesToNodes).get(dependency);
  if (errorNodes == null) {
    errorNodes=new THashSet<SNode>(1);
    MapSequence.<SNode,Set<SNode>>fromMap(myDependenciesToNodes).put(dependency,errorNodes);
  }
  SetSequence.fromSet(errorNodes).addElement(currentNode);
  Set<SNode> additional=MapSequence.<SNode,Set<SNode>>fromMap(myNodesToDependecies).get(currentNode);
  if (additional == null) {
    additional=new THashSet<SNode>(1);
    MapSequence.<SNode,Set<SNode>>fromMap(myNodesToDependecies).put(currentNode,additional);
  }
  SetSequence.fromSet(additional).addElement(dependency);
  addModelListener(SNodeOperations.getModel(dependency).getModelDescriptor());
}
