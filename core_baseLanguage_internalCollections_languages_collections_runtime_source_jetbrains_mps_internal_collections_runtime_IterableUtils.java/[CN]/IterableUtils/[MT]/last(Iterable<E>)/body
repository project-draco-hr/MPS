{
  E last=null;
  boolean hasLast=false;
  Iterator<E> it=seq.iterator();
  if (Sequence.NULL_WHEN_EMPTY) {
    if (!it.hasNext()) {
      return null;
    }
  }
  while (it.hasNext()) {
    last=it.next();
    hasLast=true;
  }
  if (hasLast) {
    return last;
  }
  throw new NoSuchElementException("Empty iterator");
}
