{
  MPSFavoritesManager favoritesManager=((Project)MapSequence.fromMap(_params).get("project")).getComponent(MPSFavoritesManager.class);
  if (favoritesManager == null) {
    return;
  }
  List<Object> toMove=AddToFavorites_Action.this.getObjects(_params);
  FavoritesProjectPane pane=FavoritesUtil.getCurrentPane(((Project)MapSequence.fromMap(_params).get("project")));
  if (pane != null) {
    favoritesManager.removeRoots(pane.getSubId(),toMove);
  }
  favoritesManager.addRoots(AddToFavorites_Action.this.name,toMove);
}
