{
  if (isExcluded(m)) {
    return true;
  }
  if (myClassesUpToDateStatus.containsKey(m)) {
    return myClassesUpToDateStatus.get(m);
  }
  if (!m.isCompileInMPS()) {
    myClassesUpToDateStatus.put(m,true);
    return true;
  }
  File classesGen=m.getClassesGen().toFile();
  long classesTimeStamp=FileUtil.getNewestFileTime(classesGen);
  long sourcesTimeStamp=0;
  for (  String s : m.getSourcePaths()) {
    if (s == null)     continue;
    sourcesTimeStamp=Math.max(sourcesTimeStamp,FileUtil.getNewestFileTime(new File(s)));
  }
  if (sourcesTimeStamp == 0) {
    return true;
  }
  boolean result=classesTimeStamp >= sourcesTimeStamp;
  if (result) {
    for (    String s : m.getSourcePaths()) {
      result=areAllClassesPresent(new File(s),classesGen,JAVA_SUFFIX,CLASS_SUFFIX);
    }
  }
  myClassesUpToDateStatus.put(m,result);
  return result;
}
