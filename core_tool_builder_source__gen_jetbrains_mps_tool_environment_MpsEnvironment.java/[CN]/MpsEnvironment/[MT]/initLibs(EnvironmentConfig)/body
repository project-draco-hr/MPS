{
  final Set<LibraryContributor> libContribs=SetSequence.fromSet(new LinkedHashSet<LibraryContributor>());
  SetSequence.fromSet(libContribs).addSequence(Sequence.fromIterable(createLibContributors(config)));
  SetSequence.fromSet(libContribs).addElement(EnvironmentUtils.createPluginLibContributor(config));
  for (  LibraryContributor libContrib : SetSequence.fromSet(libContribs)) {
    LibraryInitializer.getInstance().addContributor(libContrib);
  }
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      LibraryInitializer.getInstance().update();
    }
  }
);
  return libContribs;
}
