{
  myChanged=false;
  SModel model=root.getModel();
  if (model == null) {
    return Collections.emptySet();
  }
  Set<EditorMessage> result=new HashSet<EditorMessage>();
  for (  Problem p : model.getProblems()) {
    SNode node=p.getNode();
    if (node == null)     continue;
    Color color=p.isError() ? new Color(ColorConstants.ERROR) : (StyleRegistry.getInstance().isDarkTheme() ? new Color(ColorConstants.WARNING_DARK) : new Color(ColorConstants.WARNING));
    result.add(new ModelProblemMessage(node,p.isError() ? MessageStatus.ERROR : MessageStatus.WARNING,color,p.getText(),this));
  }
  return result;
}
