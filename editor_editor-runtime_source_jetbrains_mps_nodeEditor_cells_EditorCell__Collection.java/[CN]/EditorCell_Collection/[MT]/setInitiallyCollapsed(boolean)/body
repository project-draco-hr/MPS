{
  if (myInitiallyCollapsed == collapsed) {
    return;
  }
  myInitiallyCollapsed=collapsed;
  if (isDefaultCollapsedValueChanged()) {
    myCollapsed=null;
    if (isInTree()) {
      getEditor().resetCollapseState(this);
    }
  }
 else {
    if (isInTree()) {
      requestRelayout();
      collapsedStateChanged();
    }
  }
}
