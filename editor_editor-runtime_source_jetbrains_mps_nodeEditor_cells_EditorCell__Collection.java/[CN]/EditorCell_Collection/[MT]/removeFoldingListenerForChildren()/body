{
  Queue<jetbrains.mps.openapi.editor.cells.EditorCell> children=new LinkedList<jetbrains.mps.openapi.editor.cells.EditorCell>(getEditorCells());
  while (!children.isEmpty()) {
    jetbrains.mps.openapi.editor.cells.EditorCell child=children.poll();
    if (!(child instanceof EditorCell_Collection)) {
      continue;
    }
    EditorCell_Collection childCollection=(EditorCell_Collection)child;
    if (childCollection.isFolded()) {
      childCollection.removeUnfoldingListener();
    }
 else {
      children.addAll(childCollection.getEditorCells());
    }
  }
}
