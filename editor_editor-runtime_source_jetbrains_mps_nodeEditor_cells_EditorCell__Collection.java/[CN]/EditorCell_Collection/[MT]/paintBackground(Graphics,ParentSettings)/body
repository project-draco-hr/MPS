{
  if (!parentSettings.isSkipBackground()) {
    if (getCellBackgroundColor() != null) {
      g.setColor(getCellBackgroundColor());
      List<Rectangle> selection=myCellLayout.getSelectionBounds(this);
      for (      Rectangle part : selection) {
        g.fillRect(part.x,part.y,part.width,part.height);
      }
    }
  }
  boolean hasMessages=false;
  List<EditorMessage> messages=getMessages();
  for (  EditorMessage message : messages) {
    if (message != null && message.isBackground()) {
      message.paint(g,getEditor(),this);
      hasMessages=true;
    }
  }
  return ParentSettings.createBackgroundlessSetting(hasMessages).combineWith(parentSettings);
}
