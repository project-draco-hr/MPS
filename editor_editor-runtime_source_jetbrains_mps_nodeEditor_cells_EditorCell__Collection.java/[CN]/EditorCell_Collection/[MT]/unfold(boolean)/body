{
  if (!isFolded())   return;
  getEditor().setFolded(this,false);
  setFolded(false);
  if (!isUnderFolded()) {
    removeUnfoldingListener();
    addUnfoldingListenerForChildren();
  }
  adjustSelectionToFoldingState(getEditor());
  if (!programmaticaly) {
    getEditorContext().flushEvents();
    getEditor().relayout();
  }
}
