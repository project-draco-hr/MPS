{
  ParentSettings settings=isSelectionPaintedOnAncestor(parentSettings);
  if (!settings.isSelectionPainted()) {
    settings=(paintBackground(g,parentSettings));
  }
  paintSelectionIfRequired(g,parentSettings);
  paintContent(g,parentSettings);
  for (  EditorCell child : this) {
    if (g.hitClip(child.getX(),child.getY(),child.getWidth(),child.getHeight())) {
      ((jetbrains.mps.nodeEditor.cells.EditorCell)child).paint(g,settings);
    }
  }
  paintDecorations(g);
}
