{
  List<ThreadReference> threads=getEventsProcessor().getVirtualMachine().allThreads();
  ThreadReference thread=myContext.getThread();
  if (thread != null) {
    return threads.indexOf(thread);
  }
  for (  ThreadReference t : threads) {
    if (!(t.threadGroup().name().equals("system"))) {
      return threads.indexOf(t);
    }
  }
  return 0;
}
