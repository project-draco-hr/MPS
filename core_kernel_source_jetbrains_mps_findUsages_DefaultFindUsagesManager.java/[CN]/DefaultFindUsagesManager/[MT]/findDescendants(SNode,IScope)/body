{
  LOG.assertCanRead();
  Map<SModelDescriptor,Set<SNode>> knownDescendantsInModelDescriptors=myConceptsToKnownDescendantsInModelDescriptors.get(node);
  if (knownDescendantsInModelDescriptors == null) {
    knownDescendantsInModelDescriptors=new HashMap<SModelDescriptor,Set<SNode>>();
    myConceptsToKnownDescendantsInModelDescriptors.put(node,knownDescendantsInModelDescriptors);
  }
  Set<SNode> result=new HashSet<SNode>();
  for (  SModelDescriptor model : scope.getModelDescriptors()) {
    if (SModelStereotype.isStubModelStereotype(model.getStereotype()))     continue;
    Set<SNode> descendantsKnownInModel=knownDescendantsInModelDescriptors.get(model);
    if (descendantsKnownInModel == null) {
      descendantsKnownInModel=new HashSet<SNode>();
      knownDescendantsInModelDescriptors.put(model,descendantsKnownInModel);
    }
    result.addAll(new ModelFindOperations(model).findDescendants(node,descendantsKnownInModel));
  }
  return result;
}
