{
  SNode actualPasteTarget;
  NodeAndRole nodeAndRole=defineActualAnchorNode(anchorNode,pasteNode,role,operationContext);
  if (!reallyPaste) {
    return (nodeAndRole != null && nodeAndRole.myNode != null);
  }
  SNode actualAnchorNode=nodeAndRole.myNode;
  String actualRole=nodeAndRole.myRole;
  actualPasteTarget=actualAnchorNode.getParent();
  if (actualPasteTarget == null) {
    return false;
  }
  PasteNodeUtil.pasteToTarget(actualPasteTarget,pasteNode,actualAnchorNode,actualRole,pasteBefore,operationContext);
  return true;
}
