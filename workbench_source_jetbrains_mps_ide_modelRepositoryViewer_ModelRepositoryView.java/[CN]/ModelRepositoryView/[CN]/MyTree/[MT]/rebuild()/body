{
  final TextTreeNode[] root=new TextTreeNode[1];
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      root[0]=new TextTreeNode("Loaded Models"){
{
          setIcon(Icons.PROJECT_MODELS_ICON);
        }
        public JPopupMenu getPopupMenu(){
          JPopupMenu result=new JPopupMenu();
          result.add(new AbstractActionWithEmptyIcon("Refresh"){
            public void actionPerformed(            ActionEvent e){
              myTree.rebuildNow();
            }
          }
);
          return result;
        }
      }
;
      for (      SModelDescriptor modelDescriptor : SortUtil.sortModels(SModelRepository.getInstance().getAllModelDescriptors())) {
        root[0].add(new ModelTreeNode(modelDescriptor));
      }
    }
  }
);
  return root[0];
}
