{
  SNode replacing=SNodeFactoryOperations.replaceWithNewChild(node,"jetbrains.mps.baseLanguage.structure.ArrayCreatorWithInitializer");
  SLinkOperations.setTarget(replacing,"componentType",SLinkOperations.getTarget(node,"componentType",true),true);
  SNode initValues=ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(node,"arrayInitializers",true),"initValue",true)).getElement(0);
  if (SNodeOperations.isInstanceOf(initValues,"jetbrains.mps.baseLanguage.structure.ArrayInitializers")) {
    ListSequence.fromList(SLinkOperations.getTargets(replacing,"initValue",true)).addSequence(ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(initValues,"jetbrains.mps.baseLanguage.structure.ArrayInitializers"),"initValue",true)));
  }
 else {
    ListSequence.fromList(SLinkOperations.getTargets(replacing,"initValue",true)).addSequence(ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(node,"arrayInitializers",true),"initValue",true)));
  }
  editorContext.selectWRTFocusPolicy(replacing);
}
