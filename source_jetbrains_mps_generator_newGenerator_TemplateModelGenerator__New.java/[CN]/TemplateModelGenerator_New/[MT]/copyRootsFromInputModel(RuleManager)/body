{
  List<SNode> rootsToCopy=myInputModel.getRoots();
  for (  SNode rootNode : myRootsNotToCopy) {
    rootsToCopy.remove(rootNode);
  }
  for (  SNode rootNode : myInputModel.getRoots()) {
    List<ConceptDeclaration> abandonedRootConcepts=ruleManager.getAbandonedRootConcepts();
    for (    ConceptDeclaration abandonedRootConcept : abandonedRootConcepts) {
      if (rootNode.isInstanceOfConcept(abandonedRootConcept)) {
        rootsToCopy.remove(rootNode);
      }
    }
  }
  return CopyUtil.copyAndPreserveId(rootsToCopy,null);
}
