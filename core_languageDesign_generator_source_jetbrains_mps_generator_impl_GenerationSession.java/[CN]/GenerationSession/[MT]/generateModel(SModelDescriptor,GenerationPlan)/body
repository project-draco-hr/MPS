{
  if (!checkGenerationPlan(generationPlan)) {
  }
  GenerationStatus status;
  boolean wasErrors=false;
  boolean wasWarnings=false;
  int stepCount=0;
  SModelDescriptor currInputModel=inputModel;
  do {
    addMessage(new Message(MessageKind.INFORMATION,"execute step " + (stepCount + 1)));
    status=generateModel_step(currInputModel.getSModel(),generationPlan.getAdapter(stepCount));
    wasErrors|=status.isError();
    wasWarnings|=status.hasWarnings();
    if (status.isError() || status.isCanceled()) {
      break;
    }
    if (generationPlan.getMappingConfigurations(stepCount).isEmpty()) {
      break;
    }
    if (status.getOutputModel() == null) {
      break;
    }
    currInputModel=status.getOutputModel().getModelDescriptor();
    stepCount++;
  }
 while (stepCount < generationPlan.getStepCount());
  if (mySessionContext != null) {
    mySessionContext.clearTransientObjects();
  }
  return new GenerationStatus(status.getInputModel(),status.getOutputModel(),status.getTraceMap(),wasErrors,wasWarnings,status.isCanceled());
}
