{
  if (myMajorStep != 0) {
    throw new GenerationCanceledException();
  }
  myGenerationPlan=new GenerationPlan(myOriginalInputModel.getSModel());
  if (!checkGenerationPlan(myGenerationPlan)) {
  }
  try {
    SModel currInputModel=myOriginalInputModel.getSModel();
    SModel currOutput=null;
    for (myMajorStep=0; myMajorStep < myGenerationPlan.getStepCount(); myMajorStep++) {
      if (myLogger.needsInfo()) {
        myLogger.info("executing step " + (myMajorStep + 1));
      }
      currOutput=executeMajorStep(currInputModel);
      if (currOutput == null || myLogger.getErrorCount() > 0) {
        break;
      }
      if (myGenerationPlan.getMappingConfigurations(myMajorStep).isEmpty()) {
        break;
      }
      currInputModel=currOutput;
    }
    if (mySessionContext != null) {
      mySessionContext.clearTransientObjects();
    }
    return new GenerationStatus(myOriginalInputModel.getSModel(),currOutput,mySessionContext != null ? mySessionContext.getTraceMap() : null,myLogger.getErrorCount() > 0,myLogger.getWarningCount() > 0,false);
  }
 catch (  GenerationCanceledException gce) {
    throw gce;
  }
catch (  GenerationFailureException gfe) {
    myLogger.error(gfe.getMessage());
    myLogger.error("model \"" + myOriginalInputModel.getSModelFqName() + "\" generation failed : "+ gfe);
    return new GenerationStatus.ERROR(myOriginalInputModel.getSModel());
  }
catch (  Throwable e) {
    myLogger.handleException(e);
    myLogger.error("model \"" + myOriginalInputModel.getSModelFqName() + "\" generation failed : "+ e);
    return new GenerationStatus.ERROR(myOriginalInputModel.getSModel());
  }
}
