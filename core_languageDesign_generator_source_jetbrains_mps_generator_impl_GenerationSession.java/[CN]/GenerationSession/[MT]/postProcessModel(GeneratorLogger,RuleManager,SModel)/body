{
  List<MappingScript> postMappingScripts=mySessionContext.getPostMappingScripts();
  if (!postMappingScripts.isEmpty() && !myDiscardTransients) {
    SModel currentOutputModel_clone=createTransientModel();
    info("clone model '" + currentOutputModel.getSModelFqName() + "' --> '"+ currentOutputModel_clone.getSModelFqName()+ "'");
    CloneUtil.cloneModel(currentOutputModel,currentOutputModel_clone,false);
    mySessionContext.getGenerationTracer().registerPostMappingScripts(currentOutputModel,currentOutputModel_clone,postMappingScripts);
    currentOutputModel=currentOutputModel_clone;
  }
  for (  MappingScript postMappingScript : postMappingScripts) {
    if (postMappingScript.getScriptKind() != MappingScriptKind.post_process_output_model) {
      addMessage(MessageKind.WARNING,"skip script '" + postMappingScript + "' ("+ postMappingScript.getModel().getSModelFqName()+ ") - wrong script kind",postMappingScript.getNode());
      continue;
    }
    addMessage(MessageKind.INFORMATION,"post-process '" + postMappingScript + "' ("+ postMappingScript.getModel().getLongName()+ ")",postMappingScript.getNode());
    ITemplateGenerator templateGenerator=new TemplateGenerator(mySessionContext,myProgressMonitor,logger,ruleManager,currentOutputModel,currentOutputModel);
    QueryExecutor.executeMappingScript(postMappingScript,currentOutputModel,templateGenerator);
  }
  return currentOutputModel;
}
