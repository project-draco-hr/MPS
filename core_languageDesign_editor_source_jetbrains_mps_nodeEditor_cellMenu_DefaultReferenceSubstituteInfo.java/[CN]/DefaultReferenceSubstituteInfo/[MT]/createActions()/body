{
  if (myLinkDeclaration == null) {
    return Collections.emptyList();
  }
  EditorComponent editor=getEditorContext().getNodeEditorComponent();
  EditorCell referenceCell=editor.findNodeCellWithRole(mySourceNode,SModelUtil.getGenuineLinkRole(myLinkDeclaration));
  if (referenceCell != null && referenceCell.getContainingBigCell().getFirstLeaf() == referenceCell && ReferenceConceptUtil.getCharacteristicReference(mySourceNode.getConceptDeclarationNode()) == myLinkDeclaration && mySourceNode.getParent() != null && mySourceNode.getChildren().isEmpty()) {
    SNode parent=mySourceNode.getParent();
    String role=mySourceNode.getRole_();
    LinkDeclaration roleLink=parent.getLinkDeclaration(role);
    return ModelActions.createChildSubstituteActions(parent,mySourceNode,roleLink.getTarget().getNode(),new DefaultChildNodeSetter(roleLink),getOperationContext());
  }
  return ModelActions.createReferentSubstituteActions(mySourceNode,myCurrentReferent,myLinkDeclaration,getOperationContext());
}
