{
  ListPattern currentListPattern=(ListPattern)patternNode.getAttribute();
  ourCurrentListPatterns.push(currentListPattern);
  boolean stillMatches=true;
  for (  SNode node : nodes) {
    boolean matchesNow=matchNodes(node,patternNode,substitution);
    stillMatches=stillMatches && matchesNow;
    if (!stillMatches)     break;
  }
  ListPattern poppedListPattern=ourCurrentListPatterns.pop();
  LOG.assertLog(poppedListPattern == currentListPattern);
  return stillMatches;
}
