{
  for (  List<Edge> list : Sequence.<List<Edge>>fromIterable(MapSequence.fromMap(history).values())) {
    Edge first=ListSequence.<Edge>fromList(list).first();
    if (MapSequence.fromMap(replacedEdges).containsKey(first)) {
      ListSequence.<Edge>fromList(list).setElement(0,MapSequence.<Edge,Edge>fromMap(replacedEdges).get(first));
    }
    if (ListSequence.<Edge>fromList(list).count() > 1) {
      Edge last=ListSequence.<Edge>fromList(list).last();
      if (MapSequence.fromMap(replacedEdges).containsKey(last)) {
        ListSequence.<Edge>fromList(list).setElement(ListSequence.<Edge>fromList(list).count() - 1,MapSequence.<Edge,Edge>fromMap(replacedEdges).get(last));
      }
    }
  }
}
