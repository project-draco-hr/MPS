{
  myContentListener=new ContentManagerAdapter(){
    @Override public void contentRemoved(    ContentManagerEvent event){
      int index=event.getIndex();
      getUsagesView(index).dispose();
      onRemove(index);
    }
  }
;
  myContentManager=getContentManager();
  myContentManager.addContentManagerListener(myContentListener);
  if (forceCloseOnReload()) {
    myClassesListener=new MPSClassesListenerAdapter(){
      @Override public void beforeClassesUnloaded(      Set<? extends ReloadableModuleBase> modules){
        SwingUtilities.invokeLater(new Runnable(){
          @Override public void run(){
            if (getProject().isDisposed())             return;
            myContentManager.removeAllContents(true);
          }
        }
);
      }
    }
;
    ClassLoaderManager.getInstance().addClassesHandler(myClassesListener);
  }
}
