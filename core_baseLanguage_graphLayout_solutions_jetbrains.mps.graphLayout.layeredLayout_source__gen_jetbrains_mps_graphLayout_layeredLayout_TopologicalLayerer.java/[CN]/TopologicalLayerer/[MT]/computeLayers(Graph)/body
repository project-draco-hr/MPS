{
  NodeLayers layers=new NodeLayers(graph);
  Map<Node,Integer> numbering=TopologicalNumbering.number(graph);
  for (  Node node : ListSequence.fromList(graph.getNodes())) {
    layers.set(node,MapSequence.fromMap(numbering).get(node));
  }
  return layers;
}
