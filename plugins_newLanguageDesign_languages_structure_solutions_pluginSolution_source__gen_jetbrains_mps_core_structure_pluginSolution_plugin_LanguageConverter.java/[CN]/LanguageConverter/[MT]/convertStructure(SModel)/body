{
  SNode container=_quotation_createNode_hm9xms_a0a0j(SPropertyOperations.getString(SModelOperations.getModuleStub(structureModel),"name"));
  List<SNode> structureElements=ListSequence.fromList(new ArrayList());
  for (  SNode root : ListSequence.fromList(SModelOperations.getRoots(structureModel,null)).sort(new ISelector<SNode,String>(){
    public String select(    SNode it){
      return (SNodeOperations.isInstanceOf(it,"jetbrains.mps.lang.core.structure.INamedConcept") ? SPropertyOperations.getString(SNodeOperations.cast(it,"jetbrains.mps.lang.core.structure.INamedConcept"),"name") : SPropertyOperations.getString(SNodeOperations.getConceptDeclaration(it),"name"));
    }
  }
,true)) {
    if (SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.structure.structure.ConceptDeclaration")) {
      ListSequence.fromList(structureElements).addElement(convertConcreteConcept((SNode)root));
    }
 else     if (SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.structure.structure.InterfaceConceptDeclaration")) {
      ListSequence.fromList(structureElements).addElement(convertInterfaceConcept((SNode)root));
    }
 else     if (SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.structure.structure.EnumerationDataTypeDeclaration")) {
      ListSequence.fromList(structureElements).addElement(convertEnumeration((SNode)root));
    }
 else {
      if (LOG.isEnabledFor(Level.WARN)) {
        LOG.warn("Strange root in structure model with concept " + BehaviorReflection.invokeVirtual(String.class,SNodeOperations.getConceptDeclaration(root),"virtual_getFqName_1213877404258",new Object[]{}));
      }
    }
  }
  ListSequence.fromList(SNodeOperations.getChildren(container,SLinkOperations.findLinkDeclaration("jetbrains.mps.core.structure.structure.SStructureContainer","structure"))).addSequence(Sequence.fromIterable((Iterable<SNode>)join(structureElements,SConceptOperations.createNewNode("jetbrains.mps.core.structure.structure.SStructureEmptyLine",null))));
  return container;
}
