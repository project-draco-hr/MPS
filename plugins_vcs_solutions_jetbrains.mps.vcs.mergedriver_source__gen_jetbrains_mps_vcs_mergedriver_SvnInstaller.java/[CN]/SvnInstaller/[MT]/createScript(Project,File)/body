{
  File scriptFile=new File(svnDir,"mps-merger." + ((SystemInfo.isWindows ? "bat" : "sh")));
  String[] lines;
  if (SystemInfo.isWindows) {
    lines=new String[]{"@ECHO OFF","SHIFT","SHIFT",String.format("%s --svn %8 %7 %9 %4 %2 %6",MergeDriverMain.getCommandLine())};
  }
 else {
    lines=new String[]{"#/bin/sh",String.format("%s --svn ${10} $9 ${11} $6 $4 $8",MergeDriverMain.getCommandLine())};
  }
  try {
    StringsIO.writeLines(scriptFile,Sequence.fromArray(lines));
    if (SystemInfo.isUnix && !(scriptFile.setExecutable(true))) {
      throw new IOException("can't make script executable");
    }
    return scriptFile.getAbsolutePath();
  }
 catch (  IOException e) {
    Messages.showErrorDialog(project,"Can't create merger script: " + e.getMessage(),"Can't Create Merger Script");
    return null;
  }
}
