{
  if (descriptorFile == null)   return null;
  if (!descriptorFile.isReadOnly()) {
    IFile folderWithClassesGen=isGenerator ? descriptorFile.getParent().getDescendant("generator") : descriptorFile.getParent();
    return folderWithClassesGen.getDescendant("classes_gen");
  }
 else {
    IFile bundleHome=descriptorFile.getBundleHome();
    if (bundleHome == null)     return null;
    String mainPath=bundleHome.getPath().substring(0,bundleHome.getPath().length() - ".jar".length());
    String jarPath=isGenerator ? (mainPath + "-generator.jar") : (mainPath + ".jar");
    return descriptorFile.getFileSystem().getFile(jarPath);
  }
}
