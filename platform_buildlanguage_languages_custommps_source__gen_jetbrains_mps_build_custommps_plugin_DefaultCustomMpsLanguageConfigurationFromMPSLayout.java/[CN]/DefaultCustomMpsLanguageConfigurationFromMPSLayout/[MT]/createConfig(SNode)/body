{
  final Wrappers._boolean isApplicable=new Wrappers._boolean();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      isApplicable.value=ListSequence.fromList(SNodeOperations.getDescendants(parameter,"jetbrains.mps.build.custommps.structure.MPSBuild",false,new String[]{})).isNotEmpty();
    }
  }
);
  if (!(isApplicable.value)) {
    return;
  }
  final Wrappers._T<String> id=new Wrappers._T<String>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      id.value=ListSequence.fromList(SLinkOperations.getTargets(parameter,"configuration",true)).first().getId();
    }
  }
);
  DefaultCustomMpsLanguageConfigurationFromMPSLayout.this.setSourceElement(new MPSPsiElement(parameter));
{
    CustomMPSConfigurationType_ConfigurationType configType=ContainerUtil.findInstance(Extensions.getExtensions(CustomMPSConfigurationType_ConfigurationType.CONFIGURATION_TYPE_EP),CustomMPSConfigurationType_ConfigurationType.class);
    DefaultCustomMpsApplication_Configuration _config=new DefaultCustomMpsApplication_Configuration(DefaultCustomMpsLanguageConfigurationFromMPSLayout.this.getContext().getProject(),findFactory(configType,"DefaultCustomMpsApplication"),"NewConfig");
    _config.setName(SPropertyOperations.getString(parameter,"name"));
    _config.getStateObject().nodeId=parameter.getId();
    _config.getStateObject().modelId=parameter.getModel().getModelDescriptor().getSModelReference().toString();
    _config.getStateObject().configurationId=id.value;
    DefaultCustomMpsLanguageConfigurationFromMPSLayout.this.myConfig=_config;
  }
}
