{
  boolean found=false;
  for (  SNode childNode : ListSequence.fromList(SNodeOperations.getDescendants(node,null,true,new String[]{}))) {
    List<SReference> references=childNode.getReferences();
    for (    SReference ref : ListSequence.fromList(references)) {
      String resolveInfo=ref.getResolveInfo();
      if (ref.getTargetSModelReference().getLongName().equals(modelLongName) && (StringUtils.isNotEmpty(resolveInfo) && resolveInfo.contains(classifierName))) {
        found=true;
        ref.setTargetSModelReference(newModelReference);
        if (ref instanceof StaticReference) {
          ((StaticReference)ref).setTargetNodeId(newNodeToReference.getSNodeId());
        }
      }
    }
  }
  if (found) {
    SNodeOperations.getModel(node).addModelImport(newModelReference,false);
  }
}
