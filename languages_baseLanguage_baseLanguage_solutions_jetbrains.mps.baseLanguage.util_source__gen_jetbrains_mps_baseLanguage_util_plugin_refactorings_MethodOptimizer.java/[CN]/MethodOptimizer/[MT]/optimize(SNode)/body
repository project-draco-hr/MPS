{
  SNode lastStatement=ListSequence.fromList(SLinkOperations.getTargets(body,"statement",true)).last();
  if (SNodeOperations.isInstanceOf(lastStatement,"jetbrains.mps.baseLanguage.structure.ReturnStatement")) {
    SNode lastReturn=SNodeOperations.cast(lastStatement,"jetbrains.mps.baseLanguage.structure.ReturnStatement");
    if ((SNodeOperations.isInstanceOf(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference") && SNodeOperations.isInstanceOf(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference"),"variableDeclaration",false),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"))) {
      optimizeAssignmentFollowedByReturn(body,lastReturn,SNodeOperations.cast(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference"));
    }
    if ((SNodeOperations.isInstanceOf(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference") && SNodeOperations.isInstanceOf(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference"),"variableDeclaration",false),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"))) {
      optimizeVariableFollowedByReturn(body,lastReturn,SNodeOperations.cast(SLinkOperations.getTarget(lastReturn,"expression",true),"jetbrains.mps.baseLanguage.structure.VariableReference"));
    }
  }
}
