{
  for (  Pair<SNode,SNode> pair : myRules.keySet()) {
    if (pair == null) {
      continue;
    }
    Set<T> rules=myRules.get(pair);
    if (rules == null)     continue;
    if (!(SNodeUtil.isInstanceOfConceptDeclaration(pair.o1)))     continue;
    if (!(SNodeUtil.isInstanceOfConceptDeclaration(pair.o2)))     continue;
    SNode parent1=SNodeUtil.getConceptDeclaration_Extends(pair.o1);
    SNode parent2=SNodeUtil.getConceptDeclaration_Extends(pair.o2);
    while (parent1 != null) {
      while (parent2 != null) {
        Set<T> parentRules=myRules.get(new Pair<SNode,SNode>(parent1,parent2));
        if (parentRules != null) {
          rules.addAll(parentRules);
        }
        parent2=SNodeUtil.getConceptDeclaration_Extends(parent2);
      }
      parent1=SNodeUtil.getConceptDeclaration_Extends(parent1);
    }
  }
}
