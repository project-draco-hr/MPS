{
  for (  Pair<String,String> pair : myRules.keySet()) {
    if (pair == null) {
      continue;
    }
    Set<T> rules=myRules.get(pair);
    if (rules == null)     continue;
    if (isInterfaceConcept(pair.o1) || isInterfaceConcept(pair.o2))     continue;
    for (String conceptDeclaration1=pair.o1; conceptDeclaration1 != null; conceptDeclaration1=getSuperConcept(conceptDeclaration1)) {
      for (String conceptDeclaration2=pair.o2; conceptDeclaration2 != null; conceptDeclaration2=getSuperConcept(conceptDeclaration2)) {
        Set<T> parentRules=myRules.get(new Pair<String,String>(conceptDeclaration1,conceptDeclaration2));
        if (parentRules != null) {
          if (conceptDeclaration1 != pair.o1 || conceptDeclaration2 != pair.o2) {
            Set<T> clone;
synchronized (parentRules) {
              clone=new THashSet<T>(parentRules);
            }
            rules.addAll(clone);
          }
        }
      }
    }
  }
}
