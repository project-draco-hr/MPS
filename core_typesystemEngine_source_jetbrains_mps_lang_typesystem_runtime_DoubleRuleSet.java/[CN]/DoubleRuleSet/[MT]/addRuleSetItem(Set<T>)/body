{
  for (  T rule : rules) {
    SNode concept1=SModelUtil.findConceptDeclaration(rule.getApplicableConceptFQName1(),GlobalScope.getInstance());
    SNode concept2=SModelUtil.findConceptDeclaration(rule.getApplicableConceptFQName2(),GlobalScope.getInstance());
    Pair<SNode,SNode> pair=new Pair<SNode,SNode>(concept1,concept2);
    Set<T> existingRules=myRules.get(pair);
    if (existingRules == null) {
      existingRules=new THashSet<T>(1);
      myRules.put(pair,existingRules);
    }
    existingRules.add(rule);
  }
}
