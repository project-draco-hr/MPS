{
  if (event != null) {
    if (!(mySelected) && isSelected) {
      myPalette.setSubstituteInfo(new AbstractNodeSubstituteInfo(myPalette.getDiagramCell().getContext()){
        protected List<SubstituteAction> createActions(){
          return Collections.singletonList(mySubstituteAction);
        }
      }
);
      myPalette.unselectActionWhichWasSelected(this);
    }
 else     if (mySelected && !(isSelected)) {
      myPalette.unselectActionWhichWasSelected();
      myPalette.setSubstituteInfo(null);
    }
  }
  mySelected=isSelected;
}
