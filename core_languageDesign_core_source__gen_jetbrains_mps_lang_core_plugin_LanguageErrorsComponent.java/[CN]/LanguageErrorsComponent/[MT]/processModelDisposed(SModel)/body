{
  SModelDescriptor modelDescriptor=model.getModelDescriptor();
  Set<SNode> errors=MapSequence.fromMap(myAspectModelsToErrorNodes).removeKey(modelDescriptor);
  if (errors != null) {
    for (    SNode errorNode : errors) {
      invalidate(errorNode);
    }
  }
  for (  SNode root : SetSequence.fromSetWithValues(new HashSet<SNode>(),MapSequence.fromMap(myRuleRootsToErrorNodes).keySet())) {
    if (SNodeOperations.getModel(root) == model) {
      Set<SNode> errorNodes=MapSequence.fromMap(myRuleRootsToErrorNodes).removeKey(root);
      for (      SNode errorNode : errorNodes) {
        invalidate(errorNode);
      }
    }
  }
}
