{
  Set<SNode> errorNodes=MapSequence.fromMap(myDependenciesToNodes).get(dependency);
  if (errorNodes == null) {
    errorNodes=SetSequence.fromSet(new HashSet<SNode>());
    MapSequence.fromMap(myDependenciesToNodes).put(dependency,errorNodes);
  }
  SetSequence.fromSet(errorNodes).addElement(currentNode);
  Set<SNode> additional=MapSequence.fromMap(myNodesToDependecies).get(currentNode);
  if (additional == null) {
    additional=SetSequence.fromSet(new HashSet<SNode>());
    MapSequence.fromMap(myNodesToDependecies).put(currentNode,additional);
  }
  SetSequence.fromSet(additional).addElement(dependency);
  addModelListener(SNodeOperations.getModel(dependency).getModelDescriptor());
}
