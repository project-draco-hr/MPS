{
  if (node.getChildren().size() == 0) {
    return;
  }
  for (  DataNode child : node.getChildren()) {
    checkNodeExcluded(child);
  }
  boolean allChildrenExcluded=true;
  for (  DataNode child : node.getChildren()) {
    allChildrenExcluded=allChildrenExcluded && child.getData().isExcluded();
  }
  node.getData().setExcluded(allChildrenExcluded);
}
