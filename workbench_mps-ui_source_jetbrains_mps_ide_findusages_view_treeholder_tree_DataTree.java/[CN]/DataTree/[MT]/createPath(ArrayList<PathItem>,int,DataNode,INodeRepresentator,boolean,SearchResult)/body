{
  DataNode next=null;
  PathItem currentPathItem=path.get(index);
  Object currentIdObject=currentPathItem.getIdObject();
  for (  DataNode child : root.getChildren()) {
    if (currentIdObject instanceof String) {
      if (EqualUtil.equals(currentIdObject,child.getData().getIdObject())) {
        next=child;
      }
    }
 else     if (currentIdObject instanceof Pair && child.getData() instanceof CategoryNodeData) {
      Pair<CategoryKind,String> category=(Pair<CategoryKind,String>)currentIdObject;
      CategoryNodeData data=(CategoryNodeData)child.getData();
      if (data.getCategoryKindName().equals(category.o1.getName()) && EqualUtil.equals(data.getIdObject(),category.o2)) {
        next=child;
      }
    }
 else {
      if (EqualUtil.equals(child.getData().getIdObject(),currentIdObject)) {
        next=child;
      }
    }
  }
  if (next == null) {
    PathItemRole creator=path.get(index).getRole();
    BaseNodeData data=null;
    boolean isResult=index == path.size() - 1;
    if (currentIdObject instanceof SModule) {
      if (result != null && isResult) {
        data=new ModuleNodeData(creator,result,true,nodeRepresentator,results);
      }
 else {
        data=new ModuleNodeData(creator,(SModule)currentIdObject,isResult,results);
      }
    }
 else     if (currentIdObject instanceof SModelReference) {
      if (result != null && isResult) {
        data=new ModelNodeData(creator,result,true,nodeRepresentator,results);
      }
 else {
        data=new ModelNodeData(creator,(SModelReference)currentIdObject,isResult,results);
      }
    }
 else     if (currentIdObject instanceof SNode) {
      if (result != null && isResult) {
        data=new NodeNodeData(creator,result,isResult,nodeRepresentator,results);
      }
 else {
        data=new NodeNodeData(creator,(SNode)currentIdObject,isResult,nodeRepresentator,results);
      }
    }
 else     if (currentIdObject instanceof Pair) {
      Pair<CategoryKind,String> category=(Pair<CategoryKind,String>)currentIdObject;
      data=new CategoryNodeData(creator,category.o1.getName(),category.o2,results,nodeRepresentator);
    }
    next=new DataNode(data);
    root.add(next);
  }
 else {
    adjustNode(next,path,index);
  }
  if (index == path.size() - 1) {
    return next;
  }
 else {
    return createPath(path,index + 1,next,nodeRepresentator,results,result);
  }
}
