{
  int result=super.compareTo(p);
  if (result != 0) {
    return result;
  }
  if ((int)SortedMapSequence.fromMap(myNamesToVars).count() == (int)SortedMapSequence.fromMap(((ScopePositionInfo)p).myNamesToVars).count()) {
    SortedMap<String,VarInfo> vars=myNamesToVars;
    SortedMap<String,VarInfo> theirvars=((ScopePositionInfo)p).myNamesToVars;
    while (SortedMapSequence.fromMap(vars).isNotEmpty()) {
      IMapping<String,VarInfo> first=SortedMapSequence.fromMap(vars).first();
      IMapping<String,VarInfo> theirfirst=SortedMapSequence.fromMap(theirvars).first();
      int compare=compare(first,theirfirst);
      if (compare != 0) {
        return compare;
      }
      vars=SortedMapSequence.fromMap(vars).tailMap(first.key());
      theirvars=SortedMapSequence.fromMap(theirvars).tailMap(theirfirst.key());
    }
    return 0;
  }
  return SortedMapSequence.fromMap(myNamesToVars).count() - SortedMapSequence.fromMap(((ScopePositionInfo)p).myNamesToVars).count();
}
