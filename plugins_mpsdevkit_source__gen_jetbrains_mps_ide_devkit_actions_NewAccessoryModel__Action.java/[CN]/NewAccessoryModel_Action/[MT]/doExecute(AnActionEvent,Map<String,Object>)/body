{
  if (!(((SModule)MapSequence.fromMap(_params).get("module")) instanceof AbstractModule)) {
    return;
  }
  final Language language=((Language)((SModule)MapSequence.fromMap(_params).get("module")));
  NewModelDialog d=new NewModelDialog(((MPSProject)MapSequence.fromMap(_params).get("project")),((AbstractModule)((SModule)MapSequence.fromMap(_params).get("module"))),language.getModuleName(),SModelStereotype.NONE,true);
  d.show();
  final SModel result=d.getResult();
  if (result == null) {
    return;
  }
  ((MPSProject)MapSequence.fromMap(_params).get("project")).getRepository().getModelAccess().executeCommand(new Runnable(){
    public void run(){
      LanguageDescriptor descriptor=language.getModuleDescriptor();
      descriptor.getAccessoryModels().add(result.getReference());
      language.save();
    }
  }
);
}
