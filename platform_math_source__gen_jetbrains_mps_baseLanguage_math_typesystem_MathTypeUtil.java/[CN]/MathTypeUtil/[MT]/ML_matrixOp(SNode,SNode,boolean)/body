{
  SNode eT=join(MathUtil.getUnboxedElementType(t1),MathUtil.getUnboxedElementType(t2));
  boolean v1=SNodeOperations.isInstanceOf(t1,"jetbrains.mps.baseLanguage.math.structure.VectorType");
  boolean v2=SNodeOperations.isInstanceOf(t2,"jetbrains.mps.baseLanguage.math.structure.VectorType");
  if (mul) {
    if (v2) {
      return qVector(SNodeOperations.copyNode(eT));
    }
 else {
      return qMatrix(SNodeOperations.copyNode(eT));
    }
  }
 else {
    if (v1 || v2) {
      return qVector(SNodeOperations.copyNode(eT));
    }
 else {
      return qMatrix(SNodeOperations.copyNode(eT));
    }
  }
}
