{
  if (myState.myIgnoreGeneratedFiles != ignoreGeneratedFiles) {
    myState.myIgnoreGeneratedFiles=ignoreGeneratedFiles;
    ModuleRootListener moduleRootListener=myProject.getMessageBus().asyncPublisher(ProjectTopics.PROJECT_ROOTS);
    moduleRootListener.rootsChanged(new ModuleRootEventImpl(myProject,false));
    VirtualFileManager.getInstance().asyncRefresh(new Runnable(){
      @Override public void run(){
        if (!(myProject.isDisposed())) {
          VcsDirtyScopeManager.getInstance(myProject).markEverythingDirty();
        }
      }
    }
);
  }
}
