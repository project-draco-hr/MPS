{
  myStatusBar=getStatusBar();
  if (myStatusBar == null) {
    return;
  }
  myLabel=new JLabel();
  myListener=new MouseAdapter(){
    public void mouseClicked(    MouseEvent e){
      if (myState == PluginStateMonitor.State.DISCONNECTED) {
        setNewState(PluginStateMonitor.State.TRYING_TO_CONNECT);
        myTimer.setNewDelay(PluginStateMonitor.INITIAL_DELAY);
      }
    }
  }
;
  myLabel.addMouseListener(myListener);
  myStatusBar.addCustomIndicationComponent(myLabel);
  myTimer=new PluginStateMonitor.MyTimer(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        public void run(){
          tick();
        }
      }
);
    }
  }
);
  myTimer.start();
}
