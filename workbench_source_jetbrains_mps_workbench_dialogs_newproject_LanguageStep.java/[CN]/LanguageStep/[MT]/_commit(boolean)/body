{
  super._commit(finishChosen);
  if (myOptions.getCreateNewLanguage()) {
    File dir=new File(myPath.getPath());
    if (!(dir.isAbsolute())) {
      throw new CommitStepException("Path should path");
    }
    if (myNamespace.getText().length() == 0) {
      throw new CommitStepException("Enter namespace");
    }
    if (MPSModuleRepository.getInstance().getModuleByUID(myNamespace.getText()) != null) {
      throw new CommitStepException("Language namespace already exists");
    }
    if (NameUtil.shortNameFromLongName(myNamespace.getText()).length() == 0) {
      throw new CommitStepException("Enter valid namespace");
    }
    if (!(dir.exists())) {
      boolean created=DirectoryUtil.askToCreateNewDirectory(JOptionPane.getFrameForComponent(myComponent),dir,false);
      if (!created) {
        throw new CommitStepException("Specify another directory");
      }
    }
  }
  myOptions.setLanguageNamespace(myNamespace.getText());
  myOptions.setLanguagePath(myPath.getPath());
}
