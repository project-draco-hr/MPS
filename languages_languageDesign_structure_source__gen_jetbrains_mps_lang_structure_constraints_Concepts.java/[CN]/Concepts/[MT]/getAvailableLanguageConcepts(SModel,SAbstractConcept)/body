{
  Language language=as_v88qdx_a0a0a1(model.getModule(),Language.class);
  if (language == null) {
    return Collections.emptyList();
  }
  Deque<Language> languagesToVisit=DequeSequence.fromDequeNew(new LinkedList<Language>());
  Set<Language> visibleLanguages=SetSequence.fromSet(new HashSet<Language>());
  DequeSequence.fromDequeNew(languagesToVisit).addLastElement(language);
  SetSequence.fromSet(visibleLanguages).addElement(language);
  while (DequeSequence.fromDequeNew(languagesToVisit).isNotEmpty()) {
    Language nextLanguage=DequeSequence.fromDequeNew(languagesToVisit).removeFirstElement();
    for (    SModuleReference extendedLangRef : SetSequence.fromSet(nextLanguage.getExtendedLanguageRefs())) {
      Language extendedLanguage=as_v88qdx_a0a0a1a7a1(extendedLangRef.resolve(nextLanguage.getRepository()),Language.class);
      if (extendedLanguage != null && !(SetSequence.fromSet(visibleLanguages).contains(extendedLanguage))) {
        SetSequence.fromSet(visibleLanguages).addElement(extendedLanguage);
        DequeSequence.fromDequeNew(languagesToVisit).addLastElement(extendedLanguage);
      }
    }
  }
  return SetSequence.fromSet(visibleLanguages).select(new ISelector<Language,SModel>(){
    public SModel select(    Language it){
      return it.getStructureModelDescriptor();
    }
  }
).where(new IWhereFilter<SModel>(){
    public boolean accept(    SModel it){
      return it != null;
    }
  }
).translate(new ITranslator2<SModel,SNode>(){
    public Iterable<SNode> translate(    SModel it){
      return (Iterable<SNode>)it.getRootNodes();
    }
  }
).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,SNodeOperations.asSConcept(metaConcept));
    }
  }
).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode it){
      return SNodeOperations.cast(it,MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,"jetbrains.mps.lang.core.structure.INamedConcept"));
    }
  }
);
}
