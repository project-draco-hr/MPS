{
  super();
  this.setActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent p0){
      final MPSProject project=ModuleChooserComponent.this.getProject();
      StringBuilder result=new StringBuilder();
      final List<IModule> modules=ListSequence.fromList(new ArrayList<IModule>());
      final List<IModule> otherModules=ListSequence.fromList(new ArrayList<IModule>());
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          ListSequence.fromList(modules).addSequence(ListSequence.fromList(project.getModules()));
          ListSequence.fromList(otherModules).addSequence(SetSequence.fromSet(GlobalScope.getInstance().getVisibleModules()));
        }
      }
);
      IModule module=CommonChoosers.showDialogModuleChooser(ModuleChooserComponent.this,"",modules,otherModules);
      if (module != null) {
        result.append(module.getModuleFqName());
        ModuleChooserComponent.this.setText(result.toString());
      }
    }
  }
);
}
