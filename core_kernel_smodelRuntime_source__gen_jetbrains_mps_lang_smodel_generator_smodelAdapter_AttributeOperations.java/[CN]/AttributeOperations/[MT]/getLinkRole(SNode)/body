{
  if (!(SNodeOperations.hasRole(attribute,"jetbrains.mps.lang.core.structure.BaseConcept","_$attribute"))) {
    return AttributesRolesUtil.getLinkRoleFromLinkAttributeRole(SNodeOperations.getContainingLinkRole(attribute));
  }
  return SPropertyOperations.getString(SLinkOperations.getTarget(attribute,"link",false),"role");
}
