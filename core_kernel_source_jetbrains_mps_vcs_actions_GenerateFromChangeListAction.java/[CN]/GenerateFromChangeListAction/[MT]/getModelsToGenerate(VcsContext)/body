{
  Collection<VirtualFile> filesCollection=vcsContext.getSelectedFilesCollection();
  List<RegularSModelDescriptor> modelsToGenerate=new ArrayList<RegularSModelDescriptor>();
  for (  VirtualFile f : filesCollection) {
    if (f.exists() && !f.isDirectory()) {
      SModelDescriptor model=SModelRepository.getInstance().findModel(VFileSystem.toIFile(f));
      if (model instanceof RegularSModelDescriptor) {
        modelsToGenerate.add(((RegularSModelDescriptor)model));
      }
    }
  }
  return modelsToGenerate;
}
