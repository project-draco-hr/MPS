{
  if (SetSequence.fromSet(this.myDependencies).isEmpty() || this.isEmptyCollections()) {
    if (file.exists()) {
      file.delete();
    }
    return;
  }
  if (!(file.exists())) {
    file.createNewFile();
    ModelChangesWatcher.instance().fireDataFileCreated(file);
  }
  Element root=new Element(DEPENDENCIES_ROOT);
  for (  Dependency dependency : this.myDependencies) {
    if (SetSequence.fromSet(dependency.getAllDependencies()).isEmpty() && SetSequence.fromSet(dependency.getExtends()).isEmpty()) {
      continue;
    }
    Element e=new Element(DEPENDENCY);
    dependency.saveTo(e);
    root.addContent(e);
  }
  try {
    JDOMUtil.writeDocument(new Document(root),file);
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
