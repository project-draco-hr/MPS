{
  SNode copy=CopyUtil.copyAndPreserveId(sourceNode);
  for (  SNode node : ListSequence.fromList(SNodeOperations.getDescendants(copy,null,true,new String[]{}))) {
    SNodeId nodeId=node.getSNodeId();
    if (myResultModel.getNodeById(nodeId) != null) {
      node.setId(null);
      if (!(MapSequence.fromMap(myIdReplacementCache).containsKey(nodeId))) {
        MapSequence.fromMap(myIdReplacementCache).put(nodeId,node);
      }
    }
  }
  return copy;
}
