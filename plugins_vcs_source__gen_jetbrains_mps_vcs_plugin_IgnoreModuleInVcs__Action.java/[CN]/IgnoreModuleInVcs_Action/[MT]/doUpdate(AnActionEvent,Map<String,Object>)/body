{
  try {
{
      Presentation presentation=event.getPresentation();
      presentation.setText(String.format("Ignore %s...",(((List<IModule>)MapSequence.fromMap(_params).get("modules")).size() == 1 ? "Module" : "Modules")));
      boolean enabled=ListSequence.fromList(VcsActionsHelper.getUnversionedFilesForModules(((Project)MapSequence.fromMap(_params).get("project")),((List<IModule>)MapSequence.fromMap(_params).get("modules")))).isNotEmpty();
      presentation.setEnabled(enabled);
      presentation.setVisible(enabled);
    }
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action doUpdate method failed. Action:" + "IgnoreModuleInVcs",t);
    }
    this.disable(event.getPresentation());
  }
}
