{
  final Wrappers._T<Iterable<SModel>> models=new Wrappers._T<Iterable<SModel>>(null);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      Project p : go.getProjects()) {
        for (        SModule mod : withGenerators(p.getModules())) {
          models.value=Sequence.fromIterable(models.value).concat(Sequence.fromIterable((getModelsToGenerate(mod))));
        }
      }
      for (      SModule mod : withGenerators(go.getModules())) {
        models.value=Sequence.fromIterable(models.value).concat(Sequence.fromIterable(getModelsToGenerate(mod)));
      }
      if (go.getModels() != null) {
        models.value=Sequence.fromIterable(models.value).concat(Sequence.fromIterable((Iterable<SModelDescriptor>)go.getModels()));
      }
    }
  }
);
  return Sequence.fromIterable(new ModelsToResources(context,Sequence.fromIterable(models.value).where(new IWhereFilter<SModel>(){
    public boolean accept(    SModel smd){
      return GenerationFacade.canGenerate(smd);
    }
  }
)).resources(false)).select(new ISelector<IResource,IMResource>(){
    public IMResource select(    IResource r){
      return (IMResource)r;
    }
  }
);
}
