{
  int lastDot=className.lastIndexOf(".");
  String pkg=(lastDot == -1 ? "" : className.substring(0,lastDot));
  List<SModelDescriptor> list=SModelRepository.getInstance().getModelDescriptorsByModelName(pkg);
  for (  final SModelDescriptor descriptor : list) {
    if (SModelStereotype.isStubModelStereotype(descriptor.getStereotype())) {
      continue;
    }
    SModel sourceModel=descriptor.getSModel();
    for (    ModuleReference moduleReference : SModelOperations.getLanguageRefs(sourceModel,GlobalScope.getInstance())) {
      loadLanguage(moduleReference.getModuleFqName());
    }
    break;
  }
  Set<ValueWrapperFactory> factories=getValueWrapperFactories(originalValue);
  if (factories.isEmpty()) {
    return null;
  }
  if (factories.size() > 1) {
    LOG.warning("several custom viewers found for value; using the random one");
  }
  ValueWrapperFactory factory=factories.iterator().next();
  return factory.createValueWrapper(originalValue);
}
