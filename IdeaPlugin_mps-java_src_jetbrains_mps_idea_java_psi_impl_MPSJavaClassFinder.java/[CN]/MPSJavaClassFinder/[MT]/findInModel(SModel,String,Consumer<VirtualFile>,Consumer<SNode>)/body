{
  DataSource dataSource=model.getSource();
  if (!(dataSource instanceof FileDataSource))   return;
  String path=((FileDataSource)dataSource).getFile().getPath();
  VirtualFile vfile=LocalFileSystem.getInstance().findFileByPath(path);
  String packageName=model.getModelName();
  if (!qname.startsWith(packageName + "."))   return;
  if (vfile != null) {
    processedConsumer.consume(vfile);
  }
  FastNodeFinder fastFinder=((SModelInternal)model).getFastNodeFinder();
  List<SNode> classes=fastFinder.getNodes("jetbrains.mps.baseLanguage.structure.Classifier",true);
  if (classes.isEmpty())   return;
  for (  SNode claz : classes) {
    if (qname.equals(ClassUtil.getClassFQName(claz))) {
      consumer.consume(claz);
    }
  }
}
