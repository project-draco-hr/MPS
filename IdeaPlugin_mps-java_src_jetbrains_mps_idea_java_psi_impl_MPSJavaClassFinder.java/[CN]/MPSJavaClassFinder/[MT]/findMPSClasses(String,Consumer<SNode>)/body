{
  int clStart=qname.lastIndexOf('.');
  int innerStart=-1;
  while (clStart >= 0) {
    String pName=qname.substring(0,clStart);
    String clName=innerStart == -1 ? qname.substring(clStart + 1) : qname.substring(clStart + 1,innerStart);
    String innerName=innerStart >= 0 ? qname.substring(innerStart + 1) : null;
    for (    SModule module : mpsProject.getModules()) {
      for (      SModel model : module.getModels()) {
        if (model.getModelName().equals(pName)) {
          findMPSClasses(model,clName,innerName,consumer);
        }
      }
    }
    innerStart=clStart;
    clStart=qname.lastIndexOf('.',clStart - 1);
  }
}
