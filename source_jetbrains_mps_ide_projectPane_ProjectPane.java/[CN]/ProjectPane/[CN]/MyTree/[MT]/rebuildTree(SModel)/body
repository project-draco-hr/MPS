{
  System.out.println("Rebuild tree node (model)");
  String modelFqName=model.getFQName();
  List<String> expansion=getExpandedPaths();
  List<String> selection=getSelectedPaths();
  for (  SModelTreeNode node : new HashSet<SModelTreeNode>(mySModelTreeNodes)) {
    if (modelFqName.equals(node.getModelDescriptor().getFQName())) {
      DefaultMutableTreeNode parent=(DefaultMutableTreeNode)node.getParent();
      int index=parent.getIndex(node);
      parent.insert(createSModelTreeNode(node.getModelDescriptor(),node.getLabel()),index);
      parent.remove(node);
      mySModelTreeNodes.remove(node);
    }
  }
  DefaultTreeModel treeModel=(DefaultTreeModel)myTree.getModel();
  for (  TreeModelListener l : treeModel.getTreeModelListeners()) {
    l.treeStructureChanged(new TreeModelEvent(this,new Object[]{treeModel.getRoot()}));
  }
  expandPaths(expansion);
  selectPaths(selection);
}
