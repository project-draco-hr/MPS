{
  JLabel label=(JLabel)super.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);
  if (expanded) {
    label.setIcon(Icons.OPENED_FOLDER);
  }
 else {
    label.setIcon(Icons.CLOSED_FOLDER);
  }
  if (value instanceof SNodeTreeNode) {
    SemanticNode semanticNode=((SNodeTreeNode)value).getSNode();
    if (semanticNode != null) {
{
        IStatus status=(IStatus)semanticNode.getUserObject(SemanticNode.ERROR_STATUS);
        if (status != null && status.isError()) {
          label.setForeground(Color.red);
        }
 else {
          status=(IStatus)semanticNode.getUserObject(SemanticNode.CHILDREN_ERROR_STATUS);
          if (status != null && status.isError()) {
            label.setForeground(Color.red);
            label.setText(label.getText() + " (" + status.getMessage()+ ")");
          }
        }
      }
      label.setIcon(IconManager.getIconFor(semanticNode));
    }
  }
 else   if (value instanceof SModelTreeNode) {
    SModelTreeNode node=(SModelTreeNode)value;
    label.setIcon(Icons.MODEL_ICON);
    if (node.isImported()) {
      label.setIcon(Icons.createMarkedIcon(label.getIcon(),Icons.JAVA_ICON));
    }
  }
 else   if (value instanceof LanguageTreeNode) {
    label.setIcon(Icons.LANGUAGE_ICON);
  }
 else   if (value instanceof ProjectLanguageTreeNode) {
    label.setIcon(Icons.PROJECT_LANGUAGE_ICON);
  }
 else   if (value instanceof LibraryModelsTreeNode) {
    label.setIcon(Icons.LIB_ICON);
  }
  return label;
}
