{
  List<SNode> selectedNodes=new ArrayList<SNode>(getSelectedNodes(myTree));
  HashSet<SNode> unselectedNodes=new HashSet<SNode>();
  for (  SNode node : selectedNodes) {
    if (node == null)     continue;
    if (unselectedNodes.contains(node))     continue;
    Iterator<SNode> dfChildren=node.depthFirstChildren();
    while (dfChildren.hasNext()) {
      SNode child=dfChildren.next();
      unselectedNodes.add(child);
    }
  }
  selectedNodes.removeAll(unselectedNodes);
  return selectedNodes;
}
