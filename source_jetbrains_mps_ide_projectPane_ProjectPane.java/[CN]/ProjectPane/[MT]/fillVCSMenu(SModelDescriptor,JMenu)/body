{
  vcsMenu.removeAll();
  final VersionControl vc=model.getVersionControl();
  if (vc.getStatus() == ModelVCSStatus.UNVERSIONED) {
    vcsMenu.add(new AbstractActionWithEmptyIcon("<NO VCS AVAILABLE FOR MODEL>"){
{
        setEnabled(false);
      }
      public void actionPerformed(      ActionEvent e){
      }
    }
);
    vcsMenu.addSeparator();
    vcsMenu.add(new AbstractActionWithEmptyIcon("Add"){
      public void actionPerformed(      ActionEvent e){
        vc.add();
      }
    }
);
  }
 else   if (vc.getStatus() == ModelVCSStatus.ADDED) {
    vcsMenu.add(new AbstractActionWithEmptyIcon("ADDED"){
{
        setEnabled(false);
      }
      public void actionPerformed(      ActionEvent e){
      }
    }
);
    vcsMenu.addSeparator();
    vcsMenu.add(new AbstractActionWithEmptyIcon("Commit"){
      public void actionPerformed(      ActionEvent e){
        if (!vc.isChanged()) {
          JOptionPane.showMessageDialog(ProjectPane.this,"Can't commit. Model isn't changed.");
          return;
        }
        String message=JOptionPane.showInputDialog("Enter commit message : ");
        if (message == null)         return;
        vc.commit(message);
      }
    }
);
  }
 else {
    vcsMenu.add(new AbstractActionWithEmptyIcon("Current Revision " + vc.getCurrentRevisionId()){
{
        setEnabled(false);
      }
      public void actionPerformed(      ActionEvent actionEvent){
      }
    }
);
    vcsMenu.addSeparator();
    vcsMenu.add(new AbstractActionWithEmptyIcon("Commit"){
      public void actionPerformed(      ActionEvent e){
        if (!vc.isChanged()) {
          JOptionPane.showMessageDialog(ProjectPane.this,"Can't commit. Model isn't changed.");
          return;
        }
        String message=JOptionPane.showInputDialog("Enter commit message : ");
        if (message == null)         return;
        vc.commit(message);
      }
    }
);
    vcsMenu.add(new AbstractActionWithEmptyIcon("Update"){
      public void actionPerformed(      ActionEvent e){
        vc.update();
        myIDE.getEditorsPane().rebuildAllEditors();
        rebuildTree();
      }
    }
);
    vcsMenu.add(new AbstractActionWithEmptyIcon("Show History"){
      public void actionPerformed(      ActionEvent e){
        myIDE.getHistoryView().showHistoryFor(model);
      }
    }
);
  }
}
