{
  myStepType=stepType;
  myFramesSelector=framesSelector;
  try {
    ThreadReference thread=context.getThread();
    if (thread != null) {
      myFrameCount=thread.frameCount();
      StackFrame frame=thread.frame(0);
      if (frame != null) {
        myDeclaringType=frame.location().declaringType().name();
        myLineNumber=frame.location().lineNumber();
        mySourceName=frame.location().sourceName();
      }
    }
  }
 catch (  IncompatibleThreadStateException e) {
    LOG.error(e);
  }
catch (  AbsentInformationException e) {
    LOG.error(e);
  }
}
