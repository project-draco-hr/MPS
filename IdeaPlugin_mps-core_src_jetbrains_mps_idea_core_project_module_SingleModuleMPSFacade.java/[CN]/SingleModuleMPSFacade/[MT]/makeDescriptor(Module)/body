{
  VirtualFile moduleContentRoot=ModuleRootManager.getInstance(module).getContentRoots()[0];
  String outputPath=moduleContentRoot.getPath() + "/" + "src_gen";
  SolutionDescriptor descriptor=new SolutionDescriptor();
  descriptor.setId(ModuleId.foreign(module.getName()));
  descriptor.setOutputPath(outputPath);
  descriptor.setCompileInMPS(false);
  FileBasedModelRoot root=new DefaultModelRoot();
  root.setContentRoot(moduleContentRoot.getPath());
  Memento m=new MementoImpl();
  root.save(m);
  ModelRootDescriptor modelRootDesc=new ModelRootDescriptor(PersistenceRegistry.DEFAULT_MODEL_ROOT,m);
  descriptor.getModelRootDescriptors().add(modelRootDesc);
  return descriptor;
}
