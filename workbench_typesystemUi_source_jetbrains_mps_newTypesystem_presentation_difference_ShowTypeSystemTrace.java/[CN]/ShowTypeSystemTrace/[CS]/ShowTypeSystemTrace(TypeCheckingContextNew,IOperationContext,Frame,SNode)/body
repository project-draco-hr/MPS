{
  super(frame);
  t.checkRoot(true);
  this.setLayout(new BorderLayout());
  this.getContentPane().setBackground(this.getBackground());
  myTraceTree=new TypeSystemTraceTree(operationContext,t,frame,node,this);
  myStateTree=new TypeSystemStateTree(operationContext,myTraceTree.getState());
  JSplitPane splitPane=new JSplitPane();
  this.add(splitPane);
  JBScrollPane traceScrollPane=new JBScrollPane(myTraceTree);
  traceScrollPane.setPreferredSize(new Dimension(400,900));
  JBScrollPane stateScrollPane=new JBScrollPane(myStateTree);
  stateScrollPane.setPreferredSize(new Dimension(400,900));
  splitPane.setDividerLocation(0.6);
  splitPane.setResizeWeight(0.5);
  splitPane.setLeftComponent(traceScrollPane);
  splitPane.setRightComponent(stateScrollPane);
  JPanel checkBoxes=new JPanel();
  checkBoxes.setLayout(new FlowLayout());
  this.add(checkBoxes,BorderLayout.SOUTH);
  myBlockDependencies=new Checkbox("Block dependencies");
  myBlockDependencies.setState(myTraceTree.isShowDependencyOperations());
  myTraceForNode=new Checkbox("Trace for selected node");
  myGenerationMode=new Checkbox("Generation mode");
  checkBoxes.add(myBlockDependencies);
  checkBoxes.add(myTraceForNode);
  checkBoxes.add(myGenerationMode);
  CheckBoxListener listener=new CheckBoxListener();
  myBlockDependencies.addItemListener(listener);
  myTraceForNode.addItemListener(listener);
  myGenerationMode.addItemListener(listener);
  myTraceTree.setBackground(getBackground());
  myTraceTree.setForeground(new Color(0x07025D));
  this.setPreferredSize(new Dimension(800,900));
  String title="TypeSystem trace";
  if (myTraceTree.isTraceForNode() && node != null) {
    title=title.concat(" for selected node (" + node + ")");
  }
  setTitle(title);
  this.pack();
  this.setModal(true);
  this.setVisible(true);
}
