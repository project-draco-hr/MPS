{
  Collection<SNode> newInputNodes=myIsSoleInput ? InputQueryUtil.wrapAsList(getNewInputNode(macro,templateContext)) : getNewInputNodes(macro,templateContext);
  SNodeReference templateNodeRef=templateNode.getReference();
  String tempNodeId=GeneratorUtil.getTemplateNodeId(templateNode);
  return getGenerator().copyNodes(newInputNodes,templateContext,templateNodeRef,tempNodeId,myTemplateProcessor.myEnv);
}
