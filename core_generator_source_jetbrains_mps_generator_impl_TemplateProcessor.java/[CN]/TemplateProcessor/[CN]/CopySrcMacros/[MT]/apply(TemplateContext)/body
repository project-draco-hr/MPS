{
  Collection<SNode> newInputNodes=myIsSoleInput ? InputQueryUtil.wrapAsList(getNewInputNode(templateContext)) : getNewInputNodes(templateContext);
  SNodeReference templateNodeRef=templateNode.getTemplateNodeReference();
  String tempNodeId=templateNode.getTemplateNodeId();
  return myTemplateProcessor.getGenerator().copyNodes(newInputNodes,templateContext,templateNodeRef,tempNodeId,myTemplateProcessor.getEnvironment());
}
