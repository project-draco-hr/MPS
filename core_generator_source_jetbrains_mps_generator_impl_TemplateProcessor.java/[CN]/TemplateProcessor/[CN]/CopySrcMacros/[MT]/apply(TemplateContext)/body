{
  Collection<SNode> newInputNodes=myIsSoleInput ? InputQueryUtil.wrapAsList(getNewInputNode(templateContext)) : getNewInputNodes(templateContext);
  SNodeReference templateNodeRef=templateNode.getTemplateNodeReference();
  String tempNodeId=templateNode.getTemplateNodeId();
  return myTemplateProcessor.getEnvironment().copyNodes(newInputNodes,templateNodeRef,tempNodeId,templateContext);
}
