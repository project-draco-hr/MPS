{
  SNode child=getNodeToInsert(macro,templateContext);
  if (child != null) {
    child=myTemplateProcessor.getEnvironment().insertNode(child,macro.getReference(),templateContext);
    myTemplateProcessor.getGenerator().registerMappingLabel(templateContext.getInput(),templateContext.getInputName(),child);
    return Collections.singletonList(child);
  }
  return Collections.emptyList();
}
