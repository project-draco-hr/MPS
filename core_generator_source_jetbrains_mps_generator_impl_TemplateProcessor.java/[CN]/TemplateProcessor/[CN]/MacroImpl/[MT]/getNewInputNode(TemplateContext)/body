{
  SNode query=RuleUtil.getSourceNodeQuery(macro);
  if (query != null) {
    return myTemplateProcessor.getQueryExecutor().getSourceNode(macro,query,context);
  }
  return context.getInput();
}
