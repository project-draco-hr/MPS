{
  if (myGenerator.isIncremental()) {
    NodeReadEventsCaster.setNodesReadListener(null);
  }
  try {
    return applyTemplate(templateNode,context,null);
  }
 catch (  StackOverflowError e) {
    IGeneratorLogger logger=getEnvironment().getLogger();
    logger.error("generation thread ran out of stack space :(");
    if (myTracer.isTracing()) {
      logger.error("failed branch was:");
      GeneratorUtil.logCurrentGenerationBranch(logger,myTracer,true);
    }
 else {
      logger.error("try to increase JVM stack size (-Xss option)");
      logger.error("to get more diagnostic generate model with the 'save transient models' option");
    }
    logger.error(templateNode.getReference(),"couldn't process template",GeneratorUtil.describeInput(context));
    throw new GenerationFailureException(e);
  }
 finally {
    if (myGenerator.isIncremental()) {
      NodeReadEventsCaster.removeNodesReadListener();
    }
  }
}
