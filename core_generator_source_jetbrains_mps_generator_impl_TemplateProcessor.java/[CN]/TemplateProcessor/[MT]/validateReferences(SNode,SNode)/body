{
  for (  SReference ref : node.getReferences()) {
    if (myGenerator.getInputModel().getSModelReference().equals(ref.getTargetSModelReference())) {
      ReferenceInfo_CopiedInputNode refInfo=new ReferenceInfo_CopiedInputNode(ref.getRole(),ref.getSourceNode(),inputNode,ref.getTargetNode());
      PostponedReference postponedReference=new PostponedReference(refInfo,myGenerator);
      ref.getSourceNode().setReference(ref.getRole(),postponedReference);
    }
  }
  for (  org.jetbrains.mps.openapi.model.SNode child : jetbrains.mps.util.SNodeOperations.getChildren(node)) {
    validateReferences(((SNode)child),inputNode);
  }
}
