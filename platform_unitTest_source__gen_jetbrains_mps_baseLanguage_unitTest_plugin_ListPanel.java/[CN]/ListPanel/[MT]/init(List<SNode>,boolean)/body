{
  this.myIsTestMethods=isTestMethods;
  this.setLayout(new BorderLayout());
  this.myValues=nodes;
  this.myListModel=new ListPanel.MyAbstractListModel();
  this.myList=new JList(this.myListModel);
  AnAction add=new ListAddAction(this.myList){
    protected int doAdd(    AnActionEvent p0){
      if (ListPanel.this.myCandidates == null) {
        ListPanel.this.collectCandidates();
      }
      ListSequence.fromList(ListPanel.this.myCandidates).removeSequence(ListSequence.fromList(ListPanel.this.myValues));
      final SNode resultNode=(SNode)CommonChoosers.showDialogNodeChooser(ListPanel.this,ListPanel.this.myCandidates);
      if (resultNode == null) {
        return -1;
      }
      ListSequence.fromList(ListPanel.this.myValues).addElement(resultNode);
      if (ListPanel.this.myListener != null) {
        ListPanel.this.myListener.actionPerformed(null);
      }
      ListPanel.this.myList.updateUI();
      ListPanel.this.myListModel.fireSomethingChanged();
      return ListSequence.fromList(ListPanel.this.myValues).indexOf(resultNode);
    }
  }
;
  AnAction remove=new ListRemoveAction(this.myList){
    protected void doRemove(    AnActionEvent p0){
      for (      Object value : ListPanel.this.myList.getSelectedValues()) {
        for (        SNode node : ListPanel.this.myValues) {
          if (ListPanel.this.getPresentation(node).equals(value)) {
            ListSequence.fromList(ListPanel.this.myValues).removeElement(node);
            break;
          }
        }
      }
      if (ListPanel.this.myListener != null) {
        ListPanel.this.myListener.actionPerformed(null);
      }
      ListPanel.this.myList.updateUI();
      ListPanel.this.myListModel.fireSomethingChanged();
    }
  }
;
  this.setBorder(new TitledBorder("Test"));
  DefaultActionGroup group=ActionUtils.groupFromActions(add,remove);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,false);
  this.add(toolbar.getComponent(),BorderLayout.WEST);
  JScrollPane comp=new JScrollPane(this.myList);
  comp.doLayout();
  this.add(comp,BorderLayout.CENTER);
  this.add(new JLabel((this.myIsTestMethods ? "Methods" : "Classes")),BorderLayout.PAGE_START);
  this.myList.updateUI();
}
