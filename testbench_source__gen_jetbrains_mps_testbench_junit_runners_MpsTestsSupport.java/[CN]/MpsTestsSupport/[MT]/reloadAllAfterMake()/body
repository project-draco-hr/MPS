{
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      ClassLoaderManager.getInstance().reloadClasses(MPSModuleRepository.getInstance().getModules(),new EmptyProgressMonitor());
    }
  }
);
  ModelAccess.instance().runWriteAction(new Runnable(){
    @Override public void run(){
      for (      SModule mod : MPSModuleRepository.getInstance().getAllModules()) {
        if (!(mod instanceof AbstractModule)) {
          continue;
        }
        ((AbstractModule)mod).updateModelsSet();
      }
    }
  }
);
  if (ActiveEnvironment.get().hasIdeaInstance()) {
    SwingUtilities.invokeAndWait(new Runnable(){
      @Override public void run(){
        ModelAccess.instance().runWriteAction(new Runnable(){
          @Override public void run(){
            LocalFileSystem.getInstance().refresh(false);
          }
        }
);
      }
    }
);
  }
 else {
  }
}
