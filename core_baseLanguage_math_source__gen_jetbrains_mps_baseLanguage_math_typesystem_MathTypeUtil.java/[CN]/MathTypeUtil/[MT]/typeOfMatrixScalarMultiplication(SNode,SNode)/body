{
  SNode e=MathTypeUtil.getElementType(vT);
  if (TypeChecker.getInstance().getSubtypingManager().isSubtype(e,scalarType)) {
    e=scalarType;
  }
  do {
    SNode matchedNode_i9t80i_c0o=vT;
{
      boolean matches_i9t80i_a2a41=false;
{
        SNode matchingNode_i9t80i_a2a41=vT;
        if (matchingNode_i9t80i_a2a41 != null) {
          matches_i9t80i_a2a41=SModelUtil_new.isAssignableConcept(matchingNode_i9t80i_a2a41.getConceptFqName(),"jetbrains.mps.baseLanguage.math.structure.MatrixType");
        }
      }
      if (matches_i9t80i_a2a41) {
{
          SNode result=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.math.structure.MatrixType",null);
          SPropertyOperations.set(result,"rows","" + SPropertyOperations.getInteger(matchedNode_i9t80i_c0o,"rows"));
          SPropertyOperations.set(result,"columns","" + SPropertyOperations.getInteger(matchedNode_i9t80i_c0o,"columns"));
          SLinkOperations.setTarget(result,"elementType",e,true);
          return result;
        }
      }
    }
{
      boolean matches_i9t80i_b2a41=false;
{
        SNode matchingNode_i9t80i_b2a41=vT;
        if (matchingNode_i9t80i_b2a41 != null) {
          matches_i9t80i_b2a41=SModelUtil_new.isAssignableConcept(matchingNode_i9t80i_b2a41.getConceptFqName(),"jetbrains.mps.baseLanguage.math.structure.VectorType");
        }
      }
      if (matches_i9t80i_b2a41) {
{
          SNode result=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.math.structure.VectorType",null);
          SPropertyOperations.set(result,"height","" + SPropertyOperations.getInteger(matchedNode_i9t80i_c0o,"height"));
          SLinkOperations.setTarget(result,"elementType",e,true);
          return result;
        }
      }
    }
    return null;
  }
 while (false);
}
