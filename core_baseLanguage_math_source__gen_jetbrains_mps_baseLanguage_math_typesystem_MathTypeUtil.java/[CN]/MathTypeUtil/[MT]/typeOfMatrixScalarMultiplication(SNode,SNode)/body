{
  SNode e=MathTypeUtil.getElementType(vT);
  if (TypeChecker.getInstance().getSubtypingManager().isSubtype(e,scalarType)) {
    e=scalarType;
  }
  do {
    SNode matchedNode_3=vT;
{
      boolean matches_9=false;
{
        SNode matchingNode_9=vT;
        if (matchingNode_9 != null) {
          matches_9=SModelUtil_new.isAssignableConcept(matchingNode_9.getConceptFqName(),"jetbrains.mps.baseLanguage.math.structure.MatrixType");
        }
      }
      if (matches_9) {
{
          SNode result=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.math.structure.MatrixType",null);
          SPropertyOperations.set(result,"rows","" + SPropertyOperations.getInteger(matchedNode_3,"rows"));
          SPropertyOperations.set(result,"columns","" + SPropertyOperations.getInteger(matchedNode_3,"columns"));
          SLinkOperations.setTarget(result,"elementType",e,true);
          return result;
        }
      }
    }
{
      boolean matches_10=false;
{
        SNode matchingNode_10=vT;
        if (matchingNode_10 != null) {
          matches_10=SModelUtil_new.isAssignableConcept(matchingNode_10.getConceptFqName(),"jetbrains.mps.baseLanguage.math.structure.VectorType");
        }
      }
      if (matches_10) {
{
          SNode result=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.math.structure.VectorType",null);
          SPropertyOperations.set(result,"height","" + SPropertyOperations.getInteger(matchedNode_3,"height"));
          SLinkOperations.setTarget(result,"elementType",e,true);
          return result;
        }
      }
    }
    return null;
  }
 while (false);
}
