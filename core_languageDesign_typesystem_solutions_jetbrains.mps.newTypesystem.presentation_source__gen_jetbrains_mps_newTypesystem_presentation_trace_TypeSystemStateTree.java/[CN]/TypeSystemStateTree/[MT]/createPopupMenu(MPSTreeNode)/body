{
  BaseAction goToRule=null;
  BaseAction goToNode=null;
  final TypeSystemStateTreeNode stateNode=(TypeSystemStateTreeNode)treeNode;
  if (stateNode.getRuleModel() != null && stateNode.getRuleId() != null) {
    goToRule=new BaseAction("Go to rule"){
      public void doExecute(      AnActionEvent e,      Map<String,Object> _params){
        GoToTypeErrorRuleUtil.goToRuleById(myOperationContext,new Pair<String,String>(stateNode.getRuleModel(),stateNode.getRuleId()));
      }
    }
;
  }
  SNode source=stateNode.getSource();
  if (source != null && source.isRegistered()) {
    goToNode=new BaseAction("Go to node"){
      public void doExecute(      AnActionEvent e,      Map<String,Object> _params){
        myOperationContext.getComponent(MPSEditorOpener.class).editNode(stateNode.getSource(),myOperationContext);
      }
    }
;
  }
  DefaultActionGroup group=ActionUtils.groupFromActions(goToRule,goToNode);
  return ActionManager.getInstance().createActionPopupMenu(ActionPlaces.UNKNOWN,group).getComponent();
}
