{
  final List<SNode> tlist1=new ArrayList<SNode>();
  final Iterable<SNode> sourceList1=QueriesGenerated.sourceNodesQuery_1233603475878(new SourceSubstituteMacroNodesContext(context,mapsrclMacroRef_ewlaka_b0a0a1a2));
  for (  SNode itnode1 : sourceList1) {
    if (itnode1 == null) {
      continue;
    }
    TemplateContext context1=context.subContext("LEVEL 1",itnode1);
    final List<SNode> tlist2=new ArrayList<SNode>();
    final Iterable<SNode> loopList2=QueriesGenerated.sourceNodesQuery_1202256587517(new SourceSubstituteMacroNodesContext(context1,loopMacroRef_ewlaka_b0a0a3a2a2));
    for (    SNode itnode2 : loopList2) {
      if (itnode2 == null) {
        continue;
      }
      TemplateContext context2=context1.subContext("LEVEL 2",itnode2);
      final List<SNode> tlist3=new ArrayList<SNode>();
      final Iterable<SNode> loopList3=QueriesGenerated.sourceNodesQuery_1202256594380(new SourceSubstituteMacroNodesContext(context2,loopMacroRef_ewlaka_b0a0a3a4a2a2));
      for (      SNode itnode3 : loopList3) {
        if (itnode3 == null) {
          continue;
        }
        TemplateContext context3=context2.subContext(null,itnode3);
        final List<SNode> tlist4=new ArrayList<SNode>();
        final SNode tnode5=environment.createOutputNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
        try {
          environment.nodeCopied(context3,tnode5,"tpl/r:00000000-0000-4000-0000-011c895905f7/1202256495546");
          SNodeAccessUtil.setProperty(tnode5,MetaAdapterFactory.getProperty(new UUID(1547714798586184059l,-8557310053109408682l),1195165132070l,1195170441111l,"text"),TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_1202326517571(new PropertyMacroContext(context3,"_text_",propertyMacro_ewlaka_c0a0c0b0e0e0e0c0c))));
{
            final SNode tnode6=environment.createOutputNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
            try {
              environment.nodeCopied(context3,tnode6,"tpl/r:00000000-0000-4000-0000-011c895905f7/1202327206676");
              SNodeAccessUtil.setProperty(tnode6,MetaAdapterFactory.getProperty(new UUID(1547714798586184059l,-8557310053109408682l),1195165132070l,1195170441111l,"text"),TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_1202327274819(new PropertyMacroContext(context3,"_root_level_was_",propertyMacro_ewlaka_c0a0c0b0b0c0e0e0e0c0c))));
            }
  finally {
            }
            if (tnode6 != null) {
              tnode5.addChild("outputChild",tnode6);
            }
          }
{
            Collection<SNode> tlist7=null;
            if (QueriesGenerated.ifMacro_Condition_1202332796047(new IfMacroContext(context3,ifMacroRef_ewlaka_b0a0b0d0e0e0e0c0c))) {
              final SNode tnode8=environment.createOutputNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
              try {
                environment.nodeCopied(context3,tnode8,"tpl/r:00000000-0000-4000-0000-011c895905f7/1202327778745");
                SNodeAccessUtil.setProperty(tnode8,MetaAdapterFactory.getProperty(new UUID(1547714798586184059l,-8557310053109408682l),1195165132070l,1195170441111l,"text"),TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_1202327887568(new PropertyMacroContext(context3,"_level_1_was_",propertyMacro_ewlaka_c0a0c0b0b0b0d0e0e0e0c0c))));
              }
  finally {
              }
              tlist7=TemplateUtil.singletonList(tnode8);
            }
            for (            SNode child9 : TemplateUtil.asNotNull(tlist7)) {
              tnode5.addChild("outputChild",child9);
            }
          }
{
            final SNode tnode10=environment.createOutputNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
            try {
              environment.nodeCopied(context3,tnode10,"tpl/r:00000000-0000-4000-0000-011c895905f7/1202327949446");
              SNodeAccessUtil.setProperty(tnode10,MetaAdapterFactory.getProperty(new UUID(1547714798586184059l,-8557310053109408682l),1195165132070l,1195170441111l,"text"),TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_1202327970031(new PropertyMacroContext(context3,"_level_2_was_",propertyMacro_ewlaka_c0a0c0b0b0e0e0e0e0c0c))));
            }
  finally {
            }
            if (tnode10 != null) {
              tnode5.addChild("outputChild",tnode10);
            }
          }
        }
  finally {
        }
        if (tnode5 != null) {
          tlist4.add(tnode5);
          environment.postProcess(new PostProcessor(){
            public void process(            SNode outputNode,            TemplateContext postProcessContext){
              QueriesGenerated.mapSrcMacro_post_mapper_1225236165359(new MapSrcMacroPostProcContext(postProcessContext,outputNode,mapsrcMacroRef_ewlaka_c0a0a0a0a0a0b0f0e0e0c0c));
            }
          }
,tnode5,context3);
        }
        if (tlist4 != null) {
          tlist3.addAll(tlist4);
        }
      }
      if (tlist3 != null) {
        environment.registerLabel(itnode2,tlist3,"LEVEL 2");
        tlist2.addAll(tlist3);
      }
    }
    if (tlist2 != null) {
      tlist1.addAll(tlist2);
      environment.registerLabel(itnode1,tlist2,"LEVEL 1");
      for (      SNode mapSrcOutput11 : tlist2) {
        environment.postProcess(new PostProcessor(){
          public void process(          SNode outputNode,          TemplateContext postProcessContext){
            QueriesGenerated.mapSrcMacro_post_mapper_1233603527948(new MapSrcMacroPostProcContext(postProcessContext,outputNode,mapsrclMacroRef_ewlaka_b0a0a1a2));
          }
        }
,mapSrcOutput11,context1);
      }
    }
  }
  return tlist1;
}
