{
  SNode nodeToMoveDeclaration=SModelUtil.findConceptDeclaration(nodeToMove.getConceptFqName(),scope);
  SNode conceptDeclaration=SModelUtil.findConceptDeclaration(targetNode.getConceptFqName(),scope);
  String roleInParent=null;
  for (  SNode abstractConceptDeclaration : SModelUtil_new.getConceptAndSuperConcepts(conceptDeclaration)) {
    for (    SNode linkDeclaration : SNodeUtil.getConcept_LinkDeclarations(abstractConceptDeclaration)) {
      if (SNodeUtil.getLinkDeclaration_IsReference(linkDeclaration))       continue;
      SNode targetConcept=SModelUtil.getLinkDeclarationTarget(linkDeclaration);
      if (SModelUtil.isAssignableConcept(nodeToMoveDeclaration,targetConcept)) {
        roleInParent=SModelUtil.getLinkDeclarationRole(linkDeclaration);
        break;
      }
    }
  }
  return roleInParent;
}
