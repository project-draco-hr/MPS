{
  File tmpDir=FileUtil.createTmpDir();
  getFile().delete();
  Iterable<String> classpathDirs=SetSequence.fromSet(CommandLineGenerator.getClasspath(false)).where(new IWhereFilter<String>(){
    public boolean accept(    String cpi){
      return !(cpi.endsWith(".jar"));
    }
  }
);
  for (  String classpathDir : Sequence.fromIterable(classpathDirs)) {
    FileUtil.copyDir(new File(classpathDir),tmpDir);
  }
  if (Sequence.fromIterable(classpathDirs).isEmpty()) {
    FileUtil.write(new File(tmpDir,"dummy.txt"),new byte[0]);
  }
  FileUtil.zip(tmpDir,getFile());
  tmpDir.delete();
}
