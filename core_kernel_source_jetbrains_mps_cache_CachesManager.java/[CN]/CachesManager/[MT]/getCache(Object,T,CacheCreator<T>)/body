{
synchronized (myLock) {
    AbstractCache result=myCaches.get(key);
    if (result != null || element == null || creator == null) {
      return result;
    }
    result=creator.create(key,element);
    Set<SModelDescriptor> descriptorSet=result.getDependsOnModels(element);
    if (descriptorSet.contains(null)) {
      LOG.error("Dependent models for cache contains null",new Throwable());
      descriptorSet.remove(null);
    }
    putCache(key,result,new ArrayList<SModelDescriptor>(descriptorSet));
    return result;
  }
}
