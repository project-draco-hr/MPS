{
  if (ListSequence.fromList(SLinkOperations.getTargets(string,"parts",true)).any(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return !(SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.structure.BuildTextStringPart"));
    }
  }
)) {
    throw new ArtifactsRelativePathHelper.RelativePathException("macros are not allowed");
  }
  return IterableUtils.join(ListSequence.fromList(SLinkOperations.getTargets(string,"parts",true)).select(new ISelector<SNode,String>(){
    public String select(    SNode it){
      return SPropertyOperations.getString(SNodeOperations.cast(it,"jetbrains.mps.build.structure.BuildTextStringPart"),"text");
    }
  }
)," ");
}
