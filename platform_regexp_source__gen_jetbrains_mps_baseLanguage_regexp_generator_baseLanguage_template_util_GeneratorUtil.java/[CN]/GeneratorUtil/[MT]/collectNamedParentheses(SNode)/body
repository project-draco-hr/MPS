{
  List<SNode> res=new ArrayList<SNode>();
  for (  SNode ref : SNodeOperations.getDescendants(node,"jetbrains.mps.baseLanguage.regexp.structure.RegexpDeclarationReferenceRegexp",false,new String[]{})) {
    if (SLinkOperations.getTarget(ref,"regexp",false) != null) {
      for (      SNode mpe : SNodeOperations.getDescendants(SLinkOperations.getTarget(ref,"regexp",false),"jetbrains.mps.baseLanguage.regexp.structure.MatchParensRegexp",false,new String[]{})) {
        ListSequence.fromList(res).addElement(mpe);
      }
    }
  }
  for (  SNode mpe : SNodeOperations.getDescendants(node,"jetbrains.mps.baseLanguage.regexp.structure.MatchParensRegexp",false,new String[]{})) {
    ListSequence.fromList(res).addElement(mpe);
  }
  return res;
}
