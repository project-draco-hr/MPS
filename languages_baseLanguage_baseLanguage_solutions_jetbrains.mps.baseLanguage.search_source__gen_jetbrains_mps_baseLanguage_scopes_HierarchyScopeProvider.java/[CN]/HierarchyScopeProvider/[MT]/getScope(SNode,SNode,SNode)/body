{
  if (SConceptOperations.isSubConceptOf(kind,NameUtil.nodeFQName(this.providedConcept))) {
    while (SNodeOperations.getParent(child) != thisNode) {
      child=SNodeOperations.getParent(child);
    }
    boolean isOk=false;
    for (    SNode nodeInScope : nodesInScope) {
      if (nodeInScope == child) {
        isOk=true;
        break;
      }
    }
    if (isOk) {
      Scope currentScope=new ISearchScope.Adapter(new SimpleSearchScope(this.providedNodes));
      Scope nextScope=Scope.getScope(Scope.parent(thisNode),thisNode,kind);
      return (nextScope == null ? currentScope : new CompositeScope(currentScope,nextScope));
    }
 else {
      return null;
    }
  }
  return null;
}
