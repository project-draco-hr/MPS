{
  final SNode tnode17=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.BlockStatement",false);
  try {
    environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a2);
    environment.nodeCopied(context,tnode17,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845385");
{
      final SNode tnode18=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StatementList",false);
      try {
        environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a2);
        environment.nodeCopied(context,tnode18,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845386");
{
          final List<SNode> tlist19=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a3a1a3a1a2);
            final Iterable<SNode> loopList19=QueriesGenerated.sourceNodesQuery_429601079676785722(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a3a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode19 : loopList19) {
              if (itnode19 == null) {
                continue;
              }
              boolean inputChanged19=context.getInput() != itnode19;
              try {
                if (inputChanged19) {
                  environment.getTracer().pushInputNode(itnode19);
                }
                TemplateContext context19=context.subContext(null,itnode19);
                final SNode tnode20=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a3a1a3a1a2);
                  environment.nodeCopied(context19,tnode20,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785693");
{
                    final SNode tnode21=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a3a1a3a1a2);
                      environment.nodeCopied(context19,tnode21,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785694");
{
                        final SNode tnode22=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a3a1a3a1a2);
                          environment.nodeCopied(context19,tnode22,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786218");
{
                            final SNode tnode23=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a3a1a3a1a2);
                              environment.nodeCopied(context19,tnode23,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786237");
                              environment.resolveInTemplateLater(tnode23,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676786237"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context19);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode23);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a3a1a3a1a2);
                            }
                            if (tnode23 != null) {
                              tnode22.addChild("leftExpression",tnode23);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode22);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a3a1a3a1a2);
                        }
                        if (tnode22 != null) {
                          tnode21.addChild("operand",tnode22);
                        }
                      }
{
                        final SNode tnode24=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a3a1a3a1a2);
                          environment.nodeCopied(context19,tnode24,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785696");
                          tnode24.addReference(SReference.create("baseMethodDeclaration",tnode24,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.setProperty(java.lang.String,java.lang.String):void")));
{
                            final SNode tnode25=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a3a1a3a1a2);
                              environment.nodeCopied(context19,tnode25,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785697");
                              tnode25.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676785699(environment.getOperationContext(),new PropertyMacroContext(context19.getInput(),"propertyName",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a3a1a3a1a2,context19,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode25);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a3a1a3a1a2);
                            }
                            if (tnode25 != null) {
                              tnode24.addChild("actualArgument",tnode25);
                            }
                          }
{
                            Collection<SNode> tlist26=null;
                            try {
                              environment.getTracer().pushMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a3a1a3a1a2);
                              final SNode copySrcInput26=QueriesGenerated.sourceNodeQuery_429601079676786028(environment.getOperationContext(),new SourceSubstituteMacroNodeContext(context19.getInput(),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a3a1a3a1a2,context19,environment.getGenerator()));
                              tlist26=environment.copyNodes(TemplateUtil.singletonList(copySrcInput26),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a3a1a3a1a2,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785706",null,context19);
                            }
  finally {
                              environment.getTracer().closeMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a3a1a3a1a2);
                            }
                            for (                            SNode child27 : TemplateUtil.asNotNull(tlist26)) {
                              tnode24.addChild("actualArgument",child27);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode24);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a3a1a3a1a2);
                        }
                        if (tnode24 != null) {
                          tnode21.addChild("operation",tnode24);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode21);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a3a1a3a1a2);
                    }
                    if (tnode21 != null) {
                      tnode20.addChild("expression",tnode21);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode20);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a3a1a3a1a2);
                }
                if (tnode20 != null) {
                  tlist19.add(tnode20);
                }
              }
  finally {
                if (inputChanged19) {
                  environment.getTracer().closeInputNode(itnode19);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a3a1a3a1a2);
          }
          for (          SNode child28 : TemplateUtil.asNotNull(tlist19)) {
            tnode18.addChild("statement",child28);
          }
        }
{
          final List<SNode> tlist29=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a4a1a3a1a2);
            final Iterable<SNode> loopList29=QueriesGenerated.sourceNodesQuery_429601079676786596(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a4a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode29 : loopList29) {
              if (itnode29 == null) {
                continue;
              }
              boolean inputChanged29=context.getInput() != itnode29;
              try {
                if (inputChanged29) {
                  environment.getTracer().pushInputNode(itnode29);
                }
                TemplateContext context29=context.subContext(null,itnode29);
                final SNode tnode30=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a4a1a3a1a2);
                  environment.nodeCopied(context29,tnode30,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786572");
{
                    final SNode tnode31=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a4a1a3a1a2);
                      environment.nodeCopied(context29,tnode31,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786573");
{
                        final SNode tnode32=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a4a1a3a1a2);
                          environment.nodeCopied(context29,tnode32,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786574");
{
                            final SNode tnode33=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a4a1a3a1a2);
                              environment.nodeCopied(context29,tnode33,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786575");
                              environment.resolveInTemplateLater(tnode33,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676786575"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context29);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode33);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a4a1a3a1a2);
                            }
                            if (tnode33 != null) {
                              tnode32.addChild("leftExpression",tnode33);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode32);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a4a1a3a1a2);
                        }
                        if (tnode32 != null) {
                          tnode31.addChild("operand",tnode32);
                        }
                      }
{
                        final SNode tnode34=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a4a1a3a1a2);
                          environment.nodeCopied(context29,tnode34,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786576");
                          tnode34.addReference(SReference.create("baseMethodDeclaration",tnode34,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.setProperty(java.lang.String,java.lang.String):void")));
{
                            final SNode tnode35=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a4a1a3a1a2);
                              environment.nodeCopied(context29,tnode35,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786577");
                              tnode35.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676786579(environment.getOperationContext(),new PropertyMacroContext(context29.getInput(),"propertyName",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a4a1a3a1a2,context29,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode35);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a4a1a3a1a2);
                            }
                            if (tnode35 != null) {
                              tnode34.addChild("actualArgument",tnode35);
                            }
                          }
{
                            final SNode tnode36=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.CastExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                              environment.nodeCopied(context29,tnode36,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786661");
{
                                final SNode tnode37=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringType",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                                  environment.nodeCopied(context29,tnode37,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786666");
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode37);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                                }
                                if (tnode37 != null) {
                                  tnode36.addChild("type",tnode37);
                                }
                              }
{
                                final SNode tnode38=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ParameterReference",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                                  environment.nodeCopied(context29,tnode38,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787135");
                                  environment.resolve(new ReferenceResolver(){
                                    public Object resolve(                                    SNode outputNode,                                    TemplateContext context){
                                      return QueriesGenerated.referenceMacro_GetReferent_429601079676787138(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode38,referenceMacro_g27wod_c0b0a0a0a0a0c0b0e0b0f0b0e0b0d0d0c0c0b0e0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                    }
                                    public String getDefaultResolveInfo(){
                                      return "param1";
                                    }
                                    public SNodePointer getTemplateNode(){
                                      return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676787137");
                                    }
                                  }
,tnode38,"variableDeclaration",context29);
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode38);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                                }
                                if (tnode38 != null) {
                                  tnode36.addChild("expression",tnode38);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode36);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a4a1a3a1a2);
                            }
                            if (tnode36 != null) {
                              tnode34.addChild("actualArgument",tnode36);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode34);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a4a1a3a1a2);
                        }
                        if (tnode34 != null) {
                          tnode31.addChild("operation",tnode34);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode31);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a4a1a3a1a2);
                    }
                    if (tnode31 != null) {
                      tnode30.addChild("expression",tnode31);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode30);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a4a1a3a1a2);
                }
                if (tnode30 != null) {
                  tlist29.add(tnode30);
                }
              }
  finally {
                if (inputChanged29) {
                  environment.getTracer().closeInputNode(itnode29);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a4a1a3a1a2);
          }
          for (          SNode child39 : TemplateUtil.asNotNull(tlist29)) {
            tnode18.addChild("statement",child39);
          }
        }
{
          final List<SNode> tlist40=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a5a1a3a1a2);
            final Iterable<SNode> loopList40=QueriesGenerated.sourceNodesQuery_429601079676786279(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a5a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode40 : loopList40) {
              if (itnode40 == null) {
                continue;
              }
              boolean inputChanged40=context.getInput() != itnode40;
              try {
                if (inputChanged40) {
                  environment.getTracer().pushInputNode(itnode40);
                }
                TemplateContext context40=context.subContext(null,itnode40);
                final SNode tnode41=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a5a1a3a1a2);
                  environment.nodeCopied(context40,tnode41,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786255");
{
                    final SNode tnode42=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a5a1a3a1a2);
                      environment.nodeCopied(context40,tnode42,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786256");
{
                        final SNode tnode43=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a5a1a3a1a2);
                          environment.nodeCopied(context40,tnode43,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786257");
{
                            final SNode tnode44=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a5a1a3a1a2);
                              environment.nodeCopied(context40,tnode44,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786258");
                              environment.resolveInTemplateLater(tnode44,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676786258"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context40);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode44);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a5a1a3a1a2);
                            }
                            if (tnode44 != null) {
                              tnode43.addChild("leftExpression",tnode44);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode43);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a5a1a3a1a2);
                        }
                        if (tnode43 != null) {
                          tnode42.addChild("operand",tnode43);
                        }
                      }
{
                        final SNode tnode45=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a5a1a3a1a2);
                          environment.nodeCopied(context40,tnode45,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786259");
                          tnode45.addReference(SReference.create("baseMethodDeclaration",tnode45,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.setIntegerProperty(java.lang.String,int):void")));
{
                            final SNode tnode46=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a5a1a3a1a2);
                              environment.nodeCopied(context40,tnode46,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786260");
                              tnode46.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676786262(environment.getOperationContext(),new PropertyMacroContext(context40.getInput(),"propertyName",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a5a1a3a1a2,context40,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode46);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a5a1a3a1a2);
                            }
                            if (tnode46 != null) {
                              tnode45.addChild("actualArgument",tnode46);
                            }
                          }
{
                            Collection<SNode> tlist47=null;
                            try {
                              environment.getTracer().pushMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a5a1a3a1a2);
                              final SNode copySrcInput47=QueriesGenerated.sourceNodeQuery_429601079676786354(environment.getOperationContext(),new SourceSubstituteMacroNodeContext(context40.getInput(),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a5a1a3a1a2,context40,environment.getGenerator()));
                              tlist47=environment.copyNodes(TemplateUtil.singletonList(copySrcInput47),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a5a1a3a1a2,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786342",null,context40);
                            }
  finally {
                              environment.getTracer().closeMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a5a1a3a1a2);
                            }
                            for (                            SNode child48 : TemplateUtil.asNotNull(tlist47)) {
                              tnode45.addChild("actualArgument",child48);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode45);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a5a1a3a1a2);
                        }
                        if (tnode45 != null) {
                          tnode42.addChild("operation",tnode45);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode42);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a5a1a3a1a2);
                    }
                    if (tnode42 != null) {
                      tnode41.addChild("expression",tnode42);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode41);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a5a1a3a1a2);
                }
                if (tnode41 != null) {
                  tlist40.add(tnode41);
                }
              }
  finally {
                if (inputChanged40) {
                  environment.getTracer().closeInputNode(itnode40);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a5a1a3a1a2);
          }
          for (          SNode child49 : TemplateUtil.asNotNull(tlist40)) {
            tnode18.addChild("statement",child49);
          }
        }
{
          final List<SNode> tlist50=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a6a1a3a1a2);
            final Iterable<SNode> loopList50=QueriesGenerated.sourceNodesQuery_429601079676786433(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a6a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode50 : loopList50) {
              if (itnode50 == null) {
                continue;
              }
              boolean inputChanged50=context.getInput() != itnode50;
              try {
                if (inputChanged50) {
                  environment.getTracer().pushInputNode(itnode50);
                }
                TemplateContext context50=context.subContext(null,itnode50);
                final SNode tnode51=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a6a1a3a1a2);
                  environment.nodeCopied(context50,tnode51,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786409");
{
                    final SNode tnode52=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a6a1a3a1a2);
                      environment.nodeCopied(context50,tnode52,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786410");
{
                        final SNode tnode53=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a6a1a3a1a2);
                          environment.nodeCopied(context50,tnode53,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786411");
{
                            final SNode tnode54=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a6a1a3a1a2);
                              environment.nodeCopied(context50,tnode54,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786412");
                              environment.resolveInTemplateLater(tnode54,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676786412"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context50);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode54);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a6a1a3a1a2);
                            }
                            if (tnode54 != null) {
                              tnode53.addChild("leftExpression",tnode54);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode53);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a6a1a3a1a2);
                        }
                        if (tnode53 != null) {
                          tnode52.addChild("operand",tnode53);
                        }
                      }
{
                        final SNode tnode55=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a6a1a3a1a2);
                          environment.nodeCopied(context50,tnode55,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786413");
                          tnode55.addReference(SReference.create("baseMethodDeclaration",tnode55,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.setBooleanProperty(java.lang.String,boolean):void")));
{
                            final SNode tnode56=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a6a1a3a1a2);
                              environment.nodeCopied(context50,tnode56,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786414");
                              tnode56.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676786416(environment.getOperationContext(),new PropertyMacroContext(context50.getInput(),"propertyName",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a6a1a3a1a2,context50,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode56);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a6a1a3a1a2);
                            }
                            if (tnode56 != null) {
                              tnode55.addChild("actualArgument",tnode56);
                            }
                          }
{
                            Collection<SNode> tlist57=null;
                            try {
                              environment.getTracer().pushMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a6a1a3a1a2);
                              final SNode copySrcInput57=QueriesGenerated.sourceNodeQuery_429601079676786508(environment.getOperationContext(),new SourceSubstituteMacroNodeContext(context50.getInput(),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a6a1a3a1a2,context50,environment.getGenerator()));
                              tlist57=environment.copyNodes(TemplateUtil.singletonList(copySrcInput57),copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a6a1a3a1a2,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786498",null,context50);
                            }
  finally {
                              environment.getTracer().closeMacro(copySrcMacro_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a6a1a3a1a2);
                            }
                            for (                            SNode child58 : TemplateUtil.asNotNull(tlist57)) {
                              tnode55.addChild("actualArgument",child58);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode55);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a6a1a3a1a2);
                        }
                        if (tnode55 != null) {
                          tnode52.addChild("operation",tnode55);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode52);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a6a1a3a1a2);
                    }
                    if (tnode52 != null) {
                      tnode51.addChild("expression",tnode52);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode51);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a6a1a3a1a2);
                }
                if (tnode51 != null) {
                  tlist50.add(tnode51);
                }
              }
  finally {
                if (inputChanged50) {
                  environment.getTracer().closeInputNode(itnode50);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a6a1a3a1a2);
          }
          for (          SNode child59 : TemplateUtil.asNotNull(tlist50)) {
            tnode18.addChild("statement",child59);
          }
        }
{
          final List<SNode> tlist60=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a7a1a3a1a2);
            final Iterable<SNode> loopList60=QueriesGenerated.sourceNodesQuery_429601079676782514(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a7a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode60 : loopList60) {
              if (itnode60 == null) {
                continue;
              }
              boolean inputChanged60=context.getInput() != itnode60;
              try {
                if (inputChanged60) {
                  environment.getTracer().pushInputNode(itnode60);
                }
                TemplateContext context60=context.subContext(null,itnode60);
                final SNode tnode61=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a7a1a3a1a2);
                  environment.nodeCopied(context60,tnode61,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782478");
{
                    final SNode tnode62=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a7a1a3a1a2);
                      environment.nodeCopied(context60,tnode62,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782479");
{
                        final SNode tnode63=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a7a1a3a1a2);
                          environment.nodeCopied(context60,tnode63,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676783910");
{
                            final SNode tnode64=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a7a1a3a1a2);
                              environment.nodeCopied(context60,tnode64,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782619");
                              environment.resolveInTemplateLater(tnode64,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676782619"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context60);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode64);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a7a1a3a1a2);
                            }
                            if (tnode64 != null) {
                              tnode63.addChild("leftExpression",tnode64);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode63);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a7a1a3a1a2);
                        }
                        if (tnode63 != null) {
                          tnode62.addChild("operand",tnode63);
                        }
                      }
{
                        final SNode tnode65=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a7a1a3a1a2);
                          environment.nodeCopied(context60,tnode65,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782481");
                          tnode65.addReference(SReference.create("baseMethodDeclaration",tnode65,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addReference(jetbrains.mps.smodel.SReference):void")));
{
                            final SNode tnode66=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StaticMethodCall",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                              environment.nodeCopied(context60,tnode66,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782482");
                              tnode66.addReference(SReference.create("baseMethodDeclaration",tnode66,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SReference.create(java.lang.String,jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SModelReference,jetbrains.mps.smodel.SNodeId):jetbrains.mps.smodel.SReference")));
                              tnode66.addReference(SReference.create("classConcept",tnode66,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SReference")));
{
                                final SNode tnode67=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                  environment.nodeCopied(context60,tnode67,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782483");
                                  tnode67.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676782485(environment.getOperationContext(),new PropertyMacroContext(context60.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a5a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2,context60,environment.getGenerator()))));
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode67);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                }
                                if (tnode67 != null) {
                                  tnode66.addChild("actualArgument",tnode67);
                                }
                              }
{
                                final SNode tnode68=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a6a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                  environment.nodeCopied(context60,tnode68,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676784010");
                                  environment.resolveInTemplateLater(tnode68,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676784010"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context60);
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode68);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a6a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                }
                                if (tnode68 != null) {
                                  tnode66.addChild("actualArgument",tnode68);
                                }
                              }
{
                                final SNode tnode69=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StaticMethodCall",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a7a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                  environment.nodeCopied(context60,tnode69,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782493");
                                  tnode69.addReference(SReference.create("baseMethodDeclaration",tnode69,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SModelReference.fromString(java.lang.String):jetbrains.mps.smodel.SModelReference")));
                                  tnode69.addReference(SReference.create("classConcept",tnode69,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SModelReference")));
{
                                    final SNode tnode70=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a7a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                      environment.nodeCopied(context60,tnode70,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782494");
                                      tnode70.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676782496(environment.getOperationContext(),new PropertyMacroContext(context60.getInput(),"targetModel",propertyMacro_g27wod_c0b0b0a2a1a5a1a7a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2,context60,environment.getGenerator()))));
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode70);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a7a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                    }
                                    if (tnode70 != null) {
                                      tnode69.addChild("actualArgument",tnode70);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode69);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a7a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                }
                                if (tnode69 != null) {
                                  tnode66.addChild("actualArgument",tnode69);
                                }
                              }
{
                                final SNode tnode71=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StaticMethodCall",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a8a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                  environment.nodeCopied(context60,tnode71,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782503");
                                  tnode71.addReference(SReference.create("baseMethodDeclaration",tnode71,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNodeId.fromString(java.lang.String):jetbrains.mps.smodel.SNodeId")));
                                  tnode71.addReference(SReference.create("classConcept",tnode71,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNodeId")));
{
                                    final SNode tnode72=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a8a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                      environment.nodeCopied(context60,tnode72,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782504");
                                      tnode72.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676782506(environment.getOperationContext(),new PropertyMacroContext(context60.getInput(),"targetNodeId",propertyMacro_g27wod_c0b0b0a2a1a5a1a8a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2,context60,environment.getGenerator()))));
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode72);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a8a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                    }
                                    if (tnode72 != null) {
                                      tnode71.addChild("actualArgument",tnode72);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode71);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a8a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                                }
                                if (tnode71 != null) {
                                  tnode66.addChild("actualArgument",tnode71);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode66);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a7a1a3a1a2);
                            }
                            if (tnode66 != null) {
                              tnode65.addChild("actualArgument",tnode66);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode65);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a7a1a3a1a2);
                        }
                        if (tnode65 != null) {
                          tnode62.addChild("operation",tnode65);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode62);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a7a1a3a1a2);
                    }
                    if (tnode62 != null) {
                      tnode61.addChild("expression",tnode62);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode61);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a7a1a3a1a2);
                }
                if (tnode61 != null) {
                  tlist60.add(tnode61);
                }
              }
  finally {
                if (inputChanged60) {
                  environment.getTracer().closeInputNode(itnode60);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a7a1a3a1a2);
          }
          for (          SNode child73 : TemplateUtil.asNotNull(tlist60)) {
            tnode18.addChild("statement",child73);
          }
        }
{
          final List<SNode> tlist74=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a8a1a3a1a2);
            final Iterable<SNode> loopList74=QueriesGenerated.sourceNodesQuery_429601079676786923(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a8a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode74 : loopList74) {
              if (itnode74 == null) {
                continue;
              }
              boolean inputChanged74=context.getInput() != itnode74;
              try {
                if (inputChanged74) {
                  environment.getTracer().pushInputNode(itnode74);
                }
                TemplateContext context74=context.subContext(null,itnode74);
                final SNode tnode75=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a8a1a3a1a2);
                  environment.nodeCopied(context74,tnode75,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786869");
{
                    final SNode tnode76=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a8a1a3a1a2);
                      environment.nodeCopied(context74,tnode76,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786870");
{
                        final SNode tnode77=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a8a1a3a1a2);
                          environment.nodeCopied(context74,tnode77,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786871");
{
                            final SNode tnode78=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a8a1a3a1a2);
                              environment.nodeCopied(context74,tnode78,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786872");
                              environment.resolveInTemplateLater(tnode78,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676786872"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context74);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode78);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a8a1a3a1a2);
                            }
                            if (tnode78 != null) {
                              tnode77.addChild("leftExpression",tnode78);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode77);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a8a1a3a1a2);
                        }
                        if (tnode77 != null) {
                          tnode76.addChild("operand",tnode77);
                        }
                      }
{
                        final SNode tnode79=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a8a1a3a1a2);
                          environment.nodeCopied(context74,tnode79,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786873");
                          tnode79.addReference(SReference.create("baseMethodDeclaration",tnode79,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.setReferent(java.lang.String,jetbrains.mps.smodel.SNode):jetbrains.mps.smodel.SReference")));
{
                            final SNode tnode80=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a8a1a3a1a2);
                              environment.nodeCopied(context74,tnode80,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786875");
                              tnode80.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676786877(environment.getOperationContext(),new PropertyMacroContext(context74.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a8a1a3a1a2,context74,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode80);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a8a1a3a1a2);
                            }
                            if (tnode80 != null) {
                              tnode79.addChild("actualArgument",tnode80);
                            }
                          }
{
                            final SNode tnode81=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.CastExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                              environment.nodeCopied(context74,tnode81,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787199");
{
                                final SNode tnode82=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ParameterReference",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                                  environment.nodeCopied(context74,tnode82,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787205");
                                  environment.resolve(new ReferenceResolver(){
                                    public Object resolve(                                    SNode outputNode,                                    TemplateContext context){
                                      return QueriesGenerated.referenceMacro_GetReferent_429601079676787208(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode82,referenceMacro_g27wod_c0b0a0a0a0a0c0b0d0b0f0b0e0b0d0d0c0c0b0i0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                    }
                                    public String getDefaultResolveInfo(){
                                      return "param1";
                                    }
                                    public SNodePointer getTemplateNode(){
                                      return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676787207");
                                    }
                                  }
,tnode82,"variableDeclaration",context74);
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode82);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                                }
                                if (tnode82 != null) {
                                  tnode81.addChild("expression",tnode82);
                                }
                              }
{
                                final SNode tnode83=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SNodeType",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                                  environment.nodeCopied(context74,tnode83,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787203");
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode83);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                                }
                                if (tnode83 != null) {
                                  tnode81.addChild("type",tnode83);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode81);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a8a1a3a1a2);
                            }
                            if (tnode81 != null) {
                              tnode79.addChild("actualArgument",tnode81);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode79);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a8a1a3a1a2);
                        }
                        if (tnode79 != null) {
                          tnode76.addChild("operation",tnode79);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode76);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a8a1a3a1a2);
                    }
                    if (tnode76 != null) {
                      tnode75.addChild("expression",tnode76);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode75);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a8a1a3a1a2);
                }
                if (tnode75 != null) {
                  tlist74.add(tnode75);
                }
              }
  finally {
                if (inputChanged74) {
                  environment.getTracer().closeInputNode(itnode74);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a8a1a3a1a2);
          }
          for (          SNode child84 : TemplateUtil.asNotNull(tlist74)) {
            tnode18.addChild("statement",child84);
          }
        }
{
          final List<SNode> tlist85=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a9a1a3a1a2);
            final Iterable<SNode> loopList85=QueriesGenerated.sourceNodesQuery_429601079676787549(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a9a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode85 : loopList85) {
              if (itnode85 == null) {
                continue;
              }
              boolean inputChanged85=context.getInput() != itnode85;
              try {
                if (inputChanged85) {
                  environment.getTracer().pushInputNode(itnode85);
                }
                TemplateContext context85=context.subContext(null,itnode85);
                final SNode tnode86=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a9a1a3a1a2);
                  environment.nodeCopied(context85,tnode86,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787520");
{
                    final SNode tnode87=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a9a1a3a1a2);
                      environment.nodeCopied(context85,tnode87,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787521");
{
                        final SNode tnode88=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a9a1a3a1a2);
                          environment.nodeCopied(context85,tnode88,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787522");
{
                            final SNode tnode89=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a9a1a3a1a2);
                              environment.nodeCopied(context85,tnode89,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787523");
                              environment.resolveInTemplateLater(tnode89,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676787523"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context85);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode89);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a9a1a3a1a2);
                            }
                            if (tnode89 != null) {
                              tnode88.addChild("leftExpression",tnode89);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode88);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a9a1a3a1a2);
                        }
                        if (tnode88 != null) {
                          tnode87.addChild("operand",tnode88);
                        }
                      }
{
                        final SNode tnode90=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a9a1a3a1a2);
                          environment.nodeCopied(context85,tnode90,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787524");
                          tnode90.addReference(SReference.create("baseMethodDeclaration",tnode90,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addChild(java.lang.String,jetbrains.mps.smodel.SNode):void")));
{
                            final SNode tnode91=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a9a1a3a1a2);
                              environment.nodeCopied(context85,tnode91,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787525");
                              tnode91.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676787527(environment.getOperationContext(),new PropertyMacroContext(context85.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a9a1a3a1a2,context85,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode91);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a9a1a3a1a2);
                            }
                            if (tnode91 != null) {
                              tnode90.addChild("actualArgument",tnode91);
                            }
                          }
{
                            final SNode tnode92=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.CastExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                              environment.nodeCopied(context85,tnode92,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787535");
{
                                final SNode tnode93=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ParameterReference",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                                  environment.nodeCopied(context85,tnode93,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787536");
                                  environment.resolve(new ReferenceResolver(){
                                    public Object resolve(                                    SNode outputNode,                                    TemplateContext context){
                                      return QueriesGenerated.referenceMacro_GetReferent_429601079676787538(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode93,referenceMacro_g27wod_c0b0a0a0a0a0c0b0d0b0f0b0e0b0d0d0c0c0b0j0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                    }
                                    public String getDefaultResolveInfo(){
                                      return "param1";
                                    }
                                    public SNodePointer getTemplateNode(){
                                      return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676787537");
                                    }
                                  }
,tnode93,"variableDeclaration",context85);
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode93);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                                }
                                if (tnode93 != null) {
                                  tnode92.addChild("expression",tnode93);
                                }
                              }
{
                                final SNode tnode94=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SNodeType",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                                  environment.nodeCopied(context85,tnode94,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787547");
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode94);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                                }
                                if (tnode94 != null) {
                                  tnode92.addChild("type",tnode94);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode92);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a9a1a3a1a2);
                            }
                            if (tnode92 != null) {
                              tnode90.addChild("actualArgument",tnode92);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode90);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a9a1a3a1a2);
                        }
                        if (tnode90 != null) {
                          tnode87.addChild("operation",tnode90);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode87);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a9a1a3a1a2);
                    }
                    if (tnode87 != null) {
                      tnode86.addChild("expression",tnode87);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode86);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a9a1a3a1a2);
                }
                if (tnode86 != null) {
                  tlist85.add(tnode86);
                }
              }
  finally {
                if (inputChanged85) {
                  environment.getTracer().closeInputNode(itnode85);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a9a1a3a1a2);
          }
          for (          SNode child95 : TemplateUtil.asNotNull(tlist85)) {
            tnode18.addChild("statement",child95);
          }
        }
{
          final List<SNode> tlist96=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a01a1a3a1a2);
            final Iterable<SNode> loopList96=QueriesGenerated.sourceNodesQuery_429601079676787985(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a01a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode96 : loopList96) {
              if (itnode96 == null) {
                continue;
              }
              boolean inputChanged96=context.getInput() != itnode96;
              try {
                if (inputChanged96) {
                  environment.getTracer().pushInputNode(itnode96);
                }
                TemplateContext context96=context.subContext(null,itnode96);
                final SNode tnode97=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ForeachStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a01a1a3a1a2);
                  environment.nodeCopied(context96,tnode97,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787866");
{
                    final SNode tnode98=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StatementList",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a01a1a3a1a2);
                      environment.nodeCopied(context96,tnode98,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787867");
{
                        final SNode tnode99=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a01a1a3a1a2);
                          environment.nodeCopied(context96,tnode99,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788775");
{
                            final SNode tnode100=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                              environment.nodeCopied(context96,tnode100,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788776");
{
                                final SNode tnode101=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                  environment.nodeCopied(context96,tnode101,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788777");
{
                                    final SNode tnode102=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                      environment.nodeCopied(context96,tnode102,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788778");
                                      environment.resolveInTemplateLater(tnode102,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676788778"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context96);
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode102);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                    }
                                    if (tnode102 != null) {
                                      tnode101.addChild("leftExpression",tnode102);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode101);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                }
                                if (tnode101 != null) {
                                  tnode100.addChild("operand",tnode101);
                                }
                              }
{
                                final SNode tnode103=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                  environment.nodeCopied(context96,tnode103,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788779");
                                  tnode103.addReference(SReference.create("baseMethodDeclaration",tnode103,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addChild(java.lang.String,jetbrains.mps.smodel.SNode):void")));
{
                                    final SNode tnode104=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                      environment.nodeCopied(context96,tnode104,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788780");
                                      tnode104.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676788782(environment.getOperationContext(),new PropertyMacroContext(context96.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2,context96,environment.getGenerator()))));
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode104);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                    }
                                    if (tnode104 != null) {
                                      tnode103.addChild("actualArgument",tnode104);
                                    }
                                  }
{
                                    final SNode tnode105=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                      environment.nodeCopied(context96,tnode105,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788869");
                                      environment.resolveInTemplateLater(tnode105,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676788869"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787869","n",context96);
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode105);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                    }
                                    if (tnode105 != null) {
                                      tnode103.addChild("actualArgument",tnode105);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode103);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                                }
                                if (tnode103 != null) {
                                  tnode100.addChild("operation",tnode103);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode100);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a01a1a3a1a2);
                            }
                            if (tnode100 != null) {
                              tnode99.addChild("expression",tnode100);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode99);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a01a1a3a1a2);
                        }
                        if (tnode99 != null) {
                          tnode98.addChild("statement",tnode99);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode98);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a01a1a3a1a2);
                    }
                    if (tnode98 != null) {
                      tnode97.addChild("body",tnode98);
                    }
                  }
{
                    final SNode tnode106=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a3a2a2a1a01a1a3a1a2);
                      environment.nodeCopied(context96,tnode106,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787869");
                      tnode106.setProperty("name","n");
{
                        final SNode tnode107=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SNodeType",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a3a2a2a1a01a1a3a1a2);
                          environment.nodeCopied(context96,tnode107,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788773");
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode107);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a3a2a2a1a01a1a3a1a2);
                        }
                        if (tnode107 != null) {
                          tnode106.addChild("type",tnode107);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode106);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a3a2a2a1a01a1a3a1a2);
                    }
                    if (tnode106 != null) {
                      tnode97.addChild("variable",tnode106);
                    }
                  }
{
                    final SNode tnode108=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.CastExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a3a2a2a1a01a1a3a1a2);
                      environment.nodeCopied(context96,tnode108,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787970");
{
                        final SNode tnode109=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ParameterReference",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a3a2a2a1a01a1a3a1a2);
                          environment.nodeCopied(context96,tnode109,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787971");
                          environment.resolve(new ReferenceResolver(){
                            public Object resolve(                            SNode outputNode,                            TemplateContext context){
                              return QueriesGenerated.referenceMacro_GetReferent_429601079676787973(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode109,referenceMacro_g27wod_c0b0a0a0a0a0c0b0d0b0f0d0c0c0b0k0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                            }
                            public String getDefaultResolveInfo(){
                              return "param1";
                            }
                            public SNodePointer getTemplateNode(){
                              return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676787972");
                            }
                          }
,tnode109,"variableDeclaration",context96);
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode109);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a3a2a2a1a01a1a3a1a2);
                        }
                        if (tnode109 != null) {
                          tnode108.addChild("expression",tnode109);
                        }
                      }
{
                        final SNode tnode110=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.collections.structure.SequenceType",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a3a2a2a1a01a1a3a1a2);
                          environment.nodeCopied(context96,tnode110,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788769");
{
                            final SNode tnode111=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SNodeType",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a4a1a5a3a2a2a1a01a1a3a1a2);
                              environment.nodeCopied(context96,tnode111,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787982");
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode111);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a4a1a5a3a2a2a1a01a1a3a1a2);
                            }
                            if (tnode111 != null) {
                              tnode110.addChild("elementType",tnode111);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode110);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a3a2a2a1a01a1a3a1a2);
                        }
                        if (tnode110 != null) {
                          tnode108.addChild("type",tnode110);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode108);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a3a2a2a1a01a1a3a1a2);
                    }
                    if (tnode108 != null) {
                      tnode97.addChild("iterable",tnode108);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode97);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a01a1a3a1a2);
                }
                if (tnode97 != null) {
                  tlist96.add(tnode97);
                }
              }
  finally {
                if (inputChanged96) {
                  environment.getTracer().closeInputNode(itnode96);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a01a1a3a1a2);
          }
          for (          SNode child112 : TemplateUtil.asNotNull(tlist96)) {
            tnode18.addChild("statement",child112);
          }
        }
{
          final List<SNode> tlist113=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a11a1a3a1a2);
            final Iterable<SNode> loopList113=QueriesGenerated.sourceNodesQuery_429601079676789822(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a11a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode113 : loopList113) {
              if (itnode113 == null) {
                continue;
              }
              boolean inputChanged113=context.getInput() != itnode113;
              try {
                if (inputChanged113) {
                  environment.getTracer().pushInputNode(itnode113);
                }
                TemplateContext context113=context.subContext(null,itnode113);
                Collection<SNode> tlist114=null;
                try {
                  environment.getTracer().pushMacro(varMacroRef_g27wod_a0a0a3a2a2a1a11a1a3a1a2);
                  final Object varValue114=QueriesGenerated.insertMacro_varValue_429601079676789872(environment.getOperationContext(),new TemplateVarContext(context113.getInput(),varMacroRef_g27wod_a0a0a3a2a2a1a11a1a3a1a2,context113,environment.getGenerator()));
                  TemplateContext context114=context113.subContext(Collections.<String,Object>singletonMap("var:outer",varValue114));
                  final List<SNode> tlist115=new ArrayList();
                  try {
                    environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a4a3a2a2a1a11a1a3a1a2);
                    final Iterable<SNode> loopList115=QueriesGenerated.sourceNodesQuery_429601079676789878(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context114.getInput(),null,loopMacroRef_g27wod_a0a0a4a3a2a2a1a11a1a3a1a2,context114,environment.getGenerator()));
                    for (                    SNode itnode115 : loopList115) {
                      if (itnode115 == null) {
                        continue;
                      }
                      boolean inputChanged115=context114.getInput() != itnode115;
                      try {
                        if (inputChanged115) {
                          environment.getTracer().pushInputNode(itnode115);
                        }
                        TemplateContext context115=context114.subContext(null,itnode115);
                        final SNode tnode116=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a4a3a2a2a1a11a1a3a1a2);
                          environment.nodeCopied(context115,tnode116,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789796");
{
                            final SNode tnode117=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                              environment.nodeCopied(context115,tnode117,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789797");
{
                                final SNode tnode118=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                  environment.nodeCopied(context115,tnode118,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789798");
{
                                    final SNode tnode119=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                      environment.nodeCopied(context115,tnode119,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789799");
                                      environment.resolve(new ReferenceResolver(){
                                        public Object resolve(                                        SNode outputNode,                                        TemplateContext context){
                                          return QueriesGenerated.referenceMacro_GetReferent_429601079677083064(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode119,referenceMacro_g27wod_c0b0a0a0a0a0c0b0d0b0d0b0d0d0c0c0e0d0c0c0b0l0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                        }
                                        public String getDefaultResolveInfo(){
                                          return "_node_";
                                        }
                                        public SNodePointer getTemplateNode(){
                                          return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079677083063");
                                        }
                                      }
,tnode119,"variableDeclaration",context115);
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode119);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                    }
                                    if (tnode119 != null) {
                                      tnode118.addChild("leftExpression",tnode119);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode118);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                }
                                if (tnode118 != null) {
                                  tnode117.addChild("operand",tnode118);
                                }
                              }
{
                                final SNode tnode120=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                  environment.nodeCopied(context115,tnode120,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789800");
                                  tnode120.addReference(SReference.create("baseMethodDeclaration",tnode120,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addChild(java.lang.String,jetbrains.mps.smodel.SNode):void")));
{
                                    final SNode tnode121=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                      environment.nodeCopied(context115,tnode121,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789801");
                                      tnode121.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676789803(environment.getOperationContext(),new PropertyMacroContext(context115.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2,context115,environment.getGenerator()))));
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode121);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                    }
                                    if (tnode121 != null) {
                                      tnode120.addChild("actualArgument",tnode121);
                                    }
                                  }
{
                                    final SNode tnode122=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.CastExpression",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                      environment.nodeCopied(context115,tnode122,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789926");
{
                                        final SNode tnode123=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SNodeType",false);
                                        try {
                                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                          environment.nodeCopied(context115,tnode123,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789929");
                                        }
  finally {
                                          environment.getTracer().pushOutputNode(tnode123);
                                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                        }
                                        if (tnode123 != null) {
                                          tnode122.addChild("type",tnode123);
                                        }
                                      }
{
                                        final SNode tnode124=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ParameterReference",false);
                                        try {
                                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                          environment.nodeCopied(context115,tnode124,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789931");
                                          environment.resolve(new ReferenceResolver(){
                                            public Object resolve(                                            SNode outputNode,                                            TemplateContext context){
                                              return QueriesGenerated.referenceMacro_GetReferent_429601079676789933(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode124,referenceMacro_g27wod_c0b0a0a0a0a0c0b0e0b0f0b0e0b0d0d0c0c0e0d0c0c0b0l0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                            }
                                            public String getDefaultResolveInfo(){
                                              return "param1";
                                            }
                                            public SNodePointer getTemplateNode(){
                                              return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676789932");
                                            }
                                          }
,tnode124,"variableDeclaration",context115);
                                        }
  finally {
                                          environment.getTracer().pushOutputNode(tnode124);
                                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                        }
                                        if (tnode124 != null) {
                                          tnode122.addChild("expression",tnode124);
                                        }
                                      }
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode122);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                    }
                                    if (tnode122 != null) {
                                      tnode120.addChild("actualArgument",tnode122);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode120);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                                }
                                if (tnode120 != null) {
                                  tnode117.addChild("operation",tnode120);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode117);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a4a3a2a2a1a11a1a3a1a2);
                            }
                            if (tnode117 != null) {
                              tnode116.addChild("expression",tnode117);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode116);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a4a3a2a2a1a11a1a3a1a2);
                        }
                        if (tnode116 != null) {
                          tlist115.add(tnode116);
                        }
                      }
  finally {
                        if (inputChanged115) {
                          environment.getTracer().closeInputNode(itnode115);
                        }
                      }
                    }
                  }
  finally {
                    environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a4a3a2a2a1a11a1a3a1a2);
                  }
                  tlist114=tlist115;
                }
  finally {
                  environment.getTracer().closeMacro(varMacroRef_g27wod_a0a0a3a2a2a1a11a1a3a1a2);
                }
                if (tlist114 != null) {
                  tlist113.addAll(tlist114);
                }
              }
  finally {
                if (inputChanged113) {
                  environment.getTracer().closeInputNode(itnode113);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a11a1a3a1a2);
          }
          for (          SNode child125 : TemplateUtil.asNotNull(tlist113)) {
            tnode18.addChild("statement",child125);
          }
        }
{
          Collection<SNode> tlist126=null;
          try {
            environment.getTracer().pushMacro(copySrcListMacro_g27wod_a0a0a1a21a1a3a1a2);
            final Iterable<SNode> copyListInput126=QueriesGenerated.sourceNodesQuery_429601079676845658(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,copySrcListMacro_g27wod_a0a0a1a21a1a3a1a2,context,environment.getGenerator()));
            tlist126=environment.copyNodes(copyListInput126,copySrcListMacro_g27wod_a0a0a1a21a1a3a1a2,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845575",null,context);
          }
  finally {
            environment.getTracer().closeMacro(copySrcListMacro_g27wod_a0a0a1a21a1a3a1a2);
          }
          for (          SNode child127 : TemplateUtil.asNotNull(tlist126)) {
            tnode18.addChild("statement",child127);
          }
        }
{
          final List<SNode> tlist128=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a31a1a3a1a2);
            final Iterable<SNode> loopList128=QueriesGenerated.sourceNodesQuery_429601079676789067(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a31a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode128 : loopList128) {
              if (itnode128 == null) {
                continue;
              }
              boolean inputChanged128=context.getInput() != itnode128;
              try {
                if (inputChanged128) {
                  environment.getTracer().pushInputNode(itnode128);
                }
                TemplateContext context128=context.subContext(null,itnode128);
                final SNode tnode129=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                try {
                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a31a1a3a1a2);
                  environment.nodeCopied(context128,tnode129,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789038");
{
                    final SNode tnode130=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                    try {
                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a31a1a3a1a2);
                      environment.nodeCopied(context128,tnode130,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789039");
{
                        final SNode tnode131=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a31a1a3a1a2);
                          environment.nodeCopied(context128,tnode131,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789040");
{
                            final SNode tnode132=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a31a1a3a1a2);
                              environment.nodeCopied(context128,tnode132,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789041");
                              environment.resolveInTemplateLater(tnode132,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676789041"),"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784","_node_",context128);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode132);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a1a31a1a3a1a2);
                            }
                            if (tnode132 != null) {
                              tnode131.addChild("leftExpression",tnode132);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode131);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a1a31a1a3a1a2);
                        }
                        if (tnode131 != null) {
                          tnode130.addChild("operand",tnode131);
                        }
                      }
{
                        final SNode tnode133=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a31a1a3a1a2);
                          environment.nodeCopied(context128,tnode133,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789042");
                          tnode133.addReference(SReference.create("baseMethodDeclaration",tnode133,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addChild(java.lang.String,jetbrains.mps.smodel.SNode):void")));
{
                            final SNode tnode134=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a31a1a3a1a2);
                              environment.nodeCopied(context128,tnode134,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789043");
                              tnode134.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676789045(environment.getOperationContext(),new PropertyMacroContext(context128.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a1a31a1a3a1a2,context128,environment.getGenerator()))));
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode134);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a1a31a1a3a1a2);
                            }
                            if (tnode134 != null) {
                              tnode133.addChild("actualArgument",tnode134);
                            }
                          }
{
                            final SNode tnode135=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a31a1a3a1a2);
                              environment.nodeCopied(context128,tnode135,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676846585");
                              environment.resolve(new ReferenceResolver(){
                                public Object resolve(                                SNode outputNode,                                TemplateContext context){
                                  return QueriesGenerated.referenceMacro_GetReferent_429601079676846587(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode135,referenceMacro_g27wod_c0b0a0a0a0a0c0b0f0b0e0b0d0d0c0c0b0n0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                }
                                public String getDefaultResolveInfo(){
                                  return "_node_";
                                }
                                public SNodePointer getTemplateNode(){
                                  return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676846586");
                                }
                              }
,tnode135,"variableDeclaration",context128);
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode135);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a1a31a1a3a1a2);
                            }
                            if (tnode135 != null) {
                              tnode133.addChild("actualArgument",tnode135);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode133);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a1a31a1a3a1a2);
                        }
                        if (tnode133 != null) {
                          tnode130.addChild("operation",tnode133);
                        }
                      }
                    }
  finally {
                      environment.getTracer().pushOutputNode(tnode130);
                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a1a31a1a3a1a2);
                    }
                    if (tnode130 != null) {
                      tnode129.addChild("expression",tnode130);
                    }
                  }
                }
  finally {
                  environment.getTracer().pushOutputNode(tnode129);
                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a1a31a1a3a1a2);
                }
                if (tnode129 != null) {
                  tlist128.add(tnode129);
                }
              }
  finally {
                if (inputChanged128) {
                  environment.getTracer().closeInputNode(itnode128);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a31a1a3a1a2);
          }
          for (          SNode child136 : TemplateUtil.asNotNull(tlist128)) {
            tnode18.addChild("statement",child136);
          }
        }
{
          final List<SNode> tlist137=new ArrayList();
          try {
            environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a1a41a1a3a1a2);
            final Iterable<SNode> loopList137=QueriesGenerated.sourceNodesQuery_429601079676789416(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context.getInput(),null,loopMacroRef_g27wod_a0a0a1a41a1a3a1a2,context,environment.getGenerator()));
            for (            SNode itnode137 : loopList137) {
              if (itnode137 == null) {
                continue;
              }
              boolean inputChanged137=context.getInput() != itnode137;
              try {
                if (inputChanged137) {
                  environment.getTracer().pushInputNode(itnode137);
                }
                TemplateContext context137=context.subContext(null,itnode137);
                Collection<SNode> tlist138=null;
                try {
                  environment.getTracer().pushMacro(varMacroRef_g27wod_a0a0a3a2a2a1a41a1a3a1a2);
                  final Object varValue138=QueriesGenerated.insertMacro_varValue_429601079676789499(environment.getOperationContext(),new TemplateVarContext(context137.getInput(),varMacroRef_g27wod_a0a0a3a2a2a1a41a1a3a1a2,context137,environment.getGenerator()));
                  TemplateContext context138=context137.subContext(Collections.<String,Object>singletonMap("var:outer",varValue138));
                  final List<SNode> tlist139=new ArrayList();
                  try {
                    environment.getTracer().pushMacro(loopMacroRef_g27wod_a0a0a4a3a2a2a1a41a1a3a1a2);
                    final Iterable<SNode> loopList139=QueriesGenerated.sourceNodesQuery_429601079676789520(environment.getOperationContext(),new SourceSubstituteMacroNodesContext(context138.getInput(),null,loopMacroRef_g27wod_a0a0a4a3a2a2a1a41a1a3a1a2,context138,environment.getGenerator()));
                    for (                    SNode itnode139 : loopList139) {
                      if (itnode139 == null) {
                        continue;
                      }
                      boolean inputChanged139=context138.getInput() != itnode139;
                      try {
                        if (inputChanged139) {
                          environment.getTracer().pushInputNode(itnode139);
                        }
                        TemplateContext context139=context138.subContext(null,itnode139);
                        final SNode tnode140=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.ExpressionStatement",false);
                        try {
                          environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a3a2a2a4a3a2a2a1a41a1a3a1a2);
                          environment.nodeCopied(context139,tnode140,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789390");
{
                            final SNode tnode141=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.DotExpression",false);
                            try {
                              environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                              environment.nodeCopied(context139,tnode141,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789391");
{
                                final SNode tnode142=new SNode(environment.getOutputModel(),"jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                  environment.nodeCopied(context139,tnode142,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789392");
{
                                    final SNode tnode143=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                      environment.nodeCopied(context139,tnode143,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789393");
                                      environment.resolve(new ReferenceResolver(){
                                        public Object resolve(                                        SNode outputNode,                                        TemplateContext context){
                                          return QueriesGenerated.referenceMacro_GetReferent_429601079677082939(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode143,referenceMacro_g27wod_c0b0a0a0a0a0c0b0d0b0d0b0d0d0c0c0e0d0c0c0b0o0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                        }
                                        public String getDefaultResolveInfo(){
                                          return "_node_";
                                        }
                                        public SNodePointer getTemplateNode(){
                                          return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079677082938");
                                        }
                                      }
,tnode143,"variableDeclaration",context139);
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode143);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                    }
                                    if (tnode143 != null) {
                                      tnode142.addChild("leftExpression",tnode143);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode142);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                }
                                if (tnode142 != null) {
                                  tnode141.addChild("operand",tnode142);
                                }
                              }
{
                                final SNode tnode144=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation",false);
                                try {
                                  environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                  environment.nodeCopied(context139,tnode144,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789394");
                                  tnode144.addReference(SReference.create("baseMethodDeclaration",tnode144,SModelReference.fromString("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"),SNodeId.fromString("~SNode.addChild(java.lang.String,jetbrains.mps.smodel.SNode):void")));
{
                                    final SNode tnode145=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.StringLiteral",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                      environment.nodeCopied(context139,tnode145,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789395");
                                      tnode145.setProperty("value",TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676789397(environment.getOperationContext(),new PropertyMacroContext(context139.getInput(),"role",propertyMacro_g27wod_c0b0b0a2a1a4a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2,context139,environment.getGenerator()))));
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode145);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                    }
                                    if (tnode145 != null) {
                                      tnode144.addChild("actualArgument",tnode145);
                                    }
                                  }
{
                                    final SNode tnode146=new SNode(environment.getOutputModel(),"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false);
                                    try {
                                      environment.getTracer().pushTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                      environment.nodeCopied(context139,tnode146,"tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676846063");
                                      environment.resolve(new ReferenceResolver(){
                                        public Object resolve(                                        SNode outputNode,                                        TemplateContext context){
                                          return QueriesGenerated.referenceMacro_GetReferent_429601079676846089(environment.getOperationContext(),new ReferenceMacroContext(context.getInput(),tnode146,referenceMacro_g27wod_c0b0a0a0a0a0c0b0f0b0e0b0d0d0c0c0e0d0c0c0b0o0b0d0b0c,"variableDeclaration",context,environment.getGenerator()));
                                        }
                                        public String getDefaultResolveInfo(){
                                          return "_node_";
                                        }
                                        public SNodePointer getTemplateNode(){
                                          return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)","429601079676846088");
                                        }
                                      }
,tnode146,"variableDeclaration",context139);
                                    }
  finally {
                                      environment.getTracer().pushOutputNode(tnode146);
                                      environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a5a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                    }
                                    if (tnode146 != null) {
                                      tnode144.addChild("actualArgument",tnode146);
                                    }
                                  }
                                }
  finally {
                                  environment.getTracer().pushOutputNode(tnode144);
                                  environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a4a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                                }
                                if (tnode144 != null) {
                                  tnode141.addChild("operation",tnode144);
                                }
                              }
                            }
  finally {
                              environment.getTracer().pushOutputNode(tnode141);
                              environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a3a2a2a4a3a2a2a1a41a1a3a1a2);
                            }
                            if (tnode141 != null) {
                              tnode140.addChild("expression",tnode141);
                            }
                          }
                        }
  finally {
                          environment.getTracer().pushOutputNode(tnode140);
                          environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a3a2a2a4a3a2a2a1a41a1a3a1a2);
                        }
                        if (tnode140 != null) {
                          tlist139.add(tnode140);
                        }
                      }
  finally {
                        if (inputChanged139) {
                          environment.getTracer().closeInputNode(itnode139);
                        }
                      }
                    }
                  }
  finally {
                    environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a4a3a2a2a1a41a1a3a1a2);
                  }
                  tlist138=tlist139;
                }
  finally {
                  environment.getTracer().closeMacro(varMacroRef_g27wod_a0a0a3a2a2a1a41a1a3a1a2);
                }
                if (tlist138 != null) {
                  tlist137.addAll(tlist138);
                }
              }
  finally {
                if (inputChanged137) {
                  environment.getTracer().closeInputNode(itnode137);
                }
              }
            }
          }
  finally {
            environment.getTracer().closeMacro(loopMacroRef_g27wod_a0a0a1a41a1a3a1a2);
          }
          for (          SNode child147 : TemplateUtil.asNotNull(tlist137)) {
            tnode18.addChild("statement",child147);
          }
        }
      }
  finally {
        environment.getTracer().pushOutputNode(tnode18);
        environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a3a1a2);
      }
      if (tnode18 != null) {
        tnode17.addChild("statements",tnode18);
      }
    }
  }
  finally {
    environment.getTracer().pushOutputNode(tnode17);
    environment.getTracer().closeTemplateNode(templateNode_g27wod_a0a0a1a2);
  }
  return tnode17;
}
