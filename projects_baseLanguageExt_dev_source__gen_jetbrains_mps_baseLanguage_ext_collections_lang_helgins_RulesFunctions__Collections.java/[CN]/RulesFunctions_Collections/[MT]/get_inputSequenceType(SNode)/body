{
  SNode parent=SNodeOperations.getParent(op,null,false,false);
  if (SNodeOperations.isInstanceOf(parent,"jetbrains.mps.baseLanguage.ext.collections.lang.structure.SequenceOperationExpression")) {
    SNode leftExpression=SLinkOperations.getTarget(parent,"leftExpression",true);
    SNode sequenceType=RulesFunctions_Collections.tryObtain_SequenceType(leftExpression);
    if (sequenceType != null) {
      return sequenceType;
    }
 else {
      TypeChecker.getInstance().reportTypeError(leftExpression,"sequence is expected");
    }
  }
 else {
    TypeChecker.getInstance().reportTypeError(op,"not expected here: is only applicable to sequence");
  }
  return null;
}
