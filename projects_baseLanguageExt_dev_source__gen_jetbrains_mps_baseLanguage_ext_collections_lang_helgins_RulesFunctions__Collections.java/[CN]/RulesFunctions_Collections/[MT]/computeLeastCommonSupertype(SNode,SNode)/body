{
  SNode exprType=TypeChecker.getInstance().getRuntimeSupport().typeOf(exprWithType,"jetbrains.mps.baseLanguage.ext.collections.lang.helgins","1178748193116");
  if (exprType == null) {
    TypeChecker.getInstance().reportTypeError(exprWithType,"no type","jetbrains.mps.baseLanguage.ext.collections.lang.helgins","1178748193120");
    return currentLeastCommonSupertype;
  }
  if (currentLeastCommonSupertype == null) {
    return exprType;
  }
  if (TypeChecker.getInstance().getSubtypingManager().isSubtype(currentLeastCommonSupertype,exprType)) {
    return exprType;
  }
  if (TypeChecker.getInstance().getSubtypingManager().isSubtype(exprType,currentLeastCommonSupertype)) {
    return currentLeastCommonSupertype;
  }
  TypeChecker.getInstance().reportTypeError(exprWithType,"type " + exprType + " is not compatible with infered "+ currentLeastCommonSupertype,"jetbrains.mps.baseLanguage.ext.collections.lang.helgins","1178748193168");
  return currentLeastCommonSupertype;
}
