{
  SNode parent=SNodeOperations.getParent(op,null,false,false);
  if (SNodeOperations.isInstanceOf(parent,"jetbrains.mps.baseLanguage.ext.collections.lang.structure.SequenceOperationExpression")) {
    SNode leftExpression=SLinkOperations.getTarget(parent,"leftExpression",true);
    SNode listType=RulesFunctions_Collections.tryObtain_ListType(leftExpression);
    if (listType != null) {
      return listType;
    }
 else {
      TypeChecker.getInstance().reportTypeError(leftExpression,"list is expected");
    }
  }
 else {
    TypeChecker.getInstance().reportTypeError(op,"not expected here: is only applicable to list");
  }
  return null;
}
