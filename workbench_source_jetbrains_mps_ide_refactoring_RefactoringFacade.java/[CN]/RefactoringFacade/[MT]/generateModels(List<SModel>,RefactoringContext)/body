{
  if (sourceModels.isEmpty())   return;
  final RefactoringNodeMembersAccessModifier modifier=new RefactoringNodeMembersAccessModifier();
  final List<SModelDescriptor> descriptors=new ArrayList<SModelDescriptor>();
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      SModelRepository.getInstance().saveAll();
      refactoringContext.setUpMembersAccessModifier(modifier);
      modifier.addModelsToModify(sourceModels);
      SNode.setNodeMemberAccessModifier(modifier);
      for (      SModel model : sourceModels) {
        descriptors.add(model.getModelDescriptor());
      }
    }
  }
);
  final IOperationContext operationContext=new ProjectOperationContext(refactoringContext.getSelectedProject());
  new Thread(){
    public void run(){
      try {
        MakeSession sess=new MakeSession(operationContext);
        if (IMakeService.INSTANCE.get().openNewSession(sess)) {
          Future<IResult> result=IMakeService.INSTANCE.get().make(sess,new ModelsToResources(operationContext,descriptors).resources(false));
          result.get();
        }
      }
 catch (      InterruptedException e) {
      }
catch (      ExecutionException e) {
        e.printStackTrace();
      }
 finally {
        onGenerationFinished();
      }
    }
  }
.start();
}
