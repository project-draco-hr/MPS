{
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          Module module=myProject.getComponent(ModuleManager.class).getModules()[0];
          ModifiableRootModel model=module.getComponent(ModuleRootManager.class).getModifiableModel();
          ContentEntry entry=model.getContentEntries()[0];
          entry.addSourceFolder(pathAsVFile(path),false);
          model.commit();
        }
      }
);
    }
  }
,ModalityState.NON_MMODAL);
  return "OK";
}
