{
  myIde=ide;
  myTextArea.setEditable(false);
  myFindAction=new AbstractActionWithEmptyIcon("Find"){
{
      putValue(Action.ACCELERATOR_KEY,KeyStroke.getKeyStroke("control F"));
    }
    public void actionPerformed(    ActionEvent e){
      String pattern=JOptionPane.showInputDialog(myIde.getMainFrame(),"Enter pattern to find",myLastSearchPattern);
      if (pattern == null)       return;
      find(pattern);
    }
  }
;
  myFindNextAction=new AbstractActionWithEmptyIcon("Find Next"){
{
      putValue(Action.ACCELERATOR_KEY,KeyStroke.getKeyStroke("F3"));
    }
    public void actionPerformed(    ActionEvent e){
      if (myLastSearchPattern != null) {
        find(myLastSearchPattern);
      }
    }
  }
;
  myComponent.registerKeyboardAction(myFindAction,KeyStroke.getKeyStroke("control F"),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  myComponent.registerKeyboardAction(myFindNextAction,KeyStroke.getKeyStroke("F3"),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  updateComponent();
  myTextArea.addMouseListener(new MouseAdapter(){
    public void mouseReleased(    MouseEvent e){
      processMouseEvent(e);
    }
    public void mousePressed(    MouseEvent e){
      processMouseEvent(e);
    }
    private void processMouseEvent(    MouseEvent e){
      if (e.isPopupTrigger()) {
        JPopupMenu menu=new JPopupMenu();
        menu.add(new AbstractActionWithEmptyIcon("Clear"){
          public void actionPerformed(          ActionEvent e){
            clear();
          }
        }
);
        menu.addSeparator();
        menu.add(myFindAction);
        menu.add(myFindNextAction);
        menu.show(myTextArea,e.getX(),e.getY());
      }
    }
  }
);
  myComponent.setLayout(new BorderLayout());
  myComponent.add(new JScrollPane(myTextArea),BorderLayout.CENTER);
  if (getTopComponent() != null) {
    myComponent.add(getTopComponent(),BorderLayout.NORTH);
  }
}
