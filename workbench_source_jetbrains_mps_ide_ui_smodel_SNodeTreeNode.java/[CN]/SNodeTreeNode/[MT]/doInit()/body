{
  this.removeAllChildren();
  SNode n=getSNode();
  if (n == null)   return;
  if (showPropertiesAndReferences()) {
    add(new PropertiesTreeNode(getOperationContext(),n));
    add(new ReferencesTreeNode(getOperationContext(),n));
  }
  List<SNode> children=n.getChildren();
  List<SNode> filteredChildren=CollectionUtil.filter(children,myCondition);
  SModelTreeNode sModelTreeNode=getSModelModelTreeNode();
  for (  SNode childNode : filteredChildren) {
    SNodeTreeNode child=sModelTreeNode == null ? new SNodeTreeNode(childNode,childNode.getRole_(),getOperationContext()) : sModelTreeNode.createSNodeTreeNode(childNode,childNode.getRole_(),getOperationContext());
    add(child);
  }
  DefaultTreeModel treeModel=(DefaultTreeModel)getTree().getModel();
  treeModel.nodeStructureChanged(this);
  myInitialized=true;
}
