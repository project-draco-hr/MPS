{
  myRealTabs.clear();
  getTabRemovalListener().clearAspects();
  Map<EditorTabDescriptor,List<SNode>> newContent=updateDocumentsAndNodes();
  for (  EditorTabDescriptor key : newContent.keySet()) {
    for (    SNode node : newContent.get(key)) {
      getTabRemovalListener().aspectAdded(node.getContainingRoot());
    }
    final EditorTab tab=new EditorTab(this,myNodeChangeCallback,myRealTabs.size(),key,myBaseNode);
    myRealTabs.add(tab);
  }
  DefaultActionGroup group=new DefaultActionGroup();
  group.add(myAddAction);
  for (  EditorTab tab : myRealTabs) {
    group.add(tab.getAction(myShortcutComponent));
  }
  if (myToolbar != null) {
    getComponent().remove(myToolbar);
  }
  ActionToolbar actionToolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,true);
  actionToolbar.setLayoutPolicy(ActionToolbar.WRAP_LAYOUT_POLICY);
  myToolbar=actionToolbar.getComponent();
  getComponent().add(myToolbar,BorderLayout.CENTER);
}
