{
  if ((int)ListSequence.fromList(SNodeOperations.getReferences(node)).count() == 1) {
    SReference reference=ListSequence.fromList(SNodeOperations.getReferences(node)).first();
    if (neq_qvsuy0_a0a1a0a3(SNodeOperations.getModel(SLinkOperations.getTargetNode(reference)),containerModel) && SNodeOperations.isInstanceOf(SLinkOperations.getTargetNode(reference),"jetbrains.mps.lang.core.structure.INamedConcept")) {
      SNode matchingVar=findVariable.invoke(reference);
      if (matchingVar != null) {
        SNodeOperations.replaceWithAnother(node,createReference.invoke(matchingVar));
      }
    }
  }
}
