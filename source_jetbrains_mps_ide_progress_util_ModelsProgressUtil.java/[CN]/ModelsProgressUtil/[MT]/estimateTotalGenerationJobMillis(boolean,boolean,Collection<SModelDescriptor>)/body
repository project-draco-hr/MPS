{
  long generationTime=estimateGenerationTimeMillis(models);
  long reloadingTime=estimateReloadAllTimeMillis();
  long refreshingFSTime=estimateRefreshIDEAFileSystemTimeMillis();
  if (compile) {
    long compilationInIDEATime=0;
    if (inIDEA) {
      compilationInIDEATime=estimateCompileInIDEATimeMillis();
    }
 else {
      compilationInIDEATime=estimateCompileInMPSTimeMillis();
    }
    long totalCompilationTime=compilationInIDEATime + refreshingFSTime + reloadingTime;
    generationTime=generationTime + totalCompilationTime;
  }
 else {
    generationTime=generationTime + reloadingTime;
  }
  return generationTime;
}
