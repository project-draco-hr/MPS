{
  try {
    SNode query=RuleUtil.getInsertMacro_Query(insertMacro);
    if (query != null) {
      return reductionContext.getQueryExecutor().evaluateInsertQuery(context.getInput(),insertMacro,query,context);
    }
    generator.showErrorMessage(context.getInput(),insertMacro,"couldn't get nodes to insert");
    throw new GenerationFailureException();
  }
 catch (  Throwable t) {
    generator.getLogger().handleException(t);
    generator.showErrorMessage(context.getInput(),insertMacro,"couldn't get nodes to insert (see exception)");
    throw new GenerationFailureException(t);
  }
}
