{
  for (  SModelDescriptor md : SModelRepository.getInstance().getModelDescriptors()) {
    SModelReference mdRef=md.getSModelReference();
    SModelId mdId=mdRef.getSModelId();
    if (mdId instanceof SModelId.RegularSModelId)     continue;
    if (!(matches(oldId,((SModelId.ForeignSModelId)mdId).getId())))     continue;
    if (md.getSModel().getNodeById(nodeId) == null)     continue;
    return md.getSModelReference();
  }
  return null;
}
