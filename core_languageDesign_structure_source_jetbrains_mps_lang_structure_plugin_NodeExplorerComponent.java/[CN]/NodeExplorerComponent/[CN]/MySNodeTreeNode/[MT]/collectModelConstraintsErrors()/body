{
  Set<EditorMessage> messages=myAncestorNodeContext.myModelConstraintsMessages.get(getSNode());
  if (messages == null) {
    messages=new HashSet<EditorMessage>();
  }
  Set<EditorMessage> descendantsMessages=myAncestorNodeContext.myModelConstraintsMessagesOfDescendants.get(getSNode());
  if (descendantsMessages == null) {
    descendantsMessages=new HashSet<EditorMessage>();
  }
  setErrorState(messages.isEmpty() && descendantsMessages.isEmpty() ? ErrorState.NONE : ErrorState.ERROR);
  if (messages.isEmpty()) {
    setTooltipText(null);
  }
 else {
    String result="<html>";
    for (    EditorMessage editorMessage : messages) {
      result+=editorMessage.getMessage() + "<br>";
    }
    setTooltipText(result);
  }
}
