{
  Set<EditorMessage> messages=new ConstraintsChecker().messagesForNodeAndDescendants(myNode.getNode(),myOperationContext);
  for (  EditorMessage message : messages) {
    SNode node=message.getNode();
    if (node != null) {
      Set<EditorMessage> existingMessages=myModelConstraintsMessages.get(node);
      if (existingMessages == null) {
        existingMessages=new HashSet<EditorMessage>();
        myModelConstraintsMessages.put(node,existingMessages);
      }
      existingMessages.add(message);
      while (node.getParent() != null) {
        node=node.getParent();
        Set<EditorMessage> existingMessagesOfDescendants=myModelConstraintsMessagesOfDescendants.get(node);
        if (existingMessagesOfDescendants == null) {
          existingMessagesOfDescendants=new HashSet<EditorMessage>();
          myModelConstraintsMessagesOfDescendants.put(node,existingMessagesOfDescendants);
        }
        existingMessagesOfDescendants.add(message);
      }
    }
  }
}
