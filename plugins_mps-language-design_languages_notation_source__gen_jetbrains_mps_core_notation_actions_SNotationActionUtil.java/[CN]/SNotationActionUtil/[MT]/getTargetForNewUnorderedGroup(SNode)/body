{
  while ((node != null) && (SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationCorePart") || SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationMapping"))) {
    node=SNodeOperations.cast(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationPart");
  }
  if ((node != null) && SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationPartList") && (SNodeOperations.isInstanceOf(node,"jetbrains.mps.core.notation.structure.SNotationCorePart") || SNodeOperations.isInstanceOf(node,"jetbrains.mps.core.notation.structure.SNotationMapping"))) {
    return node;
  }
  return null;
}
