{
  DebugRegistry dr=MPSModuleRepository.getInstance().getDebugRegistry();
  for (  SModule module : MPSModuleRepository.getInstance().getModules()) {
    if (module instanceof Language) {
      SLanguageId lid=IdHelper.getLanguageId(module.getModuleReference().getModuleId());
      dr.addLanguageName(lid,module.getModuleName());
      org.jetbrains.mps.openapi.model.SModel structureModel=LanguageAspect.STRUCTURE.get((Language)module);
      for (      SNode root : structureModel.getRootNodes()) {
        dr.addConceptName(IdHelper.getConceptId((jetbrains.mps.smodel.SNode)root),SPropertyOperations.getString(root,"name"));
        if (root.getConcept().isSubConceptOf(new SConceptAdapter("jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration"))) {
          for (          SNode linkDeclaration : SLinkOperations.getTargets(root,"linkDeclaration",true)) {
            dr.addLinkName((SPropertyOperations.hasValue(linkDeclaration,"metaClass","reference","reference") ? IdHelper.getRefRoleId(((jetbrains.mps.smodel.SNode)linkDeclaration)) : IdHelper.getNodeRoleId(((jetbrains.mps.smodel.SNode)linkDeclaration))),SPropertyOperations.getString(linkDeclaration,"role"));
          }
          for (          SNode linkDeclaration : SLinkOperations.getTargets(root,"propertyDeclaration",true)) {
            dr.addPropertyName(IdHelper.getPropId(((jetbrains.mps.smodel.SNode)linkDeclaration)),SPropertyOperations.getString(linkDeclaration,"name"));
          }
        }
      }
    }
  }
}
