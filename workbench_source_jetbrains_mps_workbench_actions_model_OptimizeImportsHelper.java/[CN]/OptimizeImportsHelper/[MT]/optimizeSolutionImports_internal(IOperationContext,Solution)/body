{
  List<SModelDescriptor> modelsToOptimize=solution.getOwnModelDescriptors();
  Result result=optimizeModelsImports_internal(context,modelsToOptimize);
  List<ModuleReference> unusedLanguages=new ArrayList<ModuleReference>();
  List<ModuleReference> unusedDevkits=new ArrayList<ModuleReference>();
  List<Dependency> unusedDeps=new ArrayList<Dependency>();
  for (  Dependency m : solution.getDependOn()) {
    Dependency ref=getUnusedDependency(result,context,m);
    if (ref != null)     unusedDeps.add(ref);
  }
  for (  ModuleReference langRef : solution.getUsedLanguagesReferences()) {
    ModuleReference ref=getUnusedLanguageRef(result,context,langRef);
    if (ref != null)     unusedDevkits.add(langRef);
  }
  for (  ModuleReference devkitRef : solution.getUsedDevkitReferences()) {
    ModuleReference ref=getUnusedDevkitRef(result,context,devkitRef);
    if (ref != null)     unusedDevkits.add(devkitRef);
  }
  result.myReport=removeFromImports(solution,unusedLanguages,unusedDevkits,unusedDeps) + "\n\n" + result.myReport;
  return result;
}
