{
  List<Dependency> unusedDeps=new ArrayList<Dependency>();
  for (  Dependency m : descriptor.getDependencies()) {
    IModule module=MPSModuleRepository.getInstance().getModule(m.getModuleRef());
    if (module == null)     continue;
    boolean used=false;
    for (    SModelReference mr : result.myUsedModels) {
      SModelDescriptor md=SModelRepository.getInstance().getModelDescriptor(mr);
      if (md == null)       continue;
      if (md.getModules().contains(module)) {
        used=true;
        break;
      }
    }
    Dependency ref=used ? null : m;
    if (ref != null)     unusedDeps.add(ref);
  }
  return unusedDeps;
}
