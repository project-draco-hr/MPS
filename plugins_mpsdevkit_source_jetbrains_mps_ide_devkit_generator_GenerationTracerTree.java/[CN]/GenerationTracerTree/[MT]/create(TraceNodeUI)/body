{
  MPSTreeNode treeNode=new MPSTreeNode(n);
  treeNode.setNodeIdentifier(n.getNodeIdentifier());
  treeNode.setText(n.getText(myProject.getRepository()));
  final SNodeReference target=n.getNavigateTarget();
  if (target != null && target.getModelReference() != null) {
    treeNode.setAdditionalText(target.getModelReference().getModelName());
  }
  treeNode.setIcon(n.getIcon());
  for (  TraceNodeUI ch : n.getChildren()) {
    treeNode.add(create(ch));
  }
  treeNode.setToggleClickCount(-1);
  treeNode.setAutoExpandable(treeNode.getChildCount() == 1);
  return treeNode;
}
