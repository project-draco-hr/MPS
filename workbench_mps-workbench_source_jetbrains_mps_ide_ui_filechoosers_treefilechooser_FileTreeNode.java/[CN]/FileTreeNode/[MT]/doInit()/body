{
  if (getAssociatedFile().isDirectory()) {
    List<IFile> sortedFiles=new ArrayList<IFile>();
    for (    IFile f : getAssociatedFile().getChildren()) {
      if (getFileFilter().accept(f)) {
        sortedFiles.add(f);
      }
    }
    Collections.sort(sortedFiles,new Comparator<IFile>(){
      @Override public int compare(      IFile f1,      IFile f2){
        if (f1.isDirectory() && !f2.isDirectory()) {
          return -1;
        }
        if (f2.isDirectory() && !f1.isDirectory()) {
          return 1;
        }
        return f1.getName().compareToIgnoreCase(f2.getName());
      }
    }
);
    for (    IFile file : sortedFiles) {
      add(new FileTreeNode(file){
        @Override protected IFileFilter getFileFilter(){
          return FileTreeNode.this.getFileFilter();
        }
      }
);
    }
  }
  myInitialized=true;
}
