{
  if (node.getModel() == null)   return GenerationStatus.NOT_REQUIRED;
  if (isPackaged(node))   return GenerationStatus.READONLY;
  if (isDoNotGenerate(node))   return GenerationStatus.DO_NOT_GENERATE;
  final Project mpsProject=ProjectHelper.getProject(node.getModel().getRepository());
  if (mpsProject != null) {
    if (DumbService.getInstance(ProjectHelper.toIdeaProject(mpsProject)).isDumb())     return GenerationStatus.UPDATING;
  }
  boolean required=ModelGenerationStatusManager.getInstance().generationRequired(node.getModel());
  return required ? GenerationStatus.REQUIRED : GenerationStatus.NOT_REQUIRED;
}
