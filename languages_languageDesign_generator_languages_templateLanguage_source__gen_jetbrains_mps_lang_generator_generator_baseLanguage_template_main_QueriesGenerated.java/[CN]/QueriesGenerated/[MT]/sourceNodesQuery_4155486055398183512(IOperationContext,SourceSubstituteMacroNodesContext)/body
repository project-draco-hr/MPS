{
  final List<SNode> result=new ArrayList<SNode>();
  _context.getNode().visitProperties(new org.jetbrains.mps.openapi.model.SNode.PropertyVisitor(){
    public boolean visitProperty(    String name,    String value){
      if ((AttributeOperations.getAttribute(_context.getNode(),new IAttributeDescriptor.PropertyAttribute(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.PropertyMacro"),name)) != null)) {
        return true;
      }
      SNode propertyNode=SModelOperations.createNewNode(_context.getInputModel(),"jetbrains.mps.lang.core.structure.BaseConcept",null);
      propertyNode.setProperty("propertyName",name);
      propertyNode.setProperty("propertyValue",value);
      ListSequence.fromList(result).addElement(propertyNode);
      return true;
    }
  }
);
  return result;
}
