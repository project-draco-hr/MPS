{
  List<String> cmdline=ListSequence.fromList(new ArrayList<String>());
  ListSequence.fromList(cmdline).addElement(JavaEnvUtils.getJreExecutable("java"));
  List<String> prependClasspath=ListSequence.fromList(new ArrayList<String>());
  ListSequence.fromList(prependClasspath).addElement(new File(PathManager.getHomePath() + File.separator + "lib"+ File.separator+ "junit4"+ File.separator+ "junit-4.8.2.jar").getAbsolutePath());
  ListSequence.fromList(prependClasspath).addElement(UnitTestRunner.class.getCanonicalName());
  ListSequence.fromList(cmdline).addElement("-classpath");
  ListSequence.fromList(cmdline).addElement(IterableUtils.join(ListSequence.fromList(prependClasspath).concat(Sequence.fromIterable(getModuleClasspath())),System.getProperty("path.separator")));
  for (  String tc : testClasses) {
    ListSequence.fromList(cmdline).addElement("-c");
    ListSequence.fromList(cmdline).addElement(tc);
  }
  return cmdline;
}
