{
  Element result_wk2vdq_a0a1=languageGeneratorsElement;
  Element result_wk2vdq_a0a0a1=new Element("generator");
  if (descriptor.getNamespace() != null) {
    String result_wk2vdq_a0a0a0a0a1=descriptor.getNamespace();
    result_wk2vdq_a0a0a1.setAttribute("name","" + result_wk2vdq_a0a0a0a0a1);
  }
  if (descriptor.getGeneratorUID() != null) {
    String result_wk2vdq_a0a1a0a0a1=descriptor.getGeneratorUID();
    result_wk2vdq_a0a0a1.setAttribute("generatorUID","" + result_wk2vdq_a0a1a0a0a1);
  }
  if (descriptor.getUUID() != null) {
    String result_wk2vdq_a0a2a0a0a1=descriptor.getUUID();
    result_wk2vdq_a0a0a1.setAttribute("uuid","" + result_wk2vdq_a0a2a0a0a1);
  }
  Element result_wk2vdq_a4a0a0a1=new Element("models");
  ModuleDescriptorPersistence.saveModelRoots(result_wk2vdq_a4a0a0a1,descriptor.getModelRoots(),file,macros);
  result_wk2vdq_a0a0a1.addContent(result_wk2vdq_a4a0a0a1);
  Element result_wk2vdq_a7a0a0a1=new Element("external-templates");
  for (  ModuleReference generatorReference : ListSequence.fromList(descriptor.getDepGenerators())) {
    Element result_wk2vdq_a0a0a7a0a0a1=new Element("generator");
    String result_wk2vdq_a0a0a0a7a0a0a1=generatorReference.toString();
    result_wk2vdq_a0a0a7a0a0a1.setAttribute("generatorUID","" + result_wk2vdq_a0a0a0a7a0a0a1);
    result_wk2vdq_a7a0a0a1.addContent(result_wk2vdq_a0a0a7a0a0a1);
  }
  result_wk2vdq_a0a0a1.addContent(result_wk2vdq_a7a0a0a1);
  ModuleDescriptorPersistence.saveDependencies(result_wk2vdq_a0a0a1,descriptor);
  Element result_wk2vdq_a21a0a0a1=new Element("mapping-priorities");
  for (  MappingPriorityRule rule : ListSequence.fromList(descriptor.getPriorityRules())) {
    Element result_wk2vdq_a0a0a21a0a0a1=new Element("mapping-priority-rule");
    String result_wk2vdq_a0a0a0a21a0a0a1=rule.getType().getName();
    result_wk2vdq_a0a0a21a0a0a1.setAttribute("kind","" + result_wk2vdq_a0a0a0a21a0a0a1);
    Element result_wk2vdq_a1a0a0a21a0a0a1=new Element("greater-priority-mapping");
    saveGeneratorMappingConfigRef(rule.getLeft(),result_wk2vdq_a1a0a0a21a0a0a1);
    result_wk2vdq_a0a0a21a0a0a1.addContent(result_wk2vdq_a1a0a0a21a0a0a1);
    Element result_wk2vdq_a2a0a0a21a0a0a1=new Element("lesser-priority-mapping");
    saveGeneratorMappingConfigRef(rule.getRight(),result_wk2vdq_a2a0a0a21a0a0a1);
    result_wk2vdq_a0a0a21a0a0a1.addContent(result_wk2vdq_a2a0a0a21a0a0a1);
    result_wk2vdq_a21a0a0a1.addContent(result_wk2vdq_a0a0a21a0a0a1);
  }
  result_wk2vdq_a0a0a1.addContent(result_wk2vdq_a21a0a0a1);
  result_wk2vdq_a0a1.addContent(result_wk2vdq_a0a0a1);
}
