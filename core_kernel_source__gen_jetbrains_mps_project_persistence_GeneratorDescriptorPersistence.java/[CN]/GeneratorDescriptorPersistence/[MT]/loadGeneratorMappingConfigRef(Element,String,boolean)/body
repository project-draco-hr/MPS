{
  if (Sequence.fromIterable(XmlUtil.children(parentElement,"all-mappings")).isNotEmpty()) {
    return new MappingConfig_RefAllGlobal();
  }
 else   if (Sequence.fromIterable(XmlUtil.children(parentElement,"all-local-mappings")).isNotEmpty()) {
    final MappingConfig_RefAllLocal local=new MappingConfig_RefAllLocal();
    if (childOfGen) {
      return local;
    }
    return new _FunctionTypes._return_P0_E0<MappingConfig_ExternalRef>(){
      public MappingConfig_ExternalRef invoke(){
        final MappingConfig_ExternalRef result_wk2vdq_a0a3a0a0e=new MappingConfig_ExternalRef();
        final SModuleReference result_wk2vdq_a0a0a3a0a0e=ModuleReference.fromString(genUID);
        result_wk2vdq_a0a3a0a0e.setGenerator(result_wk2vdq_a0a0a3a0a0e);
        final MappingConfig_AbstractRef result_wk2vdq_a1a0a3a0a0e=local;
        result_wk2vdq_a0a3a0a0e.setMappingConfig(result_wk2vdq_a1a0a3a0a0e);
        return result_wk2vdq_a0a3a0a0e;
      }
    }
.invoke();
  }
 else   if (XmlUtil.first(parentElement,"mapping-set") != null) {
    final MappingConfig_RefSet mappingSet=new MappingConfig_RefSet();
    for (    Element mappingSetElement : Sequence.fromIterable(XmlUtil.children(XmlUtil.first(parentElement,"mapping-set"),"mapping-set-element"))) {
      mappingSet.getMappingConfigs().add(loadGeneratorMappingConfigRef(mappingSetElement,genUID,true));
    }
    if (childOfGen) {
      return mappingSet;
    }
    return new _FunctionTypes._return_P0_E0<MappingConfig_ExternalRef>(){
      public MappingConfig_ExternalRef invoke(){
        final MappingConfig_ExternalRef result_wk2vdq_a0a5a1a0e=new MappingConfig_ExternalRef();
        final SModuleReference result_wk2vdq_a0a0a5a1a0e=ModuleReference.fromString(genUID);
        result_wk2vdq_a0a5a1a0e.setGenerator(result_wk2vdq_a0a0a5a1a0e);
        final MappingConfig_AbstractRef result_wk2vdq_a1a0a5a1a0e=mappingSet;
        result_wk2vdq_a0a5a1a0e.setMappingConfig(result_wk2vdq_a1a0a5a1a0e);
        return result_wk2vdq_a0a5a1a0e;
      }
    }
.invoke();
  }
 else   if (XmlUtil.first(parentElement,"generator") != null) {
    final Element generator=XmlUtil.first(parentElement,"generator");
    return new _FunctionTypes._return_P0_E0<MappingConfig_ExternalRef>(){
      public MappingConfig_ExternalRef invoke(){
        final MappingConfig_ExternalRef result_wk2vdq_a0a2a2a0e=new MappingConfig_ExternalRef();
        final SModuleReference result_wk2vdq_a0a0a2a2a0e=ModuleReference.fromString(generator.getAttributeValue("generatorUID"));
        result_wk2vdq_a0a2a2a0e.setGenerator(result_wk2vdq_a0a0a2a2a0e);
        final MappingConfig_AbstractRef result_wk2vdq_a1a0a2a2a0e=loadGeneratorMappingConfigRef(XmlUtil.first(parentElement,"external-mapping"),generator.getAttributeValue("generatorUID"),true);
        result_wk2vdq_a0a2a2a0e.setMappingConfig(result_wk2vdq_a1a0a2a2a0e);
        return result_wk2vdq_a0a2a2a0e;
      }
    }
.invoke();
  }
 else   if (XmlUtil.first(parentElement,"mapping-node") != null) {
    Element mappingNode=XmlUtil.first(parentElement,"mapping-node");
    final MappingConfig_SimpleRef mapping_SimpleRef=new MappingConfig_SimpleRef();
    MappingConfig_SimpleRef result_wk2vdq_a3a3a0e=mapping_SimpleRef;
    final String result_wk2vdq_a0a3a3a0e=mappingNode.getAttributeValue("modelUID");
    result_wk2vdq_a3a3a0e.setModelUID(result_wk2vdq_a0a3a3a0e);
    final String result_wk2vdq_a1a3a3a0e=mappingNode.getAttributeValue("nodeID");
    result_wk2vdq_a3a3a0e.setNodeID(result_wk2vdq_a1a3a3a0e);
    if (childOfGen) {
      return mapping_SimpleRef;
    }
    return new _FunctionTypes._return_P0_E0<MappingConfig_ExternalRef>(){
      public MappingConfig_ExternalRef invoke(){
        final MappingConfig_ExternalRef result_wk2vdq_a0a7a3a0e=new MappingConfig_ExternalRef();
        final SModuleReference result_wk2vdq_a0a0a7a3a0e=ModuleReference.fromString(genUID);
        result_wk2vdq_a0a7a3a0e.setGenerator(result_wk2vdq_a0a0a7a3a0e);
        final MappingConfig_AbstractRef result_wk2vdq_a1a0a7a3a0e=mapping_SimpleRef;
        result_wk2vdq_a0a7a3a0e.setMappingConfig(result_wk2vdq_a1a0a7a3a0e);
        return result_wk2vdq_a0a7a3a0e;
      }
    }
.invoke();
  }
  return new MappingConfig_AbstractRef();
}
