{
  GeneratorDescriptor descriptor=new _FunctionTypes._return_P0_E0<GeneratorDescriptor>(){
    public GeneratorDescriptor invoke(){
      final GeneratorDescriptor result_wk2vdq_a0a0a0a=new GeneratorDescriptor();
      String genUID=generatorElement.getAttributeValue("generatorUID");
      final String result_wk2vdq_a1a0a0a0a=genUID;
      result_wk2vdq_a0a0a0a.setGeneratorUID(result_wk2vdq_a1a0a0a0a);
      final boolean result_wk2vdq_a2a0a0a0a=XmlUtil.booleanWithDefault(generatorElement,"generate-templates",false);
      result_wk2vdq_a0a0a0a.setGenerateTemplates(result_wk2vdq_a2a0a0a0a);
      String uuid=generatorElement.getAttributeValue("uuid");
      if (uuid != null) {
        final String result_wk2vdq_a0a5a0a0a0a=uuid;
        result_wk2vdq_a0a0a0a.setUUID(result_wk2vdq_a0a5a0a0a0a);
      }
      String generatorName=generatorElement.getAttributeValue("name");
      if (generatorName != null) {
        final String result_wk2vdq_a0a8a0a0a0a=generatorName;
        result_wk2vdq_a0a0a0a.setNamespace(result_wk2vdq_a0a8a0a0a0a);
      }
      Element models=XmlUtil.first(generatorElement,"models");
      if (models != null) {
        result_wk2vdq_a0a0a0a.getModelRootDescriptors().addAll(ModuleDescriptorPersistence.loadModelRoots(XmlUtil.children(models,"modelRoot"),macroHelper));
      }
 else {
        result_wk2vdq_a0a0a0a.getModelRootDescriptors().addAll(ModuleDescriptorPersistence.loadModelRoots(XmlUtil.children(generatorElement,"modelRoot"),macroHelper));
      }
      ModuleDescriptorPersistence.loadDependencies(result_wk2vdq_a0a0a0a,generatorElement);
      for (      Element refGenerator : Sequence.fromIterable(XmlUtil.children(XmlUtil.first(generatorElement,"external-templates"),"generator"))) {
        result_wk2vdq_a0a0a0a.getDepGenerators().add(ModuleReference.fromString(refGenerator.getAttributeValue("generatorUID")));
      }
      for (      Element ruleElement : Sequence.fromIterable(XmlUtil.children(XmlUtil.first(generatorElement,"mapping-priorities"),"mapping-priority-rule"))) {
        final MappingPriorityRule result_wk2vdq_a0a91a0a0a0a=new MappingPriorityRule();
        try {
          final RuleType result_wk2vdq_a0a1a0a91a0a0a0a=RuleType.parse(ruleElement.getAttributeValue("kind"));
          result_wk2vdq_a0a91a0a0a0a.setType(result_wk2vdq_a0a1a0a91a0a0a0a);
        }
 catch (        IllegalArgumentException e) {
          LOG.error(e.getMessage() + " Rule type for generator " + genUID+ " is set to EQUALS. You can change this in Generator Properties dialog.",e);
          final RuleType result_wk2vdq_a1a0b0a0t0a0a0a0=RuleType.STRICTLY_TOGETHER;
          result_wk2vdq_a0a91a0a0a0a.setType(result_wk2vdq_a1a0b0a0t0a0a0a0);
        }
        Element greaterPM=XmlUtil.first(ruleElement,"greater-priority-mapping");
        if (greaterPM != null) {
          final MappingConfig_AbstractRef result_wk2vdq_a0a4a0a91a0a0a0a=loadGeneratorMappingConfigRef(greaterPM,genUID,false);
          result_wk2vdq_a0a91a0a0a0a.setLeft(result_wk2vdq_a0a4a0a91a0a0a0a);
        }
        Element lesserPM=XmlUtil.first(ruleElement,"lesser-priority-mapping");
        if (lesserPM != null) {
          final MappingConfig_AbstractRef result_wk2vdq_a0a6a0a91a0a0a0a=loadGeneratorMappingConfigRef(lesserPM,genUID,false);
          result_wk2vdq_a0a91a0a0a0a.setRight(result_wk2vdq_a0a6a0a91a0a0a0a);
        }
        result_wk2vdq_a0a0a0a.getPriorityRules().add(result_wk2vdq_a0a91a0a0a0a);
      }
      return result_wk2vdq_a0a0a0a;
    }
  }
.invoke();
  ModuleDescriptorPersistence.setTimestamp(descriptor,file);
  return descriptor;
}
