{
  SNode selectedNode=editorContext.getSelectedNode();
  if (selectedNode == null) {
    return;
  }
  SNode part=SNodeOperations.getAncestor(selectedNode,"jetbrains.mpslite.structure.LinePart",true,false);
  SNode currentLine=SNodeOperations.getParent(part,null,false,false);
  SModel model=SNodeOperations.getModel(node);
  SNode newLine=SModelOperations.createNewNode(model,"jetbrains.mpslite.structure.Line",null);
  SNodeOperations.insertNextSiblingChild(currentLine,newLine);
  for (  SNode p : SNodeOperations.getNextSiblings(part,false)) {
    SNodeOperations.getParent(p,null,false,false).removeChild(p);
    SLinkOperations.addChild(newLine,"linePart",p);
  }
}
