{
  THashSet<Language> langs=new THashSet<Language>();
  Queue<Language> queue=new LinkedList<Language>();
  queue.add(language);
  while (!queue.isEmpty()) {
    Language current=queue.poll();
    if (!langs.add(current)) {
      continue;
    }
    for (    SModuleReference lr : current.getExtendedLanguageRefs()) {
      Language l=ModuleRepositoryFacade.getInstance().getModule(lr,Language.class);
      if (l != null) {
        queue.add(l);
      }
    }
  }
  return langs;
}
