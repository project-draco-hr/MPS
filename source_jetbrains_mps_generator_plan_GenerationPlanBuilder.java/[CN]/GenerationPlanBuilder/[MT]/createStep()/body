{
  List<MappingConfiguration> stepMappings=new ArrayList<MappingConfiguration>();
  while (true) {
    List<MappingConfiguration> mappingsForStep=new ArrayList<MappingConfiguration>();
    for (    MappingConfiguration mapping : myPriorityMap.keySet()) {
      if (myPriorityMap.get(mapping).isEmpty()) {
        mappingsForStep.add(mapping);
      }
    }
    if (mappingsForStep.isEmpty())     break;
    stepMappings.addAll(mappingsForStep);
    for (    MappingConfiguration mappingForStep : mappingsForStep) {
      myPriorityMap.remove(mappingForStep);
    }
    for (    MappingConfiguration mappingForStep : mappingsForStep) {
      for (      Map<MappingConfiguration,PriorityData> grtPriMappings : myPriorityMap.values()) {
        if (grtPriMappings.containsKey(mappingForStep)) {
          PriorityData priorityData=grtPriMappings.get(mappingForStep);
          if (!priorityData.isStrict) {
            grtPriMappings.remove(mappingForStep);
          }
        }
      }
    }
  }
  for (  MappingConfiguration mapping : stepMappings) {
    for (    Map<MappingConfiguration,PriorityData> grtPriMappings : myPriorityMap.values()) {
      grtPriMappings.remove(mapping);
    }
  }
  return stepMappings;
}
