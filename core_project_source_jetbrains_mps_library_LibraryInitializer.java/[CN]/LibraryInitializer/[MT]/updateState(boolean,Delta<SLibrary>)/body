{
  final List<SLibrary> toUnload=libraryDelta.getRemoved();
  final List<SLibrary> toLoad=libraryDelta.getAdded();
  myModelAccess.runWriteAction(new Runnable(){
    @Override public void run(){
      LOG.info("Loading " + toLoad.size() + " libraries; Unloading "+ toUnload.size()+ " libraries.");
      for (      SLibrary unloadLib : toUnload) {
        unloadLib.dispose();
      }
      for (      SLibrary loadLib : toLoad) {
        loadLib.attach(refreshFiles);
      }
    }
  }
);
}
