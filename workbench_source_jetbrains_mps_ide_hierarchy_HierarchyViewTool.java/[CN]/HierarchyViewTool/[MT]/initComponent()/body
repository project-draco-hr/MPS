{
  super.initComponent();
  myRepositoryListener=new SModelRepositoryAdapter(){
    public void modelAdded(    SModelDescriptor modelDescriptor){
      modelDescriptor.addModelListener(myModelListener);
    }
  }
;
  myModelListener=new SModelAdapter(){
    public void referenceAdded(    SModelReferenceEvent event){
      super.referenceAdded(event);
    }
    public void referenceRemoved(    SModelReferenceEvent event){
      super.referenceRemoved(event);
    }
    public void rootRemoved(    SModelRootEvent event){
      super.rootRemoved(event);
    }
    public void rootAdded(    SModelRootEvent event){
      super.rootAdded(event);
    }
    public void modelChangedDramatically(    SModel model){
      myCachesAreValid=false;
    }
  }
;
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      Language language : MPSModuleRepository.getInstance().getAllLanguages()) {
        SModelDescriptor structureDescriptor=language.getStructureModelDescriptor();
        structureDescriptor.addModelListener(myModelListener);
      }
      SModelRepository.getInstance().addModelRepositoryListener(myRepositoryListener);
    }
  }
);
}
