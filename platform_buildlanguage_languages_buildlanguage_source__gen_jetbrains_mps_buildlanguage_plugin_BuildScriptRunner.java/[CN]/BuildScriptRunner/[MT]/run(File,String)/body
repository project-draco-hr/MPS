{
  List<String> parameters=ListSequence.<String>fromArray();
  this.addBasicParameters(parameters,file);
  this.addMacroValues(parameters);
  if (commandLine != null) {
    ListSequence.fromList(parameters).addSequence(ListSequence.fromList(Arrays.asList(commandLine.split(" "))));
  }
  ProcessBuilder builder=new ProcessBuilder(parameters);
  builder.directory(file.getParentFile());
  try {
    Process process=builder.start();
    BaseOutputReader input=new BaseOutputReader(process.getInputStream()){
      protected void addMessage(      final String message){
        ModelAccess.instance().runReadInEDT(new Runnable(){
          public void run(){
            BuildScriptRunner.this.myComponent.addMessage(message);
          }
        }
);
      }
    }
;
    input.start();
    BaseOutputReader error=new BaseOutputReader(process.getErrorStream()){
      protected void addMessage(      final String message){
        ModelAccess.instance().runReadInEDT(new Runnable(){
          public void run(){
            BuildScriptRunner.this.myComponent.addError(message);
          }
        }
);
      }
    }
;
    error.start();
  }
 catch (  IOException exception) {
  }
}
