{
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
synchronized (myBreakpoints) {
        myBreakpoints.remove(breakpoint);
        if (breakpoint instanceof ILocationBreakpoint) {
          ILocationBreakpoint locationBreakpoint=(ILocationBreakpoint)breakpoint;
          SNode node=locationBreakpoint.getSNode();
          if (node != null) {
            SNode root=node.getContainingRoot();
            if (root != null) {
              SNodePointer rootPointer=new SNodePointer(root);
              Set<IBreakpoint> breakpointsForRoot=myRootsToBreakpointsMap.get(rootPointer);
              if (breakpointsForRoot != null) {
                breakpointsForRoot.remove(breakpoint);
              }
              for (              IEditor editor : myEditorsProvider.getSelectedEditors()) {
                EditorComponent editorComponent=editor.getCurrentEditorComponent();
                if (editorComponent != null) {
                  SNode editedNode=editorComponent.getEditedNode();
                  if (root == editedNode) {
                    editorComponent.removeAdditionalPainterByItem(breakpoint);
                    editorComponent.getLeftEditorHighlighter().removeIconRenderer(locationBreakpoint.getSNode(),BreakpointIconRenderer.TYPE);
                    editorComponent.repaint();
                  }
                }
              }
            }
          }
        }
        breakpoint.removeBreakpointListener(myBreakpointListener);
        breakpoint.removeFromRunningSessions();
      }
    }
  }
);
  fireBreakpointsChanged();
}
