{
  return new IJob.Stub(){
    public IResult execute(    final Iterable<IResource> input,    final IJobMonitor monitor,    final IPropertiesAccessor pa){
      Iterable<IResource> _output_srsvb8_a0a=null;
switch (0) {
case 0:
        final List<Tuples._2<IFile,IFile>> toCopy=ListSequence.fromList(new ArrayList<Tuples._2<IFile,IFile>>());
      for (      IResource resource : input) {
        TResource tres=(TResource)resource;
        String dest=pa.forResource(tres).properties(Target_copyFiles.this.getName(),CopyBuildArtifacts_Facet.Target_copyFiles.Parameters.class).destination();
        if (dest != null) {
          final IFile destDir=FileSystem.getInstance().getFileByPath(MacrosFactory.moduleDescriptor(tres.module()).expandPath(dest,tres.module().getDescriptorFile()));
          if (destDir.exists() && destDir.isDirectory()) {
            new DeltaReconciler(tres.delta()).visitAll(new FilesDelta.Visitor(){
              @Override public boolean acceptWritten(              IFile file){
                if (!(Sequence.fromIterable(Sequence.fromArray(new String[]{"dependencies","generated","trace.info"})).contains(file.getName()))) {
                  String path=file.getPath();
                  IFile copy=destDir.getDescendant(file.getName());
                  ListSequence.fromList(toCopy).addElement(MultiTuple.<IFile,IFile>from(file,copy));
                  monitor.reportFeedback(new IFeedback.INFORMATION(String.valueOf("Copying " + ListSequence.fromList(toCopy).last())));
                }
                return true;
              }
            }
);
          }
        }
        ThreadUtils.runInUIThreadAndWait(new Runnable(){
          public void run(){
            ModelAccess.instance().requireWrite(new Runnable(){
              public void run(){
                ListSequence.fromList(toCopy).visitAll(new IVisitor<Tuples._2<IFile,IFile>>(){
                  public void visit(                  Tuples._2<IFile,IFile> ftc){
                    IFileUtils.copyFileContent(ftc._0(),ftc._1());
                  }
                }
);
              }
            }
);
          }
        }
);
        _output_srsvb8_a0a=Sequence.fromIterable(_output_srsvb8_a0a).concat(Sequence.fromIterable(Sequence.<IResource>singleton(resource)));
      }
default :
    return new IResult.SUCCESS(_output_srsvb8_a0a);
}
}
}
;
}
