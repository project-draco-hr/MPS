{
  Queue<SNode> queue=QueueSequence.fromQueueWithValues(new LinkedList<SNode>(),SNodeOperations.getChildren(node));
  while (QueueSequence.fromQueue(queue).isNotEmpty()) {
    SNode child=QueueSequence.fromQueue(queue).removeFirstElement();
    if (walker.invoke(child,queue)) {
      QueueSequence.fromQueue(queue).addSequence(ListSequence.fromList(SNodeOperations.getChildren(child)));
    }
  }
}
