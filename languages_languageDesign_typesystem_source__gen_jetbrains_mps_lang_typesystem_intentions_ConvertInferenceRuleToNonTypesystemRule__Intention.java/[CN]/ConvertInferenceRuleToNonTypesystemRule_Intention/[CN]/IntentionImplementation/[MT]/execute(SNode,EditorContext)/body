{
  SNode nonTypesystemRule=SNodeFactoryOperations.createNewRootNode(SNodeOperations.getModel(node),"jetbrains.mps.lang.typesystem.structure.NonTypesystemRule",null);
  SPropertyOperations.set(nonTypesystemRule,MetaAdapterFactory.getProperty(new UUID(8817443762339858024l,-6091446231697526094l),1195213580585l,1195213689297l,"overrides"),"" + (SPropertyOperations.getBoolean(node,MetaAdapterFactory.getProperty(new UUID(8817443762339858024l,-6091446231697526094l),1195213580585l,1195213689297l,"overrides"))));
  SPropertyOperations.set(nonTypesystemRule,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"),SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")));
  SLinkOperations.setTarget(nonTypesystemRule,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1195213580585l,1195213635060l,"body"),SNodeOperations.copyNode(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1195213580585l,1195213635060l,"body"))));
  SLinkOperations.setTarget(nonTypesystemRule,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1174648085619l,1174648101952l,"applicableNode"),SNodeOperations.copyNode(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1174648085619l,1174648101952l,"applicableNode"))));
  for (  SNode applicableNodeReference : SNodeOperations.getDescendants(SLinkOperations.getTarget(nonTypesystemRule,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1195213580585l,1195213635060l,"body")),"jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference",false,new String[]{})) {
    if (SLinkOperations.getTarget(applicableNodeReference,MetaAdapterFactory.getReferenceLink(new UUID(8817443762339858024l,-6091446231697526094l),1174650418652l,1174650432090l,"applicableNode")) == SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1174648085619l,1174648101952l,"applicableNode"))) {
      SLinkOperations.setTarget(applicableNodeReference,MetaAdapterFactory.getReferenceLink(new UUID(8817443762339858024l,-6091446231697526094l),1174650418652l,1174650432090l,"applicableNode"),SLinkOperations.getTarget(nonTypesystemRule,MetaAdapterFactory.getContainmentLink(new UUID(8817443762339858024l,-6091446231697526094l),1174648085619l,1174648101952l,"applicableNode")));
    }
  }
  SNodeOperations.deleteNode(node);
  NavigationSupport.getInstance().openNode(editorContext.getOperationContext(),nonTypesystemRule,true,!(jetbrains.mps.util.SNodeOperations.isRoot(nonTypesystemRule)));
}
