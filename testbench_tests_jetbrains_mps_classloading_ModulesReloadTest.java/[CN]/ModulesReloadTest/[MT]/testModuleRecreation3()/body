{
  final Language[] l=new Language[3];
  myAccess.runWriteAction(new Runnable(){
    @Override public void run(){
      l[0]=createLanguage();
      l[1]=createLanguage();
      l[0].addDependency(l[1].getModuleReference(),false);
      removeModule(l[1]);
      l[2]=createLanguage(l[1].getModuleDescriptor().getId(),l[1].getModuleName());
      addClassTo(l[2]);
      l[2].reload();
      Assert.assertTrue(classIsLoadableFromModule(l[0]));
    }
  }
);
  Assert.assertTrue(classIsLoadableFromModule(l[0]));
}
