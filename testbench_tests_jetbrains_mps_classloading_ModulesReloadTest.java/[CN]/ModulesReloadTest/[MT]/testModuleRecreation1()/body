{
  final Language l1=createLanguage();
  final Language[] l2=new Language[1];
  getModelAccess().runWriteAction(new Runnable(){
    @Override public void run(){
      addClassTo(l1);
      l1.reload();
      Assert.assertTrue(classIsLoadableFromModule(l1));
      removeModule(l1);
      l2[0]=createLanguage(l1.getModuleDescriptor().getId(),l1.getModuleName());
      Assert.assertTrue(l2[0].getClassLoader() != null);
    }
  }
);
  Assert.assertTrue(l2[0].getClassLoader() != null);
}
