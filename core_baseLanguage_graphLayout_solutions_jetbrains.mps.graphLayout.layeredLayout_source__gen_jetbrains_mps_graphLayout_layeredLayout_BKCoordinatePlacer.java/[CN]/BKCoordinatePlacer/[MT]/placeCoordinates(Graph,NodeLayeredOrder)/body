{
  this.init(graph,order);
  int[] roots=computeBlocks(order);
  Graph blockGraph=this.createBlockGraph(order,roots);
  NodeLayers layers=new BlockGraphProcessor().process(blockGraph);
  Map<Node,Point> coord=MapSequence.fromMap(new HashMap<Node,Point>());
  for (  Node node : ListSequence.fromList(graph.getNodes())) {
    int index=node.getIndex();
    MapSequence.fromMap(coord).put(node,new Point(layers.get(MapSequence.fromMap(myRoots).get(roots[index])),myNumLayer[index]));
  }
  return coord;
}
