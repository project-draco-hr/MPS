{
  final MPSNodeVirtualFile[] virtualFile=new MPSNodeVirtualFile[1];
  myEditor.getEditorContext().getRepository().getModelAccess().runReadAction(new Runnable(){
    public void run(){
      virtualFile[0]=MPSNodesVirtualFileSystem.getInstance().getFileFor(myEditor.getEditedNode());
    }
  }
);
  return (virtualFile[0] == null ? new Document[0] : new Document[]{MPSUndoUtil.getDoc(virtualFile[0])});
}
