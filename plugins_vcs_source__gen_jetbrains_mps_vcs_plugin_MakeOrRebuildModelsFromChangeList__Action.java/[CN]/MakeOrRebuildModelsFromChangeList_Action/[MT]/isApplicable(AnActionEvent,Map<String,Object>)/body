{
  List<SModel> models=MakeOrRebuildModelsFromChangeList_Action.this.getModels2Build(event.getData(CommonDataKeys.VIRTUAL_FILE_ARRAY),event);
  if (IMakeService.INSTANCE.get().isSessionActive() || ListSequence.fromList(models).isEmpty()) {
    return false;
  }
  String what=(ListSequence.fromList(models).count() == 1 ? "model " + ListSequence.fromList(models).first().getModelName() : "selected models");
  String fmt=(MakeOrRebuildModelsFromChangeList_Action.this.rebuild ? "Rebuild %s" : "Make %s");
  event.getPresentation().setText(String.format(fmt,what));
  return true;
}
