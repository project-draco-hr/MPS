{
  myAllCaches.registerCache(this);
  myFileGeneratorManager.addCachesGenerator(new CacheGenerator(){
    public Set<File> generateCaches(    CacheGenerationContext context){
      Set<File> result=new HashSet<File>();
      T cache=generateCache(context);
      IFile cacheFile=getCacheFile(context.getStatus().getOriginalInputModel());
      OutputStream os=null;
      try {
        os=cacheFile.openOutputStream();
        save(cache,os);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
 finally {
        if (os != null) {
          try {
            os.close();
          }
 catch (          IOException e) {
            LOG.error(e);
          }
        }
      }
      result.add(cacheFile.toFile());
      return result;
    }
  }
);
}
