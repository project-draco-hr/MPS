{
  this.removeAllChildren();
  SNode n=getSNode();
  if (n == null)   return;
  if (showPropertiesAndReferences()) {
    add(new PropertiesTreeNode(getOperationContext(),n));
    add(new ReferencesTreeNode(getOperationContext(),n));
  }
  for (  SNode childNode : n.getChildren()) {
    add(getSModelModelTreeNode().createSNodeTreeNode(childNode,childNode.getRole_(),getOperationContext()));
  }
  IDEProjectFrame projectFrame=(IDEProjectFrame)getOperationContext().getComponent(AbstractProjectFrame.class);
  DefaultTreeModel treeModel=(DefaultTreeModel)projectFrame.getProjectPane().getTree().getModel();
  treeModel.nodeStructureChanged(this);
  myInitialized=true;
}
