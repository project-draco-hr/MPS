{
  SNode parent=myRepresentatives.get(node);
  SNode current=node;
  if (parent != null) {
    List<SNode> path=new LinkedList<SNode>();
    while (parent != null) {
      path.add(current);
      current=parent;
      parent=myRepresentatives.get(parent);
    }
    if (path.size() > 1) {
      for (      SNode elem : path) {
        substituteRepresentative(elem,current);
      }
    }
  }
  return current;
}
