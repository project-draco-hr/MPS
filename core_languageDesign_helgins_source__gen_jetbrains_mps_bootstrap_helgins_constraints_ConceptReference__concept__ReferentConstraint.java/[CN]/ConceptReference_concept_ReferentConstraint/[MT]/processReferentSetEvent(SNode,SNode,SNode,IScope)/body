{
  if ((newReferentNode != null) && newReferentNode != oldReferentNode) {
    SPropertyOperations.set(referenceNode,"name",NameUtil.decapitalize(SPropertyOperations.getString(newReferentNode,"name")));
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(referenceNode,null,false,false),"jetbrains.mps.bootstrap.helgins.structure.InferenceRule")) {
      SPropertyOperations.set(SNodeOperations.getParent(referenceNode,null,false,false),"name","typeof_" + SPropertyOperations.getString(newReferentNode,"name"));
    }
  }
}
