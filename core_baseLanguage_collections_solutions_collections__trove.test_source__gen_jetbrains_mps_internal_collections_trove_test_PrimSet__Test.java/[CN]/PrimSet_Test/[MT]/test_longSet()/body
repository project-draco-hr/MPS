{
  final Set<Long> ls=SetSequence.fromSet(new TLongHashSetDecorator(new TLongHashSet()));
  Sequence.fromIterable(ArrayUtils.fromLongArray(new long[]{5,4,3,2,1,2,3,4,5})).visitAll(new _Adapters._return_P1_E0_to_IVisitor_adapter<Long>(new _FunctionTypes._return_P1_E0<Long,Long>(){
    public Long invoke(    Long i){
      return SetSequence.fromSet(ls).addElement(i);
    }
  }
));
  this.assertIterableEqualsAsSet(this.input5(),SetSequence.fromSet(ls).select(new ISelector<Long,Integer>(){
    public Integer select(    Long l){
      return (int)(long)l;
    }
  }
));
}
