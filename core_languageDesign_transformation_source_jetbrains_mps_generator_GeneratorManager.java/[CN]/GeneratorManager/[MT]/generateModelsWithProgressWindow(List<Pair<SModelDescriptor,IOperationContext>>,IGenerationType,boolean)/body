{
  if (inputModels.isEmpty()) {
    return true;
  }
  final IOperationContext invocationContext=inputModels.get(0).o2;
  final DefaultMessageHandler messages=new DefaultMessageHandler(invocationContext.getMPSProject());
  final boolean saveTransientModels;
  if (isSaveTransientModels()) {
    Object[] options={"Yes","Not this time","No, and cancel saving"};
    int option=JOptionPane.showOptionDialog(invocationContext.getMainFrame(),"Would you like to save transient models?","",JOptionPane.YES_NO_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE,null,options,options[0]);
    if (option == JOptionPane.YES_OPTION) {
      saveTransientModels=true;
    }
 else {
      saveTransientModels=false;
      if (option == JOptionPane.CANCEL_OPTION) {
        setSaveTransientModels(false);
      }
    }
  }
 else {
    saveTransientModels=false;
  }
  ApplicationManager.getApplication().saveAll();
  showMessageView();
  IdeEventQueue.getInstance().flushQueue();
  final boolean[] result=new boolean[]{false};
  ProgressManager.getInstance().run(new Modal(invocationContext.getComponent(Project.class),"Generation",true){
    public void run(    @NotNull ProgressIndicator progress){
      result[0]=generateModels(inputModels,generationType,progress,messages,saveTransientModels);
    }
  }
);
  return result[0];
}
