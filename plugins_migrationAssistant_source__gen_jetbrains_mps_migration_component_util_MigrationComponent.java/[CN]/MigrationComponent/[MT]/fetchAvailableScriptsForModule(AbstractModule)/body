{
  return Sequence.fromIterable(MigrationsUtil.getDependenciesToMigrate(module)).select(new ISelector<Tuples._3<SModule,Integer,Integer>,MigrationScript>(){
    public MigrationScript select(    Tuples._3<SModule,Integer,Integer> dep){
      SModule depModule=dep._0();
      int current=(int)dep._1();
      MigrationDescriptor md=getMigrationDescriptor(depModule);
      if (md == null) {
        if (LOG.isEnabledFor(Level.WARN)) {
          LOG.warn("Could not load migration descriptor for language " + depModule + ".");
        }
      }
      MigrationScript script=check_gd1mrb_a0e0a0a0a6(md,current);
      if (script == null) {
        if (LOG.isEnabledFor(Level.WARN)) {
          LOG.warn("Could not load migration script for language " + depModule + ", version "+ current+ ".");
        }
        return null;
      }
      if (!(script.applicableToModule(module))) {
        return script;
      }
      boolean available=Sequence.fromIterable(script.requiresData()).all(new IWhereFilter<MigrationScriptReference>(){
        public boolean accept(        MigrationScriptReference it){
          return isAppliedForAllMyDeps(it,module);
        }
      }
);
      if (available) {
        return script;
      }
      return null;
    }
  }
);
}
