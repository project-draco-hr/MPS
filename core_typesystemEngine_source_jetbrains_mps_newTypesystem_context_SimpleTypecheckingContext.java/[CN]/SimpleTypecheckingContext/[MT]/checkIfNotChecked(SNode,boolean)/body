{
synchronized (TYPECHECKING_LOCK) {
    if (myCurrentlyChecking)     return true;
    try {
      this.myCurrentlyChecking=true;
      if (!isCheckedRoot(useNonTypesystemRules)) {
        checkRoot();
        if (useNonTypesystemRules) {
          applyNonTypesystemRules();
        }
      }
      return true;
    }
  finally {
      this.myCurrentlyChecking=false;
    }
  }
}
