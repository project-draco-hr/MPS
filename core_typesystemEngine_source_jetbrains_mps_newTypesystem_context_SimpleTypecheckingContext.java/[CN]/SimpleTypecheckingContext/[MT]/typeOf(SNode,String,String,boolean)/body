{
  EquationInfo info=new EquationInfo(node,"typeOf",ruleModel,ruleId);
  if (node == null)   return null;
  BaseTypechecking currentTypesComponent=getTypechecking();
  if (currentTypesComponent != null) {
    currentTypesComponent.addNodeToFrontier(node);
    processDependency(node,ruleModel,ruleId,addDependency);
  }
  return getState().typeOf(node,info);
}
