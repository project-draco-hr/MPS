{
  if (holder instanceof NodeHolder) {
    SNode node=((NodeHolder)holder).getObject();
    return node == null ? null : jetbrains.mps.ide.icons.IconManager.getIconFor(node);
  }
 else   if (holder instanceof ModelHolder) {
    return IdeIcons.MODEL_ICON;
  }
 else   if (holder instanceof ModelsHolder) {
    return IdeIcons.MODEL_ICON;
  }
 else   if (holder instanceof ModuleHolder) {
    return jetbrains.mps.ide.icons.IconManager.getIconFor(((ModuleHolder)holder).getObject());
  }
 else   if (holder instanceof ModulesHolder) {
    return IdeIcons.SOLUTION_ICON;
  }
 else   if (holder instanceof VoidHolder) {
    return ((VoidHolder)holder).getIcon();
  }
 else   if (holder instanceof ConstantHolder) {
    return ((ConstantHolder)holder).getIcon();
  }
  try {
    final Object value=holder.getObject();
    if (value instanceof Collection) {
      Collection c=(Collection)value;
      if (!c.isEmpty()) {
        return getIconForHoldValue(c.iterator().next());
      }
    }
    return getIconForHoldValue(value);
  }
 catch (  Exception ex) {
  }
  return null;
}
