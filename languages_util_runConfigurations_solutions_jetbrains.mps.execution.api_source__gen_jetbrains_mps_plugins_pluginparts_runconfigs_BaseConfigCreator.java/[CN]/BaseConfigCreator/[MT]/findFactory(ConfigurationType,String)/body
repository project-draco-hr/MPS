{
  for (  ConfigurationFactory factory : Sequence.<ConfigurationFactory>fromIterable(Sequence.fromArray(configurationType.getConfigurationFactories()))) {
    if (factory.getClass().getName().equals(configurationFactoryClassName)) {
      return factory;
    }
  }
  if (log.isWarnEnabled()) {
    log.warn("Cound not find configuration factory for " + configurationFactoryClassName + " in type "+ configurationType.getDisplayName()+ ".");
  }
  return configurationType.getConfigurationFactories()[0];
}
