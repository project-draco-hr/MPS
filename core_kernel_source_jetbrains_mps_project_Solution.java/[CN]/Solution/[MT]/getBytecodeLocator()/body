{
  return new ModuleBytecodeLocator(){
    public byte[] find(    String fqName){
      if (!canLoad())       return null;
      return super.find(fqName);
    }
    public URL findResource(    String name){
      if (!canLoad())       return null;
      return super.findResource(name);
    }
    private boolean canLoad(){
      return getModuleDescriptor().getCompileInMPS() && (MPSCore.getInstance().isTestMode() || getModuleDescriptor().getKind() != SolutionKind.NONE);
    }
  }
;
}
