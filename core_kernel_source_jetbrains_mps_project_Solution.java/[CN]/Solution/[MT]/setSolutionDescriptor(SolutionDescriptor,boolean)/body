{
  mySolutionDescriptor=newDescriptor;
  ModuleReference mp;
  if (isExternallyVisible() && mySolutionDescriptor.getNamespace() != null) {
    mp=new ModuleReference(mySolutionDescriptor.getNamespace(),mySolutionDescriptor.getUUID());
  }
 else {
    mp=new ModuleReference(FileUtil.getCanonicalPath(myDescriptorFile.getAbsolutePath()),mySolutionDescriptor.getUUID());
  }
  setModulePointer(mp);
  reload();
  MPSModuleRepository.getInstance().fireModuleChanged(this);
  if (reloadClasses) {
    ClassLoaderManager.getInstance().reloadAll(new EmptyProgressIndicator());
  }
}
