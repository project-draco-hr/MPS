{
  ModelAccess.instance().runCommandInEDT(new Runnable(){
    @Override public void run(){
      Set<EditableSModel> modelsToSave=new HashSet<EditableSModel>();
      for (      SNodeReference selectedNode : mySelectedNodes) {
        SNode nodeToDelete=selectedNode.resolve(MPSModuleRepository.getInstance());
        if (nodeToDelete != null) {
          SModel modelDescriptor=nodeToDelete.getModel();
          if (modelDescriptor instanceof EditableSModel) {
            nodeToDelete.delete();
            modelsToSave.add((EditableSModel)modelDescriptor);
          }
        }
      }
      for (      EditableSModel sModelDescriptor : modelsToSave) {
        sModelDescriptor.save();
      }
    }
  }
,myProject);
}
