{
  while (!myUiState.compareAndSet(oldState,newState)) {
    oldState=getUiState();
  }
  fireStateChanged();
}
