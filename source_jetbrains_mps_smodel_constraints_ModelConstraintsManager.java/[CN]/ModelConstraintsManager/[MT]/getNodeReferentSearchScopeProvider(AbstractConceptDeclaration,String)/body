{
  if (nodeConcept instanceof ConceptDeclaration) {
    while (nodeConcept != null) {
      Language l=SModelUtil_new.getDeclaringLanguage(nodeConcept,GlobalScope.getInstance());
      if (!myAddedLanguageNamespaces.containsKey(l.getNamespace())) {
        processLanguageAdded(l);
      }
      String conceptFqName=NameUtil.nodeFQName(nodeConcept);
      INodeReferentSearchScopeProvider provider=myNodeReferentSearchScopeProvidersMap.get(conceptFqName + "#" + referentRole);
      if (provider != null)       return provider;
      nodeConcept=((ConceptDeclaration)nodeConcept).getExtends();
    }
  }
  return null;
}
