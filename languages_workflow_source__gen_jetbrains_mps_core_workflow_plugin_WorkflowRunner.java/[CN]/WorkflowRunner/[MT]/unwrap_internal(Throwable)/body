{
  if (ex instanceof InvocationTargetException) {
    return ((InvocationTargetException)ex).getCause();
  }
 else   if (ex instanceof RuntimeException) {
    return ((RuntimeException)ex).getCause();
  }
  return null;
}
