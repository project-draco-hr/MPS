{
  final Map<Integer,Integer> propertiesStatistic=MapSequence.fromMap(new HashMap<Integer,Integer>());
  final Map<Integer,Integer> childrenStatistic=MapSequence.fromMap(new HashMap<Integer,Integer>());
  final Map<Integer,Integer> refsStatistic=MapSequence.fromMap(new HashMap<Integer,Integer>());
  final Wrappers._int zeros=new Wrappers._int(0);
  InternalActionsUtils.executeActionOnAllNodesInModal("Calculate statistic",((Project)MapSequence.fromMap(_params).get("project")),new _FunctionTypes._void_P1_E0<SNode>(){
    public void invoke(    SNode node){
      int propertiesCount=SNodeOperations.getProperties(node).keySet().size();
      MapSequence.fromMap(propertiesStatistic).put(propertiesCount,(MapSequence.fromMap(propertiesStatistic).containsKey(propertiesCount) ? MapSequence.fromMap(propertiesStatistic).get(propertiesCount) + 1 : 1));
      int refsCount=SNodeOperations.getReferences(node).size();
      MapSequence.fromMap(refsStatistic).put(refsCount,(MapSequence.fromMap(refsStatistic).containsKey(refsCount) ? MapSequence.fromMap(refsStatistic).get(refsCount) + 1 : 1));
      int childrenCount=SNodeOperations.getChildren(node).size();
      MapSequence.fromMap(childrenStatistic).put(childrenCount,(MapSequence.fromMap(childrenStatistic).containsKey(childrenCount) ? MapSequence.fromMap(childrenStatistic).get(childrenCount) + 1 : 1));
      if (propertiesCount + refsCount + childrenCount == 0) {
        zeros.value++;
      }
    }
  }
);
  if (LOG.isEnabledFor(Level.WARN)) {
    LOG.warn("Property size statistic: " + propertiesStatistic);
  }
  if (LOG.isEnabledFor(Level.WARN)) {
    LOG.warn("Refs size statistic: " + refsStatistic);
  }
  if (LOG.isEnabledFor(Level.WARN)) {
    LOG.warn("Children size statistic: " + childrenStatistic);
  }
  if (LOG.isEnabledFor(Level.WARN)) {
    LOG.warn("Zeros statistic: " + zeros.value);
  }
}
