{
  if (descriptorInterface == IHelginsDescriptor.class) {
    return (T)getTypesystem();
  }
  if (descriptorInterface == StructureAspectDescriptor.class) {
    StructureAspectDescriptor oldDescriptor=getStructureAspectDescriptor();
    if (oldDescriptor == null) {
      return (T)new BaseStructureAspectDescriptor(){
        @Override public Collection<ConceptDescriptor> getDescriptors(){
          return Collections.EMPTY_LIST;
        }
        @Override public ConceptDescriptor getDescriptor(        String fqName){
          return null;
        }
      }
;
    }
    return (T)oldDescriptor;
  }
  if (descriptorInterface == BehaviorAspectDescriptor.class) {
    return (T)getBehaviorAspectDescriptor();
  }
  if (descriptorInterface == ConstraintsAspectDescriptor.class) {
    return (T)getConstraintsAspectDescriptor();
  }
  if (descriptorInterface == FindUsageAspectDescriptor.class) {
    return (T)getFindUsages();
  }
  if (descriptorInterface == MakeAspectDescriptor.class) {
    final DescriptorProvider<FacetDescriptor> fp=getFacetProvider();
    if (MakeAspectDescriptor.class.isInstance(fp)) {
      return (T)fp;
    }
    final IFacetManifest fm=fp.getDescriptor(null).getManifest();
    return (T)new MakeAspectDescriptor(){
      @Override public IFacetManifest getManifest(){
        return fm;
      }
    }
;
  }
  return null;
}
