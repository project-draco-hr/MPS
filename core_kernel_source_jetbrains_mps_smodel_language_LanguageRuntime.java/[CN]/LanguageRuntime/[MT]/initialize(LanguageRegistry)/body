{
  Queue<String> extendedLanguageIDs=new ArrayDeque<String>(Arrays.asList(getExtendedLanguageIDs()));
  Set<String> visitedLanguages=new HashSet<String>();
  visitedLanguages.add(getNamespace());
  while (!extendedLanguageIDs.isEmpty()) {
    String nextLanguageID=extendedLanguageIDs.remove();
    if (visitedLanguages.add(nextLanguageID)) {
      LanguageRuntime extendedLanguage=registry.getLanguage(nextLanguageID);
      if (extendedLanguage != null) {
        extendedLanguage.registerExtendingLanguage(this);
        extendedLanguageIDs.addAll(Arrays.asList(extendedLanguage.getExtendedLanguageIDs()));
      }
    }
  }
  myExtendedLanguages.remove(this);
  myExtendingLanguages.remove(this);
}
