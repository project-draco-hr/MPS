{
  myCachedAttributeValues.clear();
  Set<StyleAttribute> attributes=new HashSet<StyleAttribute>();
  attributes.addAll(myAttributeValues.keySet());
  if (getParentStyle() != null) {
    attributes.addAll(getParentStyle().myCachedAttributeValues.keySet());
  }
  for (  StyleAttribute attribute : attributes) {
    Object parentValue=getParentStyle() == null ? null : getParentStyle().get(attribute);
    Object currentValue=myAttributeValues.get(attribute);
    if (currentValue instanceof AttributeCalculator) {
      currentValue=((AttributeCalculator)currentValue).calculate(myEditorCell);
    }
    myCachedAttributeValues.put(attribute,attribute.combine(parentValue,currentValue));
  }
  for (  Style style : myChildren) {
    style.updateCache();
  }
}
