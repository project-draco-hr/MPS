{
  return new GenerationCacheContainer(){
    @Override public ModelCacheContainer getCache(    @NotNull SModelDescriptor descriptor,    String hash,    boolean create){
      if (generatorCaches == null) {
        return null;
      }
      String modelId=descriptor.getSModelReference().getSModelId().toString();
      if (modelId == null || modelId.isEmpty()) {
        return null;
      }
      File modelCacheDir=new File(generatorCaches,modelId);
      if (!modelCacheDir.exists()) {
        if (!create) {
          return null;
        }
        if (!modelCacheDir.mkdirs()) {
          return null;
        }
      }
      File hashDir=new File(modelCacheDir,hash);
      if (!hashDir.exists()) {
        if (!create) {
          return null;
        }
        if (!hashDir.mkdirs()) {
          return null;
        }
      }
      if (create) {
        for (        File file : hashDir.listFiles()) {
          file.delete();
        }
      }
      return new WorkbenchModelCacheContainer(modelCacheDir,hashDir,hash,!create);
    }
  }
;
}
