{
  myEditor=editor;
  editor.addRebuildListener(myRebuildListener=new RebuildListener(){
    public void editorRebuilt(    EditorComponent editor){
      if (myDisposed) {
        return;
      }
synchronized (myMessagesLock) {
        if (myMessagesCache == null) {
          return;
        }
        for (        EditorCell cell : myMessagesCache.keySet()) {
          if (!myEditor.isValid(cell)) {
            rebuildMessages();
            return;
          }
        }
      }
    }
  }
);
  ClassLoaderManager.getInstance().addReloadHandler(myHandler);
}
