{
  myEditor=edtitor;
  myHandler=new ReloadAdapter(){
    public void onReload(){
      clear();
    }
  }
;
  edtitor.addRebuildListener(new RebuildListener(){
    public void editorRebuilt(    EditorComponent editor){
      boolean needRebuild=false;
      for (      EditorCell cell : myMessagesCache.keySet()) {
        if (!myEditor.isValid(cell)) {
          needRebuild=true;
          break;
        }
      }
      if (!needRebuild)       return;
      rebuildMessages();
    }
  }
);
  ClassLoaderManager.getInstance().addReloadHandler(myHandler);
}
