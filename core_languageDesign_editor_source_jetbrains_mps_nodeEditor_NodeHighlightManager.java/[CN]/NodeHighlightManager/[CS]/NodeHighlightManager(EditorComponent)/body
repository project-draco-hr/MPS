{
  myEditor=editor;
  editor.addRebuildListener(myRebuildListener=new RebuildListener(){
    public void editorRebuilt(    EditorComponent editor){
      if (myDisposed) {
        return;
      }
      for (      EditorCell cell : getMessagesCache().keySet()) {
        if (!myEditor.isValid(cell)) {
          invalidateMassagesCaches();
          repaintAndRebuildEditorMessages();
          return;
        }
      }
    }
  }
);
  ClassLoaderManager.getInstance().addReloadHandler(myHandler);
}
