{
  if (m == null) {
    return;
  }
  EditorMessageOwner owner=m.getOwner();
  Set<EditorMessage> messages=myOwnerToMessages.get(owner);
  if (messages != null) {
    messages.remove(m);
    if (messages.isEmpty()) {
      myOwnerToMessages.remove(owner);
    }
  }
  myMessages.remove(m);
  myEditor.getMessagesGutter().remove(m);
  if (m instanceof EditorMessageIconRenderer) {
    myEditor.getLeftEditorHighlighter().removeIconRenderer((EditorMessageIconRenderer)m);
  }
  myMessagesToNodes.clearFirst(m);
}
