{
  for (  EditorMessage msg : getMessages()) {
    if (msg.sameAs(message))     return;
  }
synchronized (myMessagesLock) {
    addMessage(message);
  }
  myEditor.getMessagesGutter().add(message);
  if (message instanceof EditorMessageIconRenderer) {
    myEditor.getLeftEditorHighlighter().addIconRenderer((EditorMessageIconRenderer)message);
  }
  if (repaintAndRebuild) {
    repaintAndRebuildEditorMessages();
  }
}
