{
  String defVal="<default>";
  Object[] msg=new Object[]{"Choose destination model for the new template:"};
  Object[] selVals=Sequence.<Object>fromIterable(Sequence.<Object>singleton(defVal)).concat(Sequence.<Object>fromIterable(EditorExtensions.getInstance().findTemplateCreatorsInfo())).toGenericArray(Object.class);
  Frame frame=MPSDataKeys.FRAME.getData(DataManager.getInstance().getDataContext());
  Object creatorInfo=JOptionPane.showInputDialog(frame,msg,"Choose destination model",JOptionPane.QUESTION_MESSAGE,null,selVals,defVal);
  if (defVal.equals(creatorInfo)) {
    JOptionPane.showMessageDialog(frame,"Cannot create template","Error",JOptionPane.ERROR_MESSAGE);
    return null;
  }
  return (creatorInfo != null ? EditorExtensions.getInstance().createTemplate(node,creatorInfo) : null);
}
