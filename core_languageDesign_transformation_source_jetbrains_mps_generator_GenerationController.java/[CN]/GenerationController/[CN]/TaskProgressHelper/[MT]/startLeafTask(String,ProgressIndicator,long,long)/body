{
  myTaskName=taskName;
  myProgress=progressIndicator;
  myTotalJob=totalJob;
  myStartJobTime=startJobTime;
  final long estimatedTime=TaskProgressSettings.getInstance().getEstimatedTimeMillis(taskName);
  myStartTime=System.currentTimeMillis();
  javax.swing.Timer timer=new javax.swing.Timer(TIMER_DELAY,new ActionListener(){
    long myMillis=0;
    boolean myIndeterminate=false;
    public void actionPerformed(    ActionEvent e){
      myMillis+=TIMER_DELAY;
      if (myMillis > estimatedTime) {
        myMillis=estimatedTime;
        myIndeterminate=true;
        advance(myTotalJob,(myStartTime - myStartJobTime) + myMillis);
        myProgress.setIndeterminate(true);
      }
      if (!myIndeterminate) {
        advance(myTotalJob,(myStartTime - myStartJobTime) + myMillis);
      }
    }
  }
);
  myTimer=timer;
  timer.start();
}
