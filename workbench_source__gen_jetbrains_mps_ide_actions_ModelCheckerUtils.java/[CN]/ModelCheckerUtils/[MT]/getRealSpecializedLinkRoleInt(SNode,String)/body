{
  for (  SNode linkDeclaration : ListSequence.fromList(SLinkOperations.getTargets(conceptDeclaration,"linkDeclaration",true))) {
    if (SPropertyOperations.getString(linkDeclaration,"role").equals(role)) {
      return role;
    }
    if (SLinkOperations.getTarget(linkDeclaration,"specializedLink",false) != null) {
      SNode parentConceptDeclaration=SNodeOperations.getAncestor(SLinkOperations.getTarget(linkDeclaration,"specializedLink",false),"jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration",true,false);
      if (getRealSpecializedLinkRoleInt(parentConceptDeclaration,role) != null) {
        return SPropertyOperations.getString(linkDeclaration,"role");
      }
    }
  }
  return null;
}
