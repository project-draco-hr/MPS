{
  if (concept == null) {
    writeByte(NULL);
    return;
  }
  final SConceptId id=IdHelper.getConceptId(concept);
  if (myConcept2Index.containsKey(id)) {
    writeByte(CONCEPT_INDEX);
    writeShort(myConcept2Index.get(id));
  }
 else {
    writeByte(CONCEPT);
    writeUUID(id.getLanguageId().getIdValue());
    writeLong(id.getIdValue());
    writeString(concept.getQualifiedName());
    myConcept2Index.put(id,myConceptIndex++);
  }
}
