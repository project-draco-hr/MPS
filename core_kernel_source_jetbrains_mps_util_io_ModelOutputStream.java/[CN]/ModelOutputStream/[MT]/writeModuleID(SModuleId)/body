{
  if (id == null) {
    writeByte(NULL);
  }
 else   if (id instanceof ModuleId.Regular) {
    writeByte(MODULEID_REGULAR);
    writeUUID(((ModuleId.Regular)id).getUUID());
  }
 else   if (id instanceof ModuleId.Foreign) {
    writeByte(MODULEID_FOREIGN);
    writeString(((ModuleId.Foreign)id).getName());
  }
 else {
    throw new IOException("unknown id");
  }
}
