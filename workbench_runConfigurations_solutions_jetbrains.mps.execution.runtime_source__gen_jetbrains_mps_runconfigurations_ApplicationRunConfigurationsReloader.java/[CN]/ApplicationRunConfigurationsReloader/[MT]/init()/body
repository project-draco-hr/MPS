{
  if (myLoaded) {
    return;
  }
  if (IdeMain.getTestMode() != IdeMain.TestMode.NO_TEST) {
    return;
  }
synchronized (myConfigurationsLock) {
    ExtensionPoint<ConfigurationType> typesExtensionPoint=Extensions.getArea(null).getExtensionPoint(ConfigurationType.CONFIGURATION_TYPE_EP);
    myConfigurationTypes.clear();
    myConfigurationTypes.addAll(ApplicationRunConfigurationsReloader.createConfigurationTypes());
    for (    ConfigurationType creators : myConfigurationTypes) {
      typesExtensionPoint.registerExtension(creators);
    }
    ApplicationRunConfigurationsReloader.addForeignConfigurations();
    ExtensionPoint<RuntimeConfigurationProducer> creatorsExtensionPoint=Extensions.getArea(null).getExtensionPoint(RuntimeConfigurationProducer.RUNTIME_CONFIGURATION_PRODUCER);
    myRegisteredCreators.clear();
    myRegisteredCreators.addAll(ApplicationRunConfigurationsReloader.createCreators());
    for (    BaseConfigCreator creator : myRegisteredCreators) {
      creatorsExtensionPoint.registerExtension(creator);
    }
  }
  for (  Project p : myProjectManager.getOpenProjects()) {
    p.getComponent(RunConfigurationsReloader.class).initRunConfigurations();
  }
  myLoaded=true;
}
