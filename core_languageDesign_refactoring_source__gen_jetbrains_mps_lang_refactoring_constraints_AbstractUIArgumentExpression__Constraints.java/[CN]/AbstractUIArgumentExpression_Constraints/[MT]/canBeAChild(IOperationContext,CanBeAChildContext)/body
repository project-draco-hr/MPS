{
  SNode function=SNodeOperations.getAncestor(_context.getParentNode(),"jetbrains.mps.baseLanguage.structure.ConceptFunction",false,false);
  if (function == null) {
    return false;
  }
 else {
    return SNodeOperations.getAncestor(function,"jetbrains.mps.lang.refactoring.structure.Refactoring",false,false) != null;
  }
}
