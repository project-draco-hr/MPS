{
  methodNode.setState(testState);
  List<TestState> priorityList=Arrays.asList(TestState.IN_PROGRESS,TestState.PASSED,TestState.FAILED,TestState.ERROR,TestState.TERMINATED);
  TestState oldState=testCaseNode.getState();
  if (ListSequence.<TestState>fromList(priorityList).indexOf(oldState) < ListSequence.<TestState>fromList(priorityList).indexOf(testState)) {
    if (TestState.PASSED.equals(testState)) {
      for (      MPSTreeNode method : testCaseNode) {
        if (!(TestState.PASSED.equals(((TestMethodTreeNode)method).getState()))) {
          return;
        }
      }
    }
    testCaseNode.setState(testState);
  }
}
