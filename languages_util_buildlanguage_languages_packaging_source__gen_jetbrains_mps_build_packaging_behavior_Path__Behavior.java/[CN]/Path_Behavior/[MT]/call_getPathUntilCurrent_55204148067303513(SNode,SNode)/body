{
  String basePath=SPropertyOperations.getString(SLinkOperations.getTarget(thisNode,"macro",true),"path");
  if (basePath == null) {
    basePath="";
  }
  for (  SNode path : ListSequence.<SNode>fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(thisNode,"compositePathComponent",true),"pathComponent",true))) {
    if (path == currentNode) {
      break;
    }
    basePath+="/" + SPropertyOperations.getString(path,"path");
  }
  return basePath;
}
