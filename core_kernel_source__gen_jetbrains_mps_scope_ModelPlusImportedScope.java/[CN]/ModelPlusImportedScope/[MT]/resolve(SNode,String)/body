{
  Collection<SModelDescriptor> models=getModels();
  SNode result=null;
  for (  SModelDescriptor model : models) {
    if (model == null) {
      continue;
    }
    Iterable<SNode> nodes;
    String conceptToCheck;
    if (myRootsOnly) {
      nodes=model.getSModel().roots();
      conceptToCheck=myTargetConcept;
    }
 else     if (myTargetConcept != null) {
      nodes=model.getSModel().getFastNodeFinder().getNodes(myTargetConcept,true);
      conceptToCheck=null;
    }
 else {
      nodes=((Iterable)model.getSModel().nodes());
      conceptToCheck=null;
    }
    for (    SNode node : nodes) {
      if (conceptToCheck != null && !(SNodeUtil.isInstanceOf(node,SConceptRepository.getInstance().getConcept(conceptToCheck)))) {
        continue;
      }
      String nodeRefText=getReferenceText(null,node);
      if (nodeRefText == null || !(nodeRefText.equals(refText))) {
        continue;
      }
      if (result == null) {
        result=node;
      }
 else {
        return null;
      }
    }
  }
  return result;
}
