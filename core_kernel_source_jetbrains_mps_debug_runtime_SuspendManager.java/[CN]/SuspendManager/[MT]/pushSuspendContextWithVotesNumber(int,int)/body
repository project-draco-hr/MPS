{
  SuspendContext suspendContext=new SuspendContextImpl(myDebugProcess,suspendPolicy,nVotes,null){
    protected void resumeImpl(){
      LOG.debug("Start resuming...");
switch (getSuspendPolicy()) {
case EventRequest.SUSPEND_ALL:
        doResume();
      LOG.debug("VM resumed ");
    break;
case EventRequest.SUSPEND_EVENT_THREAD:
  getThread().resume();
LOG.debug("Thread resumed : " + getThread().toString());
break;
case EventRequest.SUSPEND_NONE:
LOG.debug("None resumed");
break;
}
}
@Override protected void tryResume() throws ObjectCollectedException, InternalException {
myDebugProcess.getVirtualMachine().resume();
}
}
;
pushContext(suspendContext);
return suspendContext;
}
