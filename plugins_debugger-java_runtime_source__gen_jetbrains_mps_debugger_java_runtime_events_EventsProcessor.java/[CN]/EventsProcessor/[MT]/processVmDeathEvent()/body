{
  if (myRunnable != null) {
    myRunnable.stop();
    myRunnable=null;
  }
  if (myState.compareAndSet(STATE_INITIAL,STATE_DETACHING) || myState.compareAndSet(STATE_ATTACHED,STATE_DETACHING)) {
    myVirtualMachine=null;
    myManagerThread.close();
    myState.set(STATE_DETACHED);
  }
}
