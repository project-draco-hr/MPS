{
  boolean oldSelected=isSelected();
  super.setSelected(selected);
  if (oldSelected && !selected && myModelAccessor instanceof TransactionalModelAccessor) {
    if (myCommitInCommand) {
      ModelAccess.instance().runCommandInEDT(new Runnable(){
        public void run(){
          commit();
        }
      }
,getOperationContext().getProject());
    }
 else {
      ModelAccess.instance().runWriteInEDT(new Runnable(){
        public void run(){
          commit();
        }
      }
);
    }
  }
}
