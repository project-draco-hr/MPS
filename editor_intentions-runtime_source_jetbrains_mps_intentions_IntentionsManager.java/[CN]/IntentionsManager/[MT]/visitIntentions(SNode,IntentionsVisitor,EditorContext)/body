{
  checkLoaded();
  try {
    TypeChecker.getInstance().enableGlobalSubtypingCache();
    Filter filter=new Filter(BaseIntention.class,getDisabledIntentions());
    for (SNode currentNode=node; currentNode != null; currentNode=currentNode.getParent()) {
      if (!visitIntentions(currentNode,visitor,filter,currentNode != node,editorContext)) {
        break;
      }
    }
  }
  finally {
    TypeChecker.getInstance().clearGlobalSubtypingCache();
  }
}
