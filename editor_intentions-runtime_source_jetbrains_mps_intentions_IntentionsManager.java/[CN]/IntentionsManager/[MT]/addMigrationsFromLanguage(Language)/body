{
  List<SNode> migrationScripts=MigrationScriptUtil.getMigrationScripts(language);
  Map<BaseMigrationScript,SNode> scripts=new HashMap<BaseMigrationScript,SNode>();
  for (  SNode migrationScript : migrationScripts) {
    BaseMigrationScript script=MigrationScriptUtil.getBaseScriptForNode(null,migrationScript);
    if (script == null)     continue;
    scripts.put(script,migrationScript);
  }
  for (  BaseMigrationScript script : scripts.keySet()) {
    SNode migrationScript=scripts.get(script);
    for (    AbstractMigrationRefactoring refactoring : script.getRefactorings()) {
      if (refactoring.isShowAsIntention()) {
        SModuleReference languageReference=language.getModuleReference();
        SNodeReference migrationReference=migrationScript.getReference();
        IntentionFactory intention=new MigrationRefactoringAdapter(languageReference,refactoring,migrationReference);
        IntentionsManager.getInstance().registerIntentionFactory(intention);
      }
    }
  }
}
