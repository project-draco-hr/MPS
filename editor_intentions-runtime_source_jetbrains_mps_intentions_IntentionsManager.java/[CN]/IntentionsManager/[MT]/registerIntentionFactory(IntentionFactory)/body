{
  if (!myIntentionFactories.add(intentionFactory)) {
    return;
  }
  Set<IntentionFactory> intentionFactories=myConcept2IntentionFactories.get(intentionFactory.getConcept());
  if (intentionFactories == null) {
    intentionFactories=new LinkedHashSet<IntentionFactory>();
    myConcept2IntentionFactories.put(InternUtil.intern(intentionFactory.getConcept()),intentionFactories);
  }
  intentionFactories.add(intentionFactory);
  if (intentionFactory.isAvailableInChildNodes()) {
    intentionFactories=myConcept2IntentionFactoriesAvailableInChildNodes.get(intentionFactory.getConcept());
    if (intentionFactories == null) {
      intentionFactories=new LinkedHashSet<IntentionFactory>();
      myConcept2IntentionFactoriesAvailableInChildNodes.put(InternUtil.intern(intentionFactory.getConcept()),intentionFactories);
    }
    intentionFactories.add(intentionFactory);
  }
}
