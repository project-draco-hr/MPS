{
  List<Pair<Intention,SNode>> groupItems=new ArrayList<Pair<Intention,SNode>>();
  groupItems.addAll(getEnabledIntentions(true));
  List<AnAction> actions=new ArrayList<AnAction>();
  collectActionsAsIntentions(ActionManager.getInstance().getAction(MPSActions.ACTIONS_AS_INTENTIONS_GROUP),actions,dataContext);
  if (groupItems.isEmpty() && actions.isEmpty()) {
    return null;
  }
  Collections.sort(groupItems,new Comparator<Pair<Intention,SNode>>(){
    public int compare(    Pair<Intention,SNode> o1,    Pair<Intention,SNode> o2){
      Intention intention1=o1.getFirst();
      Intention intention2=o2.getFirst();
      boolean disabled1=IntentionsManager.getInstance().intentionIsDisabled(intention1);
      boolean disabled2=IntentionsManager.getInstance().intentionIsDisabled(intention2);
      if (disabled1 && !disabled2)       return 1;
      if (!disabled1 && disabled2)       return -1;
      SNode node1=o1.getSecond();
      SNode node2=o2.getSecond();
      EditorContext context=myEditor.getEditorContext();
      return intention1.getDescription(node1,context).compareTo(intention2.getDescription(node2,context));
    }
  }
);
  BaseGroup group=new BaseGroup("");
  for (  final Pair<Intention,SNode> pair : groupItems) {
    group.add(getIntentionGroup(pair.getFirst(),pair.getSecond()));
  }
  group.addAll(actions);
  return group;
}
