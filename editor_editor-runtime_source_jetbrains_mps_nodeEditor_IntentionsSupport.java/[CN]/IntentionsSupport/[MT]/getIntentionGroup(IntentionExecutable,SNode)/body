{
  Icon icon=intention.getDescriptor().getType().getIcon();
  String text=intention.getDescription(node,myEditor.getEditorContext());
  List<AnAction> intentionActions=new ArrayList<AnAction>();
  for (  IntentionActionsProvider provider : Extensions.getExtensions(IntentionActionsProvider.EP_NAME)) {
    for (    AnAction action : provider.getIntentionActions(intention))     intentionActions.add(action);
  }
  if (intentionActions.isEmpty()) {
    return new BaseAction(text,null,icon){
      @Override protected void doExecute(      AnActionEvent e,      Map<String,Object> params){
        executeIntention(intention,node);
      }
    }
;
  }
 else {
    DefaultActionGroup intentionActionGroup=new DefaultActionGroup(text,true){
      @Override public boolean canBePerformed(      DataContext c){
        return true;
      }
      @Override public void actionPerformed(      AnActionEvent e){
        executeIntention(intention,node);
      }
    }
;
    intentionActionGroup.addAll(intentionActions);
    intentionActionGroup.getTemplatePresentation().setIcon(icon);
    return intentionActionGroup;
  }
}
