{
  final SModelDescriptor nodeModelDescriptor=getBaseNode().getModel().getModelDescriptor();
  if (nodeModelDescriptor != null) {
    nodeModelDescriptor.addWeakModelListener(myListener);
  }
 else {
    myWeakSModelRepositoryListener=new SModelRepositoryAdapter(){
      public void modelAdded(      SModelDescriptor modelDescriptor){
        if (ProjectModels.isProjectModel(modelDescriptor.getSModelReference())) {
          return;
        }
        if (listenCondition.met(modelDescriptor)) {
          modelDescriptor.addWeakModelListener(myListener);
          SModelRepository.getInstance().removeModelRepositoryListener(this);
        }
      }
      public void beforeModelDeleted(      SModelDescriptor modelDescriptor){
        SNode node=getLoadableNode();
        if (node == null)         return;
        SModelDescriptor md=node.getModel().getModelDescriptor();
        if (modelDescriptor.equals(md)) {
          reinit();
        }
      }
    }
;
    SModelRepository.getInstance().addWeakModelRepositoryListener(myWeakSModelRepositoryListener);
  }
}
