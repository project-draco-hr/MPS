{
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(diff._0()),"jetbrains.mps.baseLanguage.structure.ExpressionStatement")) {
    return false;
  }
  SNode linkDeclaration=ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.getConceptDeclaration(SNodeOperations.getParent(diff._0())),"linkDeclaration",true)).findFirst(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return eq_k79hya_a0a0a0a0a0a0c0f(SPropertyOperations.getString(it,"role"),diff._0().getRoleInParent()) && SPropertyOperations.hasValue(it,"metaClass","aggregation","reference");
    }
  }
);
  return SConceptOperations.isSuperConceptOf(SLinkOperations.getTarget(linkDeclaration,"target",false),"jetbrains.mps.baseLanguage.structure.TernaryOperatorExpression");
}
