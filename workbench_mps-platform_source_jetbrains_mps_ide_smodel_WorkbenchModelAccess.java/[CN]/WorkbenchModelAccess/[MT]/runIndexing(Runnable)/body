{
  boolean needToRemove=myIndexingThreads.add(Thread.currentThread());
  try {
    r.run();
  }
  finally {
    if (needToRemove) {
      myIndexingThreads.remove(Thread.currentThread());
    }
  }
}
