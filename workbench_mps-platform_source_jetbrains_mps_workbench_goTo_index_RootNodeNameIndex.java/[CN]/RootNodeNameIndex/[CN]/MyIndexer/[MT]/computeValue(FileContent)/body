{
  final List<SNodeDescriptor> descriptors=new ArrayList<SNodeDescriptor>();
  ModelAccess.instance().runIndexing(new Runnable(){
    @Override public void run(){
      try {
        jetbrains.mps.smodel.SModel model=doModelParsing(inputData);
        for (        final SNode node : getRootsToIterate(model.getModelDescriptor())) {
          String persistentName=node.getProperty(SNodeUtil.property_INamedConcept_name);
          String nodeName=(persistentName == null) ? "null" : persistentName;
          String conceptFqName=node.getConcept().getId();
          SModelReference modelRef=model.getReference();
          SNodeId id=node.getNodeId();
          SNodeDescriptor value=SNodeDescriptor.fromModelReference(nodeName,conceptFqName,modelRef,id);
          descriptors.add(value);
        }
      }
 catch (      Exception e) {
        LOG.error("Cannot index model file " + inputData.getFileName() + "; "+ e.getMessage());
      }
    }
  }
);
  return descriptors;
}
