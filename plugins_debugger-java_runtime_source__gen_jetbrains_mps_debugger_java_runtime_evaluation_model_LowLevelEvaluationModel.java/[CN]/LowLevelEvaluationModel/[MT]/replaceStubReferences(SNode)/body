{
  for (  SReference reference : ListSequence.fromList(SNodeOperations.getReferences(node))) {
    SModel targetModel=SNodeOperations.getModel(SLinkOperations.getTargetNode(reference));
    if (neq_qkk2f2_a0b0a0m(targetModel,myAuxModel.getSModel())) {
      SModelDescriptor scopeModel=myAuxModule.getScope().getModelDescriptor(targetModel.getSModelReference());
      if (scopeModel != null && neq_qkk2f2_a0a1a1a0a21(scopeModel.getSModel(),targetModel)) {
        String resolveInfo=SLinkOperations.getResolveInfo(reference);
        if ((resolveInfo == null || resolveInfo.length() == 0)) {
          resolveInfo=jetbrains.mps.util.SNodeOperations.getResolveInfo(SLinkOperations.getTargetNode(reference));
        }
        node.setReference(SLinkOperations.getRole(reference),new DynamicReference(SLinkOperations.getRole(reference),node,scopeModel.getSModelReference(),resolveInfo));
      }
    }
  }
}
