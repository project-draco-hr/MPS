{
  Collection<SLanguage> initial=SModelOperations.getAllLanguageImports(model);
  Set<SLanguage> languages=new SLanguageHierarchy(initial).getExtended();
  for (  SLanguage l : languages) {
    final String languageNamespace=l.getQualifiedName();
    if (myLoadedLanguages.contains(languageNamespace)) {
      continue;
    }
    LanguageRuntime language=myLanguageRegistry.getLanguage(l);
    if (language == null) {
      continue;
    }
    try {
      IHelginsDescriptor typeSystemDescriptor=language.getAspect(IHelginsDescriptor.class);
      if (typeSystemDescriptor != null) {
        myNonTypeSystemRules.addRuleSetItem(typeSystemDescriptor.getNonTypesystemRules());
      }
    }
 catch (    Throwable t) {
      LOG.error("Error while loading language",t);
    }
 finally {
      myLoadedLanguages.add(languageNamespace);
    }
  }
}
