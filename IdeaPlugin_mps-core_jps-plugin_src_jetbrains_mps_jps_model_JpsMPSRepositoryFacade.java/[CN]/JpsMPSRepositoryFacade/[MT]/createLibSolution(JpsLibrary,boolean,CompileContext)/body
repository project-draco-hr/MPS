{
  String name=lib.getName();
  SolutionDescriptor desc=new SolutionDescriptor();
  desc.setNamespace(name);
  if (sdkHack) {
    ModuleId jdkId=ModuleId.regular(UUID.fromString("6354ebe7-c22a-4a0f-ac54-50b52ab9b065"));
    MPSModuleRepository repo=MPSModuleRepository.getInstance();
    SModule jdkMod=repo.getModule(jdkId);
    if (jdkMod != null && jdkMod instanceof IModule) {
      IModule imod=(IModule)jdkMod;
      Set<MPSModuleOwner> owners=new HashSet<MPSModuleOwner>(repo.getOwners(imod));
      for (      MPSModuleOwner owner : owners) {
        repo.unregisterModule(imod,owner);
      }
    }
    desc.setId(jdkId);
  }
 else {
    desc.setId(ModuleId.foreign(name));
  }
  return new JpsLibSolution(desc,lib,ctx);
}
