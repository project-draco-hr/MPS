{
  boolean result=showDialog(moduleRefToImport,modelToImport);
  if (result) {
    ModelAccess.instance().runWriteActionInCommand(new Runnable(){
      @Override public void run(){
        AbstractModule module=(AbstractModule)myModule;
        SModelInternal model=(SModelInternal)myModel;
        if (needToAddDep) {
          module.addDependency(moduleRefToImport,false);
          model.addModelImport(modelToImport,false);
        }
 else {
          model.addLanguage(moduleRefToImport);
        }
      }
    }
);
  }
}
