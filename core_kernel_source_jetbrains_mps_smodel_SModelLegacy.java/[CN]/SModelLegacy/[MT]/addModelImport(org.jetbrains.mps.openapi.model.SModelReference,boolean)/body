{
  ImportElement importElement=SModelOperations.getImportElement(myModel,ref);
  if (importElement != null) {
    return;
  }
  org.jetbrains.mps.openapi.model.SModel modelDescriptor=RuntimeFlags.isMergeDriverMode() ? null : SModelRepository.getInstance().getModelDescriptor(ref);
  int usedVersion=-1;
  if (!firstVersion && modelDescriptor instanceof RefactorableSModelDescriptor) {
    usedVersion=((RefactorableSModelDescriptor)modelDescriptor).getVersion();
  }
  importElement=new ImportElement(ref,-1,firstVersion ? -1 : usedVersion);
  myModel.addModelImport(importElement);
}
