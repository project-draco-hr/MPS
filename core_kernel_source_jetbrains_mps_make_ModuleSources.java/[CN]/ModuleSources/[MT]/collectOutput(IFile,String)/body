{
  List<IFile> files=current.list();
  if (files == null)   return;
  for (  IFile file : files) {
    if (isIgnored(file))     continue;
    if (file.isDirectory()) {
      collectOutput(file,(pack.length() > 0) ? pack + "." + file.getName() : file.getName());
    }
 else {
      if (file.getName().endsWith(CLASS_SUFFIX)) {
        String containerName=file.getName().substring(0,file.getName().length() - CLASS_SUFFIX.length());
        if (containerName.contains("$")) {
          containerName=containerName.substring(0,containerName.lastIndexOf("$"));
        }
        String fqName=pack.length() > 0 ? pack + "." + containerName : containerName;
        JavaFile javaFile=myJavaFiles.get(fqName);
        if (javaFile == null) {
          myFilesToDelete.add(file);
        }
 else         if (javaFile.getFile().lastModified() < file.lastModified()) {
          myFilesToCompile.remove(javaFile);
        }
      }
      if (isResourceFile(file)) {
        String fqName=pack.length() > 0 ? pack + "." + file.getName() : file.getName();
        ResourceFile resourceFile=myResourceFiles.get(fqName);
        if (resourceFile == null) {
          myFilesToDelete.add(file);
        }
 else         if (resourceFile.getFile().lastModified() < file.lastModified()) {
          myResourcesToCopy.remove(resourceFile);
        }
      }
    }
  }
}
