{
  List<IFile> list=dir.list();
  if (list == null)   return;
  for (  IFile child : list) {
    if (isIgnored(child))     continue;
    if (isJavaFile(child)) {
      String className=child.getName().substring(0,child.getName().length() - MPSExtentions.DOT_JAVAFILE.length());
      String fqName=toPack(addSubPath(path,className));
      myJavaFiles.put(fqName,new JavaFile(child,fqName));
    }
    if (isResourceFile(child)) {
      String resourceName=child.getName();
      String childPath=addSubPath(path,resourceName);
      myResourceFiles.put(childPath,new ResourceFile(child,childPath));
    }
    if (child.isDirectory()) {
      collectInput(child,addSubPath(path,child.getName()));
    }
  }
}
