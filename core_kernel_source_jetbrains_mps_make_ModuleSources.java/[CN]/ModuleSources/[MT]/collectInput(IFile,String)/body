{
  List<IFile> list=dir.list();
  if (list == null)   return;
  for (  IFile child : list) {
    if (isIgnored(child))     continue;
    if (isJavaFile(child)) {
      String className=child.getName().substring(0,child.getName().length() - JAVA_SUFFIX.length());
      String fqName=addPackage(pack,className);
      myJavaFiles.put(fqName,new JavaFile(child,fqName));
    }
    if (isResourceFile(child)) {
      String resourceName=child.getName();
      String fqName=addPackage(pack,resourceName);
      myResourceFiles.put(fqName,new ResourceFile(child,fqName));
    }
    if (child.isDirectory()) {
      collectInput(child,addPackage(pack,child.getName()));
    }
  }
}
