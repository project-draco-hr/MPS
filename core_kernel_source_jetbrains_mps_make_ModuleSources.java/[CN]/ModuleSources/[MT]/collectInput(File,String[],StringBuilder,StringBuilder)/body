{
  if (list == null)   return;
  int initialLength=path.length();
  for (  String childName : list) {
    if (isIgnoredFileName(childName))     continue;
    File child=new File(dir,childName);
    if (childName.endsWith(MPSExtentions.DOT_JAVAFILE)) {
      long lastModified=child.lastModified();
      if (lastModified > 0) {
        String className=childName.substring(0,childName.length() - MPSExtentions.DOT_JAVAFILE.length());
        package_.setLength(initialLength);
        if (initialLength > 0) {
          package_.append('.');
        }
        package_.append(className);
        String fqName=package_.toString();
        myJavaFiles.put(fqName,new JavaFile(child,fqName,lastModified));
        continue;
      }
    }
    String[] subList=child.list();
    if (subList != null) {
      path.setLength(initialLength);
      package_.setLength(initialLength);
      if (initialLength > 0) {
        path.append('/');
        package_.append('.');
      }
      path.append(childName);
      package_.append(childName);
      collectInput(child,subList,path,package_);
    }
 else     if (isResourceFileName(childName)) {
      path.setLength(initialLength);
      if (initialLength > 0) {
        path.append('/');
      }
      path.append(childName);
      String childPath=path.toString();
      myResourceFiles.put(childPath,new ResourceFile(child,childPath));
    }
  }
}
