{
  String[] list=dir.list();
  if (list == null)   return;
  for (  String childName : list) {
    if (isIgnoredFileName(childName))     continue;
    File child=new File(dir,childName);
    if (childName.endsWith(MPSExtentions.DOT_JAVAFILE) && child.isFile()) {
      String className=childName.substring(0,childName.length() - MPSExtentions.DOT_JAVAFILE.length());
      String fqName=toPack(addSubPath(path,className));
      myJavaFiles.put(fqName,new JavaFile(child,fqName));
      continue;
    }
    if (!child.isDirectory() && isResourceFileName(childName)) {
      String resourceName=child.getName();
      String childPath=addSubPath(path,resourceName);
      myResourceFiles.put(childPath,new ResourceFile(child,childPath));
      continue;
    }
    collectInput(child,addSubPath(path,childName));
  }
}
