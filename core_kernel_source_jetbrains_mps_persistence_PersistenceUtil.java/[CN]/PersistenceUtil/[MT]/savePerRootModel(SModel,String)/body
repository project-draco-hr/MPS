{
  FolderModelFactory factory=PersistenceRegistry.getInstance().getFolderModelFactory(PER_ROOT_PERSISTENCE_FACTORY);
  if (factory == null || factory.isBinary()) {
    return null;
  }
  try {
    InMemoryMultiStreamDataSource source=new InMemoryMultiStreamDataSource();
    factory.save(model,source);
    return source.getContent(name,FileUtil.DEFAULT_CHARSET_NAME);
  }
 catch (  ModelSaveException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  return null;
}
