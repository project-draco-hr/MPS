{
  ModelFactory factory=PersistenceRegistry.getInstance().getModelFactory(extension);
  if (factory == null || factory.isBinary()) {
    return null;
  }
  try {
    InMemoryStreamDataSource source=new InMemoryStreamDataSource();
    factory.save(model,source);
    return source.getContent(FileUtil.DEFAULT_CHARSET_NAME);
  }
 catch (  UnsupportedDataSourceException ex) {
    ex.printStackTrace();
  }
catch (  ModelSaveException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  return null;
}
