{
  SModel m1=new TestModelFactory().createModel(3,2);
  final Iterator<SNode> roots=m1.getRootNodes().iterator();
  roots.next();
  final SNodeId r2c1=roots.next().getFirstChild().getNodeId();
  ((SModelBase)m1).attach(myTestRepo);
  myTestModelAccess.enableRead();
  final SNode notRoot=m1.getNode(r2c1);
  myTestModelAccess.disableRead();
  boolean gotAccessError=false;
  try {
    notRoot.getProperty(SNodeUtil.property_INamedConcept_name);
  }
 catch (  IllegalModelAccessError e) {
    gotAccessError=true;
  }
  Assert.assertTrue("Model belongs to a repository, SNode.getProperty without read access shall fail",gotAccessError);
  myTestModelAccess.enableRead();
  SNode parent=notRoot.getParent();
  myTestModelAccess.disableRead();
  try {
    parent.getProperty(SNodeUtil.property_INamedConcept_name);
    Assert.fail("getParent() for a node, which is obtained through model.getNodeId(), shall get SRepository and fully-functional checkModelRead");
  }
 catch (  IllegalModelAccessError e) {
  }
}
