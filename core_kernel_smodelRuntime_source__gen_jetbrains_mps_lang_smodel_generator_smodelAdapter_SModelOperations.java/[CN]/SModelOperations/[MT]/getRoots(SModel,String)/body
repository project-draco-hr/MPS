{
  if (model == null) {
    return new ArrayList<SNode>();
  }
  if (conceptFqName == null) {
    ArrayList<SNode> result=new ArrayList<SNode>();
    for (    SNode root : model.roots()) {
      result.add(root);
    }
    return result;
  }
  GlobalScope scope=GlobalScope.getInstance();
  SNode concept=SModelUtil.findConceptDeclaration(conceptFqName,scope);
  if (concept == null) {
    return new ArrayList<SNode>();
  }
  List<SNode> list=new ArrayList<SNode>();
  Condition<SNode> cond=new Condition<SNode>(){
    public boolean met(    SNode node){
      return node.isInstanceOfConcept(conceptFqName);
    }
  }
;
  Iterable<SNode> iterable=new ConditionalIterable<SNode>(model.roots(),cond);
  for (  SNode node : iterable) {
    list.add(node);
  }
  return list;
}
