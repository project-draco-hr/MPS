{
  if (myEventsProcessor.isAttached()) {
    myEventsProcessor.getManagerThread().schedule(new DebuggerCommand(){
      @Override protected void action() throws Exception {
        if (myIsMute != mute) {
          Set<AbstractMPSBreakpoint> breakpoints=myEventsProcessor.getBreakpointManager().getAllBreakpoints();
          RequestManager requestManager=myEventsProcessor.getRequestManager();
          for (          AbstractMPSBreakpoint bp : breakpoints) {
            if (bp instanceof MPSBreakpoint) {
              MPSBreakpoint mpsBreakpoint=(MPSBreakpoint)bp;
              if (mute) {
                requestManager.deleteRequest(mpsBreakpoint);
              }
 else {
                mpsBreakpoint.createOrWaitPrepare(getEventsProcessor());
              }
            }
          }
          myIsMute=mute;
          fireSessionMuted(DebugSession.this);
        }
      }
    }
);
  }
 else {
    myIsMute=mute;
    fireSessionMuted(DebugSession.this);
  }
}
