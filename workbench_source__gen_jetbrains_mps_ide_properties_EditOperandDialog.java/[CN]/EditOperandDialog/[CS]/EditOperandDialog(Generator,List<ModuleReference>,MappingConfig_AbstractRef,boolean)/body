{
  super(MPSDataKeys.FRAME.getData(DataManager.getInstance().getDataContext()),"Choose Mappings");
  final DefaultMutableTreeNode root=new DefaultMutableTreeNode(new MappingSelectTree.RootNodeData("All generators"));
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (isLeft) {
        addGeneratorModels(currentGen,root);
      }
 else {
        addGeneratorModels(currentGen,root);
        for (        ModuleReference ref : depGenerators) {
          Generator gen=(Generator)MPSModuleRepository.getInstance().getModule(ref);
          if (gen != null) {
            addGeneratorModels(gen,root);
          }
        }
      }
    }
  }
);
  setRootMappingRef(root,operand,isLeft);
  myTree=new MappingSelectTree(isLeft);
  myTree.setModel(new DefaultTreeModel(root,false));
  setCheckedUnder(root);
  expandCheckedUnder(myTree,root);
  myMainComponent=new JScrollPane(myTree);
}
