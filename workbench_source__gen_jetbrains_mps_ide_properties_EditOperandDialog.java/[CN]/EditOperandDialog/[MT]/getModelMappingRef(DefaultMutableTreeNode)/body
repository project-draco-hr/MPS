{
  MappingSelectTree.ModelRefNodeData rootData=(MappingSelectTree.ModelRefNodeData)mRoot.getUserObject();
  if (!(rootData.isChecksUnder())) {
    return new MappingConfig_AbstractRef();
  }
  if (rootData.isSelected()) {
    MappingConfig_SimpleRef result=new MappingConfig_SimpleRef();
    result.setModelUID(rootData.getObject().toString());
    result.setNodeID("*");
    return result;
  }
  List<DefaultMutableTreeNode> chChildren=getChildrenWithChecks(mRoot);
  if (chChildren.size() == 1) {
    return getNodeMappingRef(chChildren.get(0));
  }
 else {
    MappingConfig_RefSet result=new MappingConfig_RefSet();
    for (    DefaultMutableTreeNode child : chChildren) {
      result.getMappingConfigs().add(getNodeMappingRef(child));
    }
    return result;
  }
}
