{
  if (node == null || SNodeOperations.getModel(node) == null) {
    return;
  }
  SModule module=check_bt3k2y_a0b0b(SNodeOperations.getModel(node));
  if (module == null) {
    return;
  }
  boolean executeImmediately=ReferenceResolverUtils.canExecuteImmediately(SNodeOperations.getModel(node),repository);
  for (  SReference ref : SNodeOperations.getReferences(node)) {
    SNode target=SLinkOperations.getTargetNode(ref);
    SNode ld=SLinkOperations.findLinkDeclaration(ref);
    if ((target == null) || ld == null) {
      continue;
    }
    component.addDependency(target);
    component.addDependency(ld);
    component.addDependency(SNodeOperations.getParent(node));
    for (    SNode c : SNodeOperations.getChildren(node)) {
      component.addDependency(c);
    }
    ReferenceDescriptor refDescriptor=ModelConstraints.getReferenceDescriptor(ref);
    Scope refScope=refDescriptor.getScope();
    if (refScope instanceof ErrorScope) {
      component.addError(node,((ErrorScope)refScope).getMessage(),null,new ReferenceMessageTarget(SLinkOperations.getRole(ref)));
    }
 else     if (!(refScope.contains(target))) {
      String name=target.getName();
      ReferenceScopeProvider scopeProvider=refDescriptor.getScopeProvider();
      SNodeReference ruleNode=null;
      if (scopeProvider != null) {
        ruleNode=scopeProvider.getSearchScopeValidatorNode();
      }
      component.addError(node,"reference" + ((name == null ? "" : " " + name)) + " ("+ SLinkOperations.getRole(ref)+ ") is out of search scope",ruleNode,new ReferenceMessageTarget(SLinkOperations.getRole(ref)),createResolveReferenceQuickfix(ref,repository,executeImmediately));
    }
  }
}
