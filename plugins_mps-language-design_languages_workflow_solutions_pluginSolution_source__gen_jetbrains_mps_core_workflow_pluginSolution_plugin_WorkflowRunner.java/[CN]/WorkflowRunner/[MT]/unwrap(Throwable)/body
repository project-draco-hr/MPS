{
  Throwable last=ex;
  Throwable next=unwrap_internal(ex);
  int counter=0;
  while (next != null && next != last && counter++ < 100) {
    last=next;
    next=unwrap_internal(next);
  }
  return last;
}
