{
  if (mySelectedCellInfo != null) {
    EditorCell cellToSelect=mySelectedCellInfo.findClosestCell(myNodeEditor);
    myNodeEditor.changeSelection(cellToSelect);
  }
  myNodeEditor.setSelectedStackFromMemento(mySelectedStack);
  for (  CellInfo collectionInfo : myCollectionsWithEnabledBraces) {
    EditorCell collection=collectionInfo.findCell(myNodeEditor);
    if (!(collection instanceof EditorCell_Collection))     continue;
    ((EditorCell_Collection)collection).enableBraces();
  }
  for (  CellInfo collectionInfo : myFolded) {
    EditorCell collection=collectionInfo.findCell(myNodeEditor);
    if (!(collection instanceof EditorCell_Collection))     continue;
    ((EditorCell_Collection)collection).fold(true);
  }
  restoreErrors();
  EditorCell deepestSelectedCell=myNodeEditor.getDeepestSelectedCell();
  if (deepestSelectedCell != null) {
    deepestSelectedCell.setCaretX(myCaretX);
  }
}
