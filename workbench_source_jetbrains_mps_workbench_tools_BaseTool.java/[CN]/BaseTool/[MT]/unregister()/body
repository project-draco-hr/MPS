{
  if (!isRegistered())   return;
  doUnregister();
  if (myNumber != -1) {
    KeymapManager.getInstance().getActiveKeymap().removeAllActionShortcuts(ActivateToolWindowAction.getActionIdForToolWindow(myId));
  }
  ToolWindow toolWindow=getToolWindow();
  if (toolWindow != null) {
    ContentManager contentManager=toolWindow.getContentManager();
    if (contentManager != null && !contentManager.isDisposed()) {
      contentManager.removeAllContents(true);
    }
  }
  myWindowManager.unregisterToolWindow(myId);
  myIsRegistered=false;
}
