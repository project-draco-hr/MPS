{
  if (isRegistered())   return;
  setIsRegistered(true);
  if (myNumber != -1) {
    KeymapManager.getInstance().getActiveKeymap().addShortcut(ActivateToolWindowAction.getActionIdForToolWindow(myId),new KeyboardShortcut(KeyStroke.getKeyStroke("alt " + myNumber),null));
  }
  ToolWindow toolWindow=ToolWindowManager.getInstance(myProject).registerToolWindow(myId,myCanCloseContent,myAnchor);
  toolWindow.setIcon(myIcon);
  toolWindow.setToHideOnEmptyContent(true);
  toolWindow.installWatcher(toolWindow.getContentManager());
  JComponent component=getComponent();
  if (component != null) {
    addContent(component,null,false);
  }
}
