{
  try {
    EngagedGeneratorCollector c=new EngagedGeneratorCollector(inputModel,additionalLanguages);
    GenerationPartitioner partitioner=new GenerationPartitioner(c.getGenerators());
    myGenerators=c.getGenerators();
    myPlan=partitioner.createMappingSets();
    if (myPlan.isEmpty()) {
      myPlan.add(Collections.<TemplateMappingConfiguration>emptyList());
    }
    myConflictingPriorityRules=partitioner.getConflictingPriorityRules();
    myTemplateModels=new ArrayList<TemplateModel>();
    for (    TemplateModule module : myGenerators) {
      myTemplateModels.addAll(module.getModels());
    }
  }
 catch (  Throwable t) {
    String msg=String.format("Couldn't compute generation steps for model '%s;",NameUtil.getModelLongName(inputModel));
    LOG.error(msg,t);
    throw new RuntimeException(msg,t);
  }
}
