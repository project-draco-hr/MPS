{
  myInputName=jetbrains.mps.util.SNodeOperations.getModelLongName(inputModel);
  try {
    myGenerators=GenerationPartitioningUtil.getTemplateModules(inputModel,additionalLanguages);
    initTemplateModels();
    GenerationPartitioner partitioner=new GenerationPartitioner(myGenerators);
    myPlan=partitioner.createMappingSets();
    if (myPlan.isEmpty()) {
      myPlan.add(new ArrayList<TemplateMappingConfiguration>());
    }
    myConflictingPriorityRules=partitioner.getConflictingPriorityRules();
  }
 catch (  Throwable t) {
    LOG.error(t);
    throw new RuntimeException("Couldn't compute generation steps for model '" + jetbrains.mps.util.SNodeOperations.getModelLongName(inputModel) + "'",t);
  }
}
