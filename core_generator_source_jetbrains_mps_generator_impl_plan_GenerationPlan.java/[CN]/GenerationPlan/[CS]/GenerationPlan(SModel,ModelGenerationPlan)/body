{
  myInputName=jetbrains.mps.util.SNodeOperations.getModelLongName(inputModel);
  myGenerators=new HashSet<TemplateModule>();
  myPlan=plan.getSteps();
  for (  List<TemplateMappingConfiguration> step : myPlan) {
    for (    TemplateMappingConfiguration templateMappingConfiguration : step) {
      myGenerators.add(templateMappingConfiguration.getModel().getModule());
    }
  }
  initTemplateModels();
  if (myPlan.isEmpty()) {
    myPlan.add(new ArrayList<TemplateMappingConfiguration>());
  }
  myConflictingPriorityRules=Collections.emptySet();
}
