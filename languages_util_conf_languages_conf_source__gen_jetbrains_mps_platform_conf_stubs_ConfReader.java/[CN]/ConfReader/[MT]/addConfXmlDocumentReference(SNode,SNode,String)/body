{
  SModelReference trgsmref=this.confstubResolver.stubModelReference(namespace(fqName));
  if (SNodeOperations.getModel(src).getSModelReference().equals(trgsmref)) {
    src.setReference(new StaticReference(SPropertyOperations.getString(link,"role"),src,trgsmref,createForeignId(fqName),null).getRole(),new StaticReference(SPropertyOperations.getString(link,"role"),src,trgsmref,createForeignId(fqName),null));
  }
 else {
    SNodeOperations.getModel(src).addModelImport(trgsmref,false);
    src.setReference(jetbrains.mps.smodel.SReference.create(SPropertyOperations.getString(link,"role"),src,trgsmref,createForeignId(fqName)).getRole(),jetbrains.mps.smodel.SReference.create(SPropertyOperations.getString(link,"role"),src,trgsmref,createForeignId(fqName)));
  }
}
