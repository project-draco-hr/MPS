{
  ModelAccess.instance().addCommandListener(myCommandListener);
  for (  DataNode node : root.getDescendantsByDataClass(NodeNodeData.class)) {
    NodeNodeData nodeData=(NodeNodeData)node.getData();
    myNodes.add(nodeData.getNodePointer());
  }
  for (  DataNode node : root.getDescendantsByDataClass(ModelNodeData.class)) {
    ModelNodeData modelData=(ModelNodeData)node.getData();
    myModels.add(modelData.getModelReference());
  }
  for (  DataNode node : root.getDescendantsByDataClass(ModuleNodeData.class)) {
    ModuleNodeData moduleData=(ModuleNodeData)node.getData();
    myModules.add(moduleData.getModuleReference());
  }
  GlobalSModelEventsManager.getInstance().addGlobalCommandListener(myModelListener);
  SModelRepository.getInstance().addModelRepositoryListener(myModelRepositoryListener);
  MPSModuleRepository.getInstance().addModuleRepositoryListener(myModuleRepositoryListener);
}
