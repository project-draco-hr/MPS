{
  SNode ftype=SConceptOperations.createNewNode("jetbrains.mps.core.query.structure.MqlFunctionType",null);
  for (  SNode type : ListSequence.fromList(SLinkOperations.getTargets(thisNode,"parameters",true)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return (SLinkOperations.getTarget(it,"type",true) != null);
    }
  }
).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode it){
      return SLinkOperations.getTarget(it,"type",true);
    }
  }
)) {
    ListSequence.fromList(SLinkOperations.getTargets(ftype,"parameterTypes",true)).addElement(SNodeOperations.copyNode(type));
  }
  SLinkOperations.setTarget(ftype,"returnType",BehaviorReflection.invokeVirtual((Class<SNode>)((Class)(Object.class)),SLinkOperations.getTarget(thisNode,"body",true),"virtual_getType_228266671027861783",new Object[]{}),true);
  return ftype;
}
