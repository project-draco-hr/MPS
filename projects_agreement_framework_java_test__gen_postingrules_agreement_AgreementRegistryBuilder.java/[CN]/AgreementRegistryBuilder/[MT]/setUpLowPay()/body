{
  ServiceAgreement serviceAggreement=new ServiceAgreement();
  serviceAggreement.addPostingRule(EventType.USAGE,new PostingRule_Formula(AccountType.BASE_USAGE,true,new IfFunction<Money>(new QuantityGreaterThenOperation(new UsageQuantity(),new QuantityConstant(50.0,Unit.KWH)),new MoneyAdapter(new MultiplyOperation(new DoubleConstant(10.0),new UsageDouble()),Currency.USD),new MoneyAdapter(new MultiplyOperation(new DoubleConstant(5.0),new UsageDouble()),Currency.USD))),new MfDate(1999,10,1));
  serviceAggreement.addPostingRule(EventType.SERVICE_CALL,new PostingRule_Formula(AccountType.SERVICE,true,new MoneyConstant(10.0,Currency.USD)),new MfDate(1999,10,1));
  serviceAggreement.addPostingRule(EventType.SERVICE_CALL,new PostingRule_Formula(AccountType.SERVICE,true,new MoneyAddOperation(new MoneyMultiplyOperation(new FeeMoney(),new DoubleConstant(0.5)),new MoneyConstant(15.0,Currency.USD))),new MfDate(1999,12,1));
  serviceAggreement.addPostingRule(EventType.TAX,new PostingRule_Formula(AccountType.TAX,false,new MoneyMultiplyOperation(new FeeMoney(),new DoubleConstant(0.055))),new MfDate(1999,10,1));
  return serviceAggreement;
}
