{
  String shortFileName="unknown.mps";
  if (modelFqName != null) {
    shortFileName=NameUtil.shortNameFromLongName(modelFqName.getLongName()) + MPSExtentions.DOT_MODEL;
  }
  File tmp=FileUtil.createTmpDir();
  writeContentsToFile(contents[ModelMergeRequestConstants.ORIGINAL],shortFileName,tmp,VcsMergeVersion.BASE.getSuffix());
  writeContentsToFile(contents[ModelMergeRequestConstants.CURRENT],shortFileName,tmp,VcsMergeVersion.MINE.getSuffix());
  writeContentsToFile(contents[ModelMergeRequestConstants.LAST_REVISION],shortFileName,tmp,VcsMergeVersion.REPOSITORY.getSuffix());
  File zipfile=chooseZipFileForModelLongName("unknown.mps",modelFqName == null ? null : modelFqName.getLongName());
  zipfile.getParentFile().mkdirs();
  FileUtil.zip(tmp,zipfile);
  FileUtil.delete(tmp);
  return zipfile;
}
