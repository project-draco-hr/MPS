{
  SNode contentList=SConceptOperations.createNewNode("jetbrains.mps.xml.structure.ContentList",null);
  List<SNode> selectedNodes=editorContext.getNodeEditorComponent().getNodeRangeSelection().getNodes();
  if (selectedNodes.isEmpty()) {
    selectedNodes.add(editorContext.getSelectedNode());
  }
  SNode first=selectedNodes.get(0);
  SNodeOperations.insertPrevSiblingChild(first,contentList);
  for (  SNode selectedNode : ListSequence.fromList(selectedNodes)) {
    SLinkOperations.addChild(contentList,"content",SNodeOperations.cast(selectedNode,"jetbrains.mps.xml.structure.Content"));
  }
  SLinkOperations.addNewChild(contentList,"content","jetbrains.mps.xml.structure.Content");
}
