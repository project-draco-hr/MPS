{
  if (node == null)   return null;
  SNode type=NodeTypesComponentsRepository.getInstance().getNodeTypesComponent(node.getContainingRoot()).getType(node);
  if (type != null)   return type;
  Map<SNode,SNode> typesContext=myTypeChecker.getMainContext();
  type=typesContext.get(node);
  if (type == null) {
    SNode var=createNewRuntimeTypesVariable(false);
    type=TypeChecker.asType(var);
    typesContext.put(node,type);
  }
  return myTypeChecker.getEquationManager().getRepresentator(type);
}
