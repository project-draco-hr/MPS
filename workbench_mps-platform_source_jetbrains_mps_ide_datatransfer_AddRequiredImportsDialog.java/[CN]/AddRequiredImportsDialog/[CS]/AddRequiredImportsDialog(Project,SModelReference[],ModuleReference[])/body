{
  super(project,true);
  myRequiredImports=requiredImports;
  myRequiredLanguages=requiredLanguages;
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      for (      SModelReference ref : myRequiredImports) {
        SModelDescriptor descr=SModelRepository.getInstance().getModelDescriptor(ref);
        if (descr == null)         continue;
        SModule module=descr.getModule();
        if (module == null)         continue;
        myImport2Module.put(ref,module.getModuleName());
        if (module instanceof Language) {
          LanguageAspect modelAspect=Language.getModelAspect(descr);
          if (modelAspect != null) {
            myImport2Aspect.put(ref,modelAspect);
          }
        }
      }
    }
  }
);
  if (requiredImports.length == 0) {
    setTitle("Select languages to import");
  }
 else   if (requiredLanguages.length == 0) {
    setTitle("Select models to import");
  }
 else {
    setTitle("Select models and languages to import");
  }
  init();
  if (myModelsList != null) {
    myModelsList.setSelectionInterval(0,myRequiredImports.length - 1);
  }
  if (myLanguagesList != null) {
    myLanguagesList.setSelectionInterval(0,myRequiredLanguages.length - 1);
  }
}
