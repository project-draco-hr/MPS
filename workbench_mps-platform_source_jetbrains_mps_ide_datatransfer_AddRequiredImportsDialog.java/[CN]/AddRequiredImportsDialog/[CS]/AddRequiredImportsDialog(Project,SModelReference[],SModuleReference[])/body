{
  super(ProjectHelper.toIdeaProject(project),true);
  myRequiredImports=requiredImports;
  myRequiredLanguages=requiredLanguages;
  project.getModelAccess().runReadAction(new Runnable(){
    @Override public void run(){
      for (      SModelReference ref : myRequiredImports) {
        SModel descr=ref.resolve(project.getRepository());
        if (descr == null)         continue;
        SModule module=descr.getModule();
        if (module == null)         continue;
        myImport2Module.put(ref,module.getModuleName());
      }
    }
  }
);
  if (requiredImports.length == 0) {
    setTitle("Select languages to import");
  }
 else   if (requiredLanguages.length == 0) {
    setTitle("Select models to import");
  }
 else {
    setTitle("Select models and languages to import");
  }
  init();
  if (myModelsList != null) {
    myModelsList.setSelectionInterval(0,myRequiredImports.length - 1);
  }
  if (myLanguagesList != null) {
    myLanguagesList.setSelectionInterval(0,myRequiredLanguages.length - 1);
  }
}
