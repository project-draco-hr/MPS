{
  clear();
  if (value instanceof SModelReference) {
    SModelReference ref=(SModelReference)value;
    SModel model=ref.resolve(MPSModuleRepository.getInstance());
    setIcon(IconManager.getIconFor(model));
    String longName=SModelStereotype.withoutStereotype(ref.getModelName());
    append(longName,SimpleTextAttributes.REGULAR_ATTRIBUTES);
    if (!SModelStereotype.getStereotype(ref.getModelName()).isEmpty()) {
      append("@" + SModelStereotype.getStereotype(ref.getModelName()),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    }
    String module=myImport2Module.get(ref);
    if (module != null && !module.isEmpty()) {
      append(" (" + module + ")",SimpleTextAttributes.GRAY_ATTRIBUTES);
    }
  }
 else   if (value instanceof SModuleReference) {
    SModuleReference ref=(SModuleReference)value;
    setIcon(IdeIcons.PROJECT_LANGUAGE_ICON);
    String longName=ref.getModuleName();
    append(longName,SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
 else {
    setIcon(IdeIcons.DEFAULT_ICON);
    append("unknown",SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
  setFont(FONT);
  if (isSelected) {
    setBackground(list.getSelectionBackground());
    setForeground(list.getSelectionForeground());
  }
 else {
    setBackground(list.getBackground());
    setForeground(list.getForeground());
  }
  return this;
}
