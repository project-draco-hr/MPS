{
  clear();
  if (value instanceof SModelReference) {
    final SModelReference ref=(SModelReference)value;
    myProject.getModelAccess().runReadAction(new Runnable(){
      @Override public void run(){
        SModel model=ref.resolve(myProject.getRepository());
        setIcon(IconManager.getIconFor(model));
      }
    }
);
    append(ref.getModelName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    SModuleReference module=ref.getModuleReference();
    String moduleName=module == null ? null : module.getModuleName();
    if (moduleName != null && !moduleName.isEmpty()) {
      append(" (" + moduleName + ")",SimpleTextAttributes.GRAY_ATTRIBUTES);
    }
  }
 else   if (value instanceof SLanguage) {
    setIcon(IdeIcons.LANGUAGE_ICON);
    append(((SLanguage)value).getQualifiedName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
 else {
    setIcon(IdeIcons.DEFAULT_ICON);
    append("unknown",SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
  setFont(FONT);
  if (isSelected) {
    setBackground(list.getSelectionBackground());
    setForeground(list.getSelectionForeground());
  }
 else {
    setBackground(list.getBackground());
    setForeground(list.getForeground());
  }
  return this;
}
