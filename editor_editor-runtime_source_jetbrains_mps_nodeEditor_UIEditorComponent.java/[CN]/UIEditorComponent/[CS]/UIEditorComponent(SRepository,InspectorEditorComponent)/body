{
  super(repository);
  unregisterKeyboardAction(KeyStroke.getKeyStroke("ESCAPE"));
  setNoVirtualFile(true);
  myInspector=inspector;
  if (myInspector == null)   return;
  getSelectionManager().addSelectionListener(new SingularSelectionListenerAdapter(){
    @Override protected void selectionChangedTo(    jetbrains.mps.openapi.editor.EditorComponent editorComponent,    SingularSelection newSelection){
      myInspector.editNode(newSelection.getEditorCell().getSNode());
    }
  }
);
}
