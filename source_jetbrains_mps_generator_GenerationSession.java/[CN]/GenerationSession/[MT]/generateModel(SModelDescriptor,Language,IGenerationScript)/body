{
  GenerationStatus status;
  status=script.doGenerate(new IGenerationScriptContext(){
    public GenerationStatus doGenerate(    @NotNull SModelDescriptor sourceModel,    @NotNull Language targetLanguage,    Set<MappingConfiguration> confs) throws Exception {
      return generateModel_internal(sourceModel,targetLanguage,confs);
    }
    public SModelDescriptor getSourceModelDescriptor(){
      return sourceModel;
    }
    public Language getTargetLanguage(){
      return targetLanguage;
    }
    public IOperationContext getOperationContext(){
      return myInvocationContext;
    }
    public IMessageHandler getHandler(){
      return myHandler;
    }
  }
);
  if (status.isError() || status.hasWarnings()) {
    myDiscardTransients=false;
  }
  return status;
}
