{
  int numFull=0;
  int numPartial=0;
  int numChildren=ListSequence.fromList(getChildren()).count();
  for (  PQNode node : ListSequence.fromList(getChildren())) {
    if (node.getState() == PQNode.State.FULL) {
      numFull++;
    }
    if (node.getState() == PQNode.State.PARTIAL) {
      numPartial++;
    }
  }
  if (numFull == numChildren) {
    return doP1Pattern();
  }
 else   if (numPartial == 0) {
    return doP3Pattern();
  }
 else   if (numPartial == 1) {
    return doP5Pattern();
  }
  return null;
}
