{
  WorkbenchMakeService.MessageHandler mh=new WorkbenchMakeService.MessageHandler();
  String scrName=((cleanMake ? "Rebuild" : "Make"));
  if (Sequence.fromIterable(inputRes).isEmpty()) {
    if (cleanMake) {
      String msg=scrName + " aborted: nothing to do";
      this.showError(mh,msg);
      this.displayInfo(msg);
      return new IResult.FAILURE(null);
    }
 else {
      this.displayInfo("Everything up to date");
      return new IResult.SUCCESS(null);
    }
  }
  if (!(script.isValid())) {
    String msg=scrName + " failed";
    showError(mh,msg + ". Invalid script.");
    this.displayInfo(msg);
    return new IResult.FAILURE(null);
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      SModelRepository.getInstance().saveAll();
    }
  }
);
  final IScriptController ctl=this.completeController(scrName,mh,controller);
  final Wrappers._T<IResult> res=new Wrappers._T<IResult>();
  doExecute(new Runnable(){
    public void run(){
      res.value=script.execute(ctl,inputRes);
    }
  }
);
  if (res.value == null) {
    String msg=scrName + " aborted";
    this.displayInfo(msg);
  }
 else   if (!(res.value.isSucessful())) {
    String msg=scrName + " failed";
    showError(mh,msg + ". See previous messages for details.");
    this.displayInfo(msg);
  }
 else {
    String msg=scrName + " successful";
    this.displayInfo(msg);
  }
  return res.value;
}
