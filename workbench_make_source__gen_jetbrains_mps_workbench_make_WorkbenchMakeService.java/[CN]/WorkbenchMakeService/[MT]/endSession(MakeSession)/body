{
  this.checkValidUsage();
  if (!(currentSession.compareAndSet(session,null))) {
    throw new IllegalArgumentException("invalid session");
  }
}
