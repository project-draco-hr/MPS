{
  this.checkValidUsage();
  this.checkValidSession(session);
  currentSessionStickyMark.attemptMark(session,false);
  Future<IResult> cp=currentProcess.get();
  if (cp == null || cp.isDone()) {
    if (currentSessionStickyMark.compareAndSet(session,null,false,false) || currentSessionStickyMark.compareAndSet(session,null,true,false)) {
      notifyListeners(new MakeNotification(this,MakeNotification.Kind.SESSION_CLOSED));
    }
  }
}
