{
  try {
    super.doUpdatePresentation_internal();
  }
 catch (  RuntimeException e) {
  }
  SNodeId id=getSNode().getSNodeId();
  if (myAddedNodes.contains(id)) {
    setColor(FileStatus.COLOR_ADDED);
  }
 else   if (myChangedNodes.contains(id)) {
    setColor(FileStatus.COLOR_MODIFIED);
  }
 else   if (myDeletedNodes.contains(id)) {
    setColor(FileStatus.COLOR_MISSING);
  }
 else {
    setColor(FileStatus.COLOR_NOT_CHANGED);
  }
  if (myConflicts.contains(id)) {
    setColor(Color.RED);
  }
  if (myExcludetNodes.contains(id)) {
    String text=getText();
    setText("<html><s>" + TreeTextUtil.toHtml(text) + "</s></html>");
  }
 else {
    setText(getText());
  }
}
