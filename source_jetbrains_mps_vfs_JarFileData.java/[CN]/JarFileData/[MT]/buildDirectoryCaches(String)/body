{
  String parent=getParentDirectory(dir);
  if (parent.equals(dir))   return;
  getDirectoriesFor(parent).add(dir);
  buildDirectoryCaches(parent);
}
