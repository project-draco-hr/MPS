{
  if (!isExternal()) {
    return getSourceNode().getModel();
  }
  SModelReference targetModelReference=getTargetSModelReference();
  if (targetModelReference == null) {
    return null;
  }
  SModelDescriptor modelDescriptor=SModelRepository.getInstance().getModelDescriptor(targetModelReference);
  if (modelDescriptor == null) {
    error("couldn't access model '" + targetModelReference + "'");
    return null;
  }
  SModel model=modelDescriptor.getSModel();
  if (model == null) {
    error("failed to get model '" + getTargetSModelReference() + "' from model desctiptor");
  }
  return model;
}
