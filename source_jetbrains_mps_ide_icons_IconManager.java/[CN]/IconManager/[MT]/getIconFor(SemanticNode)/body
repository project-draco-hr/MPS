{
  Class<? extends SemanticNode> cls=node.getClass();
  while (cls != SemanticNode.class) {
    String className=cls.getName();
    className=className.substring(className.lastIndexOf('.') + 1);
    String packageName=node.getClass().getPackage().getName();
    String iconsClass=packageName + ".icons.Icons";
    LOG.debug("Trying to load class " + iconsClass);
    try {
      Class icons=Class.forName(iconsClass,true,ClassLoaderManager.getInstance().getClassLoader());
      Icon icon=(Icon)icons.getMethod("getIconFor" + className,SemanticNode.class).invoke(null);
      return icon;
    }
 catch (    Exception e) {
    }
    cls=(Class<? extends SemanticNode>)cls.getSuperclass();
  }
  return Icons.DEFAULT_ICON;
}
