{
  if (ourIcons.get(nodeClass) != null) {
    return ourIcons.get(nodeClass);
  }
  while (nodeClass != SNode.class) {
    String className=nodeClass.getName();
    className=className.substring(className.lastIndexOf('.') + 1);
    String packageName=nodeClass.getPackage().getName();
    String iconsClass=packageName + ".icons.Icons";
    try {
      Class icons=Class.forName(iconsClass,true,ClassLoaderManager.getInstance().getClassLoader());
      try {
        Icon icon=(Icon)icons.getMethod("getIconFor" + className).invoke(null);
        if (icon != null) {
          ourIcons.put(nodeClass,icon);
          return icon;
        }
      }
 catch (      NoSuchMethodException e) {
      }
catch (      Exception e) {
        e.printStackTrace();
      }
    }
 catch (    ClassNotFoundException e) {
    }
catch (    Exception e) {
      e.printStackTrace();
    }
    nodeClass=(Class<? extends SNode>)nodeClass.getSuperclass();
  }
  ourIcons.put(nodeClass,Icons.DEFAULT_ICON);
  return Icons.DEFAULT_ICON;
}
