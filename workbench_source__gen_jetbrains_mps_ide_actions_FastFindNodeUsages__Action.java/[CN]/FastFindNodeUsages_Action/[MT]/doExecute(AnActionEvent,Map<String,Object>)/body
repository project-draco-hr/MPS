{
  try {
    SNode operationNode=(((EditorCell)MapSequence.fromMap(_params).get("cell")) != null ? ((EditorCell)MapSequence.fromMap(_params).get("cell")).getSNodeWRTReference() : ((SNode)MapSequence.fromMap(_params).get("node")));
    IResultProvider provider=(SNodeOperations.isInstanceOf(((SNode)MapSequence.fromMap(_params).get("node")),"jetbrains.mps.lang.structure.structure.ConceptDeclaration") ? FindUtils.makeProvider(FindUtils.getFinderByClassName("jetbrains.mps.lang.structure.findUsages.NodeUsages_Finder"),FindUtils.getFinderByClassName("jetbrains.mps.lang.structure.findUsages.ConceptInstances_Finder")) : FindUtils.makeProvider(FindUtils.getFinderByClassName("jetbrains.mps.lang.structure.findUsages.NodeUsages_Finder")));
    SearchQuery query=new SearchQuery(operationNode,GlobalScope.getInstance());
    FastFindNodeUsages_Action.this.getTool(_params).findUsages(provider,query,true,false,false,"No usages for that node");
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "FastFindNodeUsages",t);
    }
  }
}
