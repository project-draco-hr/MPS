{
  SNode containingRoot=node.getContainingRoot();
  if (containingRoot == null)   return false;
  if (!myCheckedRoots.contains(containingRoot) || NodeTypesComponentsRepository.getInstance().getNodeTypesComponent(node.getContainingRoot()) == null) {
    checkRoot(containingRoot);
  }
  return true;
}
