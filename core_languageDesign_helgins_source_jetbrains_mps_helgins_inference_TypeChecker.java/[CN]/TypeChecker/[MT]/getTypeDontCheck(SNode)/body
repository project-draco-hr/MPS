{
  if (node == null)   return null;
  NodeTypesComponent nodeTypesComponent=ModelAccess.instance().runReadAction(new Computable<NodeTypesComponent>(){
    public NodeTypesComponent compute(){
      return NodeTypesComponentsRepository.getInstance().getNodeTypesComponent(node.getContainingRoot());
    }
  }
);
  if (nodeTypesComponent == null)   return null;
  return nodeTypesComponent.getType(node);
}
