{
  final CurrentLinePainter painter;
synchronized (mySessionToContextPainterMap) {
    painter=MapSequence.fromMap(mySessionToContextPainterMap).get(session);
    MapSequence.fromMap(mySessionToContextPainterMap).removeKey(session);
  }
  if (painter != null) {
    return new Runnable(){
      @Override public void run(){
        for (        EditorComponent editor : EditorComponentUtil.getAllEditorComponents(myFileEditorManager,true)) {
          detach(painter,editor);
        }
      }
    }
;
  }
  return null;
}
