{
  SNode node=getNode(debugSession);
  if (node != null) {
    final CurrentLinePainter newPainter=new CurrentLinePainter(node);
    final boolean visible=getCurrentSession() == null || getCurrentSession() == debugSession;
    newPainter.setVisible(visible);
synchronized (mySessionToContextPainterMap) {
      MapSequence.fromMap(mySessionToContextPainterMap).put(debugSession,newPainter);
      return new Runnable(){
        @Override public void run(){
          if (visible) {
            attachPainterAndOpenEditor(newPainter);
          }
 else {
            attachPainter(newPainter);
          }
        }
      }
;
    }
  }
  return null;
}
