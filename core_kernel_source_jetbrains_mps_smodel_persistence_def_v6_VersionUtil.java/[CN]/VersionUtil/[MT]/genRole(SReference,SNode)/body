{
  String role=ref.getRole();
  LinkDeclaration linkDecl=ref.getSourceNode().getLinkDeclaration(role);
  if (parentConcept != null && linkDecl != null && linkDecl.getNode().getParent() != parentConcept) {
    role=linkDecl.getNode().getParent().getName() + "." + role;
  }
  return genReferenceString(linkDecl,role,true);
}
