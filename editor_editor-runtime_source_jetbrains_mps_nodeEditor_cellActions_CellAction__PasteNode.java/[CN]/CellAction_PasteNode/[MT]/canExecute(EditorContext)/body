{
  Selection selection=context.getSelectionManager().getSelection();
  List<SNode> selectedNodes=selection.getSelectedNodes();
  if (selectedNodes.isEmpty()) {
    return false;
  }
  List<SNode> pasteNodes=CopyPasteUtil.getNodesFromClipboard(selectedNodes.get(0).getModel());
  if (pasteNodes == null || pasteNodes.isEmpty()) {
    return false;
  }
  boolean disposed=false;
  for (  SNode node : selectedNodes) {
    if (!SNodeUtil.isAccessible(node,MPSModuleRepository.getInstance())) {
      disposed=true;
      break;
    }
  }
  boolean canPasteWithRemove=!disposed && canPasteViaNodePasterWithRemove(selectedNodes,pasteNodes);
  if (selection instanceof SingularSelection && (selection instanceof EditorCellLabelSelection && !isCompletelySelected((EditorCellLabelSelection)selection) || (selection instanceof EditorCellSelection && !canPasteWithRemove))) {
    EditorCell selectedCell=getCellToPasteTo(context.getSelectedCell());
    if (selectedCell == null) {
      return false;
    }
    SNode selectedNode=selectedCell.getSNode();
    if (selectedNode == null || !(SNodeUtil.isAccessible(selectedNode,MPSModuleRepository.getInstance()))) {
      return false;
    }
    return canPasteViaNodePaster(selectedCell,pasteNodes);
  }
 else   if ((selection instanceof MultipleSelection || selection instanceof EditorCellSelection) && canPasteWithRemove) {
    return true;
  }
  return false;
}
