{
  super("Delete Undeclared Links and Properties");
  this.addRefactoring(new AbstractMigrationRefactoring(){
    @Override public String getName(){
      return "Undeclared property";
    }
    @Override public String getAdditionalInfo(){
      return "Undeclared property";
    }
    @Override public SAbstractConcept getApplicableConcept(){
      return MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x10802efe25aL,"jetbrains.mps.lang.core.structure.BaseConcept");
    }
    @Override public boolean isApplicableInstanceNode(    SNode node){
      for (      SProperty prop : Sequence.fromIterable(node.getProperties())) {
        if (prop.getDeclarationNode() == null) {
          return true;
        }
      }
      return false;
    }
    @Override public void doUpdateInstanceNode(    SNode node){
      for (      SProperty prop : Sequence.fromIterable(node.getProperties())) {
        if (prop.getDeclarationNode() == null) {
          node.setProperty(prop,null);
        }
      }
    }
    @Override public boolean isShowAsIntention(){
      return false;
    }
  }
);
  this.addRefactoring(new AbstractMigrationRefactoring(){
    @Override public String getName(){
      return "Child in undeclared role";
    }
    @Override public String getAdditionalInfo(){
      return "Child in undeclared role";
    }
    @Override public SAbstractConcept getApplicableConcept(){
      return MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x10802efe25aL,"jetbrains.mps.lang.core.structure.BaseConcept");
    }
    @Override public boolean isApplicableInstanceNode(    SNode node){
      return (SNodeOperations.getParent(node) != null) && (SNodeOperations.getContainingLinkDeclaration(node) == null);
    }
    @Override public void doUpdateInstanceNode(    SNode node){
      SNodeOperations.deleteNode(node);
    }
    @Override public boolean isShowAsIntention(){
      return false;
    }
  }
);
  this.addRefactoring(new AbstractMigrationRefactoring(){
    @Override public String getName(){
      return "Undeclared reference";
    }
    @Override public String getAdditionalInfo(){
      return "Undeclared reference";
    }
    @Override public SAbstractConcept getApplicableConcept(){
      return MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x10802efe25aL,"jetbrains.mps.lang.core.structure.BaseConcept");
    }
    @Override public boolean isApplicableInstanceNode(    SNode node){
      return ListSequence.fromList(SNodeOperations.getReferences(node)).where(new IWhereFilter<SReference>(){
        public boolean accept(        SReference it){
          return (SLinkOperations.findLinkDeclaration(it) == null);
        }
      }
).isNotEmpty();
    }
    @Override public void doUpdateInstanceNode(    SNode node){
      for (      SReference ref : ListSequence.fromList(SNodeOperations.getReferences(node)).where(new IWhereFilter<SReference>(){
        public boolean accept(        SReference it){
          return (SLinkOperations.findLinkDeclaration(it) == null);
        }
      }
).toGenericArray(SReference.class)) {
        node.setReference(ref.getRole(),null);
      }
    }
    @Override public boolean isShowAsIntention(){
      return false;
    }
  }
);
}
