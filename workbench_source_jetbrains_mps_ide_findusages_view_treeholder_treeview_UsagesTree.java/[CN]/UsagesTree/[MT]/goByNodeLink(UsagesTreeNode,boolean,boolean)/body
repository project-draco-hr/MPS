{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (treeNode.getUserObject() == null) {
        return;
      }
      BaseNodeData data=treeNode.getUserObject().getData();
      if (data instanceof NodeNodeData) {
        SNode node=((NodeNodeData)data).getNode();
        if (node != null) {
          if (!inProjectIfPossible) {
            navigateToNode(node,focus);
          }
 else {
            navigateInTree(node,focus);
          }
        }
 else {
          LOG.info("clicked node was deleted");
        }
      }
 else       if (data instanceof ModelNodeData) {
        SModel model=(SModel)((ModelNodeData)data).getIdObject();
        if (model != null) {
          navigateInTree(model,focus);
        }
      }
 else       if (data instanceof ModuleNodeData) {
        IModule module=(IModule)((ModuleNodeData)data).getIdObject();
        if (module != null) {
          navigateInTree(module,focus);
        }
      }
    }
  }
);
}
