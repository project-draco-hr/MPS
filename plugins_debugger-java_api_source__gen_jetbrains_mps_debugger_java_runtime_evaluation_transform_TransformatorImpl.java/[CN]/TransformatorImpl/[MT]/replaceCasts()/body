{
  boolean finished=true;
  for (  SNode cast : ListSequence.fromList(SNodeOperations.getNodeDescendants(myWhatToEvaluate,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf940dabe4aL,"jetbrains.mps.baseLanguage.structure.CastExpression"),false,new SAbstractConcept[]{})).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return TransformationUtil.isUnprocessed(it);
    }
  }
)) {
    SNode expression=SLinkOperations.getTarget(cast,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf940dabe4aL,0xf940dabe4cL,"expression"));
    SNode expressionType=TypeChecker.getInstance().getTypeOf(expression);
    SNode castType=SLinkOperations.getTarget(cast,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf940dabe4aL,0xf940dabe4bL,"type"));
    if (TypeChecker.getInstance().getSubtypingManager().isSubtype(expressionType,_quotation_createNode_s72qk1_b0a0d0b0ib_0()) && TypeChecker.getInstance().getSubtypingManager().isSubtype(castType,_quotation_createNode_s72qk1_b0a0d0b0ib())) {
      SNodeOperations.replaceWithAnother(cast,expression);
      TransformationUtil.replaceExpressionWithBox(expression);
      finished=false;
    }
 else     if (TypeChecker.getInstance().getSubtypingManager().isSubtype(expressionType,_quotation_createNode_s72qk1_b0a0a3a1a43()) && TypeChecker.getInstance().getSubtypingManager().isSubtype(castType,TransformationUtil.getPrimitiveType(),false)) {
      SNodeOperations.replaceWithAnother(cast,expression);
      TransformationUtil.replaceExpressionWithUnbox(expression);
      finished=false;
    }
 else     if (TypeChecker.getInstance().getSubtypingManager().isSubtype(expressionType,_quotation_createNode_s72qk1_b0a0b3a1a43()) && !(TypeChecker.getInstance().getSubtypingManager().isSubtype(castType,_quotation_createNode_s72qk1_b0a0a1d0b0ib()))) {
      SNode classifierType=TransformationUtil.getValueProxyTypeFromType(castType);
      SLinkOperations.setTarget(cast,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf940dabe4aL,0xf940dabe4bL,"type"),classifierType);
      finished=false;
    }
  }
  return finished;
}
