{
  TopologicalSorting sorter=new TopologicalSorting();
  sorter.doDfs(graph);
  if (sorter.getHasCycles()) {
    throw new IllegalArgumentException("input graph must be acyclic");
  }
  return sorter.getOrder();
}
