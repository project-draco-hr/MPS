{
  List<File> homeFolders=new ArrayList<File>();
  homeFolders.add(getHomeLocation());
  Object mps_home=PropertyHelper.getProperty(getProject(),"mps_home");
  if (mps_home instanceof String) {
    File mpsHome=new File((String)mps_home);
    if (mpsHome.isDirectory()) {
      File lib=new File(mpsHome,"lib");
      if (lib.isDirectory()) {
        homeFolders.add(lib);
      }
    }
  }
  List<File> result=new ArrayList<File>();
  for (  String name : CLASSPATH) {
    File file=null;
    for (    File home : homeFolders) {
      File f=new File(home,name);
      if (f.isFile()) {
        file=f;
        break;
      }
    }
    if (file == null) {
      throw new BuildException("cannot find `" + name + "' in "+ homeFolders.toString());
    }
 else {
      result.add(file);
    }
  }
  return result;
}
