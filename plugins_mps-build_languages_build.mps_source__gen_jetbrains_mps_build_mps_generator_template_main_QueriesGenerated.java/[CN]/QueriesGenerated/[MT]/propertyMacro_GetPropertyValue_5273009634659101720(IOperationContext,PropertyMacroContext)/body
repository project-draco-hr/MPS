{
  if (((Tuples._2<Iterable<SNode>,String>)_context.getVariable("var:depsAndBasePath"))._1() == null) {
    return "?????";
  }
  SNode script=SLinkOperations.getTarget(_context.getNode(),"script",false);
  String filePath=BuildProject_Behavior.call_getScriptsPath_4796668409958419284(script,Context.defaultContext(_context));
  if (filePath == null) {
    _context.showErrorMessage(script,"no script path for required script " + SPropertyOperations.getString(script,"name"));
    return ".";
  }
  try {
    String relative=new RelativePathHelper(((Tuples._2<Iterable<SNode>,String>)_context.getVariable("var:depsAndBasePath"))._1()).makeRelative(filePath);
    if ((relative == null || relative.length() == 0)) {
      return BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
    }
    if (!(relative.endsWith("/"))) {
      relative+="/";
    }
    return relative + BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
  }
 catch (  RelativePathHelper.PathException ex) {
    _context.showErrorMessage(_context.getNode(),"cannot calculate relative path: " + ex.getMessage());
    return "????";
  }
}
