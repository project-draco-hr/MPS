{
  if (mappingName == null)   return;
  Map<SNodeId,Object> currentMapping=myMappingNameAndInputNodeToOutputNodeMap.get(mappingName);
  if (currentMapping == null) {
    myMappingNameAndInputNodeToOutputNodeMap.put(mappingName,new HashMap<SNodeId,Object>());
    currentMapping=myMappingNameAndInputNodeToOutputNodeMap.get(mappingName);
  }
  if (value instanceof SNodeId) {
    currentMapping.put(inputNode,value);
  }
 else   if (value instanceof SNode) {
    currentMapping.put(inputNode,((SNode)value).getNodeId());
  }
 else   if (value instanceof Collection) {
    @SuppressWarnings("unchecked") Collection<SNode> n0=(Collection<SNode>)value;
    List<SNodeId> v=new ArrayList<SNodeId>(n0.size());
    for (    SNode n : n0) {
      v.add(n.getNodeId());
    }
    currentMapping.put(inputNode,v);
  }
}
