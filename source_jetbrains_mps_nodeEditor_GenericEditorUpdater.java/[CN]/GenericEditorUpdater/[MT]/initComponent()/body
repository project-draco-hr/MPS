{
  System.err.println("starting highlighter");
  if (myThread != null && myThread.isAlive()) {
    return;
  }
  myThread=new Thread(){
{
      setDaemon(true);
    }
    public void run(){
      if (IdeMain.isTestMode())       return;
      CommandProcessor commandProcessor=CommandProcessor.instance();
      try {
        while (true) {
          try {
            while (commandProcessor.isInsideCommand()) {
              Thread.sleep(200);
            }
            doUpdate();
            if (myStopThread) {
              break;
            }
            Thread.sleep(300);
          }
 catch (          InterruptedException e) {
          }
        }
      }
 catch (      Exception e) {
        LOG.error(e);
      }
    }
  }
;
  System.err.println("thread name = " + myThread.getName());
  myThread.start();
}
