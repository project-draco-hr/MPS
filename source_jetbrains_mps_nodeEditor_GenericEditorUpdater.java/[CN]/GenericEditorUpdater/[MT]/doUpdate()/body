{
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      CommandProcessor commandProcessor=CommandProcessor.instance();
      commandProcessor.tryToExecuteCommand(new Runnable(){
        public void run(){
          if (myProjects == null)           return;
          MPSProjects projects=myProjects;
          for (          MPSProject project : projects.getProjects()) {
            if (project.getComponent(IDEProjectFrame.class) == null)             continue;
            EditorsPane editorsPane=project.getComponentSafe(AbstractProjectFrame.class).getEditorsPane();
            boolean isUpdated=false;
            for (            IEditor editor : editorsPane.getEditors()) {
              AbstractEditorComponent component=editor.getCurrentEditorComponent();
              if (component != null) {
                if (System.currentTimeMillis() - component.getEditedNode().getModel().getModelDescriptor().lastStructuralChange() > getCheckDelay()) {
                  if (updateEditor(component)) {
                    isUpdated=true;
                  }
                }
              }
            }
            if (isUpdated) {
              IEditor currentEditor=editorsPane.getCurrentEditor();
              if (currentEditor != null) {
                currentEditor.repaint();
                AbstractEditorComponent component=currentEditor.getCurrentEditorComponent();
                if (component != null) {
                  component.getMessagesGutter().repaint();
                }
              }
            }
          }
        }
      }
,"editor update");
    }
  }
);
}
