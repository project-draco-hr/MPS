{
  setTooltipText(null);
  final String[] result={null};
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
      List<String> errors=ModelAccess.instance().runReadAction(new Computable<List<String>>(){
        public List<String> compute(){
          return ModuleValidatorFactory.createValidator(getModule()).getErrors();
        }
      }
);
      boolean valid=errors.isEmpty();
      setErrorState(valid ? ErrorState.NONE : ErrorState.ERROR);
      if (!valid) {
        result[0]="<html>";
        for (        String error : errors) {
          result[0]+=error + "<br>";
        }
      }
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          if (result[0] != null) {
            setTooltipText(result[0]);
          }
        }
      }
);
    }
  }
);
}
