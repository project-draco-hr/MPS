{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (value) {
        Set<Pair<Intention,SNode>> enabledIntentions=getEnabledIntentions();
        SNode node=myEditor.getEditedNode();
        if ((!enabledIntentions.isEmpty()) && (node == null || !node.getModel().isNotEditable())) {
          IntentionType typeToShow=IntentionType.getLowestPriorityType();
          for (          Pair<Intention,SNode> pair : enabledIntentions) {
            if (pair.first.getType().getPriority() < typeToShow.getPriority()) {
              typeToShow=pair.first.getType();
            }
          }
          showLightBulb(typeToShow.getIcon());
        }
      }
 else {
        hideLightBulb();
      }
    }
  }
);
}
