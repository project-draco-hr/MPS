{
  IntentionsMenu intentionsMenu=new IntentionsMenu(myEditor.getOperationContext());
  intentionsMenu.init(getAvailableIntentions(),myEditor.getEditorContext());
  intentionsMenu.addPopupMenuListener(new PopupMenuListener(){
    public void popupMenuWillBecomeVisible(    PopupMenuEvent e){
    }
    public void popupMenuWillBecomeInvisible(    PopupMenuEvent e){
      ModelAccess.instance().runReadInEDT(new Runnable(){
        public void run(){
          setLightBulbVisibility(!getEnabledIntentions().isEmpty());
        }
      }
);
    }
    public void popupMenuCanceled(    PopupMenuEvent e){
      ModelAccess.instance().runReadInEDT(new Runnable(){
        public void run(){
          setLightBulbVisibility(!getEnabledIntentions().isEmpty());
        }
      }
);
    }
  }
);
  Point loc=getIntentionsMenuLocation(myEditor.getSelectedCell(),intentionsMenu);
  intentionsMenu.show(myEditor,loc.x,loc.y);
}
