{
  final boolean result=TestMain.testOnProjectCopy(PROJECT_ARCHIVE,DESTINATION_PROJECT_DIR,PROJECT_FILE,new ProjectRunnable(){
    public boolean execute(    final MPSProject project){
      final boolean[] resultArr=new boolean[1];
      try {
        ourProject=project.getProject();
        SModelDescriptor modelDescriptor=SModelRepository.getInstance().getModelDescriptor(MODEL_REFERENCE);
        Assert.assertTrue(modelDescriptor instanceof EditableSModelDescriptor);
        myModelDescriptor=(EditableSModelDescriptor)modelDescriptor;
        checkInitialState();
        provokeAndCheckConflict(true,true);
        restoreAndCheckOriginalState();
        provokeAndCheckConflict(true,false);
        restoreAndCheckOriginalState();
        provokeAndCheckConflict(false,true);
        restoreAndCheckOriginalState();
        provokeAndCheckConflict(false,false);
        restoreAndCheckOriginalState();
        resultArr[0]=true;
      }
 catch (      Throwable e) {
        e.printStackTrace();
        return false;
      }
      return resultArr[0];
    }
  }
,"jetbrains.mps.vcs");
  if (!result) {
    Assert.fail();
  }
}
