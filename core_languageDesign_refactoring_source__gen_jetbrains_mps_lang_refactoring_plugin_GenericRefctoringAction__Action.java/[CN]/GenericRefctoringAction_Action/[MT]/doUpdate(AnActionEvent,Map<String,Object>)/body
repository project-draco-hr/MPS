{
  try {
{
      String text=("".equals(GenericRefctoringAction_Action.this.refactoring.getUserFriendlyName()) ? GenericRefctoringAction_Action.this.refactoring.getClass().getName() : GenericRefctoringAction_Action.this.refactoring.getUserFriendlyName());
      event.getPresentation().setText(text);
      IRefactoringTarget refTarget=GenericRefctoringAction_Action.this.refactoring.getRefactoringTarget();
      boolean oneEntity=!(refTarget.allowMultipleTargets());
      List entities;
switch (refTarget.getTarget()) {
case NODE:
        entities=GenericRefactoringHelper.getNodes(event,oneEntity);
      break;
case MODEL:
    entities=GenericRefactoringHelper.getModels(event,oneEntity);
  break;
case MODULE:
entities=GenericRefactoringHelper.getModules(event,oneEntity);
break;
default :
throw new IllegalArgumentException("Wrong refactoring type " + refTarget.getTarget().getClass().getName());
}
boolean disabled=entities.isEmpty() || RefactoringUtil.getApplicability(GenericRefctoringAction_Action.this.refactoring,entities).lessThan(GenericRefactoringHelper.getMinApplicabilityLevel());
GenericRefctoringAction_Action.this.setEnabledState(event.getPresentation(),!(disabled));
}
}
 catch (Throwable t) {
LOG.error("User's action doUpdate method failed. Action:" + "GenericRefctoringAction",t);
this.disable(event.getPresentation());
}
}
