{
  checkNotDisposed();
  if (event != null) {
    if (!myIsInCommand && !(event instanceof SModelFileChangedEvent)) {
      throw new IllegalStateException("Event outside of a command");
    }
    myEvents.add(event);
  }
}
