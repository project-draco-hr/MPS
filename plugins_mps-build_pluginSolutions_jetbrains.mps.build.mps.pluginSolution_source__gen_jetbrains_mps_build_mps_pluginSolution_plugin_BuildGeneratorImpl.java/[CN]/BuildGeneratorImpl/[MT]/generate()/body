{
  ModelAccess.instance().runCommandInEDT(new Runnable(){
    public void run(){
      SModelDescriptor descriptor=getSModelDescriptor(new EmptyProgressIndicator());
      addRequiredImports(descriptor.getSModel(),descriptor.getModule().getModuleDescriptor());
      final EditableSModelDescriptor targetModelDescriptor=((EditableSModelDescriptor)descriptor);
      Iterable<SNode> result=createBuildScripts(targetModelDescriptor,BuildGeneratorImpl.this.getProjectName(),BuildGeneratorImpl.this.myProject.getBaseDir().getPath(),BuildGeneratorImpl.this.getModules());
      ModelAccess.instance().runWriteActionInCommand(new Runnable(){
        public void run(){
          targetModelDescriptor.getModule().save();
          targetModelDescriptor.save();
        }
      }
);
      for (      SNode node : Sequence.fromIterable(result)) {
        NavigationSupport.getInstance().openNode(myOperationContext,node,true,true);
      }
      ProjectHelper.toMPSProject(myProject).addModule(descriptor.getModule().getModuleReference());
    }
  }
,ProjectHelper.toMPSProject(myProject));
  if (eq_un708i_a0c0a(getDependencyKind(),DependencyStep.DependencyKind.STANDALONE)) {
    copyIcons();
  }
}
