{
  SNode buildStandalone=SConceptOperations.createNewNode("jetbrains.mps.build.structure.BuildProject",null);
  SPropertyOperations.set(buildStandalone,"name",SPropertyOperations.getString(buildProject,"name") + "Distribution");
  SPropertyOperations.set(buildStandalone,"fileName","buildDistribution.xml");
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"dependencies",true)).addElement(_quotation_createNode_un708i_a0a3a01(buildProject));
  SLinkOperations.setNewChild(buildStandalone,"layout","jetbrains.mps.build.structure.BuildLayout");
  SPropertyOperations.set(buildStandalone,"internalBaseDirectory",SPropertyOperations.getString(buildProject,"internalBaseDirectory"));
  SNode mpsHomeMacro=_quotation_createNode_un708i_a0h0k();
  SNode version=_quotation_createNode_un708i_a0i0k();
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"macros",true)).addElement(mpsHomeMacro);
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"macros",true)).addElement(version);
  SNode buildNumber=SNodeOperations.cast(ListSequence.fromList(SLinkOperations.getTargets(buildProject,"macros",true)).findFirst(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.structure.BuildVariableMacro") && eq_un708i_a0a0a0a0a0a0a11a01(SPropertyOperations.getString(it,"name"),SPropertyOperations.getString(SLinkOperations.getTarget(_quotation_createNode_un708i_a0a0a0a0a0a0l0k(),"macro",false),"name"));
    }
  }
),"jetbrains.mps.build.structure.BuildVariableMacro");
  SNode linuxTar=_quotation_createNode_un708i_a0r0k(SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(_quotation_createNode_un708i_a0a0a1a0a0r0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0b1a0a0r0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c1a0a0r0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0d1a0a0r0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c0a0a71a01(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version,buildNumber);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(linuxTar);
  SNode universalZip=_quotation_createNode_un708i_a0v0k(SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(_quotation_createNode_un708i_a0a0a1a0a0v0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0b1a0a0v0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a2b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a1c1a0a0v0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a3b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0b3b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c3b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a0e1a0a0v0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0b5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0d5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0e5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0f5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0g5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a0h5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a1h5b0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c7f1a0a0v0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c0a0a12a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0d0a0a12a01(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version,buildNumber);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(universalZip);
  SNode macosZip=_quotation_createNode_un708i_a0y0k(buildNumber,SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(_quotation_createNode_un708i_a0a0a0b0a0a42a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a1b0a0a42a01(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c1a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0a2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0b2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0c2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0d2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0e2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0f2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0g2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0h2a0a0y0k(),mpsHomeMacro),convertToMacroRelative(_quotation_createNode_un708i_a0a0d0a0a42a01(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(macosZip);
  SModelOperations.addRootNode(targetSModel,buildStandalone);
  return buildStandalone;
}
