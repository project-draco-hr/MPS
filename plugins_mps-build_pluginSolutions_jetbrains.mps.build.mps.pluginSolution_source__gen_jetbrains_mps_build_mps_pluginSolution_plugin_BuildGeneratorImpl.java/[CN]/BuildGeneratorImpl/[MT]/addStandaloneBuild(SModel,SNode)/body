{
  SNode buildStandalone=SConceptOperations.createNewNode("jetbrains.mps.build.structure.BuildProject",null);
  SPropertyOperations.set(buildStandalone,"name",SPropertyOperations.getString(buildProject,"name") + "Distribution");
  SPropertyOperations.set(buildStandalone,"fileName","buildDistribution.xml");
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"dependencies",true)).addElement(new BuildGeneratorImpl.QuotationClass_un708i_a0a0d0k().createNode(buildProject));
  SLinkOperations.setNewChild(buildStandalone,"layout","jetbrains.mps.build.structure.BuildLayout");
  SPropertyOperations.set(buildStandalone,"internalBaseDirectory",SPropertyOperations.getString(buildProject,"internalBaseDirectory"));
  SNode mpsHomeMacro=new BuildGeneratorImpl.QuotationClass_un708i_a0a7a01().createNode();
  SNode version=new BuildGeneratorImpl.QuotationClass_un708i_a0a8a01().createNode();
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"macros",true)).addElement(mpsHomeMacro);
  ListSequence.fromList(SLinkOperations.getTargets(buildStandalone,"macros",true)).addElement(version);
  SNode buildNumber=SNodeOperations.cast(ListSequence.fromList(SLinkOperations.getTargets(buildProject,"macros",true)).findFirst(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.structure.BuildVariableMacro") && eq_un708i_a0a0a0a0a0a0a11a01(SPropertyOperations.getString(it,"name"),SPropertyOperations.getString(SLinkOperations.getTarget(new BuildGeneratorImpl.QuotationClass_un708i_a0a0a0a0a0a0a11a01().createNode(),"macro",false),"name"));
    }
  }
),"jetbrains.mps.build.structure.BuildVariableMacro");
  SNode linuxTar=new BuildGeneratorImpl.QuotationClass_un708i_a0a71a01().createNode(SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0b0a0a71a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0c0a0a71a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0d0a0a71a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0e0a0a71a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0f0a0a71a01().createNode(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version,buildNumber);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(linuxTar);
  SNode universalZip=new BuildGeneratorImpl.QuotationClass_un708i_a0a12a01().createNode(SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0b0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0c0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0d0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0e0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0f0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0g0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0h0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0i0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0j0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0k0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0l0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0m0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0n0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0o0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0p0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0q0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0r0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0s0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0t0a0a12a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0u0a0a12a01().createNode(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version,buildNumber);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(universalZip);
  SNode macosZip=new BuildGeneratorImpl.QuotationClass_un708i_a0a42a01().createNode(buildNumber,SLinkOperations.getTarget(buildProject,"layout",true),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0c0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0d0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0e0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0f0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0g0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0h0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0i0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0j0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0k0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0l0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0m0a0a42a01().createNode(),mpsHomeMacro),convertToMacroRelative(new BuildGeneratorImpl.QuotationClass_un708i_a0n0a0a42a01().createNode(),mpsHomeMacro),SPropertyOperations.getString(buildProject,"name") + " ",version);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(buildStandalone,"layout",true),"children",true)).addElement(macosZip);
  SModelOperations.addRootNode(targetSModel,buildStandalone);
  return buildStandalone;
}
