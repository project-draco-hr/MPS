{
  SNode result=null;
  Set<SNode> _parameterValues_129834374=new HashSet<SNode>();
  SNode quotedNode_1=null;
  SNode quotedNode_2=null;
  SNode quotedNode_3=null;
  SNode quotedNode_4=null;
  SNode quotedNode_5=null;
  SNode quotedNode_6=null;
  SNode quotedNode_7=null;
  SNode quotedNode_8=null;
  SNode quotedNode_9=null;
  SNode quotedNode_10=null;
  SNode quotedNode_11=null;
  SNode quotedNode_12=null;
  SNode quotedNode_13=null;
  SNode quotedNode_14=null;
  SNode quotedNode_15=null;
  SNode quotedNode_16=null;
  SNode quotedNode_17=null;
  SNode quotedNode_18=null;
  SNode quotedNode_19=null;
  SNode quotedNode_20=null;
  SNode quotedNode_21=null;
  SNode quotedNode_22=null;
  SNode quotedNode_23=null;
  SNode quotedNode_24=null;
  SNode quotedNode_25=null;
  SNode quotedNode_26=null;
  SNode quotedNode_27=null;
  SNode quotedNode_28=null;
  SNode quotedNode_29=null;
  SNode quotedNode_30=null;
  SNode quotedNode_31=null;
  SNode quotedNode_32=null;
  SNode quotedNode_33=null;
  SNode quotedNode_34=null;
  SNode quotedNode_35=null;
  SNode quotedNode_36=null;
  SNode quotedNode_37=null;
  SNode quotedNode_38=null;
  SNode quotedNode_39=null;
  SNode quotedNode_40=null;
  SNode quotedNode_41=null;
  SNode quotedNode_42=null;
  SNode quotedNode_43=null;
  SNode quotedNode_44=null;
  SNode quotedNode_45=null;
  SNode quotedNode_46=null;
  SNode quotedNode_47=null;
{
    quotedNode_1=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout",null,GlobalScope.getInstance(),false);
    SNode quotedNode1_48=quotedNode_1;
{
      quotedNode_2=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_49=quotedNode_2;
      quotedNode1_49.setReference("target",SReference.create("target",quotedNode1_49,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1392391688313033161")));
      quotedNode_1.addChild("children",quotedNode1_49);
    }
{
      quotedNode_3=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_50=quotedNode_3;
      quotedNode1_50.setReference("target",SReference.create("target",quotedNode1_50,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1348803421063031332")));
      quotedNode_1.addChild("children",quotedNode1_50);
    }
{
      quotedNode_4=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Folder",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_51=quotedNode_4;
{
        quotedNode_8=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildStringNotEmpty",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_52=quotedNode_8;
{
          quotedNode_26=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_53=quotedNode_26;
          quotedNode1_53.setProperty("text","bin");
          quotedNode_8.addChild("parts",quotedNode1_53);
        }
        quotedNode_4.addChild("containerName",quotedNode1_52);
      }
{
        quotedNode_9=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_ImportContent",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_54=quotedNode_9;
        quotedNode1_54.setReference("target",SReference.create("target",quotedNode1_54,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("3684398890534586740")));
{
          quotedNode_27=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildFileIncludeSelector",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_55=quotedNode_27;
          quotedNode1_55.setProperty("pattern","log.xml");
          quotedNode_9.addChild("selectors",quotedNode1_55);
        }
{
          quotedNode_28=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildFileIncludeSelector",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_56=quotedNode_28;
          quotedNode1_56.setProperty("pattern","log4j.dtd");
          quotedNode_9.addChild("selectors",quotedNode1_56);
        }
        quotedNode_4.addChild("children",quotedNode1_54);
      }
{
        quotedNode_10=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_File",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_57=quotedNode_10;
{
          quotedNode_29=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_CopyFilterReplaceRegex",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_58=quotedNode_29;
          quotedNode1_58.setProperty("pattern","\\.MPS(\\w+)");
          quotedNode1_58.setProperty("flags","g");
{
            quotedNode_41=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildString",null,GlobalScope.getInstance(),false);
            SNode quotedNode1_59=quotedNode_41;
{
              quotedNode_46=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
              SNode quotedNode1_60=quotedNode_46;
              quotedNode1_60.setProperty("text","\\.");
              quotedNode_41.addChild("parts",quotedNode1_60);
            }
{
              quotedNode_47=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildVarRefStringPart",null,GlobalScope.getInstance(),false);
              SNode quotedNode1_61=quotedNode_47;
              quotedNode1_61.setReferenceTarget("macro",(SNode)parameter_95);
              quotedNode_41.addChild("parts",quotedNode1_61);
            }
            quotedNode_29.addChild("value",quotedNode1_59);
          }
          quotedNode_10.addChild("parameters",quotedNode1_58);
        }
{
          quotedNode_30=(SNode)parameter_96;
          SNode quotedNode1_62;
          if (_parameterValues_129834374.contains(quotedNode_30)) {
            quotedNode1_62=HUtil.copyIfNecessary(quotedNode_30);
          }
 else {
            _parameterValues_129834374.add(quotedNode_30);
            quotedNode1_62=quotedNode_30;
          }
          if (quotedNode1_62 != null) {
            quotedNode_10.addChild("path",HUtil.copyIfNecessary(quotedNode1_62));
          }
        }
        quotedNode_4.addChild("children",quotedNode1_57);
      }
      quotedNode_1.addChild("children",quotedNode1_51);
    }
{
      quotedNode_5=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Folder",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_63=quotedNode_5;
{
        quotedNode_11=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildStringNotEmpty",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_64=quotedNode_11;
{
          quotedNode_31=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_65=quotedNode_31;
          quotedNode1_65.setProperty("text","lib");
          quotedNode_11.addChild("parts",quotedNode1_65);
        }
        quotedNode_5.addChild("containerName",quotedNode1_64);
      }
{
        quotedNode_12=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_ImportContent",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_66=quotedNode_12;
        quotedNode1_66.setReference("target",SReference.create("target",quotedNode1_66,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1392391688313033167")));
{
          quotedNode_32=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildFileExcludeSelector",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_67=quotedNode_32;
          quotedNode1_67.setProperty("pattern","MPS-src.zip");
          quotedNode_12.addChild("selectors",quotedNode1_67);
        }
{
          quotedNode_33=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildFileExcludeSelector",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_68=quotedNode_33;
          quotedNode1_68.setProperty("pattern","branding.jar");
          quotedNode_12.addChild("selectors",quotedNode1_68);
        }
        quotedNode_5.addChild("children",quotedNode1_66);
      }
{
        quotedNode_13=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Jar",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_69=quotedNode_13;
{
          quotedNode_34=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildStringNotEmpty",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_70=quotedNode_34;
{
            quotedNode_42=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
            SNode quotedNode1_71=quotedNode_42;
            quotedNode1_71.setProperty("text","branding.jar");
            quotedNode_34.addChild("parts",quotedNode1_71);
          }
          quotedNode_13.addChild("containerName",quotedNode1_70);
        }
{
          quotedNode_35=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_FilesOf",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_72=quotedNode_35;
          quotedNode1_72.setReferenceTarget("element",(SNode)parameter_97);
          quotedNode_13.addChild("children",quotedNode1_72);
        }
        quotedNode_5.addChild("children",quotedNode1_69);
      }
      quotedNode_1.addChild("children",quotedNode1_63);
    }
{
      quotedNode_6=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Folder",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_73=quotedNode_6;
{
        quotedNode_14=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_74=quotedNode_14;
        quotedNode1_74.setReference("target",SReference.create("target",quotedNode1_74,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1392391688313033217")));
        quotedNode_6.addChild("children",quotedNode1_74);
      }
{
        quotedNode_15=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_75=quotedNode_15;
        quotedNode1_75.setReference("target",SReference.create("target",quotedNode1_75,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1392391688313033209")));
        quotedNode_6.addChild("children",quotedNode1_75);
      }
{
        quotedNode_16=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_76=quotedNode_16;
        quotedNode1_76.setReference("target",SReference.create("target",quotedNode1_76,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("1392391688313033226")));
        quotedNode_6.addChild("children",quotedNode1_76);
      }
{
        quotedNode_17=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_77=quotedNode_17;
        quotedNode1_77.setReference("target",SReference.create("target",quotedNode1_77,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("614687982853436655")));
        quotedNode_6.addChild("children",quotedNode1_77);
      }
{
        quotedNode_18=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.mps.structure.BuildMpsLayout_Plugin",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_78=quotedNode_18;
        quotedNode1_78.setReferenceTarget("plugin",(SNode)parameter_98);
        quotedNode_6.addChild("children",quotedNode1_78);
      }
{
        quotedNode_19=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Comment",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_79=quotedNode_19;
        quotedNode1_79.setProperty("text","optional plugins");
        quotedNode_6.addChild("children",quotedNode1_79);
      }
{
        quotedNode_20=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_Import",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_80=quotedNode_20;
        quotedNode1_80.setReference("target",SReference.create("target",quotedNode1_80,SModelReference.fromString("r:874d959d-e3b4-4d04-b931-ca849af130dd(jetbrains.mps.ide.build)"),SNodeId.fromString("6265574260762011106")));
        quotedNode_6.addChild("children",quotedNode1_80);
      }
{
        quotedNode_21=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildStringNotEmpty",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_81=quotedNode_21;
{
          quotedNode_36=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_82=quotedNode_36;
          quotedNode1_82.setProperty("text","plugins");
          quotedNode_21.addChild("parts",quotedNode1_82);
        }
        quotedNode_6.addChild("containerName",quotedNode1_81);
      }
      quotedNode_1.addChild("children",quotedNode1_73);
    }
{
      quotedNode_7=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_EchoProperties",null,GlobalScope.getInstance(),false);
      SNode quotedNode1_83=quotedNode_7;
{
        quotedNode_22=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildStringNotEmpty",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_84=quotedNode_22;
{
          quotedNode_37=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_85=quotedNode_37;
          quotedNode1_85.setProperty("text","build.number");
          quotedNode_22.addChild("parts",quotedNode1_85);
        }
        quotedNode_7.addChild("fileName",quotedNode1_84);
      }
{
        quotedNode_23=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_EchoPropertyEntry",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_86=quotedNode_23;
        quotedNode1_86.setProperty("key","build.number");
{
          quotedNode_38=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildString",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_87=quotedNode_38;
{
            quotedNode_43=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildVarRefStringPart",null,GlobalScope.getInstance(),false);
            SNode quotedNode1_88=quotedNode_43;
            quotedNode1_88.setReferenceTarget("macro",(SNode)parameter_99);
            quotedNode_38.addChild("parts",quotedNode1_88);
          }
          quotedNode_23.addChild("value",quotedNode1_87);
        }
        quotedNode_7.addChild("entries",quotedNode1_86);
      }
{
        quotedNode_24=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_EchoPropertyEntry",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_89=quotedNode_24;
        quotedNode1_89.setProperty("key","date");
{
          quotedNode_39=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildString",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_90=quotedNode_39;
{
            quotedNode_44=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildVarRefStringPart",null,GlobalScope.getInstance(),false);
            SNode quotedNode1_91=quotedNode_44;
            quotedNode1_91.setReferenceTarget("macro",(SNode)parameter_100);
            quotedNode_39.addChild("parts",quotedNode1_91);
          }
          quotedNode_24.addChild("value",quotedNode1_90);
        }
        quotedNode_7.addChild("entries",quotedNode1_89);
      }
{
        quotedNode_25=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildLayout_EchoPropertyEntry",null,GlobalScope.getInstance(),false);
        SNode quotedNode1_92=quotedNode_25;
        quotedNode1_92.setProperty("key","version");
{
          quotedNode_40=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildString",null,GlobalScope.getInstance(),false);
          SNode quotedNode1_93=quotedNode_40;
{
            quotedNode_45=SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.build.structure.BuildTextStringPart",null,GlobalScope.getInstance(),false);
            SNode quotedNode1_94=quotedNode_45;
            quotedNode1_94.setProperty("text","1.0");
            quotedNode_40.addChild("parts",quotedNode1_94);
          }
          quotedNode_25.addChild("value",quotedNode1_93);
        }
        quotedNode_7.addChild("entries",quotedNode1_92);
      }
      quotedNode_1.addChild("children",quotedNode1_83);
    }
    result=quotedNode1_48;
  }
  return result;
}
