{
  SNode owner=SNodeOperations.getAncestorWhereConceptInList(thisNode,new String[]{"jetbrains.mps.lang.editor.structure.EditorCellModel","jetbrains.mps.lang.editor.structure.CellMenuComponent"},false,false);
  if (SNodeOperations.isInstanceOf(owner,"jetbrains.mps.lang.editor.structure.CellModel_WithRole")) {
    return SLinkOperations.getTarget(SNodeOperations.cast(owner,"jetbrains.mps.lang.editor.structure.CellModel_WithRole"),"relationDeclaration",false);
  }
 else   if (SNodeOperations.isInstanceOf(owner,"jetbrains.mps.lang.editor.structure.CellMenuComponent")) {
    SNode component=SNodeOperations.cast(owner,"jetbrains.mps.lang.editor.structure.CellMenuComponent");
    SNode feature=SLinkOperations.getTarget(component,"applicableFeature",true);
    if ((feature != null)) {
      return SLinkOperations.getTarget(feature,"relationDeclaration",false);
    }
    return null;
  }
 else {
    return null;
  }
}
