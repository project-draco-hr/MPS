{
  try {
    for (    SConcept next : new ImmediateParentConceptIterator(node.getConcept(),SNodeUtil.concept_BaseConcept)) {
      String languageName=next.getLanguage().getQualifiedName();
      Language l=ModuleRepositoryFacade.getInstance().getModule(languageName,Language.class);
      String textgenClassname=LanguageAspect.TEXT_GEN.getAspectQualifiedClassName(next) + "_TextGen";
      Class<SNodeTextGen> textgenClass=DescriptorUtils.getClassFromLanguage(textgenClassname,l);
      if (textgenClass != null) {
        return textgenClass.newInstance();
      }
    }
  }
 catch (  InstantiationException ex) {
    Logger.getLogger(TextGen.class).error("Failed to instantiate textgen",ex);
  }
catch (  IllegalAccessException ex) {
    Logger.getLogger(TextGen.class).error("Failed to instantiate textgen",ex);
  }
  return new DefaultTextGen();
}
