{
  SNode node=__thisNode__;
  int metaLevelChange=0;
  while ((node != null)) {
    if (SNodeOperations.isInstanceOf(node,MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2cc012b1584bd3aL,"jetbrains.mps.lang.core.structure.IMetaLevelChanger"))) {
      metaLevelChange+=IMetaLevelChanger_BehaviorDescriptor.getMetaLevelChange_idbc0iGlxcsE.invoke(SNodeOperations.cast(node,MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2cc012b1584bd3aL,"jetbrains.mps.lang.core.structure.IMetaLevelChanger")));
    }
    if (metaLevelChange == 0) {
      break;
    }
    node=Scope.parent(node);
  }
  if ((node == null)) {
    return new EmptyScope();
  }
  return Scope.getScope(Scope.parent(node),node,kind);
}
