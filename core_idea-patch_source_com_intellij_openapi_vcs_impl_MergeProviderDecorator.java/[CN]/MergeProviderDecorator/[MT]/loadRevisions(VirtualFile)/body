{
  MergeData mergeData=myProvider.loadRevisions(file);
  if (file.getFileType().equals(MPSFileTypeFactory.MODEL_FILE_TYPE)) {
    String leftText=VcsHelperUtil.decodeContent(file,mergeData.CURRENT);
    String rightText=VcsHelperUtil.decodeContent(file,mergeData.LAST);
    String originalText=VcsHelperUtil.decodeContent(file,mergeData.ORIGINAL);
    DiffRequestFactory diffRequestFactory=DiffRequestFactory.getInstance();
    MergeRequest request=diffRequestFactory.createMergeRequest(leftText,rightText,originalText,file,myProject,ActionButtonPresentation.createApplyButton());
    try {
      myBackup=VcsHelperUtil.zipModel(mergeData,request.getContents(),file);
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
  return mergeData;
}
