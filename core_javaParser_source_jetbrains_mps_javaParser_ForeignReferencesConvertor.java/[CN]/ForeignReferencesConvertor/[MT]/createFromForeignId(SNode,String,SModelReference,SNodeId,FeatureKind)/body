{
  SModelDescriptor regularModel=regularModelReferenceFromForeign(modelReference);
  if (regularModel == null) {
    return null;
  }
  INodeAdapter target;
  SModel model=regularModel.getSModel();
switch (targetKind) {
case CLASS:
{
      target=getMPSClassById(model,nodeId);
      break;
    }
case FIELD:
{
    target=getMPSFieldById(model,nodeId);
    break;
  }
case METHOD:
{
  target=getMPSMethodById(model,nodeId);
  break;
}
default :
{
target=null;
}
}
if (target == null) {
return SReference.create(role,sourceNode,modelReference,nodeId);
}
return SReference.create(role,sourceNode,target.getNode());
}
