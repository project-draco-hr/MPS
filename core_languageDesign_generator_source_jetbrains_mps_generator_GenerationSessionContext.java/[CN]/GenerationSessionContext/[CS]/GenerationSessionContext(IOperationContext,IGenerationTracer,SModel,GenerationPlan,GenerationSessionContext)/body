{
  myInvocationContext=invocationContext;
  myGenerationTracer=generationTracer;
  myGenerationPlan=generationPlan;
  myTemplateModels=generationPlan.getTemplateModels();
  getModule().setInvocationContext(invocationContext.getModule());
  if (prevContext != null) {
    myOriginalInputModel=prevContext.myOriginalInputModel;
    mySessionObjects=prevContext.mySessionObjects;
    myUsedNames=prevContext.myUsedNames;
  }
  if (!inputModel.getModelDescriptor().isTransient()) {
    myOriginalInputModel=inputModel;
    mySessionObjects.clear();
    myUsedNames.clear();
  }
}
