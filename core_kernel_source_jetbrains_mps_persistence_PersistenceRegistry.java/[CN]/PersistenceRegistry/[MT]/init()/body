{
  if (INSTANCE != null) {
    throw new IllegalStateException("double initialization");
  }
  INSTANCE=this;
  setModelRootFactory(DEFAULT_MODEL_ROOT,new ModelRootFactory(){
    @Override public ModelRoot create(){
      return new DefaultModelRoot();
    }
  }
);
  setModelRootFactory(OBSOLETE_MODEL_ROOT,new ModelRootFactory(){
    @Override public ModelRoot create(){
      return new SModelRoot();
    }
  }
);
  setModelRootFactory(ProjectStructureModelRoot.TYPE,new ModelRootFactory(){
    @Override public ModelRoot create(){
      return new ProjectStructureModelRoot();
    }
  }
);
  setNodeIdFactory(jetbrains.mps.smodel.SNodeId.TYPE,new SNodeIdFactory(){
    @Override public SNodeId create(    String text){
      return jetbrains.mps.smodel.SNodeId.fromString(text);
    }
  }
);
  setModelIdFactory(RegularSModelId.TYPE,new SModelIdFactory(){
    @Override public SModelId create(    String text){
      return jetbrains.mps.smodel.SModelId.regular(text);
    }
  }
);
  setModelIdFactory(ForeignSModelId.TYPE,new SModelIdFactory(){
    @Override public SModelId create(    String text){
      return jetbrains.mps.smodel.SModelId.foreign(text);
    }
  }
);
}
