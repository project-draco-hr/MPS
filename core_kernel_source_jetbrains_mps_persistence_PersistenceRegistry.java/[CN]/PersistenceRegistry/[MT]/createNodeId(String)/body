{
  if (text.length() == 0)   return null;
  char c=text.charAt(0);
  if (c == '~' || c <= '9' && c >= '0') {
    return jetbrains.mps.smodel.SNodeId.fromString(text);
  }
  int colon=text.indexOf(':');
  if (colon == -1) {
    throw new IllegalArgumentException();
  }
  SNodeIdFactory factory=myNodeIdFactory.get(text.substring(0,colon));
  if (factory == null) {
    return null;
  }
  return factory.create(text.substring(colon + 1));
}
