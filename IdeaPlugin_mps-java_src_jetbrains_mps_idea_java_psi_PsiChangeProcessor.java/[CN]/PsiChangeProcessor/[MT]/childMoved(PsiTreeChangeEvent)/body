{
  if (!filter(event.getChild()))   return;
  PsiChangeData data=proj(event.getChild());
  PsiElement elem=event.getChild();
  if (elem instanceof PsiFileSystemItem) {
    data.moved.add(new FSMove((PsiFileSystemItem)elem,(PsiFileSystemItem)event.getOldParent(),(PsiFileSystemItem)event.getNewParent()));
  }
 else {
    data.changed.add(event.getOldParent().getContainingFile());
    data.changed.add(event.getNewParent().getContainingFile());
  }
}
