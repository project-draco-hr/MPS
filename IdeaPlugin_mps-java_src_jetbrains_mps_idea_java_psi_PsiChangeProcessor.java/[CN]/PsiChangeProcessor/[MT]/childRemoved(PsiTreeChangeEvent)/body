{
  if (!(event.getChild() instanceof PsiFileSystemItem) && !filter(event.getParent())) {
    return;
  }
  PsiChangeData data=projectData(event.getParent());
  PsiElement elem=event.getChild();
  if (elem instanceof PsiFileSystemItem) {
    data.removed.add((PsiFileSystemItem)elem);
  }
 else {
    data.changed.add(event.getParent().getContainingFile());
  }
}
