{
  Runnable notify=new Runnable(){
    @Override public void run(){
      try {
        for (        Entry<Project,PsiChangeData> e : changeData.entrySet()) {
          final Project project=e.getKey();
          final PsiChangeData change=e.getValue();
          MPSProject mpsProject=project.getComponent(MPSProject.class);
          ModelAccess.instance().runCommandInEDT(new Runnable(){
            @Override public void run(){
              project.getComponent(PsiChangesWatcher.class).notifyListeners(change);
            }
          }
,mpsProject);
        }
      }
  finally {
        changeData=new HashMap<Project,PsiChangeData>();
      }
    }
  }
;
  notify.run();
}
