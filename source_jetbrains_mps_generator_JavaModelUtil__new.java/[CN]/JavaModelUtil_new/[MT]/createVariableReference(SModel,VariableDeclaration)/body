{
  if (variable instanceof FieldDeclaration) {
    FieldReference reference=FieldReference.newInstance(model);
    reference.setFieldDeclaration((FieldDeclaration)variable);
    reference.setInstance(ThisExpression.newInstance(model));
    return reference;
  }
  if (variable instanceof StaticFieldDeclaration) {
    StaticFieldReference reference=StaticFieldReference.newInstance(model);
    reference.setStaticFieldDeclaration((StaticFieldDeclaration)variable);
    return reference;
  }
  if (variable instanceof ParameterDeclaration) {
    ParameterReference reference=ParameterReference.newInstance(model);
    reference.setParameterDeclaration((ParameterDeclaration)variable);
    return reference;
  }
  if (variable instanceof LocalVariableDeclaration) {
    LocalVariableReference reference=LocalVariableReference.newInstance(model);
    reference.setLocalVariableDeclaration((LocalVariableDeclaration)variable);
    return reference;
  }
  throw new RuntimeException("Couldn't create reference on: " + variable);
}
