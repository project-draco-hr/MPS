{
  if (!CommandProcessor.instance().isInsideCommand()) {
    if (Thread.currentThread() instanceof CursorWithContinuation) {
      return;
    }
    new IllegalModelAccessError("You can read model only inside command. Use lightweight command to read model").printStackTrace();
  }
}
