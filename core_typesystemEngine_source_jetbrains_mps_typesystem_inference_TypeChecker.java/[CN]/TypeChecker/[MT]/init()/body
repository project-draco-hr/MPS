{
  if (INSTANCE != null) {
    throw new IllegalStateException("double initialization");
  }
  INSTANCE=this;
  ModelAccess.instance().runWriteAction(new Runnable(){
    @Override public void run(){
      Collection<LanguageRuntime> availableLanguages=myLanguageRegistry.getAvailableLanguages();
      if (availableLanguages != null) {
        myRulesManager.loadLanguages(availableLanguages);
      }
      myLanguageRegistry.addRegistryListener(TypeChecker.this);
    }
  }
);
}
