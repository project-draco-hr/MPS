{
  if (!(file instanceof MPSNodeVirtualFile))   return null;
  final SNode node=MPSEditorUtil.getCurrentEditedNode(project,(MPSNodeVirtualFile)file);
  if (node != null) {
    final StringBuilder sb=new StringBuilder();
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        sb.append(node.getPresentation());
      }
    }
);
    return sb.toString();
  }
  return null;
}
