{
  ListSequence.fromList(myChangeGroupLayouts).visitAll(new IVisitor<ChangeGroupLayout>(){
    public void visit(    ChangeGroupLayout b){
      b.invalidate();
    }
  }
);
  for (  ModelChange change : Sequence.fromIterable(myChangeSet.getChangesForRoot(myRootId))) {
    higlightChange(myOldEditor,myChangeSet.getOldModel(),true,change);
    higlightChange(myNewEditor,myChangeSet.getNewModel(),false,change);
  }
  ListSequence.fromList(myChangeGroupLayouts).visitAll(new IVisitor<ChangeGroupLayout>(){
    public void visit(    ChangeGroupLayout b){
      b.invalidate();
    }
  }
);
  myOldEditor.repaintAndRebuildEditorMessages();
  myNewEditor.repaintAndRebuildEditorMessages();
  int count=Sequence.fromIterable(myChangeSet.getChangesForRoot(myRootId)).count();
  myStatusBar.setText((count == 0 ? "no differences" : NameUtil.formatNumericalString(count,"difference")));
}
