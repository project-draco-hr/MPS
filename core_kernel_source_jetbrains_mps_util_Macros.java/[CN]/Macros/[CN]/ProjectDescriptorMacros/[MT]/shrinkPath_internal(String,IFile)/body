{
  String prefix;
  if (!projectDescriptor.isDirectory()) {
    prefix=projectDescriptor.getParent().getCanonicalPath();
  }
 else {
    prefix=projectDescriptor.getCanonicalPath();
  }
  List<String> paths=SamplesManager.getInstance().getSamplesPaths();
  boolean samplesProject=false;
  for (  String samplesPath : paths) {
    if (samplesPath != null && pathStartsWith(absolutePath,samplesPath) && pathStartsWith(prefix,samplesPath)) {
      samplesProject=true;
      break;
    }
  }
  if (samplesProject || pathStartsWith(absolutePath,prefix)) {
    String relationalPath=shrink(absolutePath,prefix);
    return PROJECT + relationalPath;
  }
  return super.shrinkPath_internal(absolutePath,projectDescriptor);
}
