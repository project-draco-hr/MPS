{
  String prefix;
  if (projectDescriptor.isFile()) {
    prefix=projectDescriptor.getParent().getCanonicalPath();
  }
 else {
    prefix=projectDescriptor.getCanonicalPath();
  }
  String samplesPath=WorkbenchPathManager.getSamplesPath();
  boolean samplesProject=samplesPath != null && pathStartsWith(absolutePath,samplesPath);
  if (samplesProject || pathStartsWith(absolutePath,prefix)) {
    String relationalPath=shrink(absolutePath,prefix);
    return PROJECT + relationalPath;
  }
  return super.shrinkPath_internal(absolutePath,projectDescriptor);
}
