{
  String fileName;
  Set<String> macroNames=PATH_MACROS.getNames();
  for (  String macro : macroNames) {
    String path=PATH_MACROS.getValue(macro);
    if (path != null) {
      path=getCanonicalPath(path).replace(MacrosFactory.SEPARATOR_CHAR,File.separatorChar);
      if (pathStartsWith(absolutePath,path)) {
        String relationalPath=shrink(absolutePath,path);
        fileName="${" + macro + "}"+ relationalPath;
        return fileName;
      }
    }
  }
  fileName=absolutePath;
  return fileName;
}
