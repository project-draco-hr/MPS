{
  String fileName;
  if (pathStartsWith(absolutePath,PathManager.getHomePath())) {
    String relationalPath=shrink(absolutePath,PathManager.getHomePath());
    fileName=MPS_HOME + relationalPath;
  }
 else {
    Map<String,String> pathMacros=PathVariableManager.getInstance().getPathVariables();
    for (    String macro : pathMacros.keySet()) {
      String path=pathMacros.get(macro);
      if (pathStartsWith(absolutePath,path)) {
        String relationalPath=shrink(absolutePath,path);
        fileName="${" + macro + "}"+ relationalPath;
        return fileName;
      }
    }
    fileName=absolutePath;
  }
  return fileName;
}
