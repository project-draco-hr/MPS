{
  MapSequence.fromMap(files).visitAll(new IVisitor<IMapping<IFile,FilesDelta.Status>>(){
    public void visit(    IMapping<IFile,FilesDelta.Status> m){
      if (m.value() == FilesDelta.Status.KEPT && !(m.key().isDirectory())) {
        visitor.acceptKept(m.key());
      }
 else       if (m.value() == FilesDelta.Status.WRITTEN) {
        visitor.acceptWritten(m.key());
      }
 else       if (m.value() == FilesDelta.Status.DELETED || m.value() == FilesDelta.Status.STALE) {
        visitor.acceptDeleted(m.key());
      }
    }
  }
);
  return true;
}
