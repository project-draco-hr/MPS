{
  for (  IFile file : dir.list()) {
    if (!(MapSequence.fromMap(files).containsKey(file)) || MapSequence.fromMap(files).get(file) == IDelta.Status.DELETED) {
      file.delete();
    }
  }
}
