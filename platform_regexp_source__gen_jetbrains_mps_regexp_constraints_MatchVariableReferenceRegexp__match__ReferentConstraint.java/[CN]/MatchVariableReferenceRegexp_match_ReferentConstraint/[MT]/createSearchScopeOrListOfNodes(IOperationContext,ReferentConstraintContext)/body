{
  List<SNode> matches=new ArrayList<SNode>();
  SNode top=_context.getEnclosingNode();
  while (SNodeOperations.getParent(top) != null && SNodeOperations.isInstanceOf(SNodeOperations.getParent(top),"jetbrains.mps.regexp.structure.Regexp")) {
    top=SNodeOperations.getParent(top);
  }
  ListSequence.fromList(matches).addSequence(ListSequence.fromList(SNodeOperations.getDescendants(top,"jetbrains.mps.regexp.structure.MatchParensRegexp",true)));
  if (SNodeOperations.isInstanceOf(top,"jetbrains.mps.regexp.structure.MatchParensRegexp")) {
    ListSequence.fromList(matches).addElement(top);
  }
  return new SimpleSearchScope(matches);
}
