{
  List<SNode> matches=ListSequence.<SNode>fromArray();
  SNode top=_context.getEnclosingNode();
  while (SNodeOperations.getParent(top,null,false,false) != null && SNodeOperations.isInstanceOf(SNodeOperations.getParent(top,null,false,false),"jetbrains.mps.regexp.structure.Regexp")) {
    top=SNodeOperations.getParent(top,null,false,false);
  }
  ListSequence.fromList(matches).addSequence(ListSequence.fromList(SNodeOperations.getDescendants(top,"jetbrains.mps.regexp.structure.MatchParensRegexp",true)));
  if (SNodeOperations.isInstanceOf(top,"jetbrains.mps.regexp.structure.MatchParensRegexp")) {
    ListSequence.fromList(matches).addElement(top);
  }
  return new SimpleSearchScope(matches);
}
