{
  init(direction,edgeFilter);
  for (int iter=0; iter < myGraph.getNumNodes() - 1; iter++) {
    for (    Node node : ListSequence.<Node>fromList(myGraph.getNodes())) {
      int sourceDist=MapSequence.<Node,Integer>fromMap(myDist).get(node);
      if (sourceDist == ShortestPath.INF) {
        continue;
      }
      for (      Edge edge : ListSequence.<Edge>fromList(node.getEdges(direction)).where(new IWhereFilter<Edge>(){
        public boolean accept(        Edge it){
          return edgeFilter.invoke(it);
        }
      }
)) {
        Node target=edge.getOpposite(node);
        int targetDist=MapSequence.<Node,Integer>fromMap(myDist).get(target);
        if (sourceDist + MapSequence.<Edge,Integer>fromMap(myWeights).get(edge) < targetDist) {
          MapSequence.<Node,Integer>fromMap(myDist).put(target,sourceDist + MapSequence.<Edge,Integer>fromMap(myWeights).get(edge));
          MapSequence.<Node,Edge>fromMap(myPrev).put(target,edge);
        }
      }
    }
  }
}
