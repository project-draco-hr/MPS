{
  SNode contextNode=myNodeLocation.getContextNode();
  SConcept contextNodeConcept=contextNode.getConcept();
  if (menuLookup == null) {
    menuLookup=new DefaultTransformationMenuLookup(LanguageRegistry.getInstance(myEditorContext.getRepository()),contextNodeConcept);
  }
  if (!MenuUtil.isMenuApplicableToLocation(menuLookup,myMenuLocation,contextNode)) {
    menuLookup=new ImplicitMenuLookup(contextNodeConcept);
  }
  return createItems(menuLookup);
}
