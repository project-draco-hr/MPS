{
  ImmutableList<Pair<K,V>> listAtStart=list;
  Pair<K,V> findResult=findElementInList(key);
  if (findResult != null) {
    return findResult.o2;
  }
synchronized (lock) {
    if (list != listAtStart) {
      findResult=findElementInList(key);
      if (findResult != null) {
        return findResult.o2;
      }
    }
    if (map == null) {
      return null;
    }
 else {
      return map.get(key);
    }
  }
}
