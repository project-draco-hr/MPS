{
  ModelAccess.assertLegalWrite();
  boolean moduleRemoved=doUnregisterModule(module,owner);
  invalidateCaches();
  if (moduleRemoved) {
    fireModuleRemoved(module.getModuleReference());
    ((AbstractModule)module).dispose();
    module.detach();
  }
}
