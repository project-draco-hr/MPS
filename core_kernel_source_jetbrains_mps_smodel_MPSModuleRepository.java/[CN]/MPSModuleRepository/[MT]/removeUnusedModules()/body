{
  assertCanWrite();
  if (!myDirtyFlag)   return;
  myDirtyFlag=false;
  for (  IModule m : getModulesToBeRemoved(new HashSet<MPSModuleOwner>())) {
    fireBeforeModuleRemoved(m);
    m.dispose();
    removeModule(m);
  }
}
