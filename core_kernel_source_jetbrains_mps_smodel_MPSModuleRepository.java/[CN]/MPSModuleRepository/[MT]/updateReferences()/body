{
  for (  IModule m : getAllModules()) {
    AbstractModule module=(AbstractModule)m;
    boolean needSaving=false;
    if (module.updateSModelReferences()) {
      needSaving=true;
    }
    if (module.updateModuleReferences()) {
      needSaving=true;
    }
    if (needSaving && module.getDescriptorFile() != null && !module.isPackaged()) {
      module.save();
    }
  }
}
