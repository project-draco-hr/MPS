{
  Collection<SModule> modulesToDispose=new ArrayList<SModule>();
  for (  SModule module : modules) {
    if (doUnregisterModule(module,owner)) {
      modulesToDispose.add(module);
    }
  }
  if (modulesToDispose.isEmpty()) {
    return;
  }
  invalidateCaches();
  for (  SModule module : modulesToDispose) {
    fireModuleRemoved(module.getModuleReference());
    ((SModuleBase)module).dispose();
  }
}
