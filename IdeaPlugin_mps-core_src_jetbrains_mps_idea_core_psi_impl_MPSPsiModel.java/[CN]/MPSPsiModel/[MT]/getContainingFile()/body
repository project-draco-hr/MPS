{
  final SRepository repository=ProjectHelper.toMPSProject(getProject()).getRepository();
  final Ref<PsiFile> result=new Ref<PsiFile>(null);
  repository.getModelAccess().runReadAction(new Runnable(){
    @Override public void run(){
      SModel model=myModelReference.resolve(repository);
      if (model.getSource() instanceof FileDataSource) {
        IFile iModelFile=((FileDataSource)model.getSource()).getFile();
        VirtualFile vModelFile=VirtualFileManager.getInstance().findFileByUrl("file://" + iModelFile.getPath());
        PsiFile psiFile=PsiManager.getInstance(getProject()).findFile(vModelFile);
        result.set(psiFile);
      }
    }
  }
);
  return result.get();
}
