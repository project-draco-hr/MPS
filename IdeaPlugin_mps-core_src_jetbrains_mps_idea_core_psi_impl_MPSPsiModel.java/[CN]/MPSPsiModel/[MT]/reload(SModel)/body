{
  clearChildren();
  for (  SNode root : model.getRootNodes()) {
    String rootName=null;
    rootName=extractName(root);
    MPSPsiRootNode rootNode=new MPSPsiRootNode(root.getNodeId(),rootName,getManager());
    addChildLast(rootNode);
    rootNode.addChildLast(convert(root));
  }
  DataSource source=model.getSource();
  if (source instanceof FileDataSource) {
    File file=new File(((FileDataSource)source).getFile().getPath());
    VirtualFile vfile=LocalFileSystem.getInstance().findFileByIoFile(file);
    this.mySourceVirtualFile=vfile;
  }
}
