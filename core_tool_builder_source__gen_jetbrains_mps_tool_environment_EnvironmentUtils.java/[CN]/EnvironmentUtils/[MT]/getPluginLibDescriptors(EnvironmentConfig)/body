{
  Set<LibraryContributor.LibDescriptor> paths=new LinkedHashSet<LibraryContributor.LibDescriptor>();
  for (  String plugin : config.getPlugins()) {
    File lib=new File(plugin + File.separator + "lib");
    UrlClassLoader pluginCL=null;
    if (lib.exists() && lib.isDirectory()) {
      pluginCL=createPluginClassLoader(lib);
      for (      File jar : lib.listFiles(PathManager.JARS)) {
        paths.add(new LibraryContributor.LibDescriptor(jar.getAbsolutePath() + MODULES_PREFIX,pluginCL));
      }
    }
    File languages=new File(plugin + File.separator + "languages");
    if (languages.exists() && languages.isDirectory()) {
      paths.add(new LibraryContributor.LibDescriptor(languages.getAbsolutePath(),pluginCL));
    }
  }
  return Collections.unmodifiableSet(paths);
}
