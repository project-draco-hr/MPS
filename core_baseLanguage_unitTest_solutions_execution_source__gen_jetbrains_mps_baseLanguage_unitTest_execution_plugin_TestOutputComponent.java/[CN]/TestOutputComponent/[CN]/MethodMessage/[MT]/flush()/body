{
  if (myFile == null) {
    myFile=FileUtil.createTmpFile();
    myFile.deleteOnExit();
  }
  DataOutputStream stream=null;
  try {
    stream=new DataOutputStream(new FileOutputStream(myFile,true));
    for (    TestOutputComponent.IMessage child : ListSequence.fromList(myChildren)) {
      TestOutputComponent.TestMessage message=((TestOutputComponent.TestMessage)child);
      String key=message.myKey.toString();
      String text=message.myText;
      IOUtil.writeString(key + text,stream);
    }
    stream.flush();
    ListSequence.fromList(myChildren).clear();
  }
 catch (  IOException e) {
    if (log.isErrorEnabled()) {
      log.error("Cant write messages for " + myMethod,e);
    }
  }
 finally {
    if (stream != null) {
      try {
        stream.close();
      }
 catch (      IOException ignore) {
      }
    }
  }
}
