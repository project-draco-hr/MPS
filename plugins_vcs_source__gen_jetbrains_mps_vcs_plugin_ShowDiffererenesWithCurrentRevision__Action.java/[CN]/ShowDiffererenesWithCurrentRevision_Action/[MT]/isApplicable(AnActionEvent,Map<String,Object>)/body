{
  IconUtil.useIcon(ShowDiffererenesWithCurrentRevision_Action.this,event.getPresentation(),"icons/diff.png");
  if (!(((SModelDescriptor)MapSequence.fromMap(_params).get("model")) instanceof EditableSModelDescriptor)) {
    return false;
  }
  VirtualFile virtualFile=VirtualFileUtils.getVirtualFile(((EditableSModelDescriptor)((SModelDescriptor)MapSequence.fromMap(_params).get("model"))).getModelFile());
  if (((SNode)MapSequence.fromMap(_params).get("node")).isRoot() && ProjectLevelVcsManager.getInstance(((Project)MapSequence.fromMap(_params).get("project"))).getVcsFor(virtualFile) != null) {
    FileStatus fileStatus=((Project)MapSequence.fromMap(_params).get("project")).getComponent(VcsFileStatusProvider.class).getFileStatus(virtualFile);
    return FileStatus.ADDED != fileStatus && FileStatus.UNKNOWN != fileStatus;
  }
  return false;
}
