{
  IconUtil.useIcon(ShowDiffererenesWithCurrentRevision_Action.this,event.getPresentation(),"icons/diff.png");
  if (!(ShowDiffererenesWithCurrentRevision_Action.this.model instanceof EditableSModelDescriptor)) {
    return false;
  }
  VirtualFile virtualFile=VirtualFileUtils.getVirtualFile(((EditableSModelDescriptor)ShowDiffererenesWithCurrentRevision_Action.this.model).getModelFile());
  if (ShowDiffererenesWithCurrentRevision_Action.this.node.isRoot() && ProjectLevelVcsManager.getInstance(ShowDiffererenesWithCurrentRevision_Action.this.project).getVcsFor(virtualFile) != null) {
    FileStatus fileStatus=ShowDiffererenesWithCurrentRevision_Action.this.project.getComponent(VcsFileStatusProvider.class).getFileStatus(virtualFile);
    return FileStatus.ADDED != fileStatus && FileStatus.UNKNOWN != fileStatus;
  }
  return false;
}
