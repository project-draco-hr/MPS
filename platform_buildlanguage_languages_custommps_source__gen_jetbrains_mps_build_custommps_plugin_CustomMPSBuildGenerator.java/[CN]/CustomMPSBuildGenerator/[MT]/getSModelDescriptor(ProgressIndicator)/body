{
  final SModelDescriptor descriptor=super.getSModelDescriptor(indicator);
  final Language custommpsLanguage=this.getCustomMPSLanguage();
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      ModuleReference moduleReference=custommpsLanguage.getModuleReference();
      IModule solution=descriptor.getModule();
      SolutionDescriptor moduleDescriptor=(SolutionDescriptor)solution.getModuleDescriptor();
      moduleDescriptor.getUsedLanguages().add(moduleReference);
      ((Solution)solution).setSolutionDescriptor(moduleDescriptor,false);
    }
  }
);
  return descriptor;
}
