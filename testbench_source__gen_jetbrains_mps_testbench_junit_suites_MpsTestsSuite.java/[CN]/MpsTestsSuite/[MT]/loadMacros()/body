{
  Map<String,File> result=MapSequence.fromMap(new HashMap<String,File>());
  for (  Map.Entry<Object,Object> property : SetSequence.fromSet(System.getProperties().entrySet())) {
    if (property.getKey() instanceof String && property.getValue() instanceof String) {
      String key=(String)property.getKey();
      String value=(String)property.getValue();
      if (key.startsWith(MpsTestsSuite.MPS_MACRO_PREFIX) && key.length() > MpsTestsSuite.MPS_MACRO_PREFIX.length()) {
        String macroSuffix=key.substring(MpsTestsSuite.MPS_MACRO_PREFIX.length());
        MapSequence.fromMap(result).put(macroSuffix,new File(value));
      }
    }
  }
  return result;
}
