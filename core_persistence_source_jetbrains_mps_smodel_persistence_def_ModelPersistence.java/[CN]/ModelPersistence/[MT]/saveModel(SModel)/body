{
  int persistenceVersion=-1;
  if (sourceModel.getModelDescriptor() instanceof DefaultSModelDescriptor) {
    DefaultSModelDescriptor defaultSModel=(DefaultSModelDescriptor)sourceModel.getModelDescriptor();
    persistenceVersion=defaultSModel.getPersistenceVersion();
  }
  if (persistenceVersion == -1 || getModelPersistence(persistenceVersion) == null) {
    persistenceVersion=getCurrentPersistenceVersion();
  }
  return modelToXml(sourceModel,persistenceVersion);
}
