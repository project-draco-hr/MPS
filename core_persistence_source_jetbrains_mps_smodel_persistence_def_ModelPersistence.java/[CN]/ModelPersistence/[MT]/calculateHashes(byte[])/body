{
  SModelHeader header=getModelHeader(new InputSource(new ByteArrayInputStream(modelBytes)));
  IModelPersistence mp=getModelPersistence(header);
  Map<String,String> result;
  if (mp != null) {
    IHashProvider hashProvider=mp.getHashProvider();
    result=hashProvider.getRootHashes(modelBytes);
    result.put(ModelDigestHelper.FILE,hashProvider.getHash(modelBytes));
  }
 else {
    result=new HashMap<String,String>();
    result.put(ModelDigestHelper.FILE,ModelDigestUtil.hash(modelBytes));
  }
  return result;
}
