{
  Set<SModelRoot> result=new HashSet<SModelRoot>();
  if (!(model instanceof EditableSModelDescriptor))   return result;
  IFile modelFile=((EditableSModelDescriptor)model).getModelFile();
  if (modelFile == null)   return result;
  for (  IModule module : model.getModules()) {
    for (    SModelRoot modelRoot : module.getSModelRoots()) {
      String modelCanonicalPath=IFileUtils.getCanonicalPath(modelFile);
      String rootCanonicalPath=FileUtil.getCanonicalPath(modelRoot.getPath());
      if (modelCanonicalPath.startsWith(rootCanonicalPath)) {
        result.add(modelRoot);
      }
    }
  }
  return result;
}
