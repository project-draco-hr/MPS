{
  Set<SModelRoot> result=new HashSet<SModelRoot>();
  if (!(model instanceof EditableSModelDescriptor))   return result;
  IFile modelFile=((EditableSModelDescriptor)model).getModelFile();
  if (modelFile == null)   return result;
  IModule module=model.getModule();
  String modelRootManager=model.getModelRootManager().getClass().getName();
  String modelCanonicalPath=IFileUtils.getCanonicalPath(modelFile);
  for (  SModelRoot modelRoot : module.getSModelRoots()) {
    String rootManager=modelRoot.getManager().getClass().getName();
    String rootCanonicalPath=FileUtil.getCanonicalPath(modelRoot.getPath());
    if (modelRootManager.equals(rootManager) && modelCanonicalPath.startsWith(rootCanonicalPath)) {
      result.add(modelRoot);
    }
  }
  return result;
}
