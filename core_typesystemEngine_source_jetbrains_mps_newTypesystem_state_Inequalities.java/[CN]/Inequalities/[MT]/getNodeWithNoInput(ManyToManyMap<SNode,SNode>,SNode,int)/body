{
  if (inputsToOutputs.getBySecond(node).isEmpty()) {
    return node;
  }
  SNode result=inputsToOutputs.getBySecond(node).iterator().next();
  int counter=0;
  while (true) {
    if (inputsToOutputs.getBySecond(result).isEmpty()) {
      return result;
    }
    result=inputsToOutputs.getBySecond(result).iterator().next();
    counter++;
    if (counter == n) {
      return null;
    }
  }
}
