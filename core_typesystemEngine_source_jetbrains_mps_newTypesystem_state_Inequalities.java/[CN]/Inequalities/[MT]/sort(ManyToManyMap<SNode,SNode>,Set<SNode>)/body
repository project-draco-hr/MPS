{
  SNode node=unsorted.iterator().next();
  int size=unsorted.size();
  List<SNode> result=new LinkedList<SNode>();
  while (result.size() < size) {
    SNode current=getNodeWithNoInput(inputsToOutputs,unsorted);
    result.add(current);
    unsorted.remove(current);
    if (unsorted.isEmpty()) {
      return result;
    }
    inputsToOutputs.clearFirst(current);
  }
  return result;
}
