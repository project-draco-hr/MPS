{
  this.myLines.clear();
  this.myArrowHeads.clear();
  this.myMaxLineIndentRight=0;
  this.myMaxLineIndentLeft=0;
  this.myFreeZoneMap=new HashMap<Integer,FreeZone>();
  for (  IBlock<T> block : this.myBlocks) {
    block.relayout(this.myComponent);
  }
  int maxWidth=0;
  int maxHeight=0;
  for (  IBlock<T> block : this.myBlocks) {
    maxWidth=Math.max(maxWidth,block.getWidth());
    maxHeight=Math.max(maxHeight,block.getHeight());
  }
  int y=MARGIN_Y;
  for (  IBlock<T> block : this.myBlocks) {
    block.setWidth(maxWidth);
    block.setX(MARGIN_X);
    block.setY(y);
    y+=block.getHeight();
    y+=maxHeight / 2;
  }
  for (int i=0; i < this.myBlocks.size(); i++) {
    IBlock<T> block=this.myBlocks.get(i);
    for (    IInstruction<T> succInstruction : block.getSourceObject().succ()) {
      IBlock<T> succBlock=this.myGraphCreator.findBlockWith(succInstruction);
      if (this.myBlocks.indexOf(succBlock) == i + 1) {
        ControlFlowGraph.this.createSimpleLine(block,succBlock);
      }
 else {
        ControlFlowGraph.this.createAdditionalLine(block,succBlock);
      }
    }
  }
  ControlFlowGraph.this.shiftLeft(this.myMaxLineIndentLeft * LINE_SEGMENT_SIZE);
  this.myWidth=MARGIN_X * 2 + maxWidth + (this.myMaxLineIndentRight + this.myMaxLineIndentLeft) * LINE_SEGMENT_SIZE;
  this.myHeight=y + MARGIN_Y;
}
