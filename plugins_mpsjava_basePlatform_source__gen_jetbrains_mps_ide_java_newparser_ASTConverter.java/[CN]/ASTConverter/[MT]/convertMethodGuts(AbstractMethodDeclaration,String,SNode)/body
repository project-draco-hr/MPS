{
  StringBuilder idBuilder=(idPrefix == null ? null : new StringBuilder(idPrefix));
  convertAnnotations(x.annotations,result);
  if (!(x instanceof ConstructorDeclaration)) {
    SPropertyOperations.set(result,"name",new String(x.selector));
  }
  check_rbndtb_a7a71(idBuilder,x);
{
    SNode imd=result;
    if (SNodeOperations.isInstanceOf(imd,"jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration")) {
      if (flagSet(x.modifiers,ClassFileConstants.AccAbstract)) {
        SPropertyOperations.set(imd,"isAbstract","" + (true));
      }
    }
  }
  myTypeResolver.newTypeVarFrame();
  convertTypeVars(x.typeParameters(),result);
  if (x.arguments != null) {
    for (    Argument arg : x.arguments) {
      SNode par=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ParameterDeclaration",null);
      convertAnnotations(arg.annotations,par);
      SPropertyOperations.set(par,"name",new String(arg.name));
      SLinkOperations.setTarget(par,"type",convertTypeRef(arg.type),true);
      ListSequence.fromList(SLinkOperations.getTargets(result,"parameter",true)).addElement(par);
      check_rbndtb_a7a0a41a71(idBuilder,arg,this);
      check_rbndtb_a8a0a41a71(idBuilder);
    }
    if (x.arguments.length > 0) {
      check_rbndtb_a0a2a41a71(idBuilder,idBuilder);
    }
  }
  check_rbndtb_a51a71(idBuilder);
  if (x.thrownExceptions != null) {
    for (    TypeReference exc : x.thrownExceptions) {
      ListSequence.fromList(SLinkOperations.getTargets(result,"throwsItem",true)).addElement(convertTypeRef(exc));
    }
  }
  if (!(myOnlyStubs)) {
    SLinkOperations.setTarget(result,"body",SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.StatementList",null),true);
    handleMethodBody(result,x);
  }
 else {
    SLinkOperations.setTarget(result,"body",_quotation_createNode_rbndtb_a0b0a91a71(),true);
  }
{
    SNode mem=result;
    if (SNodeOperations.isInstanceOf(mem,"jetbrains.mps.baseLanguage.structure.ClassifierMember")) {
      if ((SLinkOperations.getTarget(mem,"visibility",true) == null)) {
        SLinkOperations.setTarget(mem,"visibility",convertVisibility(x.modifiers),true);
      }
    }
  }
  SPropertyOperations.set(result,"isFinal","" + (flagSet(x.modifiers,ClassFileConstants.AccFinal)));
  SPropertyOperations.set(result,"isSynchronized","" + (flagSet(x.modifiers,ClassFileConstants.AccSynchronized)));
  if (x instanceof MethodDeclaration) {
    MethodDeclaration mDecl=(MethodDeclaration)x;
    SLinkOperations.setTarget(result,"returnType",convertTypeRef(mDecl.returnType),true);
  }
  if (idBuilder != null) {
    result.setId(new SNodeId.Foreign(idBuilder.toString()));
  }
  myTypeResolver.leaveTypeVarFrame();
  return result;
}
