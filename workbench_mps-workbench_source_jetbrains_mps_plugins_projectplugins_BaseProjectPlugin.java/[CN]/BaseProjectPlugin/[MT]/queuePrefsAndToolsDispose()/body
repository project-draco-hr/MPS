{
  final List<BaseGeneratedTool> toolsToDispose=new ArrayList<BaseGeneratedTool>(myTools);
  final List<BaseProjectPrefsComponent> prefsComponentsToDispose=new ArrayList<BaseProjectPrefsComponent>(myPrefsComponents);
  getModelAccess().runWriteInEDT(new Runnable(){
    @Override public void run(){
      if (myProject.isDisposed())       return;
      for (      BaseProjectPrefsComponent component : prefsComponentsToDispose) {
        try {
          component.dispose();
        }
 catch (        Throwable t) {
          LOG.error("Exception on a project preference component dispose: " + component,t);
        }
      }
      for (      BaseGeneratedTool tool : toolsToDispose) {
        if (myInitializedTools.get().contains(tool)) {
          try {
            tool.unregister();
            tool.dispose();
          }
 catch (          Throwable t) {
            LOG.error("Exception on a tool dispose: " + tool,t);
          }
 finally {
            myInitializedTools.get().remove(tool);
          }
        }
      }
    }
  }
);
}
