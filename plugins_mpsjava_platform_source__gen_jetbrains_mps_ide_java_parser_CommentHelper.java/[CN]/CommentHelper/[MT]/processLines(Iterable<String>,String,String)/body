{
  List<String> result=ListSequence.fromList(new ArrayList<String>());
  if (Sequence.fromIterable(lines).isEmpty()) {
    return result;
  }
  if (trim_rf742u_a0a4a1(Sequence.fromIterable(lines).first()).equals(start)) {
    lines=Sequence.fromIterable(lines).skip(1);
  }
 else   if (Sequence.fromIterable(lines).first().startsWith(start)) {
    ListSequence.fromList(result).addElement(Sequence.fromIterable(lines).first().substring(start.length()));
    lines=Sequence.fromIterable(lines).skip(1);
  }
  if (Sequence.fromIterable(lines).isNotEmpty()) {
    int mintrim=Sequence.fromIterable(lines).first().length();
    for (    String line : Sequence.fromIterable(lines)) {
      if ((line != null && line.length() > 0)) {
        mintrim=Math.min(mintrim,line.length() - StringUtils.stripStart(line," \n\r\t").length());
      }
    }
    boolean trimok=mintrim > 0;
    String prefix=Sequence.fromIterable(lines).first().substring(0,mintrim);
    for (    String line : Sequence.fromIterable(lines)) {
      if ((line != null && line.length() > 0)) {
        trimok=trimok && line.startsWith(prefix);
      }
    }
    for (    String line : Sequence.fromIterable(lines)) {
      ListSequence.fromList(result).addElement((trimok && (line != null && line.length() > 0) ? line.substring(mintrim) : line));
    }
  }
  if ((end != null && end.length() > 0) && ListSequence.fromList(result).isNotEmpty()) {
    if (trim_rf742u_a0a0a7a1(ListSequence.fromList(result).last()).equals(end)) {
      ListSequence.fromList(result).removeLastElement();
    }
 else     if (ListSequence.fromList(result).last().endsWith(end)) {
      String last=ListSequence.fromList(result).removeLastElement();
      ListSequence.fromList(result).addElement(last.substring(0,last.length() - end.length()));
    }
  }
  return result;
}
