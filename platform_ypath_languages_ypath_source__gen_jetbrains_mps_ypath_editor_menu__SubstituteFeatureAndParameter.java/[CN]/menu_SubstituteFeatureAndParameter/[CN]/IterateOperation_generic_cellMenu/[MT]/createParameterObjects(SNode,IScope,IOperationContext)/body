{
  List<Pair> res=ListOperations.createList(new Pair[]{});
  ListOperations.addElement(res,new Pair(null,null));
  TraversalAxis axis=TraversalAxis.parseValue(SPropertyOperations.getString_def(node,"axis","DESCENDANTS"));
  SNode tpoe=SNodeOperations.getAncestor(node,"jetbrains.mps.ypath.structure.TreePathOperationExpression",false,false);
  if (SNodeOperations.isInstanceOf(TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(tpoe,"expression",true)),"jetbrains.mps.ypath.structure.TreePathType")) {
    SNode nodeType=SLinkOperations.getTarget(TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(tpoe,"expression",true)),"nodeType",true);
{
      ICursor<SNode> _zCursor=CursorFactory.createCursor(TreePath_Behavior.call_getFeature_1184591220431(ITreePathExpression_Behavior.call_getTreePath_1194366873089(tpoe),nodeType));
      try {
        while (_zCursor.moveToNext()) {
          SNode feat=_zCursor.getCurrent();
          if (TraversalAxisUtil.isAcceptableFeatureForAxis(feat,axis)) {
            if (SNodeOperations.isInstanceOf(feat,"jetbrains.mps.ypath.structure.IParamFeature")) {
{
                ICursor<SNode> _zCursor1=CursorFactory.createCursor(IParamFeature_Behavior.call_getParameterObjects_1197461148674(feat,nodeType));
                try {
                  while (_zCursor1.moveToNext()) {
                    SNode pw=_zCursor1.getCurrent();
                    ListOperations.addElement(res,new Pair(feat,pw));
                  }
                }
  finally {
                  _zCursor1.release();
                }
              }
            }
 else {
              ListOperations.addElement(res,new Pair(feat,null));
            }
          }
        }
      }
  finally {
        _zCursor.release();
      }
    }
  }
  return res;
}
