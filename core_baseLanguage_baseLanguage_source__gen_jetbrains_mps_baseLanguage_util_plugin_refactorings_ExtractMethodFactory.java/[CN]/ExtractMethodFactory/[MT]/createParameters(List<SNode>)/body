{
  SNode first=ListSequence.<SNode>fromList(nodes).first();
  if (SNodeOperations.isInstanceOf(first,"jetbrains.mps.baseLanguage.structure.Expression") && SNodeOperations.isInstanceOf(SNodeOperations.getParent(first),"jetbrains.mps.baseLanguage.structure.ExpressionStatement")) {
    List<SNode> newNodes=new ArrayList<SNode>();
    ListSequence.<SNode>fromList(newNodes).addElement(SNodeOperations.getParent(first));
    return new ExtractMethodRefactoringParameters(newNodes);
  }
  return new ExtractMethodRefactoringParameters(nodes);
}
