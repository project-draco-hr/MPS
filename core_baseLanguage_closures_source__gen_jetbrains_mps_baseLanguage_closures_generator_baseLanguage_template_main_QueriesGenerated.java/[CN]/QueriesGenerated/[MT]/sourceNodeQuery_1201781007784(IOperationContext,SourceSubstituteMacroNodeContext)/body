{
  List<SNode> mds=SLinkOperations.getTargets(SLinkOperations.getTarget(_context.getNode(),"classifier",false),"method",true);
  SNode type=SLinkOperations.getTarget(ListSequence.fromList(mds).getElement(0),"returnType",true);
  if (SNodeOperations.isInstanceOf(type,"jetbrains.mps.baseLanguage.structure.TypeVariableReference")) {
    List<SNode> psib=SNodeOperations.getPrevSiblings(SLinkOperations.getTarget(SNodeOperations.cast(type,"jetbrains.mps.baseLanguage.structure.TypeVariableReference"),"typeVariableDeclaration",false),false);
    List<SNode> ptypes=SLinkOperations.getTargets(SNodeOperations.cast(_context.getNode(),"jetbrains.mps.baseLanguage.structure.ClassifierType"),"parameter",true);
    return ClassifierTypeUtil.copyTypeRecursively(ListSequence.fromList(ptypes).getElement(ListSequence.fromList(psib).count()));
  }
  return type;
}
