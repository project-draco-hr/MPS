{
  Set<SNode> keySet=myNodesToTypes.keySet();
  for (  SNode node : nodes) {
    if (!keySet.contains(node))     continue;
    SNode var=myNodesToTypes.get(node);
    SNode type=myState.getEquations().expandNode(var,finalExpansion);
    updateNodeToType(node,type,null);
    if (finalExpansion && (type == null || TypesUtil.isVariable(type))) {
      myState.getTypeCheckingContext().reportWarning(node,"Type was not calculated",null,null,null,new NodeMessageTarget());
    }
  }
}
