{
  for (  Node node : SetSequence.fromSet(MapSequence.fromMap(nodesToProcess).keySet())) {
    List<Node> nodes=MapSequence.fromMap(nodesToProcess).get(node);
    if (ListSequence.fromList(nodes).count() == 0) {
      makeRectangleForSingleNode(node);
    }
 else {
      makeRectangleForSplittedNode(MapSequence.fromMap(nodesToProcess).get(node));
    }
  }
}
