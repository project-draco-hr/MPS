{
  for (  StructureModificationData.Dependency d : data.getDependencies()) {
    EditableSModelDescriptor model=(EditableSModelDescriptor)SModelRepository.getInstance().getModelDescriptor(d.getModelReference());
    RefactoringHistory history=model.getRefactoringHistory();
    history.addStructureModificationData(data);
    model.setVersion(model.getVersion() + 1);
    data.setModelVersion(model.getVersion());
    model.saveRefactoringHistory(history);
    SModelRepository.getInstance().markChanged(model,true);
  }
}
