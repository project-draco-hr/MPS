{
  String impl=ext.getAttributeValue(IMPLEMENTATION);
  if (impl != null) {
    SNode subNode=SLinkOperations.addNewChild(node,"fragment","jetbrains.mps.platform.conf.structure.InterfaceExtension");
    addClassifierReference(SLinkOperations.findLinkDeclaration("jetbrains.mps.platform.conf.structure.InterfaceExtension","impl"),subNode,impl);
    addConfXmlNodeReference(SLinkOperations.findLinkDeclaration("jetbrains.mps.platform.conf.structure.InterfaceExtension","intefaceExtensionPoint"),subNode,EXTENSION_POINT_PREFIX + ext.getName());
  }
 else {
    SNode subNode=SLinkOperations.addNewChild(node,"fragment","jetbrains.mps.platform.conf.structure.BeanExtension");
    addConfXmlNodeReference(SLinkOperations.findLinkDeclaration("jetbrains.mps.platform.conf.structure.BeanExtension","beanExtensionPoint"),subNode,EXTENSION_POINT_PREFIX + ext.getName());
    for (    Attribute attr : (List<Attribute>)ext.getAttributes()) {
      SNode bea=SLinkOperations.addNewChild(subNode,"attribute","jetbrains.mps.platform.conf.structure.BeanExtensionAttribute");
      SPropertyOperations.set(bea,"name",attr.getName());
      SPropertyOperations.set(bea,"value",attr.getValue());
    }
  }
}
