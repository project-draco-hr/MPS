{
  FileOutputStream fos=null;
  ZipOutputStream out=null;
  try {
    fos=new FileOutputStream(to);
    out=createDeflaterStream(fos);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  try {
    _zip(dir,"",out);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    try {
      if (out != null) {
        out.close();
      }
      if (fos != null) {
        fos.close();
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
