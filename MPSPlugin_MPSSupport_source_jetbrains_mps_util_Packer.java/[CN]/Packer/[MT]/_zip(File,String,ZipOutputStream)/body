{
  File current=new File(base.getPath() + File.separator + prefix).getAbsoluteFile();
  if (prefix.length() > 0) {
    ZipEntry entry=new ZipEntry(prefix);
    entry.setTime(current.lastModified());
    FileInputStream is=null;
    try {
      out.putNextEntry(entry);
      if (current.isFile()) {
        byte[] bytes=new byte[(int)current.length()];
        is=new FileInputStream(current);
        ReadUtil.read(bytes,is);
        out.write(bytes);
      }
      out.closeEntry();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
 finally {
      if (is != null) {
        try {
          is.close();
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
    }
  }
  if (current.isDirectory()) {
    for (    File file : current.listFiles()) {
      if (file.isFile()) {
        _zip(base,prefix + file.getName(),out);
      }
      if (file.isDirectory()) {
        _zip(base,prefix + file.getName() + "/",out);
      }
    }
  }
}
