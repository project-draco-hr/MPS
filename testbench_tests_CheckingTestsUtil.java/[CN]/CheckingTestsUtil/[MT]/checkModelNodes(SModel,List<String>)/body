{
  for (  final SNode node : org.jetbrains.mps.openapi.model.SNodeUtil.getDescendants(model)) {
    final SConcept concept=node.getConcept();
    if (concept == null) {
      result.add("unknown concept of node: " + org.jetbrains.mps.openapi.model.SNodeUtil.getDebugText(node));
      continue;
    }
    for (    String name : node.getPropertyNames()) {
      if (concept.getProperty(name) == null) {
        result.add("unknown property: `" + name + "' in node "+ org.jetbrains.mps.openapi.model.SNodeUtil.getDebugText(node));
      }
    }
    for (    SReference ref : node.getReferences()) {
      SAbstractLink link=concept.getLink(ref.getRole());
      if (link == null || !link.isReference()) {
        result.add("unknown link role: `" + ref.getRole() + "' in node "+ org.jetbrains.mps.openapi.model.SNodeUtil.getDebugText(node));
      }
    }
    for (    SNode child : node.getChildren()) {
      String role=child.getRoleInParent();
      SAbstractLink link=concept.getLink(role);
      if (link == null || link.isReference()) {
        result.add("unknown child role: `" + role + "' in node "+ org.jetbrains.mps.openapi.model.SNodeUtil.getDebugText(node));
      }
    }
  }
}
