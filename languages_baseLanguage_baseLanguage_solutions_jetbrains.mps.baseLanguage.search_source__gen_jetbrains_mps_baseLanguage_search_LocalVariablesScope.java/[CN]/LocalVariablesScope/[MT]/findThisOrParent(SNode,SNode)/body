{
  SNode testNode=sourceNode;
  while (testNode != null) {
    if (SNodeOperations.isInstanceOf(testNode,SNodeOperations.asSConcept(concept))) {
      return testNode;
    }
    if (SNodeOperations.isInstanceOf(testNode,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x108bbca0f48L,"jetbrains.mps.baseLanguage.structure.ConceptFunction")) && !(SNodeOperations.isInstanceOf(testNode,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10c63f4f3f3L,"jetbrains.mps.baseLanguage.structure.Closure")))) {
      break;
    }
    testNode=Scope.parent(testNode);
  }
  return null;
}
