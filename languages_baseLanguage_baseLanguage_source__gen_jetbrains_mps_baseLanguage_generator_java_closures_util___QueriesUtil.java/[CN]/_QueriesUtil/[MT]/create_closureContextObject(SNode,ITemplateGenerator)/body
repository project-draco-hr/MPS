{
  SNode enclosingClosureOrContextOwner=((SNode)jetbrains.mps.util.SNodeOperations.findParent(nodeInsideClosure,new Condition<SNode>(){
    public boolean met(    SNode object){
      if (!(object instanceof SNode)) {
        if (log.isWarnEnabled()) {
          log.warn("method create_closureContextObject(node<>, ITemplateGenerator) in " + _QueriesUtil.class.toString() + " operates only with the instances of SNode class");
        }
        return false;
      }
      if (SNodeOperations.isInstanceOf(object,"jetbrains.mps.baseLanguage.structure.Closure")) {
        return true;
      }
      return ClosuresUtil.isClosureContextOwner(((SNode)object));
    }
  }
));
  SModel model=generator.getOutputModel();
  if (enclosingClosureOrContextOwner != null && ClosuresUtil.isClosureContextOwner(enclosingClosureOrContextOwner)) {
    SNode varDeclStmt_output=(SNode)generator.findOutputNodeByInputNodeAndMappingName(enclosingClosureOrContextOwner,ClosuresMappingId.CONTEXT_OWNER__CLOSURE_CONTEXT__VARIABLE_DECL_STMT);
    if ((varDeclStmt_output != null)) {
      SNode variable=SLinkOperations.getTarget(varDeclStmt_output,"localVariableDeclaration",true);
      SNode variableRef=SModelOperations.createNewNode(model,"jetbrains.mps.baseLanguage.structure.VariableReference",null);
      SLinkOperations.setTarget(variableRef,"variableDeclaration",variable,false);
      return variableRef;
    }
  }
  return SModelOperations.createNewNode(model,"jetbrains.mps.baseLanguage.structure.NullLiteral",null);
}
