{
  SNode enclosingClosureOrContextOwner=((SNode)jetbrains.mps.lang.smodel.pluginSolution.plugin.SNodeOperations.findParent(nodeInsideClosure,new Condition<SNode>(){
    public boolean met(    SNode object){
      if (SNodeOperations.isInstanceOf(object,"jetbrains.mps.baseLanguage.structure.Closure")) {
        return true;
      }
      return ClosuresUtil.isClosureContextOwner(object);
    }
  }
));
  SModel model=generator.getOutputModel();
  if (enclosingClosureOrContextOwner != null && ClosuresUtil.isClosureContextOwner(enclosingClosureOrContextOwner)) {
    SNode varDeclStmt_output=(SNode)generator.findOutputNodeByInputNodeAndMappingName(enclosingClosureOrContextOwner,ClosuresMappingId.CONTEXT_OWNER__CLOSURE_CONTEXT__VARIABLE_DECL_STMT);
    if ((varDeclStmt_output != null)) {
      SNode variable=SLinkOperations.getTarget(varDeclStmt_output,"localVariableDeclaration",true);
      SNode variableRef=SModelOperations.createNewNode(model,"jetbrains.mps.baseLanguage.structure.LocalVariableReference",null);
      SLinkOperations.setTarget(variableRef,"variableDeclaration",variable,false);
      return variableRef;
    }
  }
  return SModelOperations.createNewNode(model,"jetbrains.mps.baseLanguage.structure.NullLiteral",null);
}
