{
  doSolutionsCompilation();
  IModule module=myCreatedSolution;
  String sourcePath=null;
  for (  String path : module.getSourcePaths()) {
    if (path.contains("source_gen")) {
      sourcePath=path;
    }
  }
  File javaFile=new File(sourcePath,"ExtendsTest.java");
  long time=Math.max(System.currentTimeMillis(),javaFile.lastModified() + 1);
  if (!javaFile.setLastModified(time)) {
    Assert.fail("Can't touch the file " + javaFile);
  }
  ModuleSources sources=new ModuleSources(module,new Dependencies(Collections.EMPTY_SET));
  String className=javaFile.getPath().replace(sourcePath + File.separator,"").replace(File.separator,".").replace(".java","");
  JavaFile javaFileForMake=new JavaFile(FileSystem.getFile(javaFile),className);
  Set<JavaFile> filesToCompile=sources.getFilesToCompile();
  Assert.assertEquals(1,filesToCompile.size());
  Assert.assertTrue(filesToCompile.contains(javaFileForMake));
}
