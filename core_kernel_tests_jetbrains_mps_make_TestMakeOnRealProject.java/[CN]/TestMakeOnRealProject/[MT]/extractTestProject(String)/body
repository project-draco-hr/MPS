{
  URL resourceURL=TestMakeOnRealProject.class.getResource(resource);
  File zipFile=new File(resourceURL.getFile());
  if (!zipFile.exists()) {
    throw new RuntimeException("Can't find zip file " + zipFile + ". Check resource path.");
  }
  File tmpdir=FileUtil.createTmpDir();
  ZipUtil.extract(zipFile,tmpdir,null);
  int i=zipFile.getName().indexOf(".zip");
  String name=zipFile.getName().substring(0,i);
  File projectFile=new File(tmpdir.getAbsolutePath() + File.separator + name+ File.separator+ name+ MPSExtentions.DOT_MPS_PROJECT);
  IdeMain.setTestMode(TestMode.CORE_TEST);
  TestMain.configureMPS();
  MPSProject project=TestMain.loadProject(projectFile);
  return project;
}
