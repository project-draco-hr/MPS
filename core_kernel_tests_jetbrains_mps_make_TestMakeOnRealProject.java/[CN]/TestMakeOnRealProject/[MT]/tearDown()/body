{
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      MPSModuleRepository.getInstance().unRegisterModules(myModuleOwner);
      CleanupManager.getInstance().cleanup();
    }
  }
);
  ModelAccess.instance().flushEventQueue();
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    @Override public void run(){
      ModelAccess.instance().runWriteAction(new Runnable(){
        @Override public void run(){
          myTmpDir.delete();
          myTmpDir=null;
        }
      }
);
    }
  }
,ModalityState.NON_MODAL);
}
