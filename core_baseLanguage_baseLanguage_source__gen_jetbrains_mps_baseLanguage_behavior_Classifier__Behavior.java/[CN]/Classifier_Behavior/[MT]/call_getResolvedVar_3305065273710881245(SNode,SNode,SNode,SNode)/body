{
  SNode decl=SLinkOperations.getTarget(reference,"typeVariableDeclaration",false);
  int i=ListSequence.<SNode>fromList(SLinkOperations.getTargets(ancestor,"typeVariableDeclaration",true)).indexOf(decl);
  SNode resolvedVar;
  if (i < 0) {
    resolvedVar=reference;
  }
 else   if (ListSequence.<SNode>fromList(SLinkOperations.getTargets(coercedType,"parameter",true)).count() > 0) {
    resolvedVar=SNodeOperations.copyNode(ListSequence.<SNode>fromList(SLinkOperations.getTargets(coercedType,"parameter",true)).getElement(i));
  }
 else {
    resolvedVar=TypeVariableDeclaration_Behavior.call_getConcreteUpperBound_4346214032091509920(decl);
  }
  return resolvedVar;
}
