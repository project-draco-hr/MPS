{
  SNode coercedType=TypeChecker.getInstance().getRuntimeSupport().coerce_(Classifier_Behavior.call_getThisType_3305065273710880775(thisNode),new Classifier_Behavior.Pattern_qw8l7c_a1a0a0a71(ancestor),true);
  if (SNodeOperations.isInstanceOf(t,"jetbrains.mps.baseLanguage.structure.TypeVariableReference")) {
    return Classifier_Behavior.call_getResolvedVar_3305065273710881245(thisNode,SNodeOperations.cast(t,"jetbrains.mps.baseLanguage.structure.TypeVariableReference"),ancestor,coercedType);
  }
 else {
    SNode result=SNodeOperations.copyNode(t);
    for (    SNode reference : SNodeOperations.getDescendants(result,"jetbrains.mps.baseLanguage.structure.TypeVariableReference",false,new String[]{})) {
      SNode resolvedVar=Classifier_Behavior.call_getResolvedVar_3305065273710881245(thisNode,reference,ancestor,coercedType);
      if (reference != resolvedVar) {
        SNodeOperations.replaceWithAnother(reference,resolvedVar);
      }
    }
    return result;
  }
}
