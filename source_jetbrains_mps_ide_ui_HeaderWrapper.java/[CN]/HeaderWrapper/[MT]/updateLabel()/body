{
  Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
  if (isAncestorOf(focusOwner)) {
    myLabel.setBackground(ACTIVE_COLOR);
    if (myButtonsPanel != null)     myButtonsPanel.setBackground(ACTIVE_COLOR);
    if (myMinimizeButton != null)     myMinimizeButton.setIcon(Icons.MINIMIZE_ICON);
    if (myCloseButton != null)     myCloseButton.setIcon(Icons.CLOSE_ICON);
  }
 else {
    myLabel.setBackground(NOT_ACTIVE_COLOR);
    if (myButtonsPanel != null)     myButtonsPanel.setBackground(NOT_ACTIVE_COLOR);
    if (myMinimizeButton != null)     myMinimizeButton.setIcon(Icons.MINIMIZE_DISABLED_ICON);
    if (myCloseButton != null)     myCloseButton.setIcon(Icons.CLOSE_DISABLED_ICON);
  }
}
