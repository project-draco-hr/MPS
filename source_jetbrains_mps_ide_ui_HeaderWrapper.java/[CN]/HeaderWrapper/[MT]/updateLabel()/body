{
  Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
  if (isAncestorOf(focusOwner)) {
    myLabel.setBackground(getActiveColor());
    myLabel.setForeground(getActiveTextColor());
    if (myButtonsPanel != null)     myButtonsPanel.setBackground(getActiveColor());
    if (myMinimizeButton != null)     myMinimizeButton.setIcon(Icons.MINIMIZE_ICON);
    if (myCloseButton != null)     myCloseButton.setIcon(Icons.CLOSE_ICON);
  }
 else {
    myLabel.setBackground(getNotActiveColor());
    myLabel.setForeground(getNotActiveTextColor());
    if (myButtonsPanel != null)     myButtonsPanel.setBackground(getNotActiveColor());
    if (myMinimizeButton != null)     myMinimizeButton.setIcon(Icons.MINIMIZE_DISABLED_ICON);
    if (myCloseButton != null)     myCloseButton.setIcon(Icons.CLOSE_DISABLED_ICON);
  }
}
