{
  if (myInitialized) {
    return;
  }
  myInitialized=true;
  myMap.addListener(myFeatureListener);
  myTree.addTreeNodeListener(myTreeNodeListener);
  FileStatusManager.getInstance(myRegistry.getProject()).addFileStatusListener(myFileStatusListener);
  if (myGlobalModelListener != null) {
    new RepoListenerRegistrar(getProjectRepository(),myGlobalModelListener).attach();
  }
  getProjectRepository().getModelAccess().runReadInEDT(new Runnable(){
    public void run(){
      MPSTreeNode rootNode=myTree.getRootNode();
      if (rootNode != null) {
        registerNodeRecursively(rootNode);
      }
    }
  }
);
}
