{
  final Wrappers._T<List<ModuleReference>> genRefs=new Wrappers._T<List<ModuleReference>>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      List<Generator> generators=MPSModuleRepository.getInstance().getAllGenerators();
      genRefs.value=ListSequence.<Generator>fromList(generators).<ModuleReference>select(new ISelector<Generator,ModuleReference>(){
        public ModuleReference select(        Generator it){
          return it.getModuleReference();
        }
      }
).toListSequence();
    }
  }
);
  return CommonChoosers.showDialogModuleCollectionChooser(myOwner.getMainComponent(),"generator",genRefs.value,null);
}
