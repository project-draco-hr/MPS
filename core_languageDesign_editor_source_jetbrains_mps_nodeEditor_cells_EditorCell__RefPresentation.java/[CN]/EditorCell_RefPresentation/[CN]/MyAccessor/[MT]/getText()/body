{
  if (myRefNode != null) {
    SNode node=myRefNode;
    IReferencePresentation presentation=ModelConstraintsUtil.getPresentation(node.getParent(),node,node.getConceptDeclarationAdapter(),myLinkDeclaration,myContext.getOperationContext());
    return presentation.getText(myNode,true,false,true);
  }
  if (myContextCell == null || myContextCell.getParent() == null)   return null;
  findCellWithLinkDeclaration();
  EditorCell refNodeCell=findCellWithLinkDeclaration();
  SNode referenceTarget=refNodeCell.getSNodeWRTReference();
  SNode node=refNodeCell.getSNode();
  IReferencePresentation presentation=ModelConstraintsUtil.getPresentation(node.getParent(),node,node.getConceptDeclarationAdapter(),refNodeCell.getLinkDeclaration(),myContextCell.getEditorContext().getOperationContext());
  return presentation.getText(referenceTarget,true,false,true);
}
