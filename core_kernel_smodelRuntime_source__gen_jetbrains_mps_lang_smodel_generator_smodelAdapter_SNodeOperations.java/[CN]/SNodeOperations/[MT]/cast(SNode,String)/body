{
  if (node == null) {
    return null;
  }
  if (!(SNodeOperations.isInstanceOf(node,castTo))) {
    if (!("jetbrains.mps.lang.typesystem.structure.RuntimeTypeVariable".equals(node.getConceptFqName()))) {
      if (ourCastsEnabled) {
        throw new NodeCastException("Can't cast " + node.getConceptFqName() + " to "+ castTo);
      }
 else {
        LOG.warning("Can't cast " + node.getConceptFqName() + " to "+ castTo);
      }
    }
  }
  return node;
}
