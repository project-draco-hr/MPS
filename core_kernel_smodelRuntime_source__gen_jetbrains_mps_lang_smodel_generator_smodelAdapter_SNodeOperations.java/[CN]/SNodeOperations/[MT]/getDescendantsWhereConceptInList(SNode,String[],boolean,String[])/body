{
  if (node == null || descendantConceptFqNames.length == 0) {
    return EMPTY_LIST;
  }
  List<SNode> result=new ArrayList<SNode>();
  if (inclusion) {
    if (SNodeOperations._isInstanceOf(node,descendantConceptFqNames)) {
      result.add(node);
    }
  }
  Condition<SNode> stopCondition=(stopConceptFqNames.length == 0 ? Condition.FALSE_CONDITION : new Condition<SNode>(){
    @Override public boolean met(    SNode node){
      return SNodeOperations._isInstanceOf(node,stopConceptFqNames);
    }
  }
);
  SNodeOperations._populateListOfDescendants(result,node,new Condition<SNode>(){
    @Override public boolean met(    SNode node){
      return SNodeOperations._isInstanceOf(node,descendantConceptFqNames);
    }
  }
,stopCondition);
  return result;
}
