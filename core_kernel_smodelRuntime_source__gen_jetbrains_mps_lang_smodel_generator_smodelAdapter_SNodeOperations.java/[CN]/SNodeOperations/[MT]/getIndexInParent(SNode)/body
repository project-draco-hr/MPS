{
  if (node == null || node.getParent() == null) {
    return -1;
  }
  String role=node.getRoleInParent();
  if (role == null) {
    return -1;
  }
  return IterableUtil.asList(node.getParent().getChildren(role)).indexOf(node);
}
