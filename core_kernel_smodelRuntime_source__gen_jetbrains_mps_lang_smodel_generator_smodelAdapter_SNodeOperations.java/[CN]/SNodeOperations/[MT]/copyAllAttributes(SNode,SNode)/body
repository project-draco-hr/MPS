{
  for (  SNode attribute : AttributeOperations.getAllAttributes(oldChild)) {
    if (SNodeOperations.isInstanceOf(attribute,MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2eb1ad060897da56L,"jetbrains.mps.lang.core.structure.PropertyAttribute"))) {
      String propertyName=AttributeOperations.getPropertyName(SNodeOperations.cast(attribute,MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2eb1ad060897da56L,"jetbrains.mps.lang.core.structure.PropertyAttribute")));
      if ((((SNode)BHReflection.invoke(SNodeOperations.asNode(SNodeOperations.getConceptDeclaration(newChild)),SMethodTrimmedId.create("findPropertyDeclaration",MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0x1103553c5ffL,"jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration"),"hK3S4A1"),propertyName)) == null)) {
        LOG.error("couldn't copy attribute " + attribute.getConcept().getName() + " for property '"+ propertyName+ "' : so such property in concept "+ newChild.getConcept().getName(),newChild);
        continue;
      }
    }
    if (SNodeOperations.isInstanceOf(attribute,MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2eb1ad060897da51L,"jetbrains.mps.lang.core.structure.LinkAttribute"))) {
      String linkRole=AttributeOperations.getLinkRole(SNodeOperations.cast(attribute,MetaAdapterFactory.getConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2eb1ad060897da51L,"jetbrains.mps.lang.core.structure.LinkAttribute")));
      if ((((SNode)BHReflection.invoke(SNodeOperations.asNode(SNodeOperations.getConceptDeclaration(newChild)),SMethodTrimmedId.create("findLinkDeclaration",MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0x1103553c5ffL,"jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration"),"hEwILKz"),linkRole)) == null)) {
        LOG.error("couldn't copy attribute " + attribute.getConcept().getName() + " for link '"+ linkRole+ "' : so such link in concept "+ newChild.getConcept().getName(),newChild);
        continue;
      }
    }
    newChild.addChild(SNodeOperations.getContainingLinkRole(attribute),SNodeOperations.copyNode(attribute));
  }
}
