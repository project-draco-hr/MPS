{
  if (diff.getConsequences() != null) {
    for (    AbstractOperation child : diff.getConsequences()) {
      if (filterNodeType(child) && (!TraceSettings.isTraceForSelectedNode() || showNode(diff))) {
        TypeSystemTraceTreeNode node=new TypeSystemTraceTreeNode(child,myOperationContext);
        create(child,node);
        result.add(node);
      }
 else {
        create(child,result);
      }
    }
  }
}
