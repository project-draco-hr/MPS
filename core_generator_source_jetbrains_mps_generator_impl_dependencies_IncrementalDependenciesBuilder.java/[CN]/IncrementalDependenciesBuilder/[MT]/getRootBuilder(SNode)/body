{
  if (inputNode == null || !(inputNode.getModel() != null)) {
    return myConditionalsBuilder;
  }
  inputNode=inputNode.getTopmostAncestor();
  SNode originalRoot=currentToOriginalMap.get(inputNode);
  if (originalRoot != null) {
    return myRootBuilders.get(originalRoot);
  }
 else   if (currentToOriginalMap.containsKey(inputNode)) {
    return myConditionalsBuilder;
  }
  LOG.error("consistency problem in dependencies map",new IllegalStateException());
  return null;
}
