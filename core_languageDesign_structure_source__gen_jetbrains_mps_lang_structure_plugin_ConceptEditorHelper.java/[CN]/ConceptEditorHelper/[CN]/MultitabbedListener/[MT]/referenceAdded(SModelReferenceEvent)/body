{
  SNode root=event.getReference().getSourceNode().getContainingRoot();
  if (!(SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.structure.structure.IConceptAspect"))) {
    return;
  }
  Map<SNode,IOperationContext> nodesMap=this.createNodesMap();
  List<SNode> nodes=ListSequence.fromListWithValues(new ArrayList<SNode>(),MapSequence.fromMap(nodesMap).keySet());
  ListSequence.fromList(nodes).removeSequence(ListSequence.fromList(this.tab.getLoadableNodes()));
  if (ListSequence.fromList(nodes).isNotEmpty()) {
    SNode n=ListSequence.fromList(nodes).getElement(0);
    this.tab.addEditableNode(n,MapSequence.fromMap(nodesMap).get(n));
  }
}
