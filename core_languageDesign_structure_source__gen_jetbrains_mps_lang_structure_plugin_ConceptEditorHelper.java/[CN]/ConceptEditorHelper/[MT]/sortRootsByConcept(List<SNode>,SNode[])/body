{
  return ListSequence.fromList(roots).sort(new ISelector<SNode,Comparable<?>>(){
    public Comparable<?> select(    SNode root){
      int conceptIndex=Sequence.fromIterable(Sequence.fromArray(conceptOrder)).indexOf(SNodeOperations.getConceptDeclaration(root));
      return (conceptIndex == -1 ? conceptOrder.length : conceptIndex);
    }
  }
,true).toListSequence();
}
