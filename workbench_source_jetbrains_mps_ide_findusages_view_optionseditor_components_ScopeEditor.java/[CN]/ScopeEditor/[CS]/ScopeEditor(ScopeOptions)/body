{
  super(defaultOptions);
  myPanel=new JPanel();
  myPanel.setLayout(new BoxLayout(myPanel,BoxLayout.Y_AXIS));
  myPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder("Scope"),BorderFactory.createEmptyBorder(7,3,3,3)));
  myGlobalScopeButton=new JRadioButton(new AbstractAction(GLOBAL_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,false);
    }
  }
);
  myProjectScopeButton=new JRadioButton(new AbstractAction(PROJECT_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,false);
    }
  }
);
  myModuleScopeButton=new JRadioButton(new AbstractAction(MODULE_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(true,false);
    }
  }
);
  myModelScopeButton=new JRadioButton(new AbstractAction(MODEL_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,true);
    }
  }
);
  if (InternalFlag.isInternalMode()) {
    myBootstrapScopeButton=new JRadioButton(new AbstractAction(BOOTSTRAP_SCOPE){
      public void actionPerformed(      ActionEvent e){
        setCompletionFieldsState(false,false);
      }
    }
);
  }
  myButtonGroup=new ButtonGroup();
  myButtonGroup.add(myGlobalScopeButton);
  myButtonGroup.add(myProjectScopeButton);
  myButtonGroup.add(myModuleScopeButton);
  myButtonGroup.add(myModelScopeButton);
  if (myBootstrapScopeButton != null) {
    myButtonGroup.add(myBootstrapScopeButton);
  }
  List<IModule> moduleList=MPSModuleRepository.getInstance().getAllModules();
  List<String> moduleNameList=new ArrayList<String>();
  for (  IModule iModule : moduleList) {
    String namespace=iModule.getModuleNamespace();
    if (namespace != null) {
      moduleNameList.add(namespace);
    }
  }
  myModuleNameList=moduleNameList;
  myModuleNameList.add(0,ScopeOptions.DEFAULT_VALUE);
  myModuleField=new DefaultCompletionTextField(moduleNameList);
  myModuleField.setText(ScopeOptions.DEFAULT_VALUE);
  List<SModelDescriptor> modelList=SModelRepository.getInstance().getModelDescriptors();
  myModelNameList=new ArrayList<String>();
  for (  SModelDescriptor md : modelList) {
    if (SModelStereotype.isStubModelStereotype(md.getStereotype()))     continue;
    myModelNameList.add(md.getLongName());
  }
  myModelNameList.add(0,ScopeOptions.DEFAULT_VALUE);
  myModelField=new DefaultCompletionTextField(myModelNameList);
  myModelField.setText(ScopeOptions.DEFAULT_VALUE);
  JPanel row;
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myModelScopeButton,BorderLayout.WEST);
  row.add(myModelField,BorderLayout.CENTER);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myModuleScopeButton,BorderLayout.WEST);
  row.add(myModuleField,BorderLayout.CENTER);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myProjectScopeButton,BorderLayout.WEST);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myGlobalScopeButton,BorderLayout.WEST);
  myPanel.add(row);
  if (InternalFlag.isInternalMode()) {
    row=new JPanel();
    row.setLayout(new BorderLayout());
    row.add(myBootstrapScopeButton,BorderLayout.WEST);
    myPanel.add(row);
  }
  setDefaults(defaultOptions);
}
