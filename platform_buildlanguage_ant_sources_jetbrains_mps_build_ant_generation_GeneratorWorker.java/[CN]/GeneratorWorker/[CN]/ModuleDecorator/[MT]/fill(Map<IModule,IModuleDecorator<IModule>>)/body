{
  for (  IModule m : ModuleUtil.getModules(myModule)) {
    ModuleDecorator next=(ModuleDecorator)map.get(m);
    if (next != null)     myNext.add(next);
  }
  if (myModule instanceof Language) {
    Language language=(Language)myModule;
    for (    jetbrains.mps.smodel.Generator gen : language.getGenerators()) {
      ModuleDecorator generatorDecorator=(ModuleDecorator)map.get(gen);
      if (generatorDecorator != null) {
        generatorDecorator.myNext.add(this);
        myNext.add(generatorDecorator);
      }
    }
  }
}
