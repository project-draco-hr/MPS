{
  if (key == null) {
    final boolean wasHoldingNull=holdsNull;
    holdsNull=false;
    if (wasHoldingNull) {
      size=size - 1;
    }
    return wasHoldingNull;
  }
  final Entry<E>[] table=this.table;
  final int hash=key.hashCode();
  final int index=HashUtil.indexFor(hash,table.length,shift,mask);
  Entry<E> e=table[index];
  if (e == null)   return false;
  E entryKey;
  if (e.keyHash == hash && ((entryKey=e.key) == key || entryKey.equals(key))) {
    table[index]=e.hashNext;
  }
 else {
    for (; ; ) {
      final Entry<E> last=e;
      e=e.hashNext;
      if (e == null)       return false;
      if (e.keyHash == hash && ((entryKey=e.key) == key || entryKey.equals(key))) {
        last.hashNext=e.hashNext;
        break;
      }
    }
  }
  size=size - 1;
  return true;
}
