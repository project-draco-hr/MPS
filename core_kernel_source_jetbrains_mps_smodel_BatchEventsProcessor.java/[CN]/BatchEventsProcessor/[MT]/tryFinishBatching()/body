{
  if (!myBatchStarted)   throw new IllegalStateException("Batching has not been even started");
  List<SRepositoryEvent> result=new ArrayList<SRepositoryEvent>(myEvents);
  myEvents.clear();
  if (result.isEmpty()) {
    finishBatching();
  }
  return result;
}
