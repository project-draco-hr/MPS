{
  if (!myBatchStarted)   throw new IllegalStateException("Batching has not been even started");
  List<SRepositoryEvent> result=flush();
  if (result.isEmpty())   finishBatching();
  return result;
}
