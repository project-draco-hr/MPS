{
  jetbrains.mps.openapi.editor.cells.EditorCell_Collection result=first instanceof jetbrains.mps.openapi.editor.cells.EditorCell_Collection ? (jetbrains.mps.openapi.editor.cells.EditorCell_Collection)first : first.getParent();
  while (result != null) {
    if (result.isSelectable()) {
      boolean common=true;
      for (      jetbrains.mps.openapi.editor.cells.EditorCell cell : cells) {
        if (!result.isAncestorOf(cell) && result != cell) {
          common=false;
          break;
        }
      }
      if (common)       return (EditorCell)result;
    }
    result=result.getParent();
  }
  return null;
}
