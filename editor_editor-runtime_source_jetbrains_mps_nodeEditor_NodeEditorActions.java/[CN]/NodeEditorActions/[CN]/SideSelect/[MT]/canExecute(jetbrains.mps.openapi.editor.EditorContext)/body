{
  SelectionManager selectionManager=((EditorComponent)context.getEditorComponent()).getSelectionManager();
  Selection selection=selectionManager.getSelection();
  if (selection instanceof SingularSelection) {
    SingularSelection singularSelection=(SingularSelection)selection;
    if (!expandSelection(singularSelection) && selectionManager.getSelectionStackSize() > 1) {
      return true;
    }
    EditorCell selected=singularSelection.getEditorCell();
    jetbrains.mps.openapi.editor.cells.EditorCell nextLeaf=getNextLeaf(selected);
    return nextLeaf != null && getCommonSelectableAncestor(selected,nextLeaf) != null;
  }
  return false;
}
