{
  SNode enclosingClass=SNodeOperations.getAncestor(inputClosure,"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
  if (enclosingClass == null) {
    ClassConcept adapter=(ClassConcept)SModelUtil_new.findNodeByFQName("java.lang.Object",ClassConcept.class,generator.getScope());
    enclosingClass=adapter.getNode();
  }
  SModel outputModel=generator.getOutputModel();
  SNode outputClassType=SModelOperations.createNewNode(outputModel,"jetbrains.mps.baseLanguage.structure.ClassifierType",null);
  SLinkOperations.setTarget(outputClassType,"classifier",enclosingClass,false);
  for (  SNode typeVar : SLinkOperations.getTargets(enclosingClass,"typeVariableDeclaration",true)) {
    SNode typeVarRef=SLinkOperations.addNewChild(outputClassType,"parameter","jetbrains.mps.baseLanguage.structure.TypeVariableReference");
    SLinkOperations.setTarget(typeVarRef,"typeVariableDeclaration",typeVar,false);
  }
  return outputClassType;
}
