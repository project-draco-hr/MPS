{
  closeStepNode();
  ArrayList<TraceNodeUI> rv=new ArrayList<TraceNodeUI>(myResult.size());
  if (excludeEmptySteps) {
    for (    TraceNodeUI n : myResult) {
      if (n.hasChildren()) {
        rv.add(n);
      }
    }
    return rv;
  }
 else {
    return myResult;
  }
}
