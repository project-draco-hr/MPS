{
  if ((newReferentNode != null) && newReferentNode != oldReferentNode) {
    SPropertyOperations.set(referenceNode,"name","" + (NameUtil.decapitalize(SPropertyOperations.getString(newReferentNode,"name"))));
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(referenceNode),"jetbrains.mps.lang.typesystem.structure.InferenceRule")) {
      SPropertyOperations.set(SNodeOperations.getParent(referenceNode),"name","typeof_" + SPropertyOperations.getString(newReferentNode,"name"));
    }
  }
}
