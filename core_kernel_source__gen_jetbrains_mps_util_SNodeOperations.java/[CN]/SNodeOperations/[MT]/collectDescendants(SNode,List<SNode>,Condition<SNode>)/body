{
  for (  SNode child : Sequence.fromIterable(node.getChildren())) {
    if (condition == null || condition == Condition.TRUE_CONDITION || (child instanceof SNode && condition.met(((SNode)child)))) {
      ListSequence.fromList(list).addElement(((SNode)child));
    }
    collectDescendants(child,list,condition);
  }
}
