{
  jetbrains.mps.smodel.SNode result=((jetbrains.mps.smodel.SNode)current);
  do {
    current=nextInternal(current,false);
  }
 while (current != null && condition != null && !(current instanceof jetbrains.mps.smodel.SNode && condition.met(((jetbrains.mps.smodel.SNode)current))));
  prev=result;
  return result;
}
