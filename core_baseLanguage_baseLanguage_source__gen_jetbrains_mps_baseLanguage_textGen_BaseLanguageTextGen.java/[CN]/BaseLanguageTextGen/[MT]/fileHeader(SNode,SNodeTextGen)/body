{
  Set<String> names=(Set<String>)BaseLanguageTextGen.getUserObjects(TextGenManager.IMPORT,textGen);
  String key="importsDone";
  Object importsDone=textGen.getBuffer().getUserObject(key);
  if (importsDone == null) {
    for (    SNode classifier : SModelOperations.getRoots(SNodeOperations.getModel(cls),"jetbrains.mps.baseLanguage.structure.Classifier")) {
      String newImport=BaseLanguageTextGen.getPackageName(classifier,textGen) + "." + SPropertyOperations.getString(classifier,"name");
      SetSequence.fromSet(names).addElement(newImport);
    }
    importsDone=new Object();
    textGen.getBuffer().putUserObject(key,importsDone);
  }
  if (cls.isRoot()) {
    int wasPart=textGen.getBuffer().selectPart(TextGenBuffer.TOP);
    textGen.append("package " + BaseLanguageTextGen.getPackageName(cls,textGen) + ";");
    textGen.appendNewLine();
    textGen.appendNewLine();
    textGen.append("/*Generated by MPS */");
    textGen.appendNewLine();
    textGen.getBuffer().selectPart(wasPart);
  }
  if (SNodeOperations.isInstanceOf(cls,"jetbrains.mps.baseLanguage.structure.Interface") && ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(cls,"jetbrains.mps.baseLanguage.structure.Interface"),"extendedInterface",true)).isNotEmpty()) {
    for (    SNode interface1 : SLinkOperations.getTargets(SNodeOperations.cast(cls,"jetbrains.mps.baseLanguage.structure.Interface"),"extendedInterface",true)) {
      if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(interface1,"classifier",false),"jetbrains.mps.baseLanguage.structure.Interface")) {
        BaseLanguageTextGen.extendedInterface(SNodeOperations.cast(SLinkOperations.getTarget(interface1,"classifier",false),"jetbrains.mps.baseLanguage.structure.Interface"),textGen);
      }
 else {
        textGen.foundError("Collection of extended interfaces can't be contains other Classifier Types except Interface");
      }
    }
  }
 else   if (SNodeOperations.isInstanceOf(cls,"jetbrains.mps.baseLanguage.structure.ClassConcept")) {
    BaseLanguageTextGen.implementedInterface(cls,textGen);
    BaseLanguageTextGen.extendedClasses(SLinkOperations.getTarget(SLinkOperations.getTarget(SNodeOperations.cast(cls,"jetbrains.mps.baseLanguage.structure.ClassConcept"),"superclass",true),"classifier",false),textGen);
  }
}
