{
  SNode expr=SNodeOperations.getAncestor(thisNode,"jetbrains.mps.lang.generator.structure.TemplateArgumentQueryExpression",false,false);
  SNode call=SNodeOperations.cast(SNodeOperations.getParent(expr),"jetbrains.mps.lang.generator.structure.ITemplateCall");
  int index=SNodeOperations.getIndexInParent(expr);
  if ((call != null) && (SLinkOperations.getTarget(call,"template",false) != null) && ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(call,"template",false),"parameter",true)).isNotEmpty()&& index >= 0 && index < ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(call,"template",false),"parameter",true)).count()) {
    SNode templateParameter=ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(call,"template",false),"parameter",true)).getElement(index);
    return SNodeOperations.copyNode(SLinkOperations.getTarget(templateParameter,"type",true));
  }
  return _quotation_createNode_8mmc34_a4a0();
}
