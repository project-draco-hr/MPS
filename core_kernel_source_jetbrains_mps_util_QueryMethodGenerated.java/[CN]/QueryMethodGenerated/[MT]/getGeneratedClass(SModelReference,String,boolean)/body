{
  SModel m=sm.resolve(MPSModuleRepository.getInstance());
  SModule module=m == null ? null : m.getModule();
  if (module == null) {
    reportErrorWhileClassLoading(className,suppressErrorLogging,String.format("couldn't find class '%s': no module for model '%s",className,sm));
    return null;
  }
  if (!myClassLoaderManager.canLoad(module)) {
    reportErrorWhileClassLoading(className,suppressErrorLogging,String.format("couldn't find class '%s': module %s couldn't be loaded",className,module.getModuleName()));
    return null;
  }
  Class queriesClass=myClassLoaderManager.getClass(module,className);
  if (queriesClass == null) {
    reportErrorWhileClassLoading(className,suppressErrorLogging,String.format("couldn't find class '%s' for model '%s' : TRY TO GENERATE",className,sm));
  }
  return queriesClass;
}
