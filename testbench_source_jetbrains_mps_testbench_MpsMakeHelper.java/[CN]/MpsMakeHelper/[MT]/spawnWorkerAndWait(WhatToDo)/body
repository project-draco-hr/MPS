{
  String currentClassPathString=System.getProperty("java.class.path");
  Set<File> classPaths=calculateClassPath(new File(System.getProperty("user.dir")));
  List<String> commandLine=new ArrayList<String>();
  commandLine.add(JavaEnvUtils.getJreExecutable("java"));
  commandLine.addAll(Arrays.asList(JVM_ARGS));
  StringBuilder sb=new StringBuilder();
  String pathSeparator=System.getProperty("path.separator");
  for (  File cp : classPaths) {
    sb.append(pathSeparator);
    sb.append(cp.getAbsolutePath());
  }
  commandLine.add("-classpath");
  commandLine.add(currentClassPathString + sb.toString());
  commandLine.add(MakeWorker.class.getCanonicalName());
  try {
    commandLine.add(myWhatToDo.dumpToTmpFile().getAbsolutePath());
  }
 catch (  FileNotFoundException e) {
    throw new BuildException(e);
  }
  ProcessBuilder pb=new ProcessBuilder(JavaEnvUtils.getJreExecutable("java"));
  pb.command(commandLine);
  pb.directory(new File(System.getProperty("user.dir")));
  executeProcess(pb);
}
