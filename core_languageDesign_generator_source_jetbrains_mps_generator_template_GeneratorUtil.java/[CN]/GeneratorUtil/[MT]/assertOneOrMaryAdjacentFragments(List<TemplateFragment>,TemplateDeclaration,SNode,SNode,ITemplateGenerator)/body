{
  if (fragments.isEmpty()) {
    generator.showErrorMessage(inputNode,BaseAdapter.fromAdapter(template),ruleNode,"couldn't process template: no template fragments found");
    return false;
  }
  if (fragments.size() > 1) {
    INodeAdapter parent=fragments.get(0).getParent().getParent();
    for (    TemplateFragment fragment : fragments) {
      if (parent != fragment.getParent().getParent()) {
        generator.showErrorMessage(inputNode,BaseAdapter.fromAdapter(template),ruleNode,"couldn't process template: all template fragments must reside in the same parent node");
        return false;
      }
    }
  }
  return true;
}
