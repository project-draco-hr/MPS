{
  BaseGroup group=new BaseGroup("");
  List<Pair<Intention,SNode>> groupItems=new ArrayList<Pair<Intention,SNode>>();
  IntentionsManager.QueryDescriptor query=new IntentionsManager.QueryDescriptor();
  query.setIntentionClass(GenerateIntention.class);
  query.setInstantiate(true);
  groupItems.addAll(IntentionsManager.getInstance().getAvailableIntentions(query,((SNode)MapSequence.fromMap(_params).get("selectedNode")),((EditorContext)MapSequence.fromMap(_params).get("editorContext"))));
  if (groupItems.isEmpty()) {
    return null;
  }
  final EditorContext editorContext=((EditorContext)MapSequence.fromMap(_params).get("editorContext"));
  Collections.sort(groupItems,new Comparator<Pair<Intention,SNode>>(){
    public int compare(    Pair<Intention,SNode> p0,    Pair<Intention,SNode> p1){
      Intention intention1=p0.getFirst();
      Intention intention2=p1.getFirst();
      SNode node1=p0.getSecond();
      SNode node2=p1.getSecond();
      return intention1.getDescription(node1,editorContext).compareTo(intention2.getDescription(node2,editorContext));
    }
  }
);
  for (  final Pair<Intention,SNode> pair : groupItems) {
    BaseAction action=new BaseAction(pair.getFirst().getDescription(pair.getSecond(),editorContext)){
      protected void doExecute(      AnActionEvent event){
        final IntentionContext intentionContext=new IntentionContext();
        final GenerateIntention generateIntention=(GenerateIntention)pair.getFirst();
        if (generateIntention.executeUI(pair.getSecond(),editorContext,intentionContext)) {
          ModelAccess.instance().runWriteActionInCommand(new Runnable(){
            public void run(){
              generateIntention.execute(pair.getSecond(),editorContext,intentionContext);
            }
          }
);
        }
      }
    }
;
    action.setExecuteOutsideCommand(true);
    group.add(action);
  }
  return group;
}
