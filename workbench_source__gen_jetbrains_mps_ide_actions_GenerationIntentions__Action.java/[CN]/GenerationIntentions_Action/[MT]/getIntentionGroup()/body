{
  BaseGroup group=new BaseGroup("");
  List<Pair<Intention,SNode>> groupItems=new ArrayList<Pair<Intention,SNode>>();
  SNode classConcept;
  if (SNodeOperations.isInstanceOf(GenerationIntentions_Action.this.selectedNode,"jetbrains.mps.baseLanguage.structure.ClassConcept")) {
    classConcept=SNodeOperations.cast(GenerationIntentions_Action.this.selectedNode,"jetbrains.mps.baseLanguage.structure.ClassConcept");
  }
 else {
    classConcept=SNodeOperations.getAncestor(GenerationIntentions_Action.this.selectedNode,"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
  }
  groupItems.addAll(IntentionsManager.getInstance().getAvailableIntentions(classConcept,GenerationIntentions_Action.this.editorContext,null,GenerateIntention.class));
  if (groupItems.isEmpty()) {
    return null;
  }
  Collections.sort(groupItems,new Comparator<Pair<Intention,SNode>>(){
    public int compare(    Pair<Intention,SNode> p0,    Pair<Intention,SNode> p1){
      Intention intention1=p0.getFirst();
      Intention intention2=p1.getFirst();
      SNode node1=p0.getSecond();
      SNode node2=p1.getSecond();
      return intention1.getDescription(node1,GenerationIntentions_Action.this.editorContext).compareTo(intention2.getDescription(node2,GenerationIntentions_Action.this.editorContext));
    }
  }
);
  int counter=1;
  for (  final Pair<Intention,SNode> pair : groupItems) {
    BaseAction action=new BaseAction(counter + ". " + pair.getFirst().getDescription(pair.getSecond(),GenerationIntentions_Action.this.editorContext)){
      protected void doExecute(      AnActionEvent p0){
        ModelAccess.instance().runCommandInEDT(new Runnable(){
          public void run(){
            pair.getFirst().execute(pair.getSecond(),GenerationIntentions_Action.this.editorContext);
          }
        }
);
      }
    }
;
    action.setExecuteOutsideCommand(true);
    group.add(action);
    counter++;
  }
  return group;
}
