{
  try {
    String modelPath=modelFile.getCanonicalPath();
    String rootPath=root.getCanonicalPath();
    if (!modelPath.startsWith(rootPath)) {
      throw new RuntimeException("getModelFQName failed for " + modelPath + " root= "+ rootPath);
    }
    int length=rootPath.length();
    if (rootPath.endsWith(File.separator)) {
      length--;
    }
    String fqName=modelPath.substring(length + 1);
    fqName=fqName.substring(0,fqName.lastIndexOf("."));
    fqName=fqName.replace(File.separatorChar,'.');
    if (namespacePrefix != null && namespacePrefix.length() > 0) {
      fqName=namespacePrefix + "." + fqName;
    }
    return fqName;
  }
 catch (  IOException e) {
    LOG.error(e);
  }
  return null;
}
