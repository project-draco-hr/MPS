{
  if (ourHomePath != null) {
    return ourHomePath;
  }
  if (System.getProperty(PROPERTY_HOME_PATH) != null) {
    ourHomePath=getAbsolutePath(System.getProperty(PROPERTY_HOME_PATH));
    return ourHomePath;
  }
  final Class aClass=PathManager.class;
  String rootPath=getResourceRoot(aClass,"/" + aClass.getName().replace('.','/') + ".class");
  if (rootPath != null) {
    File root=new File(rootPath);
    root=root.getAbsoluteFile();
    if (!root.isDirectory() || root.getName().toLowerCase().endsWith(".zip") || root.getName().toLowerCase().endsWith(".jar")) {
      root=new File(root.getParent());
    }
    root=root.getAbsoluteFile();
    while (true) {
      if (isMpsDir(root))       break;
      if (root.getParentFile() == null) {
        break;
      }
      root=root.getParentFile();
    }
    ourHomePath=root.getAbsolutePath();
  }
  return new File(".").getAbsolutePath();
}
