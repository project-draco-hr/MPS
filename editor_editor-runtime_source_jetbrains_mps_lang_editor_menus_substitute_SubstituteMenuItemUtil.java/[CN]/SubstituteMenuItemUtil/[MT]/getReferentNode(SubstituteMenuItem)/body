{
  if (item instanceof SmartReferenceSubstituteMenuItem) {
    return ((SmartReferenceSubstituteMenuItem)item).getReferentNode();
  }
 else   if (item instanceof SubstituteMenuItemWrapper) {
    return getReferentNode(((SubstituteMenuItemWrapper)item).getWrappedItem());
  }
  return null;
}
