{
  if (item instanceof SmartReferenceSubstituteMenuItem) {
    return ((SmartReferenceSubstituteMenuItem)item);
  }
 else   if (item instanceof SubstituteMenuItemWrapper) {
    return getSmartItem(((SubstituteMenuItemWrapper)item).getWrappedItem());
  }
  return null;
}
