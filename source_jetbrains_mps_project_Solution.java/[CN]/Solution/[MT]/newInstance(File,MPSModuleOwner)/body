{
  Solution solution=new Solution();
  SModel model=ProjectModels.createDescriptorFor(solution).getSModel();
  model.setLoading(true);
  SolutionDescriptor solutionDescriptor;
  if (descriptorFile.exists()) {
    solutionDescriptor=DescriptorsPersistence.loadSolutionDescriptor(descriptorFile,model);
  }
 else {
    solutionDescriptor=SolutionDescriptor.newInstance(model);
  }
  solution.mySolutionDescriptor=solutionDescriptor;
  solution.myDescriptorFile=descriptorFile;
  ConversionUtil.convert(solution,solutionDescriptor.getModuleRoots());
  ConversionUtil.convert(solution,solutionDescriptor.getLanguageRoots());
  MPSModuleRepository.getInstance().addModule(solution,moduleOwner);
  solution.readDependOnModules();
  return solution;
}
