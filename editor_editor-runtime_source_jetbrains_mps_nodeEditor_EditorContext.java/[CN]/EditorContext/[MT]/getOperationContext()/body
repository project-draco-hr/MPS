{
  Project project=ProjectHelper.getProject(myRepository);
  if (project == null) {
    return new GlobalOperationContext(){
      @Override public <T>T getComponent(      Class<T> clazz){
        if (EditorManager.class == clazz) {
          return (T)getEditorManager();
        }
        return super.getComponent(clazz);
      }
    }
;
  }
  SModule module=myModel == null ? null : myModel.getModule();
  if (module == null) {
    return new ProjectOperationContext(project){
      @Override public <T>T getComponent(      @NotNull Class<T> clazz){
        if (EditorManager.class == clazz) {
          return (T)getEditorManager();
        }
        return super.getComponent(clazz);
      }
    }
;
  }
  return new ModuleContext(module,project){
    @Override public <T>T getComponent(    @NotNull Class<T> clazz){
      if (EditorManager.class == clazz) {
        return (T)getEditorManager();
      }
      return super.getComponent(clazz);
    }
  }
;
}
