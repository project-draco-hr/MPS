{
  if (o instanceof Memento) {
    final Memento memento=(Memento)o;
    ModelAccess.instance().runReadAction(new Runnable(){
      @Override public void run(){
        myNodeEditorComponent.relayout();
        memento.restore(myNodeEditorComponent);
      }
    }
);
    myNodeEditorComponent.getUpdater().flushModelEvents();
    return true;
  }
  return false;
}
