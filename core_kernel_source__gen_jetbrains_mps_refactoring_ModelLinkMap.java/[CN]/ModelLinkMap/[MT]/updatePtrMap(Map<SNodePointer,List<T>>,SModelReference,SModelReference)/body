{
  List<SNodePointer> ptrList=SetSequence.fromSet(MapSequence.fromMap(map).keySet()).where(new IWhereFilter<SNodePointer>(){
    public boolean accept(    SNodePointer it){
      return oldModel.equals(it.getModelReference());
    }
  }
).toListSequence();
  for (  SNodePointer ptr : ListSequence.fromList(ptrList)) {
    List<T> list=MapSequence.fromMap(map).removeKey(ptr);
    MapSequence.fromMap(map).put(new SNodePointer(newModel,ptr.getNodeId()),list);
  }
}
