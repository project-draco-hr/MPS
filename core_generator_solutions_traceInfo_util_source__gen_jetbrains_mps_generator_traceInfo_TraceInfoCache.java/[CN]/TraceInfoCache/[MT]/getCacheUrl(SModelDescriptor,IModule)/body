{
  IClassPathItem classPathItem;
  ModuleDescriptor descriptor=module.getModuleDescriptor();
  if (module.isCompileInMPS() || descriptor != null && !(descriptor.getStubModelEntries().isEmpty())) {
    classPathItem=module.getClassPathItem();
  }
 else {
    classPathItem=CommonPaths.getMPSClassPath();
  }
  if (classPathItem == null) {
    return null;
  }
  String resourceName=traceInfoResourceName(sm);
  URL url=classPathItem.getResource(resourceName);
  if (url == null) {
    for (    TraceInfoCache.TraceInfoResourceProvider provider : myProviders) {
      url=provider.getResource(module,resourceName);
      if (url != null) {
        return url;
      }
    }
  }
  return url;
}
