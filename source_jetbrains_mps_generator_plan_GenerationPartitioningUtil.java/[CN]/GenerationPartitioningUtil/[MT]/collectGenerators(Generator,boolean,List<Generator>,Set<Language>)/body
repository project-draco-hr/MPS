{
  if (collectedGenerators.contains(generator))   return collectedGenerators;
  collectedGenerators.add(generator);
  if (scanTemplates) {
    List<SModelDescriptor> templateModels=generator.getOwnTemplateModels();
    for (    SModelDescriptor templateModel : templateModels) {
      collectGenerators(templateModel.getSModel(),true,true,collectedGenerators,processedLanguages,generator.getScope());
    }
  }
  for (  Generator refGenerator : generator.getReferencedGenerators()) {
    collectGenerators(refGenerator,scanTemplates,collectedGenerators,processedLanguages);
  }
  return collectedGenerators;
}
