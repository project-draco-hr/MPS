{
  List<SNode> allParents=new ArrayList<SNode>();
  for (SNode currentNode=node; currentNode != null; currentNode=currentNode.getParent()) {
    allParents.add(currentNode);
  }
  myRefactoring.doUpdateInstanceNode(node);
  if (node != null && node.getContainingRoot() == null) {
    for (    SNode predecessor : allParents) {
      if (predecessor.getContainingRoot() != null) {
        editorContext.selectWRTFocusPolicy(predecessor);
        break;
      }
    }
  }
}
