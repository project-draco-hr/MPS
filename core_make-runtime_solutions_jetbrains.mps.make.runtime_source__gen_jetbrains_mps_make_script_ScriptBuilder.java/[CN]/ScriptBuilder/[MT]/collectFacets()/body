{
  Map<IFacet.Name,IFacet> facetsView=MapSequence.fromMap(new HashMap<IFacet.Name,IFacet>());
  for (  IFacet.Name fn : SetSequence.fromSet(facets)) {
    IFacet fct=FacetRegistry.getInstance().lookup(fn);
    if (fct != null) {
      MapSequence.fromMap(facetsView).put(fn,fct);
    }
 else {
      String msg="facet not found: " + fn;
      error(fn,msg);
    }
  }
  if (SetSequence.fromSet(facets).isEmpty()) {
    error(null,"No make facets found, nothing to make. This may have been caused by a language module failed to load.");
  }
  return facetsView;
}
