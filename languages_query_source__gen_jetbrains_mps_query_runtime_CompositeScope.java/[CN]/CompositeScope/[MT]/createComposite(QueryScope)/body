{
  QueryScope last=null;
  for (  QueryScope s : scopes) {
    if (s != null) {
      if (last == null) {
        last=s;
      }
 else       if (last instanceof CompositeScope) {
        ((CompositeScope)last).addScope(s);
      }
 else       if (s instanceof CompositeScope) {
        ((CompositeScope)s).addScope(last);
        last=s;
      }
 else {
        last=new CompositeScope(last,s);
      }
    }
  }
  return last;
}
