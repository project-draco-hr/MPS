{
  while (true) {
    if (isInterrupted()) {
      break;
    }
    try {
      processCommand(myCommandQueue.poll());
    }
 catch (    ICommandQueue.QueueClosedException e) {
      break;
    }
  }
  if (log.isDebugEnabled()) {
    log.debug("Thread " + this + " finished working.");
  }
}
