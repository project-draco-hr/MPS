{
  if (Sequence.IGNORE_NULL_VALUES) {
    List<String> listWithNulls=Arrays.asList("foo",null,"bar");
    String[] arr=ListSequence.fromList(listWithNulls).toGenericArray(String.class);
    Assert.assertSame(3,arr.length);
    Assert.assertEquals("foo",arr[0]);
    Assert.assertNull(arr[1]);
    Assert.assertEquals("bar",arr[2]);
    List<String> dlist=ListSequence.fromList(listWithNulls).distinct().toListSequence();
    Assert.assertSame(2,ListSequence.fromList(dlist).count());
    this.assertIterableEquals(Arrays.asList("foo","bar"),dlist);
  }
 else {
    List<String> listWithNulls=Arrays.asList("foo",null,"bar");
    String[] arr=ListSequence.fromList(listWithNulls).toGenericArray(String.class);
    Assert.assertSame(3,arr.length);
    Assert.assertEquals("foo",arr[0]);
    Assert.assertNull(arr[1]);
    Assert.assertEquals("bar",arr[2]);
    List<String> dlist=ListSequence.fromList(listWithNulls).distinct().toListSequence();
    Assert.assertSame(3,ListSequence.fromList(dlist).count());
    this.assertIterableEquals(Arrays.asList("foo",null,"bar"),dlist);
  }
}
