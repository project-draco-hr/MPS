{
  SNode newSelection=null;
  for (  SNode ref : this.getNodesToRafactor()) {
    SNode sourceNode=ref;
    for (    SNode reference : ListSequence.fromList(SNodeOperations.getDescendants(sourceNode,"jetbrains.mps.baseLanguage.structure.VariableReference",true,new String[]{}))) {
      if (SLinkOperations.getTarget(reference,"variableDeclaration",false) == myVariable) {
        SNodeOperations.replaceWithAnother(reference,SNodeOperations.copyNode(SLinkOperations.getTarget(myVariable,"initializer",true)));
      }
    }
  }
  this.optimizeDeclaration(this.myVariable);
  return newSelection;
}
