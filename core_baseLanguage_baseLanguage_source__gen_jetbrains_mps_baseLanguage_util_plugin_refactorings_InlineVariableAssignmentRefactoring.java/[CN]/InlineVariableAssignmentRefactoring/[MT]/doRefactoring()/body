{
  SNode newSelection=null;
  for (  SNode ref : this.getNodesToRafactor()) {
    SNode sourceNode=ref;
    if (SNodeOperations.isInstanceOf(sourceNode,"jetbrains.mps.baseLanguage.structure.VariableReference")) {
      SNode copy=SNodeOperations.copyNode(SLinkOperations.getTarget(SNodeOperations.cast(this.myVariable,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"),"initializer",true));
      if (newSelection == null) {
        newSelection=copy;
      }
      SNodeOperations.replaceWithAnother(SNodeOperations.cast(sourceNode,"jetbrains.mps.baseLanguage.structure.VariableReference"),copy);
    }
  }
  this.optimizeDeclaration(this.myVariable);
  return newSelection;
}
