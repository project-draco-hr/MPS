{
  final Wrappers._boolean isLocalVariable=new Wrappers._boolean();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      isLocalVariable.value=SNodeOperations.isInstanceOf(InlineVariableAssignmentRefactoring.this.myVariable,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
    }
  }
);
  if (isLocalVariable.value) {
    final Wrappers._T<List<SNode>> nodesToRefactor=new Wrappers._T<List<SNode>>();
    final Wrappers._T<SNode> initializer=new Wrappers._T<SNode>();
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        initializer.value=SLinkOperations.getTarget(SNodeOperations.cast(InlineVariableAssignmentRefactoring.this.myVariable,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"),"initializer",true);
        nodesToRefactor.value=InlineVariableAssignmentRefactoring.this.getNodesToRefactor();
      }
    }
);
    if (initializer.value == null) {
      return false;
    }
    if (ListSequence.fromList(nodesToRefactor.value).isEmpty()) {
      Messages.showInfoMessage(frame,"Variable is never used","Inline Variable");
      return false;
    }
 else {
      int code=Messages.showYesNoDialog(frame,"Inline local variable '" + myVariable + "'? ("+ NameUtil.formatNumericalString(ListSequence.fromList(nodesToRefactor.value).count(),"occurence")+ ")","Inline Variable",null);
      if (code != 0) {
        return false;
      }
    }
  }
  return true;
}
