{
  DefaultSModelDescriptor modelDesc=aspect.get(lang);
  if (modelDesc == null) {
    messageHandler.handle(new Message(MessageKind.ERROR,"no " + aspect.getName() + " model"));
    return;
  }
  SModel existing=modelDesc.getSModel();
  if (existing == null) {
    messageHandler.handle(new Message(MessageKind.ERROR,"no " + aspect.getName() + " model"));
    return;
  }
  final SModel newmodel=new SModel(modelDesc.getSModelReference());
  newmodel.getSModelHeader().updateDefaults(modelDesc.getSModelHeader());
  Sequence.fromIterable(mergeLists(SModelOperations.getRoots(existing,null),roots,newmodel)).visitAll(new IVisitor<SNode>(){
    public void visit(    SNode it){
      newmodel.addRoot(it);
    }
  }
);
  MapSequence.fromMap(newContent).put(modelDesc,newmodel);
}
