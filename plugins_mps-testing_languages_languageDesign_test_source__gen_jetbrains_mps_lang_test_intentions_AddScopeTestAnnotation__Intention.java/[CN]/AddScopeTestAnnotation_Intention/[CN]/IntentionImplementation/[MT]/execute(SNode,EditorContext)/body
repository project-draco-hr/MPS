{
  SNode newAnnotation=SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x7181d929c720809L,"jetbrains.mps.lang.test.structure.ScopesTest"));
  AttributeOperations.setAttribute(node,new IAttributeDescriptor.NodeAttribute(MetaAdapterFactory.getConcept(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x7181d929c720809L,"jetbrains.mps.lang.test.structure.ScopesTest")),newAnnotation);
  if ((boolean)ScopesTest__BehaviorDescriptor.isSimple_id4IvydoGvpbr.invoke(SNodeOperations.asSConcept(MetaAdapterFactory.getConcept(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x7181d929c720809L,"jetbrains.mps.lang.test.structure.ScopesTest")),node)) {
    SLinkOperations.setTarget(newAnnotation,MetaAdapterFactory.getReferenceLink(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x7181d929c720809L,0x4b9f88d62c795596L,"checkingReference"),ScopesTest__BehaviorDescriptor.getCheckingReference_id4IvydoGvimX.invoke(newAnnotation).getTargetNode());
    Scope scope=ModelConstraints.getScope(ScopesTest__BehaviorDescriptor.getCheckingReference_id4IvydoGvimX.invoke(newAnnotation));
    for (    SNode available : scope.getAvailableElements(null)) {
      SNode expectedNode=SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x32ba5b0ec25fe9f3L,"jetbrains.mps.lang.test.structure.ScopesExpectedNode"));
      SLinkOperations.setTarget(expectedNode,MetaAdapterFactory.getReferenceLink(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x32ba5b0ec25fe9f3L,0x383e5e55de89bc1fL,"ref"),available);
      ListSequence.fromList(SLinkOperations.getChildren(newAnnotation,MetaAdapterFactory.getContainmentLink(0x8585453e6bfb4d80L,0x98deb16074f1d86cL,0x7181d929c720809L,0x32ba5b0ec25fea03L,"nodes"))).addElement(expectedNode);
    }
  }
  SelectionUtil.selectNode(editorContext,newAnnotation);
}
