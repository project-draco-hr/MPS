{
  SNode newAnnotation=SConceptOperations.createNewNode("jetbrains.mps.lang.test.structure.ScopesTest",null);
  AttributeOperations.setAttribute(node,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.test.structure.ScopesTest"),newAnnotation);
  if (ScopesTest_Behavior.call_isSimple_5449224527592395483(SConceptRepository.getInstance().getConcept(NameUtil.nodeFQName(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.test.structure.ScopesTest"))),node)) {
    SLinkOperations.setTarget(newAnnotation,"checkingReference",ScopesTest_Behavior.call_getCheckingReference_5449224527592367549(newAnnotation).getTargetNode(),false);
    Scope scope=ModelConstraints.getScope(ScopesTest_Behavior.call_getCheckingReference_5449224527592367549(newAnnotation));
    for (    SNode avaliable : scope.getAvailableElements(null)) {
      SNode expectedNode=SConceptOperations.createNewNode("jetbrains.mps.lang.test.structure.ScopesExpectedNode",null);
      SLinkOperations.setTarget(expectedNode,"ref",avaliable,false);
      ListSequence.fromList(SLinkOperations.getTargets(newAnnotation,"nodes",true)).addElement(expectedNode);
    }
  }
  SelectionUtil.selectNode(editorContext,newAnnotation);
}
