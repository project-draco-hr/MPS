{
  boolean topPriorityGroup=false;
  List<List<MappingConfiguration>> mappingSets=new ArrayList<List<MappingConfiguration>>();
  while (!myPriorityMap.isEmpty()) {
    List<MappingConfiguration> mappingSet=createMappingSet(topPriorityGroup);
    if (mappingSet.isEmpty()) {
      if (!topPriorityGroup) {
        topPriorityGroup=true;
        continue;
      }
      break;
    }
    mappingSets.add(mappingSet);
  }
  Collections.reverse(mappingSets);
  for (  List<MappingConfiguration> mappingSet : mappingSets) {
    Collections.sort(mappingSet,new Comparator<MappingConfiguration>(){
      public int compare(      MappingConfiguration o1,      MappingConfiguration o2){
        return o1.getId().compareTo(o2.getId());
      }
    }
);
  }
  return mappingSets;
}
