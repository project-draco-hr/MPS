{
  List<TemplateFragment> templateFragments=new ArrayList<TemplateFragment>(1);
  Iterator<? extends SNode> iterator=template.getNode().depthFirstChildren();
  while (iterator.hasNext()) {
    INodeAdapter templateFragment=BaseAdapter.fromNode(iterator.next());
    if (templateFragment instanceof TemplateFragment) {
      templateFragments.add((TemplateFragment)templateFragment);
    }
  }
  return templateFragments;
}
