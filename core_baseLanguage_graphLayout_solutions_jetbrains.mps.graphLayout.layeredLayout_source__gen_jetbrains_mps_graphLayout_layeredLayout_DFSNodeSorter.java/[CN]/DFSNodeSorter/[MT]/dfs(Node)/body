{
  MapSequence.fromMap(myDfsState).put(node,1);
  myLayeredOrder.addLast(node,myNodeLayers.get(node));
  for (  Edge edge : ListSequence.fromList(node.getOutEdges())) {
    Node target=edge.getTarget();
    if (MapSequence.fromMap(myDfsState).get(target) == 0) {
      dfs(target);
    }
  }
  MapSequence.fromMap(myDfsState).put(node,2);
}
