{
  int currentWidth=myCurrentWidth;
  for (  HighlighterBracket child : myBrackets) {
    child.paint(g,reallyPaint);
  }
  for (  HighlighterBracket child : myBrackets) {
    currentWidth=Math.max(currentWidth,child.myCurrentWidth + 1 + BRACKETS_WIDTH);
  }
  myCurrentWidth=currentWidth;
  if (reallyPaint) {
    g.setColor(myColor);
    g.fillRect(myX - currentWidth + BRACKETS_WIDTH,myY1,currentWidth - BRACKETS_WIDTH,BRACKETS_WIDTH);
    g.fillRect(myX - currentWidth,myY1,BRACKETS_WIDTH,myY2 - myY1);
    g.fillRect(myX - currentWidth + BRACKETS_WIDTH,myY2 - BRACKETS_WIDTH,currentWidth - BRACKETS_WIDTH,BRACKETS_WIDTH);
  }
}
