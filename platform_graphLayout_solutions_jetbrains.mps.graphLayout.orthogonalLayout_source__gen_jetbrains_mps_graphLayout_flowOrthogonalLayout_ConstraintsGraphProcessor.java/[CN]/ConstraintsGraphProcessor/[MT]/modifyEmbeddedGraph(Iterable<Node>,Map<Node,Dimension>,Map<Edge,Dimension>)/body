{
  Map<Edge,Node> labelNodes=MapSequence.fromMap(new HashMap<Edge,Node>());
  for (  Edge edge : SetSequence.fromSet(MapSequence.fromMap(labelSizes).keySet())) {
    MapSequence.fromMap(labelNodes).put(edge,splitEdge(edge));
  }
  List<Node> nodesAndLabels=ListSequence.fromList(new ArrayList<Node>());
  ListSequence.fromList(nodesAndLabels).addSequence(Sequence.fromIterable(nodesWithSize));
  ListSequence.fromList(nodesAndLabels).addSequence(Sequence.fromIterable(MapSequence.fromMap(labelNodes).values()));
  Map<Node,Dimension> nodeAndLabelsSizes=MapSequence.fromMap(new HashMap<Node,Dimension>());
  for (  Node node : Sequence.fromIterable(nodesWithSize)) {
    MapSequence.fromMap(nodeAndLabelsSizes).put(node,MapSequence.fromMap(nodeSizes).get(node));
  }
  for (  Edge edge : SetSequence.fromSet(MapSequence.fromMap(labelSizes).keySet())) {
    MapSequence.fromMap(nodeAndLabelsSizes).put(MapSequence.fromMap(labelNodes).get(edge),MapSequence.fromMap(labelSizes).get(edge));
  }
  modifyEmbeddedGraph(nodesAndLabels,nodeAndLabelsSizes);
  myLabelNodes=labelNodes;
}
