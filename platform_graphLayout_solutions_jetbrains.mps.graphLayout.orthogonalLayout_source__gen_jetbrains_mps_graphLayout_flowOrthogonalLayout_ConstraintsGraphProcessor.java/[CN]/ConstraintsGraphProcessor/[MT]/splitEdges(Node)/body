{
  List<Edge> oldEdges=ListSequence.fromList(new ArrayList<Edge>());
  ListSequence.fromList(oldEdges).addSequence(ListSequence.fromList(node.getEdges()));
  for (  Edge oldEdge : ListSequence.fromList(oldEdges)) {
    Node source=oldEdge.getSource();
    Node target=oldEdge.getTarget();
    Dart sourceDart=myEmbeddedGraph.getSourceDart(oldEdge,source);
    Dart targetDart=myEmbeddedGraph.getSourceDart(oldEdge,target);
    List<Edge> edges=ListSequence.fromList(new ArrayList<Edge>());
    myEmbeddedGraph.splitEdge(oldEdge,edges);
    for (    Edge edge : ListSequence.fromList(edges)) {
      for (      Dart dart : ListSequence.fromList(myEmbeddedGraph.getDarts(edge))) {
        if (dart.getSource() == source || dart.getTarget() == target) {
          MapSequence.fromMap(myDirections).put(dart,MapSequence.fromMap(myDirections).get(sourceDart));
        }
 else {
          MapSequence.fromMap(myDirections).put(dart,MapSequence.fromMap(myDirections).get(targetDart));
        }
      }
    }
    MapSequence.fromMap(myDirections).removeKey(sourceDart);
    MapSequence.fromMap(myDirections).removeKey(targetDart);
  }
}
