{
  SNode enclosingConcept=SNodeOperations.getAncestor(enclosingNode,"jetbrains.mps.bootstrap.structureLanguage.structure.ConceptDeclaration",true,false);
  List<LinkDeclaration> links=SModelSearchUtil_new.getLinkDeclarationsExcludingOverridden(((AbstractConceptDeclaration)SNodeOperations.getAdapter(enclosingConcept)));
  Iterator<LinkDeclaration> it=links.iterator();
  while (it.hasNext()) {
    SNode ld=it.next().getNode();
    if (SNodeOperations.getParent(ld,null,false,false) == enclosingConcept) {
      it.remove();
    }
  }
  return new SimpleSearchScope(BaseAdapter.toNodes(links));
}
