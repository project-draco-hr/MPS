{
  List<String> result=ListSequence.fromList(new ArrayList<String>());
  if (module.getClassesGen() != null) {
    ListSequence.fromList(result).addElement(module.getClassesGen().getAbsolutePath());
  }
  final ClasspathStringCollector visitor=new ClasspathStringCollector(result);
  module.getClassPathItem().accept(visitor);
  if (withDependencies) {
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        AbstractModule.getDependenciesClasspath(CollectionUtil.set(module),true).accept(visitor);
      }
    }
);
  }
  List<String> visited=visitor.getResultAndReInit();
  visited.removeAll(CommonPaths.getJDKPath());
  return visited;
}
