{
  List<SNode> allAncestors=new ArrayList<SNode>();
  SNode method=node;
  boolean isStatic=SNodeOperations.isInstanceOf(method,"jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration");
  SNode classNode=SNodeOperations.getAncestor(method,"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
  SNode interfaceNode=SNodeOperations.getAncestor(method,"jetbrains.mps.baseLanguage.structure.Interface",false,false);
  if (classNode != null) {
    ListSequence.<SNode>fromList(allAncestors).addElement(classNode);
    ListSequence.<SNode>fromList(allAncestors).addSequence(ListSequence.<SNode>fromList(FindUtils.executeFinder("jetbrains.mps.baseLanguage.findUsages.ClassAncestors_Finder",classNode,scope,indicator)));
    ListSequence.<SNode>fromList(allAncestors).addSequence(ListSequence.<SNode>fromList(FindUtils.executeFinder("jetbrains.mps.baseLanguage.findUsages.ImplementedInterfaces_Finder",classNode,scope,indicator)));
  }
 else   if (interfaceNode != null) {
    ListSequence.<SNode>fromList(allAncestors).addElement(interfaceNode);
    ListSequence.<SNode>fromList(allAncestors).addSequence(ListSequence.<SNode>fromList(FindUtils.executeFinder("jetbrains.mps.baseLanguage.findUsages.InterfaceAncestors_Finder",interfaceNode,scope,indicator)));
  }
  Set<SNode> results=SetSequence.<SNode>fromSet(new HashSet<SNode>());
  for (  SNode ancestor : ListSequence.<SNode>fromList(allAncestors)) {
    List<SNode> classMethods=null;
    if (isStatic) {
      if (SNodeOperations.isInstanceOf(ancestor,"jetbrains.mps.baseLanguage.structure.ClassConcept")) {
        classMethods=SLinkOperations.getTargets(SNodeOperations.cast(ancestor,"jetbrains.mps.baseLanguage.structure.ClassConcept"),"staticMethod",true);
      }
    }
 else {
      if (SNodeOperations.isInstanceOf(ancestor,"jetbrains.mps.baseLanguage.structure.ClassConcept")) {
        classMethods=SLinkOperations.getTargets(SNodeOperations.cast(ancestor,"jetbrains.mps.baseLanguage.structure.ClassConcept"),"method",true);
      }
 else {
        classMethods=SLinkOperations.getTargets(SNodeOperations.cast(ancestor,"jetbrains.mps.baseLanguage.structure.Interface"),"method",true);
      }
    }
    for (    SNode classMethod : ListSequence.<SNode>fromList(classMethods)) {
      if (BaseMethodDeclaration_Behavior.call_hasSameSignature_1213877350435(classMethod,method)) {
        SetSequence.fromSet(results).addElement(classMethod);
      }
    }
  }
  for (  SNode result : SetSequence.<SNode>fromSet(results)) {
    ListSequence.<SNode>fromList(_results).addElement(result);
  }
}
