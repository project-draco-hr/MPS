{
  myTargetLanguage=targetLanguage;
  myInvocationContext=invocationContext;
  myCustomMappingConfigurations=null;
  if (targetLanguage == null) {
    myGenerationStepController=generationStepController;
    myGeneratorModules=myGenerationStepController.getGenerators();
    myTemplateModels=myGenerationStepController.getTemplateModels();
    myMappingConfigurations=new LinkedHashSet<MappingConfiguration>(myGenerationStepController.getCurrentMappings());
  }
 else {
    myGeneratorModules=getUsedGenerators(inputModel);
    if (configs != null) {
      myCustomMappingConfigurations=new LinkedHashSet<MappingConfiguration>(configs);
    }
    initTemplateModels();
  }
  String inputModuleUID=inputModel.getUID().toString();
  myTransientModule=new TransientModule("TransientModule:[" + inputModuleUID + "]",invocationContext.getModule(),myGeneratorModules);
  if (prevContext != null) {
    myTransientModule.addDependency(prevContext.getModule());
    myUsedNames=prevContext.myUsedNames;
    myTransientModelsToKeep=prevContext.myTransientModelsToKeep;
    myTransientModulesToKeep=prevContext.myTransientModulesToKeep;
  }
}
