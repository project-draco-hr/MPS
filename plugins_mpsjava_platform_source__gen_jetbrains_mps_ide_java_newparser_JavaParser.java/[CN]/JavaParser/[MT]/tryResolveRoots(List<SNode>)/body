{
  for (  SNode node : ListSequence.fromList(roots)) {
    List<SNode> unknowns=SNodeOperations.getDescendants(node,"jetbrains.mps.baseLanguage.structure.IYetUnresolved",false,new String[]{});
    for (    SNode unk : ListSequence.fromList(unknowns)) {
      final SNode unkNode=unk;
      final SNode subst=((SNode)BehaviorManager.getInstance().invoke(Object.class,unk,"virtual_evaluateSubst_8136348407761606764",new Class[]{SNode.class}));
      if ((subst != null)) {
        ModelAccess.instance().runWriteActionInCommand(new Runnable(){
          public void run(){
            SNodeOperations.replaceWithAnother(unkNode,subst);
          }
        }
);
      }
    }
  }
}
