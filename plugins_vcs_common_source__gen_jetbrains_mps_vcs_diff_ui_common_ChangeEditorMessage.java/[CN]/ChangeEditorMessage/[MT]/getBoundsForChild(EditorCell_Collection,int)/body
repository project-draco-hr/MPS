{
  int cellIndex=getChildCellIndex(cell,index);
  int lastCellIndex=cell.getChildCount() - 1;
  int minY;
  int maxY;
  if (cellIndex > lastCellIndex) {
    jetbrains.mps.openapi.editor.cells.EditorCell childCell=cell.getChildAt(lastCellIndex);
    minY=(isVertical(cell) ? childCell.getBottom() : childCell.getY());
    maxY=Math.max(childCell.getBottom(),minY + 1);
  }
 else {
    minY=cell.getChildAt(cellIndex).getY();
    maxY=(isVertical(cell) ? minY + 1 : cell.getCellAt(cellIndex).getBottom());
  }
  return new Bounds(minY,maxY);
}
