{
  DefaultListModel model=(DefaultListModel)myList.getModel();
  model.clear();
  boolean isMatchesSomething=false;
  if (myTextField.getText().length() > 0) {
    Matcher itemMatcher=getItemPattern().matcher("");
    outerLoop:     for (    String name : myNames) {
      itemMatcher.reset(name);
      if (itemMatcher.matches()) {
        if (!isMatchesSomething) {
          myTextField.setBackground(Color.WHITE);
          isMatchesSomething=true;
        }
        for (        Item i : myItemsMap.get(name)) {
          model.addElement(i);
          if (model.size() > 42)           break outerLoop;
        }
      }
    }
  }
 else   if (myShowAllOnEmptyText) {
    myTextField.setBackground(Color.WHITE);
    isMatchesSomething=true;
    outerLoop:     for (    String name : myNames) {
      for (      Item i : myItemsMap.get(name)) {
        model.addElement(i);
        if (model.size() > 42)         break outerLoop;
      }
    }
  }
  if (!isMatchesSomething) {
    myTextField.setBackground(new Color(255,220,220));
  }
  Item oldSelection=getSelectedItem();
  if ((oldSelection == null || !model.contains(oldSelection)) && model.size() > 0) {
    oldSelection=(Item)model.getElementAt(0);
  }
  myList.setSelectedValue(oldSelection,true);
}
