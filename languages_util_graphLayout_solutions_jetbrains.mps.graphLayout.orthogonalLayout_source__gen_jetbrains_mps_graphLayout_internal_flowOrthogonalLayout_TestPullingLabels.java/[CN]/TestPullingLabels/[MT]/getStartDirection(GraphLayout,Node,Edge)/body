{
  List<Point> path=layout.getEdgeLayout(edge);
  if (node == edge.getSource()) {
    return OrthogonalUtil.getDirection(ListSequence.<Point>fromList(path).getElement(0),ListSequence.<Point>fromList(path).getElement(1));
  }
 else {
    int last=ListSequence.<Point>fromList(path).count() - 1;
    return OrthogonalUtil.getDirection(ListSequence.<Point>fromList(path).getElement(last),ListSequence.<Point>fromList(path).getElement(last - 1));
  }
}
