{
  if (substituteInfo == null) {
    return false;
  }
  LOG.debug("substitute info : " + substituteInfo);
  NodeSubstitutePatternEditor patternEditor=editorCell.createSubstitutePatternEditor();
  if (resetPattern) {
    patternEditor.setCaretPosition(0);
  }
  String pattern=patternEditor.getPattern();
  boolean trySubstituteNow=!patternEditor.getText().equals(substituteInfo.getOriginalText()) || pattern.equals(patternEditor.getText());
  if (trySubstituteNow) {
    List<INodeSubstituteAction> matchingActions=substituteInfo.getMatchingActions(pattern,false);
    if (matchingActions.size() == 1 && pattern.length() > 0) {
      matchingActions.get(0).substitute(this.getEditorContext(),pattern);
      return true;
    }
  }
  myNodeSubstituteChooser.setNodeSubstituteInfo(substituteInfo);
  myNodeSubstituteChooser.setPatternEditor(patternEditor);
  myNodeSubstituteChooser.setLocationRelative(editorCell);
  myNodeSubstituteChooser.setVisible(true);
  return true;
}
