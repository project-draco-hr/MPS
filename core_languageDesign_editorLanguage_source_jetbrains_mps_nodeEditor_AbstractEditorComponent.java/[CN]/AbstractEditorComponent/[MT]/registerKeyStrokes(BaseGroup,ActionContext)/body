{
  if (group != null) {
    for (    AnAction e : group.getChildren(null)) {
      if (e instanceof MPSActionAdapter) {
        MPSActionAdapter action=(MPSActionAdapter)e;
        if (action.getShortcutSet().getShortcuts().length > 0) {
          registerNodeAction(action);
          myMPSActionsWithShortcuts.add(action);
        }
      }
      if (e instanceof MPSActionGroup) {
        try {
          if (actionContext != null) {
            Presentation p=new Presentation();
            e.update(ActionUtils.createEvent(p,actionContext));
          }
          registerKeyStrokes((MPSActionGroup)e,actionContext);
        }
 catch (        Throwable t) {
          LOG.error(t);
        }
      }
      if (e instanceof GroupToElementsAdapter) {
        GroupToElementsAdapter adapter=(GroupToElementsAdapter)e;
        registerKeyStrokes(adapter.getGroup(),actionContext);
      }
    }
  }
}
