{
  List<Object> result=new ArrayList<Object>();
  for (  TreeNode treeNode : treeNodes) {
    if (treeNode instanceof SNodeTreeNode) {
      final SNode node=((SNodeTreeNode)treeNode).getSNode();
      if (isAccepted(node.getModel())) {
        result.add(node.getReference());
      }
    }
 else     if (treeNode instanceof SModelTreeNode) {
      final SModel model=((SModelTreeNode)treeNode).getModel();
      if (isAccepted(model)) {
        result.add(model.getReference());
      }
    }
 else     if (treeNode instanceof ProjectModuleTreeNode) {
      final SModule module=((ProjectModuleTreeNode)treeNode).getModule();
      if (isAccepted(module)) {
        result.add(module.getModuleReference());
      }
    }
  }
  return result;
}
