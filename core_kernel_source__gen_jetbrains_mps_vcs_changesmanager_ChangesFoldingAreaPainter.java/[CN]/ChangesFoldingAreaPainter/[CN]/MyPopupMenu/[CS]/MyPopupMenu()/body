{
  myActionToolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,ActionFactory.getInstance().acquireRegisteredGroup("jetbrains.mps.ide.actions.ChangesStrip_ActionGroup","jetbrains.mps.ide"),true);
  myActionToolbar.setTargetComponent(getEditorComponent());
  add(myActionToolbar.getComponent());
  setBorder(BorderFactory.createLineBorder(Color.BLACK));
  addPopupMenuListener(new PopupMenuListener(){
    public void popupMenuWillBecomeVisible(    PopupMenuEvent event){
      myActionToolbar.updateActionsImmediately();
    }
    public void popupMenuWillBecomeInvisible(    PopupMenuEvent event){
      setCurrentMessageGroup(null);
    }
    public void popupMenuCanceled(    PopupMenuEvent event){
    }
  }
);
}
