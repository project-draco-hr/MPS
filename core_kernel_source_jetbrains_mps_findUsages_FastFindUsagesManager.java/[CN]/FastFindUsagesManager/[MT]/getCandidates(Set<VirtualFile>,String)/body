{
  final Set<VirtualFile> candidates=new HashSet<VirtualFile>();
  FileBasedIndex.getInstance().processValues(IdIndex.NAME,new IdIndexEntry(nodeId,true),null,new FileBasedIndex.ValueProcessor<Integer>(){
    public void process(    final VirtualFile file,    final Integer value){
      candidates.add(file);
    }
  }
,new VirtualFileFilter(){
    public boolean accept(    VirtualFile file){
      return scopeFiles.contains(file);
    }
  }
);
  return candidates;
}
