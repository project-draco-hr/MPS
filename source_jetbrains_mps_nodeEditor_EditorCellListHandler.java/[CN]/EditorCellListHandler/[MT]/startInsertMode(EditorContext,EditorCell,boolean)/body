{
  SNode anchorNode=(anchorCell != null ? anchorCell.getSemanticNode() : null);
  if (anchorNode != null) {
    Iterator<SNode> listElementsIter=getOwner().children(getChildRole());
    List<SNode> listElements=new LinkedList<SNode>();
    while (listElementsIter.hasNext()) {
      listElements.add(listElementsIter.next());
    }
    while (anchorNode != null && !listElements.contains(anchorNode)) {
      anchorNode=anchorNode.getParent();
    }
  }
  myInsertedNode=createNodeToInsert();
  getOwner().insertChild(anchorNode,getChildRole(),myInsertedNode,insertBefore);
  AbstractEditorComponent editor=editorContext.getNodeEditorComponent();
  editor.pushKeyboardHandler(this);
}
