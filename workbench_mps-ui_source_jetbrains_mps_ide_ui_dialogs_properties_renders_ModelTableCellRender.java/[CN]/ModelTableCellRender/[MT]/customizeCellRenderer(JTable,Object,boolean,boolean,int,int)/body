{
  setPaintFocusBorder(false);
  setFocusBorderAroundIcon(true);
  setBorder(BorderFactory.createEmptyBorder(1,1,1,1));
  if (value != null) {
    final SModelReference modelReference=(SModelReference)value;
    ModelPresentation modelPresentation=new ModelPresentation((jetbrains.mps.smodel.SModelReference)modelReference);
    setIcon(modelPresentation.doGetIcon());
    DependencyCellState cellState=getDependencyCellState(modelReference);
    append(modelPresentation.doGetPresentableText(),cellState.getTextAttributes());
    if (cellState.equals(DependencyCellState.NOT_IN_SCOPE)) {
      append(" (out of scope)",cellState.getTextAttributes());
    }
  }
}
