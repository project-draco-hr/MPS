{
  SNode newLastNode=null;
  List<SNode> children=ModelAccess.instance().runReadAction(new Computable<List<SNode>>(){
    public List<SNode> compute(){
      return myParentNode.getChildren(myRole);
    }
  }
);
  Iterator<SNode> iterator=children.iterator();
  while (iterator.hasNext()) {
    SNode semanticNode=iterator.next();
    if (semanticNode == myLastNode) {
      if (next) {
        if (iterator.hasNext()) {
          newLastNode=iterator.next();
        }
 else {
          newLastNode=null;
        }
      }
      break;
    }
    newLastNode=semanticNode;
  }
  if (newLastNode != null) {
    myLastNode=newLastNode;
    myEditorComponent.scrollToNode(myLastNode);
    myEditorComponent.repaint();
  }
}
