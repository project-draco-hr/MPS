{
  ModelAccess.assertLegalWrite();
synchronized (REPO_LOCK) {
    if (isLoaded()) {
      for (      org.jetbrains.mps.openapi.model.SNode node : getRootNodes()) {
        ((SNodeBase)node).detach();
      }
    }
    myRepository=DisposedRepository.INSTANCE;
  }
}
