{
  assertCanRead();
  myModule=module;
  if (myModelReference.getModuleReference() == null) {
    jetbrains.mps.smodel.SModelReference newModelReference=new jetbrains.mps.smodel.SModelReference(module.getModuleReference(),this.getModelId(),this.getModelName());
    if (!newModelReference.equals(myModelReference)) {
      LOG.error("new model reference should be equal to old");
    }
    changeModelReference(newModelReference);
  }
}
