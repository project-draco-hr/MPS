{
  List<M> result=new ArrayList<M>();
  result.addAll(myRepository.getModules(myBootstrapLibrariesOwner,cls));
  result.addAll(myRepository.getModules(myPredefinedLibrariesOwner,cls));
  result.addAll(myRepository.getModules(myOwner,cls));
  for (  M m : new ArrayList<M>(result)) {
    if (m instanceof Language) {
      if (cls.isAssignableFrom(Generator.class)) {
        result.addAll((List<? extends M>)((Language)m).getGenerators());
      }
    }
  }
  return new HashSet<M>(result);
}
