{
  if (myOwner != null) {
    myRepository.unRegisterModules(myOwner);
  }
  myOwner=new MPSModuleOwner(){
  }
;
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      List<IModule> modules=new ArrayList<IModule>();
      for (      Library l : getLibraries()) {
        if (!l.isPredefined()) {
          modules=myRepository.readModuleDescriptors(FileSystem.getFile(l.getPath()),myOwner);
        }
      }
      ClassLoaderManager.getInstance().reloadAll(new EmptyProgressIndicator());
      fireOnLoad(myOwner);
      CleanupManager.getInstance().cleanup();
      for (      IModule module : modules) {
        ((AbstractModule)module).convertRenamedDependencies();
      }
    }
  }
);
}
