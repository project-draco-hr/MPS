{
  if (MapSequence.fromMap(myNumFullLeaves).get(node) == 0) {
    node.setState(OldPQTreeNode.State.EMPTY);
    return node;
  }
  List<OldPQTreeNode> children=node.getChildren();
  ListIterator<OldPQTreeNode> childItr=children.listIterator();
  while (childItr.hasNext()) {
    OldPQTreeNode child=childItr.next();
    OldPQTreeNode newChild=arrange(child,false);
    if (newChild == null) {
      return null;
    }
    childItr.set(newChild);
  }
  return node.makeReduction(isPertinentRoot);
}
