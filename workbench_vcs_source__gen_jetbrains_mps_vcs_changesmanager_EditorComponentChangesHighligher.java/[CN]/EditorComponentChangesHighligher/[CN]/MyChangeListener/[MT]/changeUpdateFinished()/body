{
  if (!(ListSequence.fromList(myAddedMessages).isEmpty()) || !(ListSequence.fromList(myRemovedMessages).isEmpty())) {
    NodeHighlightManager nodeHighlightManager=getHighlightManager();
    for (    EditorMessage removedMessage : ListSequence.fromList(myRemovedMessages)) {
      nodeHighlightManager.unmark(removedMessage);
    }
    for (    EditorMessage addedMessage : ListSequence.fromList(myAddedMessages)) {
      nodeHighlightManager.mark(addedMessage);
    }
    nodeHighlightManager.repaintAndRebuildEditorMessages();
    ThreadUtils.runInUIThreadNoWait(new Runnable(){
      public void run(){
        myFoldingAreaPainter.relayout();
      }
    }
);
    ListSequence.fromList(myAddedMessages).clear();
    ListSequence.fromList(myRemovedMessages).clear();
  }
}
