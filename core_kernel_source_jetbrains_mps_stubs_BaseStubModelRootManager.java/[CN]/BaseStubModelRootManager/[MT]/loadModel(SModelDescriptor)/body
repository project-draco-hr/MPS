{
  SModel model=new SModel(modelDescriptor.getSModelReference(),new ForeignNodeIdMap());
  model.setLoading(true);
  try {
    Set<Language> languages=new HashSet<Language>();
    try {
      languages=getLanguagesToImport();
    }
 catch (    Throwable t) {
      LOG.error(t);
    }
    for (    Language l : languages) {
      model.addLanguage(l.getModuleReference());
    }
  }
 catch (  Throwable t) {
    LOG.error(t);
  }
 finally {
    model.setLoading(false);
  }
  return model;
}
