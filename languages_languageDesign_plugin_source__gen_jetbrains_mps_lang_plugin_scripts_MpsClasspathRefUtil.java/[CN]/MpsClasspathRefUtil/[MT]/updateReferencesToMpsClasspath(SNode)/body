{
  SModule[] modules={ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("8865b7a8-5271-43d3-884c-6fd1d9cfdd34(MPS.OpenAPI)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("6ed54515-acc8-4d1e-a16c-9fd6cfe951ea(MPS.Core)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("1ed103c3-3aa6-49b7-9c21-6765ee11f224(MPS.Editor)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("742f6602-5a2f-4313-aa6e-ae1cd4ffdc61(MPS.Platform)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("86441d7a-e194-42da-81a5-2161ec62a379(MPS.Workbench)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("498d89d2-c2e9-11e2-ad49-6cf049e62fe5(MPS.IDEA)")),ModuleRepositoryFacade.getInstance().getModule(PersistenceFacade.getInstance().createModuleReference("c22f470d-960b-4030-ba61-ede04b633f10(org.jetbrains.annotations)"))};
  SModel model=SNodeOperations.getModel(node);
  SModule module=check_xpwqv8_a0d0b(model);
  for (  SReference ref : Sequence.fromIterable(SNodeOperations.getReferences(node))) {
    SModelReference oldModelRef=ref.getTargetSModelReference();
    final String fqname=check_xpwqv8_a0b0f0b(((jetbrains.mps.smodel.SModelReference)oldModelRef));
    for (    SModule newModule : modules) {
      if (newModule == null) {
        continue;
      }
      List<SModel> models=IterableUtil.asList(newModule.getModels());
      SModelReference modelRef=check_xpwqv8_a0c0c0f0b(ListSequence.fromList(models).findFirst(new IWhereFilter<SModel>(){
        public boolean accept(        SModel it){
          return eq_xpwqv8_a0a0a0a0a0a0c0c0f0b(jetbrains.mps.util.SNodeOperations.getModelLongName(it),fqname);
        }
      }
));
      if (modelRef == null) {
        continue;
      }
      if (modelRef.equals(oldModelRef)) {
        break;
      }
      ((jetbrains.mps.smodel.SReference)ref).setTargetSModelReference(modelRef);
      if ((SLinkOperations.getTargetNode(ref) == null)) {
        ((jetbrains.mps.smodel.SReference)ref).setTargetSModelReference(oldModelRef);
        continue;
      }
      ((SModelInternal)model).addModelImport(modelRef,false);
      ((SModelInternal)model).deleteModelImport(oldModelRef);
      SModelRepository.getInstance().markChanged(model);
      if (module != null && ((AbstractModule)module).getModuleDescriptor() != null) {
        ((AbstractModule)module).addDependency(newModule.getModuleReference(),false);
      }
      break;
    }
  }
}
