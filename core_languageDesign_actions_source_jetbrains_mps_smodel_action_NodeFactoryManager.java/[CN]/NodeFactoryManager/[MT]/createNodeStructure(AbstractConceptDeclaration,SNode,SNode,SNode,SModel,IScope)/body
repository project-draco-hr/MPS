{
  for (  LinkDeclaration linkDeclaration : SModelSearchUtil.getLinkDeclarations(nodeConcept)) {
    String role=SModelUtil_new.getGenuineLinkRole(linkDeclaration);
    LinkMetaclass metaClass=SModelUtil_new.getGenuineLinkMetaclass(linkDeclaration);
    Cardinality sourceCardinality=SModelUtil_new.getGenuineLinkSourceCardinality(linkDeclaration);
    if (metaClass == LinkMetaclass.aggregation && (sourceCardinality == Cardinality._1 || sourceCardinality == Cardinality._1__n)) {
      AbstractConceptDeclaration targetConcept=linkDeclaration.getTarget();
      LOG.assertLog(targetConcept != null,"link target is null");
      if (newNode.getChildren(role).isEmpty()) {
        SNode childNode=createNode((AbstractConceptDeclaration)targetConcept,sampleNode,enclosingNode,model,scope);
        newNode.addChild(role,childNode);
      }
    }
  }
}
