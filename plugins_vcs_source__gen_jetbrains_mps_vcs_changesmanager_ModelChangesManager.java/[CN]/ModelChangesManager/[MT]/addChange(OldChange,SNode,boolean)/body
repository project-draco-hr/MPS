{
  myCommandQueue.assertSoftlyIsCommandThread();
  if (myBaseVersionModel == null && !(isNewModel())) {
    if (log.isErrorEnabled()) {
      log.error("",new AssertionError("adding change to model without base version"));
    }
    return;
  }
  ListSequence.<OldChange>fromList(myChangeList).addElement(change);
  if (myFileStatus == FileStatus.NOT_CHANGED) {
    setFileStatus(FileStatus.MODIFIED);
  }
  if (change instanceof NewNodeChange) {
    SetSequence.fromSet(myAddedNodeIds).addElement(change.getAffectedNodeId());
  }
  if (affectedRoot != null) {
    addRootInfoForChange(change,affectedRoot.getSNodeId(),SNodeOperations.getModel(affectedRoot));
  }
  if (!(silent)) {
    fireChangeAdded(change);
  }
}
