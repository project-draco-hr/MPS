{
  List<SNode> vds=SModelOperations.getNodes(_context.getModel(),"jetbrains.mps.baseLanguage.structure.VariableDeclaration");
  for (  SNode vd : vds) {
    SNode vdtype=SLinkOperations.getTarget(vd,"type",true);
    SNode vdCType=(SNodeOperations.isInstanceOf(vdtype,"jetbrains.mps.baseLanguage.structure.ClassifierType") ? vdtype : null);
    SNode vdFType=(SNodeOperations.isInstanceOf(vdtype,"jetbrains.mps.closures.structure.FunctionType") ? vdtype : null);
    if ((vdFType != null) || (vdCType != null)) {
      SNode inittype=TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(vd,"initializer",true));
      SNode initCType=(SNodeOperations.isInstanceOf(inittype,"jetbrains.mps.baseLanguage.structure.ClassifierType") ? inittype : null);
      SNode initFType=(SNodeOperations.isInstanceOf(inittype,"jetbrains.mps.closures.structure.FunctionType") ? inittype : null);
      if ((vdCType != null) && (initFType != null)) {
        if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(vd,"initializer",true),"jetbrains.mps.closures.structure.ClosureLiteral")) {
          ClosureLiteralUtil.addAdaptableClosureLiteralTarget(SLinkOperations.getTarget(vd,"initializer",true),vdCType,_context.getGenerator());
        }
 else {
          FunctionTypeUtil.addAdaptableClassifierTypeTarget(ClassifierTypeUtil.getClassifierType(initFType),vdCType,_context.getGenerator());
          FunctionTypeUtil.putPrepData(SLinkOperations.getTarget(vd,"initializer",true),INamedConcept_Behavior.call_getFqName_1213877404258(SLinkOperations.getTarget(vdCType,"classifier",false)),_context.getGenerator());
        }
      }
 else       if ((vdFType != null) && (initCType != null)) {
        FunctionTypeUtil.addAdaptableClassifierTypeTarget(initCType,ClassifierTypeUtil.getClassifierType(vdFType),_context.getGenerator());
        FunctionTypeUtil.putPrepData(SLinkOperations.getTarget(vd,"initializer",true),INamedConcept_Behavior.call_getFqName_1213877404258(SLinkOperations.getTarget(ClassifierTypeUtil.getClassifierType(vdFType),"classifier",false)),_context.getGenerator());
      }
    }
  }
}
