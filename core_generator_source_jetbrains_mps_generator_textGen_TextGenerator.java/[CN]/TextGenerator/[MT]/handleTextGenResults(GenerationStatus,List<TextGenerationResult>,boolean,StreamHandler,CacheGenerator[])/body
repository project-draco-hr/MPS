{
  if (!sourceStatus.isOk()) {
    throw new IllegalArgumentException();
  }
  TextFacility tf=new TextFacility(sourceStatus);
  tf.setTextGenOutcome(results);
  tf.updateBaseLangDeps(streamHandler);
  if (generateDebugInfo) {
    tf.updateDebugInfo();
  }
  tf.serializeOutcome(streamHandler);
  tf.serializeCaches(streamHandler,cacheGenerators);
  return tf.getErrors();
}
