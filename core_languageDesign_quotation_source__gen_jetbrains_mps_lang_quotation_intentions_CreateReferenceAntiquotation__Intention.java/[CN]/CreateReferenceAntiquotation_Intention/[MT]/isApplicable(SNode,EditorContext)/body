{
  EditorCell selectedCell=editorContext.getSelectedCell();
  SNode contextNode=SNodeOperations.cast(selectedCell.getSNode(),"jetbrains.mps.lang.core.structure.BaseConcept");
  SNode linkNode=BaseAdapter.fromAdapter(selectedCell.getLinkDeclaration());
  if (!(SNodeOperations.isInstanceOf(linkNode,"jetbrains.mps.lang.structure.structure.LinkDeclaration"))) {
    return false;
  }
  if (contextNode == null) {
    return false;
  }
  SNode link=SNodeOperations.cast(linkNode,"jetbrains.mps.lang.structure.structure.LinkDeclaration");
  if (SPropertyOperations.hasValue(link,"metaClass","aggregation","reference")) {
    return false;
  }
  return true;
}
