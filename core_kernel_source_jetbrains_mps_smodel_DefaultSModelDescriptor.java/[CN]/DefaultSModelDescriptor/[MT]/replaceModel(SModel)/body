{
  if (newModel == mySModel)   return;
  if (isInitialized()) {
    myFastNodeFinder=null;
synchronized (myListenersLock) {
      myWeakModelListeners.addAll(mySModel.getWeakModelListeners());
      myModelListeners.addAll(mySModel.getModelListeners());
      myModelCommandListeners.addAll(mySModel.getCommandListeners());
    }
    mySModel.dispose();
  }
  mySModel=newModel;
  if (mySModel != null) {
    addListenersToNewModel();
  }
  SModelRepository.getInstance().markChanged(this,true);
}
