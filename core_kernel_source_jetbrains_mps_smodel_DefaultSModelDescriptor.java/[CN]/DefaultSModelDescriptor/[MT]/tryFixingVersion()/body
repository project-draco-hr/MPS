{
  if (getVersion() != -1)   return;
  int maxVersion=-1;
  for (  StructureModification data : getStructureModificationLog().getHistory()) {
    Integer version=data.getDependencies().get(getSModelReference());
    if (version != null && maxVersion <= version)     maxVersion=version + 1;
  }
  if (maxVersion != -1) {
    setVersion(maxVersion);
    LOG.error("Metadata file for model " + getSModelReference().getSModelFqName() + " wasn't present. Recreated a new one.");
  }
}
