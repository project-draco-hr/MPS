{
  if (getVersion() != -1)   return;
  int maxVersion=-1;
  for (  RefactoringContext context : getRefactoringHistory().getRefactoringContexts()) {
    maxVersion=Math.max(maxVersion,context.getModelVersion());
  }
  if (maxVersion != -1) {
    setVersion(maxVersion);
    LOG.error("Metadata file for model " + getSModelFqName() + " wasn't present. Recreated a new one.");
  }
}
