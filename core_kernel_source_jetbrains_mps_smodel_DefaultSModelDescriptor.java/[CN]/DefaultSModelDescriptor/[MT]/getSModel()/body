{
synchronized (myModel) {
    ModelLoadingState oldState=myModel.getState();
    SModel res=myModel.getModel(ModelLoadingState.ROOTS_LOADED);
    System.out.printf("model loaded" + this.getSModelReference().getLongName() + "\n");
    if (res == null)     return null;
    res.setModelDescriptor(this);
    if (oldState != myModel.getState()) {
      fireModelStateChanged(oldState,myModel.getState());
    }
    return res;
  }
}
