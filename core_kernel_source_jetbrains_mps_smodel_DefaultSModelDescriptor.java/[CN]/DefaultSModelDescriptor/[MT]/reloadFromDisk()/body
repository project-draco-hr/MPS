{
  ModelAccess.assertLegalWrite();
  IFile modelFile=getModelFile();
  if (modelFile == null || !modelFile.exists()) {
    SModelRepository.getInstance().deleteModel(this);
    return;
  }
  DescriptorLoadResult dr=ModelPersistence.loadDescriptor(modelFile);
  myPersistenceVersion=dr.getPersistenceVersion();
  myMetadata=dr.getMetadata();
  if (getLoadingState() == ModelLoadingState.NOT_LOADED)   return;
  ModelLoadResult result=load(getLoadingState());
  replaceModel(result.getModel(),getLoadingState());
  updateLastChange();
  LOG.assertLog(!needsReloading());
}
