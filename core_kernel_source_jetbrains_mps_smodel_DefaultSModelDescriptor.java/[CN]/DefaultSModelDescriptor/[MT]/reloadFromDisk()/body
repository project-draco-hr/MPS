{
  ModelAccess.assertLegalWrite();
  if (!isInitialized()) {
    return;
  }
  SModel newModel=loadModel();
  final SModel oldModel=mySModel;
  oldModel.setModelDescritor(null);
  mySModel=newModel;
  mySModel.setModelDescritor(this);
  updateLastChange();
  doPostLoadStuff();
  SModelRepository.getInstance().markChanged(DefaultSModelDescriptor.this,false);
  MPSModuleRepository.getInstance().invalidateCaches();
  Runnable modelReplacer=new Runnable(){
    @Override public void run(){
      fireModelReplaced();
      oldModel.dispose();
    }
  }
;
  if (ModelAccess.instance().isInEDT()) {
    modelReplacer.run();
  }
 else {
    ModelAccess.instance().runReadInEDT(modelReplacer);
  }
}
