{
synchronized (myRefactoringHistoryLock) {
    if (myStructureModificationHistory == null) {
      SModel model=mySModel;
      if (model != null && model.getPersistenceVersion() >= 0 && model.getPersistenceVersion() < 5) {
        myStructureModificationHistory=model.getRefactoringHistory();
      }
      if (myStructureModificationHistory == null) {
        myStructureModificationHistory=myModelRootManager.loadModelRefactorings(this);
      }
      if (myStructureModificationHistory == null) {
        myStructureModificationHistory=new StructureModificationHistory();
      }
    }
  }
  return myStructureModificationHistory;
}
