{
synchronized (myRefactoringHistoryLock) {
    if (myRefactoringHistory == null) {
      SModel model=mySModel;
      if (model != null && model.getPersistenceVersion() >= 0 && model.getPersistenceVersion() < 5) {
        myRefactoringHistory=model.getRefactoringHistory();
      }
      if (myRefactoringHistory == null) {
        myRefactoringHistory=myModelRootManager.loadModelRefactorings(this);
      }
      if (myRefactoringHistory == null) {
        myRefactoringHistory=new RefactoringHistory();
      }
    }
  }
  return myRefactoringHistory;
}
