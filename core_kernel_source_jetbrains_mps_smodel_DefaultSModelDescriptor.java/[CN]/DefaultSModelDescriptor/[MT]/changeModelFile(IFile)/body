{
  ModelAccess.assertLegalWrite();
  if (getModelFile().getPath().equals(newModelFile.getPath()))   return;
  IFile oldFile=myModelFile;
  SModel model=getSModel();
  fireBeforeModelFileChanged(new SModelFileChangedEvent(model,oldFile,newModelFile));
  myModelFile=newModelFile;
  updateDiskTimestamp();
  fireModelFileChanged(new SModelFileChangedEvent(model,oldFile,newModelFile));
}
