{
  ModelAccess.assertLegalWrite();
  if (getLoadingState() == ModelLoadingState.NOT_LOADED)   return;
  LOG.info("Saving model " + mySModel.getSModelFqName());
  if (needsReloading()) {
    LOG.warning("Model file " + mySModel.getSModelFqName() + " was modified externally!\n"+ "You might want to turn \"Synchronize files on frame activation/deactivation\" option on to avoid conflicts.");
    resolveDiskConflict();
    return;
  }
  if (needsReloading())   return;
  setChanged(false);
  SModel newData=myModelRootManager.saveModel(this,true);
  if (newData != null) {
    replaceModel(newData);
  }
  updateDiskTimestamp();
  fireModelSaved();
}
