{
  for (  String languageNamespace : mySModel.getExplicitlyImportedLanguages()) {
    Language l=MPSModuleRepository.getInstance().getLanguage(languageNamespace);
    if (l == null) {
      ModuleStub moduleStub=MPSModuleRepository.getInstance().getModuleStubByUID(languageNamespace);
      if (moduleStub != null) {
        String newModuleUID=languageNamespace;
        ModuleStub newModuleStub=moduleStub;
        while (newModuleStub != null) {
          newModuleUID=newModuleStub.getActualModuleId();
          newModuleStub=MPSModuleRepository.getInstance().getModuleStubByUID(newModuleUID);
        }
        mySModel.renameLanguageImport(languageNamespace,newModuleUID);
      }
    }
  }
}
