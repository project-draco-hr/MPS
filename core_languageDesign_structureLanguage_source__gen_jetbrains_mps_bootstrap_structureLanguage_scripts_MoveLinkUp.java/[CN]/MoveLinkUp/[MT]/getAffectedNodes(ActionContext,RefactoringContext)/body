{
{
    SNode node=actionContext.getNode();
    SearchQuery searchQuery=new SearchQuery(new SNodePointer(node),GlobalScope.getInstance());
    IResultProvider resultProvider=TreeBuilder.forFinders(new NodeAndDescendantsUsages_Finder());
    IDEProjectFrame projectFrame=(IDEProjectFrame)actionContext.get(IDEProjectFrame.class);
    SearchResults searchResults=resultProvider.getResults(searchQuery,projectFrame.createAdaptiveProgressMonitor());
    return searchResults;
  }
}
