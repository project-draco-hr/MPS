{
  Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
  return hasFocus() || SwingUtilities.getAncestorOfClass(EditorComponent.class,focusOwner) == this;
}
