{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      IOperationContext operationContext=getOperationContext();
      disposeTypeCheckingContext();
      clearModelDisposedTrace();
      myNode=node;
      if (myNode != null && myNode.getModel() != null && myNode.getModel().isRegistered()) {
        myNodePointer=new SNodePointer(myNode);
        myVirtualFile=!myNoVirtualFile ? MPSNodesVirtualFileSystem.getInstance().getFileFor(node) : null;
      }
 else {
        myNodePointer=null;
        myVirtualFile=null;
      }
      SModel model=node == null ? null : node.getModel();
      setEditorContext(new EditorContext(EditorComponent.this,model,operationContext));
      rebuildEditorContent();
      getTypeCheckingContext();
    }
  }
);
}
