{
  if (getSelectionManager().getSelection() != null) {
    return;
  }
  EditorCell rootCell=getRootCell();
  if (rootCell instanceof EditorCell_Collection) {
    jetbrains.mps.openapi.editor.cells.EditorCell focusPolicyCell=FocusPolicyUtil.findFocusedCell(rootCell);
    jetbrains.mps.openapi.editor.cells.EditorCell toSelect;
    if (focusPolicyCell == null || (focusPolicyCell == rootCell && !FocusPolicyUtil.hasFocusPolicy(focusPolicyCell))) {
      toSelect=CellFinderUtil.findChildByManyFinders(rootCell,Finder.FIRST_EDITABLE,Finder.FIRST_SELECTABLE_LEAF);
    }
 else {
      toSelect=focusPolicyCell;
    }
    if (toSelect == null) {
      toSelect=rootCell;
    }
    changeSelection(toSelect);
    return;
  }
  if (rootCell != null && rootCell.isSelectable()) {
    changeSelection(rootCell);
  }
}
