{
  if (nodes == null)   return Collections.emptySet();
  Set<SModelDescriptor> models=new HashSet<SModelDescriptor>();
  Set<SNode> nodeProxiesToDelete=new HashSet<SNode>();
  for (  SNode node : nodes) {
    SModel model=node.getModel();
    SModelDescriptor md=model == null ? null : model.getModelDescriptor();
    if (md == null) {
      nodeProxiesToDelete.add(node);
    }
 else {
      models.add(md);
    }
  }
  nodes.removeAll(nodeProxiesToDelete);
  return models;
}
