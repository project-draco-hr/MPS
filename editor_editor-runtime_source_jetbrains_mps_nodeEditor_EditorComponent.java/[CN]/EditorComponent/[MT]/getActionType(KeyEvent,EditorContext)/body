{
  if (keyEvent.getKeyCode() == KeyEvent.VK_HOME && shiftDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.SELECT_HOME;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_END && shiftDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.SELECT_END;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_PAGE_DOWN && noKeysDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.PAGE_DOWN;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_PAGE_UP && noKeysDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.PAGE_UP;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_TAB && noKeysDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.NEXT;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_TAB && shiftDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.PREV;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_SPACE && ctrlDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.COMPLETE;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_SPACE && ctrlShiftDown(keyEvent)) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.COMPLETE_SMART;
  }
  if (keyEvent.getModifiers() == KeyEvent.CTRL_MASK && keyEvent.getKeyCode() == KeyEvent.VK_F1) {
    return jetbrains.mps.openapi.editor.cells.CellActionType.SHOW_MESSAGE;
  }
  if (keyTyped(keyEvent) && keyEvent.getKeyChar() == ' ' && noKeysDown(keyEvent)) {
    EditorCell selectedCell=editorContext.getNodeEditorComponent().getSelectedCell();
    if (!(selectedCell instanceof EditorCell_STHint)) {
      if (!(selectedCell instanceof EditorCell_Label)) {
        return jetbrains.mps.openapi.editor.cells.CellActionType.RIGHT_TRANSFORM;
      }
      EditorCell_Label labelCell=(EditorCell_Label)selectedCell;
      String text=labelCell.getText();
      int caretPosition=labelCell.getCaretPosition();
      if (caretPosition == text.length()) {
        return jetbrains.mps.openapi.editor.cells.CellActionType.RIGHT_TRANSFORM;
      }
      if (caretPosition == 0) {
        return jetbrains.mps.openapi.editor.cells.CellActionType.LEFT_TRANSFORM;
      }
    }
  }
  return null;
}
