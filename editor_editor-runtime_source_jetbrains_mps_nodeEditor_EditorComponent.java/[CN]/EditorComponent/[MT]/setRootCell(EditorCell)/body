{
  getEditorContext().pushTracerTask("setting root cell",true);
  if (myRootCell != null) {
    ((EditorCell_Basic)myRootCell).onRemove();
  }
  myRootCell=rootCell;
  if (myRootCell != null) {
    ((EditorCell_Basic)myRootCell).onAdd();
  }
  Set<SModel> oldDeps=myLastDeps;
  myLastDeps=getModels(myCellsToNodesToDependOnMap.get(myRootCell));
  myLastDeps.addAll(getModelsAndPurgeOrphaned(myCellsToRefTargetsToDependOnMap.get(myRootCell)));
  for (  SModel newDep : myLastDeps) {
    if (!oldDeps.contains(newDep)) {
      addOurListeners(newDep);
    }
  }
  for (  SModel oldDep : oldDeps) {
    if (!myLastDeps.contains(oldDep)) {
      removeOurListeners(oldDep);
    }
  }
  if (myNode != null && myNode.getModel() != null) {
    SModel model=myNode.getModel();
    SModel modelDescriptor=model.getModelDescriptor();
    boolean registered=modelDescriptor.getReference().resolve(MPSModuleRepository.getInstance()) != modelDescriptor;
    if (modelDescriptor != null && registered) {
    }
  }
  revalidate();
  repaint();
  getEditorContext().popTracerTask();
}
