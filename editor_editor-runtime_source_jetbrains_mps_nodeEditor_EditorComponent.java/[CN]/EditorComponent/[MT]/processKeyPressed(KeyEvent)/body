{
  if (keyEvent.isConsumed())   return;
  if (keyEvent.getKeyCode() == KeyEvent.VK_F5 && noKeysDown(keyEvent)) {
    update();
    keyEvent.consume();
    return;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_F11 && noKeysDown(keyEvent)) {
    relayout();
    keyEvent.consume();
    return;
  }
  EditorContext editorContext=getEditorContext();
  if (editorContext == null) {
    return;
  }
  if (isKeyboardHandlerProcessingEnabled(keyEvent) && peekKeyboardHandler().processKeyPressed(editorContext,keyEvent)) {
    keyEvent.consume();
  }
  revalidateAndRepaint();
}
