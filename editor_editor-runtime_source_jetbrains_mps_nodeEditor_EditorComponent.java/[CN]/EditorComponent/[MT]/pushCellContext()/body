{
  if (myUseCustomHints) {
    getEditorContext().getCellFactory().pushCellContext();
    Object[] hints=myEnabledHints.toArray();
    getEditorContext().getCellFactory().addCellContextHints(Arrays.copyOf(hints,hints.length,String[].class));
  }
 else {
    getEditorContext().getCellFactory().pushCellContext();
    com.intellij.openapi.project.Project project=ProjectHelper.toIdeaProject(getCurrentProject());
    HintsState state=project != null ? ConceptEditorHintSettingsComponent.getInstance(project).getState() : null;
    if (project != null && state != null) {
      Object[] hints=state.getEnabledHints().toArray();
      getEditorContext().getCellFactory().addCellContextHints(Arrays.copyOf(hints,hints.length,String[].class));
    }
  }
}
