{
  if (role == null)   return null;
  if (role.equals(APICellAdapter.getCellRole(rootCell)) && node == rootCell.getSNode()) {
    return rootCell;
  }
  if (rootCell instanceof EditorCell_Collection) {
    EditorCell_Collection collection=(EditorCell_Collection)rootCell;
    for (    jetbrains.mps.openapi.editor.cells.EditorCell child : collection) {
      jetbrains.mps.openapi.editor.cells.EditorCell result=findNodeCellWithRole(child,role,node);
      if (result != null)       return result;
    }
  }
  return null;
}
