{
  for (  Edge edge : ListSequence.fromList(graph.getEdges())) {
    Assert.assertTrue(MapSequence.fromMap(capacity).get(edge) >= MapSequence.fromMap(flow).get(edge));
    Assert.assertTrue(MapSequence.fromMap(flow).get(edge) >= 0);
  }
  for (  Node node : ListSequence.fromList(graph.getNodes())) {
    if (node != source && node != target) {
      FlowChecker.checkConservation(node,flow);
    }
  }
  if (checkFull) {
    for (    Edge edge : ListSequence.fromList(source.getOutEdges())) {
      Assert.assertTrue(MapSequence.fromMap(capacity).get(edge) == MapSequence.fromMap(flow).get(edge));
    }
    for (    Edge edge : ListSequence.fromList(target.getInEdges())) {
      Assert.assertTrue(MapSequence.fromMap(capacity).get(edge) == MapSequence.fromMap(flow).get(edge));
    }
  }
}
