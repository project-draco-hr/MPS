{
  List<Integer> indexList=new ArrayList<Integer>();
  int substituteRate=getSubstituteRate(action,pattern);
  if (substituteRate == CANT_SUBSTITUTE) {
    return indexList;
  }
  if (substituteRate == CAN_SUBSTITUTE_VIA_PATTERN) {
    return PatternUtil.getIndexes(pattern,false,visibleMatchingText);
  }
 else   if (substituteRate == CAN_SUBSTITUTE_VIA_SEARCH) {
    int curIndex=visibleMatchingText.toLowerCase().indexOf(pattern.toLowerCase());
    indexList.add(curIndex);
    for (int i=1; i < pattern.length(); i++) {
      indexList.add(curIndex + i);
    }
  }
  return indexList;
}
