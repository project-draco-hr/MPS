{
  SNode enclosingMacro=SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1087833241328l,"jetbrains.mps.lang.generator.structure.PropertyMacro"),MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1088761943574l,"jetbrains.mps.lang.generator.structure.ReferenceMacro"),MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1087833466690l,"jetbrains.mps.lang.generator.structure.NodeMacro")},false,false);
  if (enclosingMacro != null) {
    if (SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1131073187192l,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro"))) {
      if ((SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1170725621272l,"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction"),MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1225228973247l,"jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction")},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1131073187192l,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro")),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1131073187192l,1168281849769l,"sourceNodeQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    if (SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1133037731736l,"jetbrains.mps.lang.generator.structure.MapSrcListMacro"))) {
      if ((SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1170725621272l,"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction"),MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1225228973247l,"jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction")},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1133037731736l,"jetbrains.mps.lang.generator.structure.MapSrcListMacro")),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1133037731736l,1168291362368l,"sourceNodesQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    SNode enclosingNodeMacro=(SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1087833466690l,"jetbrains.mps.lang.generator.structure.NodeMacro")) ? enclosingMacro : null);
    SNode macroOwner=SNodeOperations.getParent(enclosingMacro);
    SNode prevSourceSubstituteMacro=QueriesUtil.getEnclosing_SourceSubstituteMacro(macroOwner,enclosingNodeMacro);
    if (prevSourceSubstituteMacro != null) {
      SNode query=jetbrains.mps.lang.generator.helper.QueriesUtil.getQueryFunction_fromSourceSubstituteMacro(prevSourceSubstituteMacro);
      QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
      return;
    }
  }
  SNode applicableConcept=jetbrains.mps.lang.generator.helper.QueriesUtil.getApplicableConcept_fromEnvironment(contextNode);
{
    SNode _nodeToCheck_1029348928467=null;
    EquationInfo _info_12389875345=new EquationInfo(_nodeToCheck_1029348928467,null,"r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","1206286374200",0,null);
    typeCheckingContext.createEquation((SNode)_quotation_createNode_w9106s_a0e0b(applicableConcept),(SNode)InputNodeType,_info_12389875345);
  }
}
