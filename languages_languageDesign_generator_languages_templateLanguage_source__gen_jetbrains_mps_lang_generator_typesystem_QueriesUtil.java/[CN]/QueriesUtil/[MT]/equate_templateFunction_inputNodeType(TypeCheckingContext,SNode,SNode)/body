{
  SNode enclosingMacro=SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0xfd47e9f6f0L,"jetbrains.mps.lang.generator.structure.PropertyMacro"),MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0xfd7f44d616L,"jetbrains.mps.lang.generator.structure.ReferenceMacro"),MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0xfd47ed6742L,"jetbrains.mps.lang.generator.structure.NodeMacro")},false,false);
  if (enclosingMacro != null) {
    if (SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x10759372d78L,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro"))) {
      if ((SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x11094af4e18L,"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction"),MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x11d455674bfL,"jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction")},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x10759372d78L,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x10759372d78L,0x11003064fa9L,"sourceNodeQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    if (SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x107ce4fbf98L,"jetbrains.mps.lang.generator.structure.MapSrcListMacro"))) {
      if ((SNodeOperations.getNodeAncestorWhereConceptInList(contextNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x11094af4e18L,"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction"),MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x11d455674bfL,"jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction")},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x107ce4fbf98L,"jetbrains.mps.lang.generator.structure.MapSrcListMacro")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x107ce4fbf98L,0x11003977640L,"sourceNodesQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    SNode enclosingNodeMacro=(SNodeOperations.isInstanceOf(enclosingMacro,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0xfd47ed6742L,"jetbrains.mps.lang.generator.structure.NodeMacro")) ? enclosingMacro : null);
    SNode macroOwner=SNodeOperations.getParent(enclosingMacro);
    SNode prevSourceSubstituteMacro=QueriesUtil.getEnclosing_SourceSubstituteMacro(macroOwner,enclosingNodeMacro);
    if (prevSourceSubstituteMacro != null) {
      SNode query=jetbrains.mps.lang.generator.helper.QueriesUtil.getQueryFunction_fromSourceSubstituteMacro(prevSourceSubstituteMacro);
      QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
      return;
    }
  }
  SNode applicableConcept=jetbrains.mps.lang.generator.helper.QueriesUtil.getApplicableConcept_fromEnvironment(contextNode);
{
    SNode _nodeToCheck_1029348928467=null;
    EquationInfo _info_12389875345=new EquationInfo(_nodeToCheck_1029348928467,null,"r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","1206286374200",0,null);
    typeCheckingContext.createEquation((SNode)_quotation_createNode_w9106s_a0e0b(applicableConcept),(SNode)InputNodeType,_info_12389875345);
  }
}
