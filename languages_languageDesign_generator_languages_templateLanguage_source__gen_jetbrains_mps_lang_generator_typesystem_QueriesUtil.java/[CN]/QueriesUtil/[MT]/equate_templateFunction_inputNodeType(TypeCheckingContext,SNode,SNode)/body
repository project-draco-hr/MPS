{
  SNode enclosingMacro=SNodeOperations.getAncestorWhereConceptInList(contextNode,new String[]{"jetbrains.mps.lang.generator.structure.PropertyMacro","jetbrains.mps.lang.generator.structure.ReferenceMacro","jetbrains.mps.lang.generator.structure.NodeMacro"},false,false);
  if (enclosingMacro != null) {
    if (SNodeOperations.isInstanceOf(enclosingMacro,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro")) {
      if ((SNodeOperations.getAncestorWhereConceptInList(contextNode,new String[]{"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction","jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction"},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,"jetbrains.mps.lang.generator.structure.MapSrcNodeMacro"),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1131073187192l,1168281849769l,"sourceNodeQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    if (SNodeOperations.isInstanceOf(enclosingMacro,"jetbrains.mps.lang.generator.structure.MapSrcListMacro")) {
      if ((SNodeOperations.getAncestorWhereConceptInList(contextNode,new String[]{"jetbrains.mps.lang.generator.structure.MapSrcMacro_MapperFunction","jetbrains.mps.lang.generator.structure.MapSrcMacro_PostMapperFunction"},true,false) != null)) {
        SNode query=SLinkOperations.getTarget(SNodeOperations.cast(enclosingMacro,"jetbrains.mps.lang.generator.structure.MapSrcListMacro"),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1133037731736l,1168291362368l,"sourceNodesQuery"));
        if (query != null) {
          QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
          return;
        }
      }
    }
    SNode enclosingNodeMacro=(SNodeOperations.isInstanceOf(enclosingMacro,"jetbrains.mps.lang.generator.structure.NodeMacro") ? enclosingMacro : null);
    SNode macroOwner=SNodeOperations.getParent(enclosingMacro);
    SNode prevSourceSubstituteMacro=QueriesUtil.getEnclosing_SourceSubstituteMacro(macroOwner,enclosingNodeMacro);
    if (prevSourceSubstituteMacro != null) {
      SNode query=jetbrains.mps.lang.generator.helper.QueriesUtil.getQueryFunction_fromSourceSubstituteMacro(prevSourceSubstituteMacro);
      QueriesUtil.equate_outputNodeType_fromSourceQuery(typeCheckingContext,query,InputNodeType);
      return;
    }
  }
  SNode applicableConcept=jetbrains.mps.lang.generator.helper.QueriesUtil.getApplicableConcept_fromEnvironment(contextNode);
{
    SNode _nodeToCheck_1029348928467=null;
    EquationInfo _info_12389875345=new EquationInfo(_nodeToCheck_1029348928467,null,"r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","1206286374200",0,null);
    typeCheckingContext.createEquation((SNode)_quotation_createNode_w9106s_a0e0b(applicableConcept),(SNode)InputNodeType,_info_12389875345);
  }
}
