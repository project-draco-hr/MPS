{
  if (getLineDistance() == p.getLineDistance()) {
    if (myStartLine == p.myStartLine) {
      if (myStartPosition == p.myStartPosition) {
        if (myEndPosition == p.myEndPosition) {
          if (myNodeId == null) {
            if (p.myNodeId == null) {
              return 0;
            }
            return -1;
          }
          if (p.myNodeId == null) {
            return 1;
          }
          return myNodeId.compareTo(p.myNodeId);
        }
 else {
          return myEndPosition - p.myEndPosition;
        }
      }
 else {
        return myStartPosition - p.myStartPosition;
      }
    }
 else {
      return myStartLine - p.myStartLine;
    }
  }
 else {
    return getLineDistance() - p.getLineDistance();
  }
}
