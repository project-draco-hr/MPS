{
  super(editorContext,node);
  setSubstituteInfo(new CompositeSubstituteInfo(editorContext,new BasicCellContext(node),new SubstituteInfoPartExt[]{createNewDiagramNodeActions(getSNode(),SConceptOperations.findConceptDeclaration("jetbrains.mps.testHybridEditor.structure.BlockInstance"),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),725186580883451585l,2353136177974080694l,"newBlocks")),new _FunctionTypes._void_P3_E0<SNode,Integer,Integer>(){
    public void invoke(    SNode node,    Integer x,    Integer y){
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"),"block");
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,2353136177974084745l,"x"),"" + (x));
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,2353136177974084746l,"y"),"" + (y));
    }
  }
),createNewDiagramConnectorActions(getSNode(),SConceptOperations.findConceptDeclaration("jetbrains.mps.testHybridEditor.structure.ConnectorInstance"),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),725186580883451585l,2353136177974093280l,"newConnectors")),new _FunctionTypes._return_P4_E0<Boolean,SNode,Object,SNode,Object>(){
    public Boolean invoke(    SNode from,    Object fromId,    SNode to,    Object toId){
      return SNodeOperations.isInstanceOf(from,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")) && fromId instanceof SNode && SNodeOperations.isInstanceOf(to,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance"))&& toId instanceof SNode&& eq_32adaa_a0a0a0a0d1a2a0a1a0m(SNodeOperations.getContainingLinkDeclaration(((SNode)toId)),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177973871304l,2353136177973888134l,"inMetaPorts")));
    }
  }
,new _FunctionTypes._void_P5_E0<SNode,SNode,Object,SNode,Object>(){
    public void invoke(    SNode node,    SNode from,    Object fromId,    SNode to,    Object toId){
      SNode connector=SNodeOperations.cast(node,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974088982l,"jetbrains.mps.testHybridEditor.structure.ConnectorInstance"));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974088982l,5288989961863964096l,"source")),MetaAdapterFactory.getReferenceLink(new UUID(-7982035075869357830l,-5979686021354407916l),5288989961863963745l,5288989961863964092l,"block"),SNodeOperations.cast(from,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")));
      final SNode port=((SNode)fromId);
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974088982l,5288989961863964096l,"source")),MetaAdapterFactory.getReferenceLink(new UUID(-7982035075869357830l,-5979686021354407916l),5288989961863963745l,5288989961863964093l,"metaPort"),ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(SNodeOperations.cast(from,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getReferenceLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,2353136177974084777l,"metaBlock")),MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177973871304l,3229274890675219468l,"outMetaPorts"))).findFirst(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return eq_32adaa_a0a0a0a0a2a3a0a0e1a2a0a1a0m(it,port);
        }
      }
));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974088982l,5288989961863964102l,"target")),MetaAdapterFactory.getReferenceLink(new UUID(-7982035075869357830l,-5979686021354407916l),5288989961863963745l,5288989961863964092l,"block"),SNodeOperations.cast(to,MetaAdapterFactory.getConcept(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974080669l,"jetbrains.mps.testHybridEditor.structure.BlockInstance")));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(new UUID(-7982035075869357830l,-5979686021354407916l),2353136177974088982l,5288989961863964102l,"target")),MetaAdapterFactory.getReferenceLink(new UUID(-7982035075869357830l,-5979686021354407916l),5288989961863963745l,5288989961863964093l,"metaPort"),(SNode)toId);
    }
  }
)}));
  setPalette(new Diagram_diagram_Editor.DiagramCellImpl_32adaa_e0.DiagramPaletteImpl_32adaa_a4a(this));
  synchronize();
}
