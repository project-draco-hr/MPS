{
  super(editorContext,node);
  setSubstituteInfo(new CompositeSubstituteInfo(editorContext,new BasicCellContext(node),new SubstituteInfoPartExt[]{createNewDiagramNodeActions(getSNode(),SConceptOperations.findConceptDeclaration("jetbrains.mps.testHybridEditor.structure.BlockInstance"),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0xa10615a65702ec1L,0x20a804e2ec43f4b6L,"newBlocks")),new _FunctionTypes._void_P3_E0<SNode,Integer,Integer>(){
    public void invoke(    SNode node,    Integer x,    Integer y){
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name"),"block");
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,0x20a804e2ec440489L,"x"),"" + (x));
      SPropertyOperations.set(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getProperty(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,0x20a804e2ec44048aL,"y"),"" + (y));
    }
  }
),createNewDiagramConnectorActions(getSNode(),SConceptOperations.findConceptDeclaration("jetbrains.mps.testHybridEditor.structure.ConnectorInstance"),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0xa10615a65702ec1L,0x20a804e2ec4425e0L,"newConnectors")),new _FunctionTypes._return_P4_E0<Boolean,SNode,Object,SNode,Object>(){
    public Boolean invoke(    SNode from,    Object fromId,    SNode to,    Object toId){
      return SNodeOperations.isInstanceOf(from,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")) && fromId instanceof SNode && SNodeOperations.isInstanceOf(to,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance"))&& toId instanceof SNode&& eq_32adaa_a0a0a0a0d1a2a0a1a0m(SNodeOperations.getContainingLinkDeclaration(((SNode)toId)),SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec40c2c8L,0x20a804e2ec410486L,"inMetaPorts")));
    }
  }
,new _FunctionTypes._void_P5_E0<SNode,SNode,Object,SNode,Object>(){
    public void invoke(    SNode node,    SNode from,    Object fromId,    SNode to,    Object toId){
      SNode connector=SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec441516L,"jetbrains.mps.testHybridEditor.structure.ConnectorInstance"));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec441516L,0x49664459198225c0L,"source")),MetaAdapterFactory.getReferenceLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x4966445919822461L,0x49664459198225bcL,"block"),SNodeOperations.cast(from,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")));
      final SNode port=((SNode)fromId);
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec441516L,0x49664459198225c0L,"source")),MetaAdapterFactory.getReferenceLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x4966445919822461L,0x49664459198225bdL,"metaPort"),ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(SNodeOperations.cast(from,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")),MetaAdapterFactory.getReferenceLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,0x20a804e2ec4404a9L,"metaBlock")),MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec40c2c8L,0x2cd0b06754c8ec0cL,"outMetaPorts"))).findFirst(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return eq_32adaa_a0a0a0a0a2a3a0a0e1a2a0a1a0m(it,port);
        }
      }
));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec441516L,0x49664459198225c6L,"target")),MetaAdapterFactory.getReferenceLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x4966445919822461L,0x49664459198225bcL,"block"),SNodeOperations.cast(to,MetaAdapterFactory.getConcept(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec43f49dL,"jetbrains.mps.testHybridEditor.structure.BlockInstance")));
      SLinkOperations.setTarget(SLinkOperations.getTarget(connector,MetaAdapterFactory.getContainmentLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x20a804e2ec441516L,0x49664459198225c6L,"target")),MetaAdapterFactory.getReferenceLink(0x913a1d639e1948faL,0xad03e33ecccd3814L,0x4966445919822461L,0x49664459198225bdL,"metaPort"),(SNode)toId);
    }
  }
)}));
  setPalette(new Diagram_diagram_Editor.DiagramCellImpl_32adaa_e0.DiagramPaletteImpl_32adaa_a4a(this));
  synchronize();
}
