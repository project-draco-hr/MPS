{
  long suiteFinished=System.currentTimeMillis();
  root.setAttribute(jdom.attribute(ATTR_TESTS,String.valueOf(MapSequence.fromMap(testStarted).count()))).setAttribute(jdom.attribute(ATTR_FAILURES,String.valueOf(SetSequence.fromSet(testFailed).count()))).setAttribute(jdom.attribute(ATTR_ERRORS,String.valueOf(0))).setAttribute(jdom.attribute(ATTR_TIME,seconds(suiteFinished - suiteStarted)));
  if (suiteStdout.length() > 0) {
    root.addContent(jdom.element(SYSTEM_OUT).addContent(jdom.cdata(fixDoubleClosingBrackets(suiteStdout).toString())));
  }
  if (suiteStderr.length() > 0) {
    root.addContent(jdom.element(SYSTEM_ERR).addContent(jdom.cdata(fixDoubleClosingBrackets(suiteStderr).toString())));
  }
}
