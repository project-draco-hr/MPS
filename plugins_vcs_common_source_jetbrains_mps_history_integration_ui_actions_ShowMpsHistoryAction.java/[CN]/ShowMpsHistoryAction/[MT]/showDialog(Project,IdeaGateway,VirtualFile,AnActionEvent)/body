{
  if (MPSFileTypesManager.instance().isModelFile(f)) {
    HistoryDialog frame=new FileHistoryDialog(p,gw,f){
      private JComponent myComponent;
      @Override protected Pair<JComponent,Dimension> createDiffPanel(      JPanel root,      ExcludingTraversalPolicy traversalPolicy){
        myComponent=new JPanel(new BorderLayout());
        myComponent.add(new JLabel("Loading...",JLabel.CENTER),BorderLayout.CENTER);
        return new Pair<JComponent,Dimension>(myComponent,null);
      }
      @Override protected Runnable doUpdateDiffs(      FileHistoryDialogModel model){
        final FileDifferenceModel diffModel=model.getDifferenceModel();
        return new Runnable(){
          public void run(){
            ModelDiffTool diffTool=new ModelDiffTool();
            JComponent diffView=diffTool.getDiffView(createDifference(diffModel));
            myComponent.removeAll();
            myComponent.add(diffView,BorderLayout.CENTER);
          }
        }
;
      }
      @Override public void dispose(){
      }
    }
;
    frame.show();
  }
 else {
    super.showDialog(p,gw,f,e);
  }
}
