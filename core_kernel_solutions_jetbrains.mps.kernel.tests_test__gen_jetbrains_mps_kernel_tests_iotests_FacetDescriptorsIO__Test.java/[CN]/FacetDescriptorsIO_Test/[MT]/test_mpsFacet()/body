{
  IFile moduleFile=TestUtils.dataFile("module.iml");
  Element module=this.readRoot(moduleFile);
  Iterable<Element> components=XmlUtil.children(module,"component");
  Element facetManager=Sequence.fromIterable(components).findFirst(new IWhereFilter<Element>(){
    public boolean accept(    Element it){
      return "FacetManager".equals(it.getAttributeValue("name"));
    }
  }
);
  Assert.assertNotNull(facetManager);
  Element mpsFacet=Sequence.fromIterable(XmlUtil.children(facetManager,"facet")).findFirst(new IWhereFilter<Element>(){
    public boolean accept(    Element fct){
      return "MPS".equals(fct.getAttributeValue("name"));
    }
  }
);
  Assert.assertNotNull(mpsFacet);
  Element cfg=XmlUtil.first(mpsFacet,"configuration");
  MPSFacetConfiguration mpsCfg=new MPSFacetConfiguration();
  mpsCfg.readFromXml(cfg);
  this.assertMpsCfg(mpsCfg);
}
