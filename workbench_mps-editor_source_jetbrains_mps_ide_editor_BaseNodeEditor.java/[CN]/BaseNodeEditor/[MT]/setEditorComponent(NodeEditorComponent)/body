{
  if (myEditorComponent == editorComponent) {
    return;
  }
  if (myEditorComponent != null) {
    myEditorPanel.remove(myEditorComponent.getExternalComponent());
    myEditorComponent.dispose();
    myEditorComponent=null;
    myCurrentlyEditedNode=null;
  }
  myEditorComponent=editorComponent;
  if (myEditorComponent != null) {
    myEditorComponent=editorComponent;
    JComponent externalComponent=myEditorComponent.getExternalComponent();
    if (externalComponent.getComponent(0) instanceof JBScrollPane) {
      ((JBScrollPane)externalComponent.getComponent(0)).setBorder(new EmptyBorder(JBUI.emptyInsets()));
      ((JBScrollPane)externalComponent.getComponent(0)).getInsets().set(0,0,0,0);
    }
    myEditorPanel.add(externalComponent,BorderLayout.CENTER);
    myComponent.validate();
    pauseOrResumeHighlighter();
  }
}
