{
  super(owner);
  myPrevFocusOwner=owner.getFocusOwner();
  setFocusableWindowState(false);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(toolTipData.getComponent());
  scrollPane.setBorder(new LineBorder(Color.BLACK));
  add(scrollPane);
  pack();
  if (rightAligned) {
    location.x=Math.max(0,location.x - getWidth());
  }
  Rectangle rect=WindowsUtil.findDeviceBoundsAt(location);
  if (rect.x + rect.width < location.x + getWidth()) {
    location.x=Math.max(0,rect.x + rect.width - getWidth());
  }
  if (rect.y + rect.height < location.y + getHeight()) {
    location.y=Math.max(0,rect.y + rect.height - getHeight());
  }
  Component this_=this;
  this_.setLocation(location);
  addListeners();
}
