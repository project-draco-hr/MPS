{
  Map<Project,List<VirtualFile>> toMerge=new HashMap<Project,List<VirtualFile>>();
  for (  SModelDescriptor modelDescriptor : models) {
    IFile ifile=modelDescriptor.getModelFile();
    if (isInConflict(ifile,true)) {
      VirtualFile vfile=VFileSystem.getFile(ifile);
      Project project=getProjectForFile(vfile);
      List<VirtualFile> files=toMerge.get(project);
      if (files == null) {
        files=new LinkedList<VirtualFile>();
        toMerge.put(project,files);
      }
      files.add(vfile);
    }
  }
  for (  Project project : toMerge.keySet()) {
    AbstractVcsHelper.getInstance(project).showMergeDialog(toMerge.get(project));
  }
}
