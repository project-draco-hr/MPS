{
  ListSequence.fromList(SLinkOperations.getTargets(to,"annotation",true)).addSequence(Sequence.fromIterable(Sequence.fromArray(from.getModifierList().getAnnotations())).select(new ISelector<PsiAnnotation,SNode>(){
    public SNode select(    PsiAnnotation it){
      PsiAnnotation psiAnno=it;
      SNode anno=resolveAnnotation(psiAnno);
      if ((anno == null)) {
        return null;
      }
      ListSequence.fromList(SLinkOperations.getTargets(anno,"value",true)).addSequence(Sequence.fromIterable(Sequence.fromArray(psiAnno.getParameterList().getAttributes())).select(new ISelector<PsiNameValuePair,SNode>(){
        public SNode select(        PsiNameValuePair it){
          jetbrains.mps.smodel.SNode annoParam=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue",null);
          String paramName=it.getName();
          annoParam.setReference("key",new DynamicReference("key",annoParam,null,paramName));
          return annoParam;
        }
      }
));
      return anno;
    }
  }
));
}
