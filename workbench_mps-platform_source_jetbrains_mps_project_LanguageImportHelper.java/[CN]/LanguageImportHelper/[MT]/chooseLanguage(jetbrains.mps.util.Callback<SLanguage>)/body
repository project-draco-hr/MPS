{
  Condition<SModule> onlyLanguages=new ModuleInstanceCondition(Language.class);
  SearchScope projectScope=new ConditionalScope(myProject.getScope(),onlyLanguages,null);
  SearchScope globalScope=new ConditionalScope(new FilteredGlobalScope(),onlyLanguages,null);
  final BaseModuleModel languagesData=new BaseModuleModel(myProject,"language",projectScope,globalScope);
  languagesData.setPromptText("Import language:");
  myInteraction.chooseLanguage(languagesData,new Callback(){
    @Override public void elementChosen(    Object element){
      SModuleReference moduleRef=languagesData.getModelObject(element);
      if (moduleRef != null) {
        addLanguageAction.call(MetaAdapterFactory.getLanguage(moduleRef));
      }
      if (myOnCloseActivity != null) {
        myOnCloseActivity.run();
      }
    }
  }
);
}
