{
  String fqName=ClassFileWriter.convertCompoundToFqName(cf.getCompoundName());
  String packageName=NameUtil.namespaceFromLongName(fqName);
  File outputDir=new File(myClassDir + File.separator + NameUtil.pathFromNamespace(packageName));
  if (!outputDir.exists() && !outputDir.mkdirs()) {
    throw new RuntimeException("Can't create " + outputDir.getPath() + " directory");
  }
  String className=NameUtil.shortNameFromLongName(fqName);
  File output=new File(outputDir,className + ".class");
  FileOutputStream os=null;
  try {
    os=new FileOutputStream(output);
    os.write(cf.getBytes());
  }
 catch (  IOException e) {
    throw new IOError(e);
  }
 finally {
    if (os != null) {
      try {
        os.close();
      }
 catch (      IOException ignored) {
      }
    }
  }
  try {
    myClassPaths.add(outputDir.getCanonicalPath());
  }
 catch (  IOException e) {
    throw new IOError(e);
  }
}
