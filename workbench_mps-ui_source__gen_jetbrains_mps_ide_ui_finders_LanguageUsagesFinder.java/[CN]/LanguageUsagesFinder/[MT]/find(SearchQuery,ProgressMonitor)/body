{
  SearchResults searchResults=new SearchResults();
  IHolder objectHolder=query.getObjectHolder();
  if (!((objectHolder instanceof ModuleHolder))) {
    return searchResults;
  }
  ModuleHolder moduleHolder=(ModuleHolder)objectHolder;
  SModule searchedModule=moduleHolder.getObject();
  if (searchedModule instanceof DevKit) {
    for (    Language devKiltLanguage : ((DevKit)searchedModule).getAllExportedLanguages()) {
      SearchQuery innerQuery=new SearchQuery(devKiltLanguage,query.getScope());
      searchResults.addAll(find(innerQuery,monitor));
    }
  }
  if (!((searchedModule instanceof Language))) {
    return searchResults;
  }
  Language language=(Language)searchedModule;
  SearchScope scope=query.getScope();
  if (scope instanceof GlobalScope) {
    for (    SModule module : (as_m2sz3c_a0a0a0j0i(scope,GlobalScope.class)).getModules()) {
      if (monitor.isCanceled()) {
        return searchResults;
      }
      if (module instanceof Solution) {
        collectUsagesInSolution(language,(Solution)module,searchResults);
      }
      if (module instanceof Language) {
        collectUsagesInLanguage(language,(Language)module,searchResults);
        for (        Generator g : ((Language)module).getGenerators()) {
          collectUsagesInGenerator(language,g,searchResults);
        }
      }
      if (module instanceof DevKit) {
        collectUsagesInDevKit(language,(DevKit)module,searchResults);
      }
    }
  }
 else   if (query.getScope() instanceof ModelsScope) {
    searchResults.getSearchedNodes().add(language);
    for (    SModel modelDescriptor : (as_m2sz3c_a0a0b0a9a8(query.getScope(),ModelsScope.class)).getModels()) {
      collectUsagesInModel(language,modelDescriptor,searchResults);
    }
  }
  return searchResults;
}
