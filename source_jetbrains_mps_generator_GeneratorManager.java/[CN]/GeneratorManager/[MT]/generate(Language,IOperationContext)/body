{
  final SModel model=ApplicationComponents.getInstance().getComponent(ProjectModel.class).getSModel();
  GeneratorConfiguration configuration=new CommandRunnable<GeneratorConfiguration>(model){
    protected GeneratorConfiguration onRun(){
      GeneratorConfiguration conf=GeneratorConfiguration.newInstance(model);
      conf.setName("Generate " + language.getNamespace() + " language.");
      conf.setOutputPath(language.getSourceDir().getAbsolutePath());
      conf.addCommand(createCommand(model,"jetbrains.mps.bootstrap.structureLanguage","jetbrains.mps.baseLanguage"));
      conf.addCommand(createCommand(model,"jetbrains.mps.bootstrap.editorLanguage","jetbrains.mps.baseLanguage"));
      conf.addCommand(createCommand(model,"jetbrains.mps.typesystem.typesystemLanguage","jetbrains.mps.baseLanguage"));
      return conf;
    }
  }
.run();
  List<SModelDescriptor> models=new LinkedList<SModelDescriptor>();
  models.add(language.getStructureModelDescriptor());
  if (language.getEditorModelDescriptor() != null) {
    models.add(language.getEditorModelDescriptor());
  }
  if (language.getTypesystemModelDescriptor() != null) {
    models.add(language.getTypesystemModelDescriptor());
  }
  generate(configuration,models,operationContext,false);
  language.updateLastGenerationTime();
}
