{
  JavaCompiler compiler=new JavaCompiler();
  for (  SNode root : targetModel.getRoots()) {
    compiler.addSource(JavaFileGenerator.generateHeader(targetModel.getUID().getLongName()) + generateText(root),targetModel.getUID().getLongName() + "." + root.getName());
  }
  compiler.compile();
  progress.addText("Compilation finished.");
  progress.addText("Executing...");
  try {
    String mainClassName=targetModel.getUID().getLongName() + ".Main";
    Class mainClass=Class.forName(mainClassName,true,compiler.getClassLoader());
    Method mainMethod=mainClass.getMethod("main",IOperationContext.class);
    mainMethod.invoke(null,context);
  }
 catch (  ClassNotFoundException e) {
    progress.addText("Can't find main class");
    addMessage(MessageKind.ERROR,"Can't find main class");
  }
catch (  NoSuchMethodException e) {
    progress.addText("Can't find main method in main class");
    addMessage(MessageKind.ERROR,"Can't find main class main method");
  }
catch (  IllegalAccessException e) {
    progress.addText("Illegal access exception");
  }
catch (  InvocationTargetException e) {
    progress.addText("Invocation target exception");
  }
}
