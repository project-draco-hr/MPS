{
  JavaCompiler compiler=new JavaCompiler();
  for (  SNode root : targetModel.getRoots()) {
    compiler.addSource(JavaFileGenerator.generateHeader(JavaNameUtil.packageNameForModelUID(targetModel.getUID())) + generateText(root),JavaNameUtil.packageNameForModelUID(targetModel.getUID()) + "." + root.getName());
  }
  progress.addText("Compiling...");
  compiler.compile();
  progress.addText("Compilation finished.");
  return compiler;
}
