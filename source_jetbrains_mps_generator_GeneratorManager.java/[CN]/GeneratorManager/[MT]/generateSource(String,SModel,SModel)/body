{
  if (outputPath == null)   throw new RuntimeException("Unspecified output path. Please specify one.");
  System.out.println("Generating to " + outputPath);
  String fqName=sourceModel.getFQName();
  if (fqName.endsWith(STRUCTURE_SUFFIX))   fqName=fqName.substring(fqName.length() - STRUCTURE_SUFFIX.length());
  File outputPathFile=new File(outputPath + File.separator + fqName.replace('.',File.separatorChar));
  if (!outputPathFile.exists()) {
    outputPathFile.mkdirs();
  }
  JavaFileGenerator javaFileGenerator=new JavaFileGenerator(outputPathFile,sourceModel.getFQName(),false);
  Iterator<SemanticNode> javaRoots=targetModel.roots();
  while (javaRoots.hasNext()) {
    SemanticNode node=javaRoots.next();
    javaFileGenerator.generateJavaFile((Classifier)node);
  }
}
