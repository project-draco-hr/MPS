{
  if (outputPath == null)   throw new RuntimeException("Unspecified output path. Please specify one.");
  LOG.debug("Generating to root : " + outputPath);
  String packageName=JavaNameUtil.packageNameForModelFqName(sourceModel.getFQName());
  File outputPathFile=new File(outputPath + File.separator + packageName.replace('.',File.separatorChar));
  LOG.debug("Generating to folder : " + outputPathFile.getAbsolutePath());
  if (!outputPathFile.exists()) {
    outputPathFile.mkdirs();
  }
  JavaFileGenerator javaFileGenerator=new JavaFileGenerator(outputPathFile,packageName,false);
  Iterator<SemanticNode> javaRoots=targetModel.roots();
  while (javaRoots.hasNext()) {
    SemanticNode node=javaRoots.next();
    javaFileGenerator.generateJavaFile((Classifier)node);
  }
}
