{
  final List<String> errors=new ArrayList<String>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      SModelDescriptor sm : models) {
        if (!SModelStereotype.isUserModel(sm))         continue;
        if (SModelStereotype.isGeneratorModel(sm))         continue;
        for (        SearchResult<ModelCheckerIssue> issue : checker.checkModel(sm.getSModel(),new ProgressContext(new EmptyProgressIndicator(),new LinkedList<String>()),null)) {
          if (issue.getCategoryForKind(ModelCheckerIssue.CATEGORY_KIND_SEVERITY).startsWith(jetbrains.mps.ide.modelchecker.actions.ModelChecker.SEVERITY_ERROR)) {
            SNode node=(SNode)issue.getPathObject();
            errors.add("Error message: " + issue.getObject().getMessage() + "   model: "+ node.getModel()+ " root: "+ node.getContainingRoot()+ " node: "+ node);
          }
        }
      }
    }
  }
);
  return errors;
}
