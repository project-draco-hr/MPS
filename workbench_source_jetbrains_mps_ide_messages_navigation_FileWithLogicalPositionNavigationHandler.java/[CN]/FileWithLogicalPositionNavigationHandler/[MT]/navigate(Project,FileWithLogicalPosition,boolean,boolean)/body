{
  File ioFile=pos.getFile().toFile();
  VirtualFile vf=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(ioFile);
  if (vf == null)   return;
  FileEditor[] result=FileEditorManager.getInstance(project).openFile(vf,true);
  if (result.length == 1 && result[0] instanceof TextEditor) {
    TextEditor te=(TextEditor)result[0];
    int line=pos.getLine();
    int column=pos.getColumn();
    Document document=te.getEditor().getDocument();
    int maxLines=document.getLineCount();
    line=Math.min(Math.max(0,line),maxLines - 1);
    int lineWidth=document.getLineEndOffset(line) - document.getLineStartOffset(line);
    column=Math.min(Math.max(0,column),lineWidth);
    LogicalPosition position=new LogicalPosition(line,column);
    te.getEditor().getCaretModel().moveToLogicalPosition(position);
    te.getEditor().getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  }
}
