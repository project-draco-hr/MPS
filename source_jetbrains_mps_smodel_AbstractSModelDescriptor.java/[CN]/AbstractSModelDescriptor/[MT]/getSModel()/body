{
  if (mySModel == null) {
    mySModel=loadModel();
    CommandProcessor.instance().executeCommand(new Runnable(){
      public void run(){
        SModelRepository.getInstance().repositoryChanged();
      }
    }
);
    LOG.assertLog(mySModel != null,"Couldn't load model \"" + getModelUID() + "\"");
    if (myModelListeners != null) {
      for (      SModelListener listener : myModelListeners) {
        if (!mySModel.hasSModelListener(listener)) {
          mySModel.addSModelListener(listener);
        }
      }
      myModelListeners.clear();
      myModelListeners=null;
    }
    if (myModelListenersForImportedModels != null) {
      myModelListenersForImportedModels.clear();
      myModelListenersForImportedModels=null;
    }
    if (myCommandListeners != null) {
      for (      SModelCommandListener listener : myCommandListeners) {
        if (!mySModel.hasSModelCommandListener(listener)) {
          mySModel.addSModelCommandListener(listener);
        }
      }
      myCommandListeners.clear();
      myCommandListeners=null;
    }
    if (myModelCommandListenersForImportedModels != null) {
      myModelCommandListenersForImportedModels.clear();
      myModelCommandListenersForImportedModels=null;
    }
    updateNodeStatuses();
  }
  return mySModel;
}
