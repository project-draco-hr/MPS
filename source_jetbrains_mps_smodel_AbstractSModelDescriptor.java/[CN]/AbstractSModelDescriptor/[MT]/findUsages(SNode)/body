{
  if (mySModel == null || !SModelRepository.getInstance().isChanged(mySModel)) {
    String nodeInfo=node.getId();
    if (node.getModel().isExternallyResolvable()) {
      String extResolveInfo=ExternalResolverManager.getExternalResolveInfoFromTarget(node);
      if (!ExternalResolverManager.isEmptyExtResolveInfo(extResolveInfo))       nodeInfo=extResolveInfo;
    }
    if (!containsString(nodeInfo))     return new HashSet<SReference>();
  }
  getSModel();
  Set<SReference> result=new HashSet<SReference>();
  if (mySModel != null) {
    for (    SNode root : mySModel.getRoots()) {
      addUsages(root,node,result);
    }
  }
  return result;
}
