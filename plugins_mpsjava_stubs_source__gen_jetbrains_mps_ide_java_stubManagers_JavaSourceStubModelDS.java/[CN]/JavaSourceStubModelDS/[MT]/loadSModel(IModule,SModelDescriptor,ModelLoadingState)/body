{
  SModel model=new SModel(descriptor.getSModelReference(),new ForeignNodeIdMap());
  for (  Language l : getLanguagesToImport()) {
    model.addLanguage(l.getModuleReference());
    module.addUsedLanguage(l.getModuleReference());
  }
  JavaParser parser=new JavaParser();
  for (  String path : SetSequence.fromSet(getStubPaths())) {
    File f=new File(path);
    String code=FileUtil.read(f);
    try {
      List<SNode> nodes=parser.parse(code,model.getLongName(),FeatureKind.CLASS_STUB,true).getNodes();
      for (      SNode n : ListSequence.fromList(nodes)) {
        model.addRoot(n);
      }
    }
 catch (    JavaParseException e) {
      LOG.error("Error while parsing java file " + path + ": "+ e.getMessage());
    }
  }
  myModelLoaded=true;
  return new ModelLoadResult(model,ModelLoadingState.FULLY_LOADED);
}
