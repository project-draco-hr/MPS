{
  boolean ver1=p1.x == q1.x;
  boolean ver2=p2.x == q2.x;
  if (ver1 == ver2) {
    return null;
  }
  Point res=new Point();
  if (ver1) {
    res.x=p1.x;
  }
 else {
    res.x=p2.x;
  }
  if (ver2) {
    res.y=p1.y;
  }
 else {
    res.y=p2.y;
  }
  if (!(insideGrid(res,p1,q1))) {
    return null;
  }
  if (!(insideGrid(res,p2,q2))) {
    return null;
  }
  return res;
}
