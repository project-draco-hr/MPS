{
  List<SModel> modelsList=new ArrayList<SModel>();
  for (  ImportElement importElement : ((jetbrains.mps.smodel.SModelInternal)model).importedModels()) {
    SModelReference modelReference=importElement.getModelReference();
    SModel modelDescriptor=modelReference.resolve(MPSModuleRepository.getInstance());
    if (modelDescriptor == null) {
      for (      SModel accessory : accessoryModelsFromUsedLanguages) {
        if (modelReference.equals(accessory.getReference())) {
          modelDescriptor=accessory;
          break;
        }
      }
    }
    if (modelDescriptor != null) {
      modelsList.add(modelDescriptor);
    }
  }
  return modelsList;
}
