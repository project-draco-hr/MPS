{
  SModelDescriptor sourceModel=model.getModelDescriptor();
  Set<SModelDescriptor> result=new LinkedHashSet<SModelDescriptor>();
  for (  Language language : getLanguages(model,scope)) {
    for (    SModelDescriptor am : language.getAccessoryModels()) {
      if (am != sourceModel) {
        SModelDescriptor scopeModelDescriptor=scope.getModelDescriptor(am.getSModelReference());
        if (scopeModelDescriptor != null) {
          result.add(scopeModelDescriptor);
        }
      }
    }
  }
  for (  SModelDescriptor importedModel : importedModels(model,scope)) {
    if (importedModel != sourceModel) {
      result.add(importedModel);
    }
  }
  if (sourceModel != null) {
    IModule module=sourceModel.getModule();
    if (module != null) {
      result.addAll(module.getImplicitlyImportedModelsFor(sourceModel));
    }
  }
  return new ArrayList<SModelDescriptor>(result);
}
