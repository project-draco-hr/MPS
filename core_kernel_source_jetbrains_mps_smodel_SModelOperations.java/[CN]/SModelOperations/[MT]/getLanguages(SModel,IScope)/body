{
  Set<Language> languages=new LinkedHashSet<Language>();
  for (  ModuleReference lang : model.importedLanguages()) {
    Language language=scope.getLanguage(lang);
    if (language != null) {
      languages.add(language);
      languages.addAll(language.getAllExtendedLanguages());
    }
  }
  for (  ModuleReference dk : model.importedDevkits()) {
    DevKit devKit=scope.getDevKit(dk);
    if (devKit != null) {
      for (      Language l : devKit.getAllExportedLanguages()) {
        if (languages.add(l)) {
          languages.addAll(l.getAllExtendedLanguages());
        }
      }
    }
  }
  if (model.getModelDescriptor() != null && model.getModelDescriptor().getModule() != null) {
    IModule module=model.getModelDescriptor().getModule();
    languages.addAll(module.getImplicitlyImportedLanguages(model.getModelDescriptor()));
  }
  return new ArrayList<Language>(languages);
}
