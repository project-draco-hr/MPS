{
  List<SModel> modelsList=new ArrayList<SModel>();
  for (  ImportElement importElement : ((jetbrains.mps.smodel.SModelInternal)model).importedModels()) {
    SModelReference modelReference=importElement.getModelReference();
    SModel modelDescriptor=scope.getModelDescriptor(modelReference);
    if (modelDescriptor == null) {
      for (      Language l : getLanguages(model,scope)) {
        for (        SModel accessory : l.getAccessoryModels()) {
          if (modelReference.equals(accessory.getReference())) {
            modelDescriptor=accessory;
            break;
          }
        }
      }
    }
    if (modelDescriptor != null) {
      modelsList.add(modelDescriptor);
    }
  }
  return modelsList;
}
