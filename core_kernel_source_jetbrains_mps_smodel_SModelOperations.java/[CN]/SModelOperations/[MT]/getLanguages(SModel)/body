{
  Set<Language> languages=new LinkedHashSet<Language>();
  for (  SModuleReference lang : getAllImportedLanguages(model)) {
    Language language=(Language)lang.resolve(MPSModuleRepository.getInstance());
    if (language == null) {
      continue;
    }
    languages.add(language);
    languages.addAll(LanguageDependenciesManager.getAllExtendedLanguages(language));
  }
  return new ArrayList<Language>(languages);
}
