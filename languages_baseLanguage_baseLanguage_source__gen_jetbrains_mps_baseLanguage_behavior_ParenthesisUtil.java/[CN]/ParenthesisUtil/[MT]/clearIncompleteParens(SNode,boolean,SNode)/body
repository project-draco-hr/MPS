{
  int count=0;
  if (completingByRightParen) {
    count=SPropertyOperations.getInteger(AttributeOperations.getAttribute(otherExpression,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteLeftParen")),"count");
    AttributeOperations.setAttribute(otherExpression,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteLeftParen"),null);
    AttributeOperations.setAttribute(parens,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteLeftParen"),null);
  }
 else {
    count=SPropertyOperations.getInteger(AttributeOperations.getAttribute(otherExpression,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteRightParen")),"count");
    AttributeOperations.setAttribute(otherExpression,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteRightParen"),null);
    AttributeOperations.setAttribute(parens,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.baseLanguage.structure.IncompleteRightParen"),null);
  }
  count-=1;
  if (count < 1) {
    return;
  }
  for (int i=0; i < count; i++) {
    setOrIncreaseParen(parens,!(completingByRightParen));
  }
}
