{
  SNode currentNode=SNodeOperations.getParent(leaf);
  SNode previous=leaf;
  while (neq_a65dpo_a0c0kb(previous,stopNode)) {
    if (SNodeOperations.isInstanceOf(currentNode,"jetbrains.mps.baseLanguage.structure.BinaryOperation")) {
      final SNode currentBinaryExpr=SNodeOperations.cast(currentNode,"jetbrains.mps.baseLanguage.structure.BinaryOperation");
      if (leftTurn && eq_a65dpo_a0a1a0a2a63(SLinkOperations.getTarget(currentBinaryExpr,"rightExpression",true),previous)) {
        return currentBinaryExpr;
      }
      if (!(leftTurn) && eq_a65dpo_a0a2a0a2a63(SLinkOperations.getTarget(currentBinaryExpr,"leftExpression",true),previous)) {
        return currentBinaryExpr;
      }
    }
    if (SNodeOperations.isInstanceOf(currentNode,"jetbrains.mps.baseLanguage.structure.DotExpression") && !(leftTurn)) {
      if (eq_a65dpo_a0a0b0c0kb(SLinkOperations.getTarget(SNodeOperations.cast(currentNode,"jetbrains.mps.baseLanguage.structure.DotExpression"),"operand",true),previous)) {
        return SNodeOperations.cast(currentNode,"jetbrains.mps.baseLanguage.structure.DotExpression");
      }
    }
    previous=currentNode;
    currentNode=SNodeOperations.getParent(currentNode);
  }
  return (SNodeOperations.isInstanceOf(stopNode,"jetbrains.mps.baseLanguage.structure.BinaryOperation") ? SNodeOperations.cast(stopNode,"jetbrains.mps.baseLanguage.structure.BinaryOperation") : null);
}
