{
  if (keyEvent.isConsumed())   return;
  if (keyEvent.getKeyCode() == KeyEvent.VK_F5 && noKeysDown(keyEvent)) {
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        SNode sNode=getRootCell().getSNode();
        if (sNode == null) {
          return;
        }
        Highlighter highlighter=getOperationContext().getComponent(Highlighter.class);
        if (highlighter != null) {
          highlighter.resetCheckedState(EditorComponent.this);
        }
        TypeChecker.getInstance().checkRoot(sNode.getContainingRoot(),true);
        rebuildEditorContent();
      }
    }
);
    keyEvent.consume();
    return;
  }
  if (keyEvent.getKeyCode() == KeyEvent.VK_F11 && noKeysDown(keyEvent)) {
    relayout();
    keyEvent.consume();
    return;
  }
  EditorContext editorContext=getEditorContext();
  if (editorContext == null) {
    return;
  }
  if (peekKeyboardHandler().processKeyPressed(editorContext,keyEvent)) {
    keyEvent.consume();
  }
  revalidateAndRepaint(false);
}
