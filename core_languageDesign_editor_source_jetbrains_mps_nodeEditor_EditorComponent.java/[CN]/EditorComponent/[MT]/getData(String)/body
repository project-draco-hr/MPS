{
  if (dataId.equals(MPSDataKeys.NODE.getName())) {
    EditorCell selectedCell=getSelectedCell();
    if (selectedCell != null) {
      return selectedCell.getSNode();
    }
 else {
      return getRootCell().getSNode();
    }
  }
  if (dataId.equals(MPSDataKeys.NODES.getName()))   return getSelectedNodes();
  if (dataId.equals(MPSDataKeys.CONTEXT_MODEL.getName())) {
    return ModelAccess.instance().runReadAction(new Computable(){
      public Object compute(){
        SNode node=getRootCell().getSNode();
        if (node == null)         return null;
        SModel model=node.getModel();
        if (model == null)         return null;
        return model.getModelDescriptor();
      }
    }
);
  }
  if (dataId.equals(MPSDataKeys.CONTEXT_MODULE.getName())) {
    EditorCell rootCell=getRootCell();
    if (rootCell == null)     return null;
    SNode node=rootCell.getSNode();
    if (node == null)     return null;
    SModelDescriptor modelDescriptor=node.getModel().getModelDescriptor();
    if (modelDescriptor == null)     return null;
    return modelDescriptor.getModule();
  }
  if (dataId.equals(MPSDataKeys.OPERATION_CONTEXT.getName()))   return getOperationContext();
  if (dataId.equals(MPSDataKeys.EDITOR_CONTEXT.getName()))   return createEditorContextForActions();
  if (dataId.equals(MPSDataKeys.EDITOR_CELL.getName()))   return getSelectedCell();
  if (dataId.equals(MPSDataKeys.EDITOR_COMPONENT.getName()))   return this;
  if (dataId.equals(MPSDataKeys.PLACE.getName()))   return ActionPlace.EDITOR;
  if (dataId.equals(PlatformDataKeys.CUT_PROVIDER.getName()))   return new MyCutProvider();
  if (dataId.equals(PlatformDataKeys.COPY_PROVIDER.getName()))   return new MyCopyProvider();
  if (dataId.equals(PlatformDataKeys.PASTE_PROVIDER.getName()) && !mySearchPanel.isVisible())   return new MyPasteProvider();
  if (dataId.equals(PlatformDataKeys.VIRTUAL_FILE_ARRAY.getName())) {
    return ModelAccess.instance().runReadAction(new Computable<Object>(){
      public Object compute(){
        if (myNode == null)         return null;
        SModelDescriptor sModelDescriptor=myNode.getModel().getModelDescriptor();
        if (sModelDescriptor == null) {
          return null;
        }
        IFile ifile=sModelDescriptor.getModelFile();
        if (ifile == null || !ifile.exists())         return null;
        VirtualFile vfile=VFileSystem.getFile(ifile);
        if (vfile == null)         return null;
        return new VirtualFile[]{vfile};
      }
    }
);
  }
  return null;
}
