{
  final EditorCell selectedCell=getSelectedCell();
  if (selectedCell != null) {
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        final HighlighterMessage message=getHighlighterMessageFor(selectedCell);
        if (message == null)         return;
        final IErrorReporter herror=message.getErrorReporter();
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            String s=message.getMessage();
            final MPSErrorDialog dialog=new MPSErrorDialog(myOperationContext.getMainFrame(),s,message.getStatus().getPresentation(),false);
            if (herror.getRuleModel() != null && herror.getRuleId() != null) {
              JButton button=new JButton(new AbstractAction("Go To Rule"){
                public void actionPerformed(                ActionEvent e){
                  ModelAccess.instance().runReadAction(new Runnable(){
                    public void run(){
                      GoToTypeErrorRuleUtil.goToTypeErrorRule(myOperationContext,herror,LOG);
                      dialog.dispose();
                    }
                  }
);
                }
              }
);
              dialog.addButton(button);
            }
            dialog.initializeUI();
            dialog.setVisible(true);
          }
        }
);
        return;
      }
    }
);
  }
}
