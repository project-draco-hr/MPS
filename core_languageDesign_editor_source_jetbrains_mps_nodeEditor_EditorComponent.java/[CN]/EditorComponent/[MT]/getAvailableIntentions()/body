{
  final Set<com.intellij.openapi.util.Pair<Intention,SNode>> result=new LinkedHashSet<com.intellij.openapi.util.Pair<Intention,SNode>>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      SNode node=getSelectedNode();
      EditorContext editorContext=getEditorContext();
      if (node != null && editorContext != null) {
        QueryDescriptor query=new QueryDescriptor(BaseIntention.class,true,false,null);
        result.addAll(IntentionsManager.getInstance().getAvailableIntentions(query,node,editorContext));
      }
    }
  }
);
  return result;
}
