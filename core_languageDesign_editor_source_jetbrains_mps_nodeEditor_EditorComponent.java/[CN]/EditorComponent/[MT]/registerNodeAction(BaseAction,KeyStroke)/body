{
  if (keyStroke != null) {
    if (!myActionProxies.containsKey(keyStroke)) {
      EditorComponent.MPSActionProxy proxy=new MPSActionProxy();
      myActionProxies.put(keyStroke,proxy);
      registerKeyboardAction(proxy,keyStroke,WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
    }
 else {
      StringBuilder actionNames=new StringBuilder();
      for (      String actionName : ((MPSActionProxy)myActionProxies.get(keyStroke)).getActionNames()) {
        actionNames.append(actionName).append(";");
      }
      actionNames.delete(actionNames.length() - 1,actionNames.length());
      LOG.warning("Action " + action.getClass().getSimpleName() + " is being registered for shortcut <"+ keyStroke.toString()+ ">"+ " for which an action "+ actionNames+ " is already registered");
    }
    EditorComponent.MPSActionProxy proxy=myActionProxies.get(keyStroke);
    proxy.add(ActionPlaces.EDITOR_POPUP,action);
    return proxy;
  }
  return null;
}
