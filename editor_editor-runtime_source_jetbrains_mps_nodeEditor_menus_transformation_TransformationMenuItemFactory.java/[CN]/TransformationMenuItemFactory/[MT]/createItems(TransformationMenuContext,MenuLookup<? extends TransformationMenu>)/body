{
  Collection<? extends TransformationMenu> menus=menuLookup.lookup(myUsedLanguages);
  if (menus.isEmpty()) {
    return Collections.emptyList();
  }
  boolean foundApplicableMenu=false;
  List<TransformationMenuItem> result=new ArrayList<>();
  for (  TransformationMenu menu : menus) {
    if (!menu.isApplicableToLocation(context.getMenuLocation())) {
      continue;
    }
    foundApplicableMenu=true;
    result.addAll(menu.createMenuItems(context));
  }
  if (!foundApplicableMenu) {
    result.addAll(menuLookup.createImplicitMenu().createMenuItems(context));
  }
  return result;
}
