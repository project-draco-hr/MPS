{
  IRefactoringTarget refTarget=refactoring.getRefactoringTarget();
  boolean oneEntity=!(refTarget.allowMultipleTargets());
  List targetList;
  if (!(oneEntity)) {
    targetList=((List)target);
  }
 else {
    targetList=Arrays.asList(target);
  }
  boolean disabled=(RefactoringUtil.getApplicability(refactoring,targetList).lessThan(RefactoringUtil.Applicability.APPLICABLE));
  if (disabled) {
    return null;
  }
  RefactoringContext result=new RefactoringContext(refactoring);
  result.setSelectedProject(project);
  result.setCurrentOperationContext(new ProjectOperationContext(project));
  result.setParameters(names,parameters);
  result.setTarget(target);
  return result;
}
