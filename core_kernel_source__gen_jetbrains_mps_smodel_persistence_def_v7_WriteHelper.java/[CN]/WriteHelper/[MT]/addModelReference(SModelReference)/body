{
  if (MapSequence.fromMap(myModelIndex).containsKey(model)) {
    return;
  }
  int hash=(model.hashCode() % HASH_SIZE + HASH_SIZE) % HASH_SIZE;
  while (SetSequence.<Integer>fromSet(myUsedIndexes).contains(hash)) {
    hash=(hash + 1) % HASH_SIZE;
  }
  SetSequence.fromSet(myUsedIndexes).addElement(hash);
  MapSequence.<SModelReference,String>fromMap(myModelIndex).put(model,Integer.toString(hash,HASH_BASE));
  MapSequence.<String,SModelReference>fromMap(myModelFqNameToReference).put(model.getLongName(),model);
}
