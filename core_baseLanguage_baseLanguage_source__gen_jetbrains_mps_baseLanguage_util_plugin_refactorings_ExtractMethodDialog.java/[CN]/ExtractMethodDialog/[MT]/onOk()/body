{
  if (!(this.myCanRefactor)) {
    JOptionPane.showMessageDialog(this,"Can't refactor. See errors.","Can't perform refactoring",JOptionPane.ERROR_MESSAGE);
  }
 else {
    if (this.myParameters.getAnalyzer().getExtractMethodReafactoringProcessor().getClass() == AbstractExtractMethodRefactoringProcessor.class) {
      final Wrappers._T<SModelDescriptor> model=new Wrappers._T<SModelDescriptor>();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          model.value=SNodeOperations.getModel(ListSequence.fromList(ExtractMethodDialog.this.myParameters.getNodesToRefactor()).first()).getModelDescriptor();
        }
      }
);
      final SNode staticTarget=BLDialogs.showStaticContainerChooser(this.myContext.getOperationContext(),model.value);
      if (staticTarget == null) {
        return;
      }
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          ExtractMethodDialog.this.myRefactoring.setStaticContainer(staticTarget);
        }
      }
);
    }
    ModelAccess.instance().runWriteActionInCommand(new Runnable(){
      public void run(){
        SNode result=ExtractMethodDialog.this.myRefactoring.doRefactor();
        ExtractMethodDialog.this.myContext.select(result);
      }
    }
);
  }
  this.dispose();
}
