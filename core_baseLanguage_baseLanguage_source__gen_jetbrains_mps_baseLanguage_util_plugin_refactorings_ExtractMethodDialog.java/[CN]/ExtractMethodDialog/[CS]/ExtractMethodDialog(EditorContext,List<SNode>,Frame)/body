{
  super(frame,"Extract Method");
  this.setMinimumSize(new Dimension(600,450));
  this.myContext=context;
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      ExtractMethodDialog.this.myParameters=new ExtractMethodRefactoringParameters(nodes);
    }
  }
);
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      ExtractMethodDialog.this.myRefactoring=ExtractMethodFabric.createRefactoring(ExtractMethodDialog.this.myParameters);
      ExtractMethodDialog.this.myParameters.setReturnType(ExtractMethodDialog.this.myRefactoring.getMethodType());
    }
  }
);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      ExtractMethodDialog.this.initPanel();
    }
  }
);
  this.update();
}
