{
  boolean targetIsNode=myMessageTarget.getTarget() == MessageTargetEnum.NODE;
  boolean shouldPaintSelection=(targetIsNode ? getNode() == cell.getSNode() : !(cell instanceof EditorCell_Collection));
  if (shouldPaintSelection) {
    cell.paintSelection(graphics,getColor(),false);
    repaintConflictedMessages(graphics,cell);
  }
 else {
    if (myMessageTarget.getTarget() == MessageTargetEnum.DELETED_CHILD) {
      drawDeletedChild(graphics,cell);
    }
 else {
      Rectangle bounds=cell.getBounds();
      graphics.setColor(ChangeColors.get((isConflicted() ? ChangeType.CONFLICTED : ChangeType.CHANGE)));
      graphics.drawRect(bounds.x + 1,bounds.y + 1,bounds.width - 2,bounds.height - 2);
    }
  }
}
