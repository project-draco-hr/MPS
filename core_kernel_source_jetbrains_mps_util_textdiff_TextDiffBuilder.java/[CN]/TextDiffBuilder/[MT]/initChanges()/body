{
  ChangeArrayManager arrayManager=new ChangeArrayManager();
  myChangeArray.addAllChanges(arrayManager);
  boolean[] oldChange=arrayManager.getOldChangeArray();
  boolean[] newChange=arrayManager.getNewChangeArray();
  int oldIndex=0;
  int newIndex=0;
  while (oldIndex < oldChange.length && newIndex < newChange.length) {
    int start=oldIndex;
    while (oldIndex < oldChange.length && newIndex < newChange.length && !oldChange[oldIndex] && !newChange[newIndex]) {
      oldIndex++;
      newIndex++;
    }
    if (oldIndex > start) {
      myChangeManager.inc(oldIndex - start);
    }
    int deltaOld=0;
    int deltaNew=0;
    while (oldIndex < oldChange.length && oldChange[oldIndex]) {
      deltaOld++;
      oldIndex++;
    }
    while (newIndex < newChange.length && newChange[newIndex]) {
      deltaNew++;
      newIndex++;
    }
    if (deltaOld != 0 || deltaNew != 0) {
      myChangeManager.addChange(deltaOld,deltaNew);
    }
  }
  if (oldIndex != oldChange.length || newIndex != newChange.length) {
    myChangeManager.addChange(oldChange.length - oldIndex,newChange.length - newIndex);
  }
}
