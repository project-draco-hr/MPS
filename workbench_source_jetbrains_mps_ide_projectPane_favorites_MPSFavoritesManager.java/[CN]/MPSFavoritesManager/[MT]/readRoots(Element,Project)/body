{
  List<Object> result=new ArrayList<Object>();
  for (  Object favorite : list.getChildren(FAVORITES_ROOT)) {
    Element favoriteElement=(Element)favorite;
    final String moduleRef=favoriteElement.getAttributeValue(MODULE_REFERENCE);
    if (moduleRef != null) {
      result.add(ModuleReference.fromString(moduleRef));
      continue;
    }
    final String modelRef=favoriteElement.getAttributeValue(SMODEL_REFERENCE);
    if (modelRef == null)     continue;
    SModelReference modelReference=SModelReference.fromString(modelRef);
    final String numberInModelStr=favoriteElement.getAttributeValue(NUMBER_IN_MODEL);
    if (numberInModelStr == null) {
      result.add(modelReference);
    }
 else {
      Integer numberInModel=Integer.parseInt(numberInModelStr);
      Pair<SModelReference,Integer> pair=new Pair<SModelReference,Integer>(modelReference,numberInModel);
      result.add(pair);
    }
  }
  return result;
}
