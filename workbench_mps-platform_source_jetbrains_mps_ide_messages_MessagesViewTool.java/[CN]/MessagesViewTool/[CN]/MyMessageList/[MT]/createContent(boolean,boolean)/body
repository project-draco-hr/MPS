{
  if (RuntimeFlags.isTestMode())   return;
  final Runnable initRunnable=new Runnable(){
    @Override public void run(){
      initUI();
      final MessageView service=getMessagesService();
      Content content=service.getContentManager().getFactory().createContent(getComponent(),myTitle,true);
      content.setCloseable(canClose);
      content.setPinnable(isMultiple);
      if (canClose) {
        content.setShouldDisposeContent(true);
        content.setDisposer(new Disposable(){
          @Override public void dispose(){
            removeList(MyMessageList.this,myTitle);
          }
        }
);
      }
      content.putUserData(ToolWindow.SHOW_CONTENT_ICON,Boolean.TRUE);
      service.getContentManager().addContent(content);
    }
  }
;
  getMessagesService().runWhenInitialized(new RunInUIRunnable(initRunnable,false));
}
