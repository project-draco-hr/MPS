{
  boolean outerVarsFound=false;
  for (  SNode child : ListSequence.fromList(SNodeOperations.getChildren(node))) {
    if (SNodeOperations.isInstanceOf(child,"jetbrains.mps.baseLanguage.structure.VariableDeclaration")) {
      SetSequence.fromSet(localVariables).addElement(SNodeOperations.cast(child,"jetbrains.mps.baseLanguage.structure.VariableDeclaration"));
    }
 else     if (SNodeOperations.isInstanceOf(child,"jetbrains.mps.baseLanguage.structure.Closure")) {
      if (processClosure(contextOwner,SNodeOperations.cast(child,"jetbrains.mps.baseLanguage.structure.Closure"),localVariables,generator)) {
        outerVarsFound=true;
      }
    }
    if (processNode(contextOwner,child,localVariables,generator)) {
      outerVarsFound=true;
    }
  }
  return outerVarsFound;
}
