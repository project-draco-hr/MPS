{
  Element nodeElement=new Element(NODE);
  SModel model=node.getModel();
  nodeElement.setAttribute(MODEL,model.getUID().toString());
  String module_uid=module.getModuleUID();
  nodeElement.setAttribute(MODULE_UID,module_uid);
  if (model.isExternallyResolvable()) {
    String extResolveInfo=ExternalResolver.getExternalResolveInfoFromTarget(node);
    if (ExternalResolver.isEmptyExtResolveInfo(extResolveInfo)) {
      nodeElement.setAttribute(ID,node.getId());
    }
 else {
      nodeElement.setAttribute(ERI,extResolveInfo);
    }
  }
 else {
    nodeElement.setAttribute(ID,node.getId());
  }
  return nodeElement;
}
