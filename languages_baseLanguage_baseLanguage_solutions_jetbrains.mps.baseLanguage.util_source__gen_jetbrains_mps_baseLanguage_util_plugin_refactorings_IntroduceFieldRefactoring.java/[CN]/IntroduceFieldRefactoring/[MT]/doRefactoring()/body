{
  this.findDuplicates();
  SNode newDeclaration;
  if (myFieldInitialization == FieldInitializationPlace.FIELD) {
    newDeclaration=_quotation_createNode_baxqxe_a0a0c0b(myVisibilityLevel.getNode(),SNodeOperations.copyNode(this.getExpressionType()),SNodeOperations.copyNode(this.getExpression()),this.getName());
  }
 else {
    newDeclaration=_quotation_createNode_baxqxe_a0a0a2a1(myVisibilityLevel.getNode(),SNodeOperations.copyNode(this.getExpressionType()),this.getName());
  }
  if (myIsFinal) {
    SPropertyOperations.set(newDeclaration,MetaAdapterFactory.getProperty(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37a7f6eL,0x111f9e9f00cL,"isFinal"),"" + (true));
  }
  SNode classConcept=SNodeOperations.getNodeAncestor(this.getExpression(),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c108ca66L,"jetbrains.mps.baseLanguage.structure.ClassConcept"),false,false);
  MemberInsertingUtils.insertClassifierMemberInBestPlace(classConcept,newDeclaration);
  SNode assignStatement=_quotation_createNode_baxqxe_a0g0b(newDeclaration,SNodeOperations.copyNode(this.getExpression()));
  if (this.myFieldInitialization == FieldInitializationPlace.METHOD) {
    SNodeOperations.insertPrevSiblingChild(SNodeOperations.getNodeAncestor(this.getExpression(),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc56b215L,"jetbrains.mps.baseLanguage.structure.Statement"),false,false),SNodeOperations.copyNode(assignStatement));
  }
  if (this.myFieldInitialization == FieldInitializationPlace.CONSTRUCTOR) {
    SNode declaration=SNodeOperations.getNodeAncestor(this.getExpression(),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c108ca66L,"jetbrains.mps.baseLanguage.structure.ClassConcept"),false,false);
    for (    SNode constructor : Sequence.fromIterable(((Iterable<SNode>)BHReflection.invoke(declaration,SMethodTrimmedId.create("constructors",MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c108ca66L,"jetbrains.mps.baseLanguage.structure.ClassConcept"),"4_LVZ3pCvsd"))))) {
      List<SNode> statement=SLinkOperations.getChildren(SLinkOperations.getTarget(constructor,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc56b1fcL,0xf8cc56b1ffL,"body")),MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc56b200L,0xf8cc6bf961L,"statement"));
      if (ListSequence.fromList(statement).isNotEmpty()) {
        SNodeOperations.insertPrevSiblingChild(ListSequence.fromList(statement).first(),SNodeOperations.copyNode(assignStatement));
      }
 else {
        ListSequence.fromList(statement).addElement(SNodeOperations.copyNode(assignStatement));
      }
    }
  }
  replaceNode(this.getExpression(),newDeclaration);
  if (myIsReplacingAll) {
    for (    SNode duplicate : ListSequence.fromList(myDuplicates)) {
      replaceNode(duplicate,newDeclaration);
    }
  }
  return newDeclaration;
}
