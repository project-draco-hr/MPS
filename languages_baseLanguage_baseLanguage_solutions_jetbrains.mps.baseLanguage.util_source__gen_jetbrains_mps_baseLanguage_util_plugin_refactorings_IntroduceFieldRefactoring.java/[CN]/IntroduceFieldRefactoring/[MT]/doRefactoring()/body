{
  this.findDuplicates();
  SNode newDeclaration;
  if (myFieldInitialization == FieldInitializationPlace.FIELD) {
    newDeclaration=_quotation_createNode_baxqxe_a0a0c0b(myVisibilityLevel.getNode(),SNodeOperations.copyNode(this.getExpressionType()),SNodeOperations.copyNode(this.getExpression()),this.getName());
  }
 else {
    newDeclaration=_quotation_createNode_baxqxe_a0a0a2a1(myVisibilityLevel.getNode(),SNodeOperations.copyNode(this.getExpressionType()),this.getName());
  }
  if (myIsFinal) {
    SPropertyOperations.set(newDeclaration,MetaAdapterFactory.getProperty(new UUID(-935030926396207931l,-6610165693999523818l),1068431474542l,1176718929932l,"isFinal"),"" + (true));
  }
  SNode classConcept=SNodeOperations.getAncestor(this.getExpression(),"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
  MemberInsertingUtils.insertClassifierMemberInBestPlace(classConcept,newDeclaration);
  SNode assignStatement=_quotation_createNode_baxqxe_a0g0b(newDeclaration,SNodeOperations.copyNode(this.getExpression()));
  if (this.myFieldInitialization == FieldInitializationPlace.METHOD) {
    SNodeOperations.insertPrevSiblingChild(SNodeOperations.getAncestor(this.getExpression(),"jetbrains.mps.baseLanguage.structure.Statement",false,false),SNodeOperations.copyNode(assignStatement));
  }
  if (this.myFieldInitialization == FieldInitializationPlace.CONSTRUCTOR) {
    SNode declaration=SNodeOperations.getAncestor(this.getExpression(),"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
    for (    SNode constructor : Sequence.fromIterable(BehaviorReflection.invokeNonVirtual((Class<Iterable<SNode>>)((Class)Object.class),declaration,"jetbrains.mps.baseLanguage.structure.ClassConcept","call_constructors_5292274854859503373",new Object[]{}))) {
      List<SNode> statement=SLinkOperations.getChildren(SLinkOperations.getTarget(constructor,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068580123132l,1068580123135l,"body")),MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068580123136l,1068581517665l,"statement"));
      if (ListSequence.fromList(statement).isNotEmpty()) {
        SNodeOperations.insertPrevSiblingChild(ListSequence.fromList(statement).first(),SNodeOperations.copyNode(assignStatement));
      }
 else {
        ListSequence.fromList(statement).addElement(SNodeOperations.copyNode(assignStatement));
      }
    }
  }
  replaceNode(this.getExpression(),newDeclaration);
  if (myIsReplacingAll) {
    for (    SNode duplicate : ListSequence.fromList(myDuplicates)) {
      replaceNode(duplicate,newDeclaration);
    }
  }
  return newDeclaration;
}
