{
  ConcurrentMap<K,V> cache=ModelAccess.instance().getRepositoryStateCache(clazz);
  if (cache == null) {
    return creator.invoke();
  }
  V v=cache.get(key);
  if (v != null) {
    return v;
  }
  v=NodeReadAccessCasterInEditor.runReadTransparentAction(new Computable<V>(){
    public V compute(){
      return creator.invoke();
    }
  }
);
  cache.putIfAbsent(key,v);
  return v;
}
