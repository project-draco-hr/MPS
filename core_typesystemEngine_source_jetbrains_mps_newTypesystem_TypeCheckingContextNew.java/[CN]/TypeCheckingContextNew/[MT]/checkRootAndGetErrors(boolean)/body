{
synchronized (TYPECHECKING_LOCK) {
    checkRoot(refreshTypes);
    getBaseNodeTypesComponent().applyNonTypesystemRulesToRoot(null);
    return new THashSet<Pair<SNode,List<IErrorReporter>>>(myNodeTypesComponent.getNodesWithErrors());
  }
}
