{
synchronized (TYPECHECKING_LOCK) {
    checkRoot(refreshTypes);
    getNodeTypesComponent().applyNonTypesystemRulesToRoot(null,this);
    return new THashSet<Pair<SNode,List<IErrorReporter>>>(getNodeTypesComponent().getNodesWithErrors());
  }
}
