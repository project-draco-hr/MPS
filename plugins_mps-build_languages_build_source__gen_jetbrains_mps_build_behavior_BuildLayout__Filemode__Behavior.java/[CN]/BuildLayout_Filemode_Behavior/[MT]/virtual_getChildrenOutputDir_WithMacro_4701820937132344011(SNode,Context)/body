{
  SNode nlayout=SNodeOperations.getNodeAncestor(thisNode,MetaAdapterFactory.getConcept(new UUID(8755280088213897754l,-5075149991798053422l),3542413272732529456l,"jetbrains.mps.build.structure.BuildNamedLayout"),true,false);
  SNode parent=SNodeOperations.getNodeAncestor(thisNode,MetaAdapterFactory.getInterfaceConcept(new UUID(8755280088213897754l,-5075149991798053422l),5248329904288166441l,"jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet"),false,false);
  String name;
  if (SNodeOperations.isInstanceOf(parent,MetaAdapterFactory.getInterfaceConcept(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,"jetbrains.mps.lang.core.structure.INamedConcept"))) {
    name=SPropertyOperations.getString(SNodeOperations.cast(parent,MetaAdapterFactory.getInterfaceConcept(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,"jetbrains.mps.lang.core.structure.INamedConcept")),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"));
  }
 else {
    SNode ancestor=SNodeOperations.getNodeAncestor(thisNode,MetaAdapterFactory.getInterfaceConcept(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,"jetbrains.mps.lang.core.structure.INamedConcept"),false,false);
    name=SPropertyOperations.getString(ancestor,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"));
  }
  if (isNotEmptyString(SPropertyOperations.getString(thisNode,MetaAdapterFactory.getProperty(new UUID(8755280088213897754l,-5075149991798053422l),7801138212747054656l,7801138212747054660l,"filemode")))) {
    name=name + "_f" + SPropertyOperations.getString(thisNode,MetaAdapterFactory.getProperty(new UUID(8755280088213897754l,-5075149991798053422l),7801138212747054656l,7801138212747054660l,"filemode"));
  }
  if (isNotEmptyString(SPropertyOperations.getString(thisNode,MetaAdapterFactory.getProperty(new UUID(8755280088213897754l,-5075149991798053422l),7801138212747054656l,7801138212747054661l,"dirmode")))) {
    name=name + "_d" + SPropertyOperations.getString(thisNode,MetaAdapterFactory.getProperty(new UUID(8755280088213897754l,-5075149991798053422l),7801138212747054656l,7801138212747054661l,"dirmode"));
  }
  return context.getTempPath(thisNode,name,((nlayout != null) ? SPropertyOperations.getString(nlayout,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")) : "default"));
}
