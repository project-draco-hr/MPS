{
  boolean alreadyOwnsTemplateModel=false;
  for (  SModelDescriptor modelDescriptor : newGenerator.getOwnModelDescriptors()) {
    if (SModelStereotype.isGeneratorModel(modelDescriptor)) {
      alreadyOwnsTemplateModel=true;
      break;
    }
  }
  if (!(alreadyOwnsTemplateModel)) {
    EditableSModelDescriptor templateModelDescriptor=newGenerator.createModel(new SModelFqName(getTemplateModelPrefix(sourceLanguage) + "." + "main",SModelStereotype.GENERATOR),newGenerator.getSModelRoots().get(0),null);
    SModel templateModel=templateModelDescriptor.getSModel();
    templateModel.addLanguage(BootstrapLanguages.GENERATOR);
    templateModel.addLanguage(ModuleReference.fromString("d7706f63-9be2-479c-a3da-ae92af1e64d5(jetbrains.mps.lang.generator.generationContext)"));
    templateModel.addDevKit(GeneralPurpose_DevKit.get().getModuleReference());
    templateModel.addModelImport(sourceLanguage.getStructureModelDescriptor().getSModelReference(),false);
    SNode mappingConfiguration=SModelOperations.createNewNode(templateModel,"jetbrains.mps.lang.generator.structure.MappingConfiguration",null);
    SPropertyOperations.set(mappingConfiguration,"name","main");
    SModelOperations.addRootNode(templateModel,mappingConfiguration);
    templateModelDescriptor.save();
  }
}
