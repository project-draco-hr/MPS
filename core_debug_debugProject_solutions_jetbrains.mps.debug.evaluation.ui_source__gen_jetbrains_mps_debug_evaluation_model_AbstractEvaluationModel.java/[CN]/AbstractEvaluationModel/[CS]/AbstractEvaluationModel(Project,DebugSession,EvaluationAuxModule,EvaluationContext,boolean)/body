{
  myUiState=session.getUiState();
  myDebugSession=session;
  if (context.getLocationNode() != null) {
    myContext=ModuleContext.create(context.getLocationNode(),project);
  }
 else {
    myContext=new ModuleContext(auxModule,project);
  }
  myAuxModule=auxModule;
  final Wrappers._T<EditableSModelDescriptor> modelDescriptor=new Wrappers._T<EditableSModelDescriptor>();
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      modelDescriptor.value=ProjectModels.createDescriptorFor(myAuxModule);
      modelDescriptor.value.getSModel().addDevKit(GeneralPurpose_DevKit.MODULE_REFERENCE);
    }
  }
);
  myAuxModel=modelDescriptor.value;
  myEvaluationContext=context;
  myIsInContext=isInContext;
}
