{
  List<PropertyDeclaration> allProperties=new ArrayList<PropertyDeclaration>();
  myProperties=new ArrayList<PropertyDeclaration>();
  myPropertyByName=new HashMap<String,PropertyDeclaration>();
  SNode[] concepts=((ConceptAndSuperConceptsCache)getOwnerCache()).getConcepts();
  for (int i=concepts.length - 1; i >= 0; i--) {
    List<PropertyDeclaration> props=((AbstractConceptDeclaration)concepts[i].getAdapter()).getPropertyDeclarations();
    for (    PropertyDeclaration prop : props) {
      allProperties.add(prop);
      String name=prop.getName();
      if (name == null)       continue;
      if (myPropertyByName.containsKey(name)) {
        continue;
      }
      myProperties.add(prop);
      myPropertyByName.put(name,prop);
    }
  }
  myDependsOnNodes=new HashSet<SNode>();
  for (  SNode concept : concepts) {
    myDependsOnNodes.add(concept);
  }
  for (  PropertyDeclaration prop : allProperties) {
    myDependsOnNodes.add(prop.getNode());
  }
}
