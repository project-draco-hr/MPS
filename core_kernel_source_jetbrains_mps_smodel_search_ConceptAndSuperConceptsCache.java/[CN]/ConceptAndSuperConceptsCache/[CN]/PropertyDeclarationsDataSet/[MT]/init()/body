{
  List<SNode> allProperties=new ArrayList<SNode>();
  myProperties=new ArrayList<SNode>();
  myPropertyByName=new HashMap<String,SNode>();
  SNode[] concepts=((ConceptAndSuperConceptsCache)getOwnerCache()).getConcepts();
  for (int i=concepts.length - 1; i >= 0; i--) {
    Iterable<SNode> props=SNodeUtil.getConcept_PropertyDeclarations(concepts[i]);
    for (    SNode prop : props) {
      allProperties.add(prop);
      String name=prop.getName();
      if (name == null)       continue;
      if (myPropertyByName.containsKey(name)) {
        continue;
      }
      myProperties.add(prop);
      myPropertyByName.put(name,prop);
    }
  }
  myDependsOnNodes=new HashSet<SNode>();
  for (  SNode concept : concepts) {
    myDependsOnNodes.add(concept);
  }
  for (  SNode prop : allProperties) {
    myDependsOnNodes.add(prop);
  }
}
