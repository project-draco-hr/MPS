{
  SNode newInstance=SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(newConcept));
  for (  SProperty prop : Sequence.fromIterable(node.getProperties())) {
    newInstance.setProperty(prop,node.getProperty(prop));
  }
  for (  SReference ref : Sequence.fromIterable(node.getReferences())) {
    newInstance.setReferenceTarget(ref.getLink(),ref.getTargetNode());
  }
  for (  SNode child : Sequence.fromIterable(node.getChildren())) {
    SContainmentLink containmentLink=child.getContainmentLink();
    node.removeChild(child);
    newInstance.addChild(containmentLink,child);
  }
  return newInstance;
}
