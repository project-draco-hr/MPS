{
  EditorCell contextCell=context.getSelectedCell();
  if (contextCell == null) {
    return false;
  }
  SNode node=contextCell.getSNode();
  if (node == null) {
    return false;
  }
  return SNodeOperations.getAncestor(node,"jetbrains.mps.lang.pattern.structure.PatternExpression",true,false) != null;
}
