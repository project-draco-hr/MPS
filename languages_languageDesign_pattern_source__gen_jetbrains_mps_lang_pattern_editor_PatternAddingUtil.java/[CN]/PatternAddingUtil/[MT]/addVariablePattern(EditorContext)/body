{
  EditorCell contextCell=context.getSelectedCell();
  SNode node=contextCell.getSNode();
  if (contextCell.isReferenceCell()) {
    String role=contextCell.getRole();
    SReferenceLink ref=((ConceptMetaInfoConverter)SNodeOperations.getConcept(node)).convertAssociation(role);
    AttributeOperations.createAndSetAttrbiute(node,new IAttributeDescriptor.LinkAttribute(MetaAdapterFactory.getConcept(0xd4615e3bd6714ba9L,0xaf012b78369b0ba7L,0x108d36d955aL,"jetbrains.mps.lang.pattern.structure.LinkPatternVariableDeclaration"),ref),MetaAdapterFactory.getConcept(0xd4615e3bd6714ba9L,0xaf012b78369b0ba7L,0x108d36d955aL,"jetbrains.mps.lang.pattern.structure.LinkPatternVariableDeclaration"));
  }
 else {
    AttributeOperations.createAndSetAttrbiute(node,new IAttributeDescriptor.NodeAttribute(MetaAdapterFactory.getConcept(0xd4615e3bd6714ba9L,0xaf012b78369b0ba7L,0x108a9cb478fL,"jetbrains.mps.lang.pattern.structure.Pattern")),MetaAdapterFactory.getConcept(0xd4615e3bd6714ba9L,0xaf012b78369b0ba7L,0x108a9cb4793L,"jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration"));
  }
}
