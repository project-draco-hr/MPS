{
  EditorCell contextCell=context.getSelectedCell();
  SNode node=contextCell.getSNode();
  if (contextCell.isReferenceCell()) {
    String role=contextCell.getRole();
    AttributeOperations.createAndSetAttrbiute(node,new IAttributeDescriptor.LinkAttribute(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.pattern.structure.LinkPatternVariableDeclaration"),role),"jetbrains.mps.lang.pattern.structure.LinkPatternVariableDeclaration");
  }
 else {
    AttributeOperations.createAndSetAttrbiute(node,new IAttributeDescriptor.NodeAttribute(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.pattern.structure.Pattern")),"jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration");
  }
}
