{
  if (stream.readByte() != 77)   throw new IOException("bad stream: no model header start marker");
  SModelHeader result=new SModelHeader();
  result.setUID(stream.readString());
  result.setPersistenceVersion(stream.readInt());
  result.setVersion(stream.readInt());
  result.setDoNotGenerate(stream.readBoolean());
  for (int size=stream.readInt(); size > 0; size--) {
    result.setOptionalProperty(stream.readString(),stream.readString());
  }
  return result;
}
