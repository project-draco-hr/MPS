{
  MakeSequence makeSeq=new MakeSequence();
  makeSeq.prepareClusters(inputRes);
  makeSeq.prepareScipts(defaultScript,null);
  Iterable<Cluster> clInput=makeSeq.getClusters();
  Iterable<IScript> scripts=Sequence.fromIterable(clInput).select(new ISelector<Cluster,IScript>(){
    public IScript select(    Cluster cluster){
      return cluster.getScript();
    }
  }
);
  List<List<IResource>> clusteredInput=ListSequence.fromList(new ArrayList<List<IResource>>());
  for (  Cluster cc : clInput) {
    List<IResource> l=ListSequence.fromList(new ArrayList<IResource>());
    ListSequence.fromList(l).addSequence(Sequence.fromIterable(cc.getResources()));
    ListSequence.fromList(clusteredInput).addElement(l);
  }
  return processClusteredInput(clusteredInput,scripts,controller,monitor);
}
