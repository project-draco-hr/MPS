{
  VirtualFile file=context.getVirtualFile();
  if (!(file instanceof MPSNodeVirtualFile))   return false;
  MPSNodeVirtualFile nodeVirtualFile=(MPSNodeVirtualFile)file;
  Project project=context.getProject();
  ProjectView projectView=ProjectView.getInstance(project);
  if (projectView == null)   return false;
  AbstractProjectViewPane currentPane=projectView.getCurrentProjectViewPane();
  if (currentPane instanceof FavoritesProjectPane) {
    FavoritesProjectPane currentFavoritesPane=(FavoritesProjectPane)currentPane;
    MPSFavoritesManager favoritesManager=project.getComponent(MPSFavoritesManager.class);
    if (favoritesManager == null)     return false;
    String name=currentFavoritesPane.getSubId();
    List<Object> objects=favoritesManager.getRoots(name);
    if (getAvailableNodes(objects).contains(nodeVirtualFile.getNode())) {
      return true;
    }
  }
  return false;
}
