{
  VirtualFile file=context.getVirtualFile();
  if (!(file instanceof MPSNodeVirtualFile))   return false;
  MPSNodeVirtualFile nodeVirtualFile=(MPSNodeVirtualFile)file;
  Project project=context.getProject();
  FavoritesProjectPane currentFavoritesPane=FavoritesUtil.getCurrentPane(project);
  if (currentFavoritesPane != null) {
    MPSFavoritesManager favoritesManager=project.getComponent(MPSFavoritesManager.class);
    if (favoritesManager == null)     return false;
    String name=currentFavoritesPane.getSubId();
    List<Object> objects=favoritesManager.getRoots(name);
    if (getAvailableNodes(objects).contains(nodeVirtualFile.getNode())) {
      return true;
    }
  }
  return false;
}
