{
  boolean left=SNodeOperations.hasRole(expr,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1081773326031l,1081773367580l,"leftExpression"));
  boolean right=SNodeOperations.hasRole(expr,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1081773326031l,1081773367579l,"rightExpression"));
  if (!(SNodeOperations.isInstanceOf(TypeChecker.getInstance().getTypeOf(binOp),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068431790189l,"jetbrains.mps.baseLanguage.structure.Type"))) || !(SNodeOperations.isInstanceOf(TypeChecker.getInstance().getTypeOf(expr),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068431790189l,"jetbrains.mps.baseLanguage.structure.Type")))) {
    return 0;
  }
  SNode opType=SNodeOperations.cast(TypeChecker.getInstance().getTypeOf(binOp),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068431790189l,"jetbrains.mps.baseLanguage.structure.Type"));
  SNode exprType=SNodeOperations.cast(TypeChecker.getInstance().getTypeOf(expr),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068431790189l,"jetbrains.mps.baseLanguage.structure.Type"));
  SNode oppositeOp=null;
  if (left) {
    oppositeOp=SLinkOperations.getTarget(binOp,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1081773326031l,1081773367579l,"rightExpression"));
  }
  if (right) {
    oppositeOp=SLinkOperations.getTarget(binOp,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1081773326031l,1081773367580l,"leftExpression"));
  }
  SNode oppExprType=SNodeOperations.cast(TypeChecker.getInstance().getTypeOf(oppositeOp),MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068431790189l,"jetbrains.mps.baseLanguage.structure.Type"));
  if (SNodeOperations.isInstanceOf(TypeChecker.getInstance().getTypeOf(binOp),MetaAdapterFactory.getConcept(new UUID(3676340747305173022l,-6911132873973321185l),4815887568697030518l,"jetbrains.mps.baseLanguage.math.structure.MatrixType")) && (SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1092119917967l,"jetbrains.mps.baseLanguage.structure.MulExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068581242875l,"jetbrains.mps.baseLanguage.structure.PlusExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068581242869l,"jetbrains.mps.baseLanguage.structure.MinusExpression")))) {
    return 0;
  }
 else {
    if (SNodeOperations.isInstanceOf(oppExprType,MetaAdapterFactory.getConcept(new UUID(3676340747305173022l,-6911132873973321185l),1237218038292l,"jetbrains.mps.baseLanguage.math.structure.MathPrimitiveType")) || SNodeOperations.isInstanceOf(exprType,MetaAdapterFactory.getConcept(new UUID(3676340747305173022l,-6911132873973321185l),1237218038292l,"jetbrains.mps.baseLanguage.math.structure.MathPrimitiveType"))) {
      if (SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068581242875l,"jetbrains.mps.baseLanguage.structure.PlusExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068581242869l,"jetbrains.mps.baseLanguage.structure.MinusExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1095950406618l,"jetbrains.mps.baseLanguage.structure.DivExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1092119917967l,"jetbrains.mps.baseLanguage.structure.MulExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1224500764161l,"jetbrains.mps.baseLanguage.structure.BitwiseAndExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1224500799915l,"jetbrains.mps.baseLanguage.structure.BitwiseXorExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1224500790866l,"jetbrains.mps.baseLanguage.structure.BitwiseOrExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(3676340747305173022l,-6911132873973321185l),1238402702427l,"jetbrains.mps.baseLanguage.math.structure.DecimalBinaryOperation"))) {
        return pickExplicitWidening(exprType,opType);
      }
 else       if (SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1068580123152l,"jetbrains.mps.baseLanguage.structure.EqualsExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1073239437375l,"jetbrains.mps.baseLanguage.structure.NotEqualsExpression")) || SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1081506773034l,"jetbrains.mps.baseLanguage.structure.LessThanExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1081506762703l,"jetbrains.mps.baseLanguage.structure.GreaterThanExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1153417849900l,"jetbrains.mps.baseLanguage.structure.GreaterThanOrEqualsExpression"))|| SNodeOperations.isInstanceOf(binOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1153422305557l,"jetbrains.mps.baseLanguage.structure.LessThanOrEqualsExpression"))) {
        if (SNodeOperations.isInstanceOf(oppositeOp,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1070534058343l,"jetbrains.mps.baseLanguage.structure.NullLiteral")) || SNodeOperations.isInstanceOf(expr,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1070534058343l,"jetbrains.mps.baseLanguage.structure.NullLiteral"))) {
          return 0;
        }
        return pickExplicitWidening(exprType,join(exprType,oppExprType));
      }
 else {
        return 0;
      }
    }
 else {
      return 0;
    }
  }
}
