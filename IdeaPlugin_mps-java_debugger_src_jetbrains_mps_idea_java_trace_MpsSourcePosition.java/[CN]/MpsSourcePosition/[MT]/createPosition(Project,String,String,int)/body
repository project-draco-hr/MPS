{
  final GeneratedSourcePosition sourcePosition=GeneratedSourcePosition.fromLocation(project,typeName,fileName,lineNumber);
  if (sourcePosition.getNode() == null) {
    return null;
  }
  final SRepository repo=ProjectHelper.getProjectRepository(project);
  final boolean isSolutionIdea=new ModelAccessHelper(repo).runReadAction(new Computable<Boolean>(){
    @Override public Boolean compute(){
      SNode node=sourcePosition.getNode().resolve(repo);
      if (node == null) {
        return false;
      }
      SModel modelDescriptor=node.getModel();
      SModule module=modelDescriptor.getModule();
      return module instanceof SolutionIdea;
    }
  }
);
  return isSolutionIdea ? new MpsSourcePosition(sourcePosition,project) : null;
}
