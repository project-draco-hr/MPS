{
  SNodePointer rootPointer=ModelAccess.instance().runReadAction(new Computable<SNodePointer>(){
    @Override public SNodePointer compute(){
      SNode root=myNodePointer.getNode().getTopmostAncestor();
      return new SNodePointer(root.getModel() == null ? null : root);
    }
  }
);
  return MPSNodesVirtualFileSystem.getInstance().getFileFor(rootPointer);
}
