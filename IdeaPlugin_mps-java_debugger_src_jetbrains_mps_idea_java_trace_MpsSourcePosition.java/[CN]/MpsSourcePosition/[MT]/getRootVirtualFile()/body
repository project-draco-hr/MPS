{
  SNodeReference rootPointer=ModelAccess.instance().runReadAction(new Computable<SNodeReference>(){
    @Override public SNodeReference compute(){
      SNode root=myNodePointer.resolve(MPSModuleRepository.getInstance()).getContainingRoot();
      return new jetbrains.mps.smodel.SNodePointer(root.getModel() == null ? null : root);
    }
  }
);
  return MPSNodesVirtualFileSystem.getInstance().getFileFor(rootPointer);
}
