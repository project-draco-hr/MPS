{
  final SRepository repo=ProjectHelper.getProjectRepository(myProject);
  SNodeReference rootPointer=new ModelAccessHelper(repo).runReadAction(new Computable<SNodeReference>(){
    @Override public SNodeReference compute(){
      SNode resolved=myNodePointer.resolve(repo);
      return resolved == null ? null : resolved.getContainingRoot().getReference();
    }
  }
);
  return rootPointer == null ? getVirtualFile() : NodeVirtualFileSystem.getInstance().getFileFor(repo,rootPointer);
}
