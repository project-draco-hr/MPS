{
  Set<IModule> runtimeDependencies=new HashSet<IModule>();
  for (  ModuleReference moduleReference : moduleReferences) {
    IModule module=ModuleRepositoryFacade.getInstance().getModule(moduleReference);
    if (module instanceof Language) {
      collectRuntimeModules(runtimeDependencies,(Language)module);
    }
 else     if (module instanceof Solution && !(module instanceof SolutionIdea)) {
      collectRuntimeModules(runtimeDependencies,(Solution)module);
    }
  }
  return runtimeDependencies;
}
