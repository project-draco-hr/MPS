{
  GraphLayout newLayout=new GraphLayout((layout.getGraph()));
  Map<INode,Rectangle> nodeLayout=MapSequence.fromMap(new HashMap<INode,Rectangle>());
  for (  INode node : SetSequence.fromSet(MapSequence.fromMap(nodeLayout).keySet())) {
    Rectangle rect=MapSequence.fromMap(nodeLayout).get(node);
    int newX=rect.x + xShift;
    int newY=rect.y + yShift;
    newLayout.setLayoutFor(node,new Rectangle(newX,newY,rect.width,rect.height));
  }
  Map<IEdge,List<Point>> edgeLayout=layout.getEdgeLayout();
  for (  IEdge edge : SetSequence.fromSet(MapSequence.fromMap(edgeLayout).keySet())) {
    List<Point> newList=ListSequence.fromList(new ArrayList<Point>());
    for (    Point p : ListSequence.fromList(MapSequence.fromMap(edgeLayout).get(edge))) {
      ListSequence.fromList(newList).addElement(new Point(p.x + xShift,p.y + yShift));
    }
    newLayout.setLayoutFor(edge,newList);
  }
  Map<IEdge,Rectangle> labelLayout=layout.getLabelLayout();
  for (  IEdge edge : SetSequence.fromSet(MapSequence.fromMap(labelLayout).keySet())) {
    Rectangle rect=MapSequence.fromMap(labelLayout).get(edge);
    int newX=rect.x + xShift;
    int newY=rect.y + yShift;
    newLayout.setLabelLayout(edge,new Rectangle(newX,newY,rect.width,rect.height));
  }
  return newLayout;
}
