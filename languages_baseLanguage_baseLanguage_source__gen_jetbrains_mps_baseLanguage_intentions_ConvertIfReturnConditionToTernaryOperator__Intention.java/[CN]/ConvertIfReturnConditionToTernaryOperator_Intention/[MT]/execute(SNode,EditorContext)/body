{
  SNode ternaryOperator=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.TernaryOperatorExpression",null);
  SLinkOperations.setTarget(ternaryOperator,"condition",SLinkOperations.getTarget(node,"condition",true),true);
  SLinkOperations.setTarget(ternaryOperator,"ifTrue",IntentionUtils.getReturnedExpression(SLinkOperations.getTarget(node,"ifTrue",true)),true);
  SLinkOperations.setTarget(ternaryOperator,"ifFalse",IntentionUtils.getReturnedExpression(SLinkOperations.getTarget(node,"ifFalseStatement",true)),true);
  SNode returnStatement=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ReturnStatement",null);
  SLinkOperations.setTarget(returnStatement,"expression",ternaryOperator,true);
  SNodeOperations.replaceWithAnother(node,returnStatement);
}
