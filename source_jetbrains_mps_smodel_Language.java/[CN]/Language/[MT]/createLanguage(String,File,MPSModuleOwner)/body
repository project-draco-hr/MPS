{
  Language language=new Language();
  SModel descriptorModel=ProjectModels.createDescriptorFor(language).getSModel();
  descriptorModel.setLoading(true);
  LanguageDescriptor languageDescriptor=LanguageDescriptor.newInstance(descriptorModel);
  descriptorModel.addRoot(languageDescriptor);
  languageDescriptor.setNamespace(languageNamespace);
  ModelRoot modelRoot=ModelRoot.newInstance(descriptorModel);
  modelRoot.setPath(new File(descriptorFile.getParentFile(),LANGUAGE_MODELS).getAbsolutePath());
  modelRoot.setPrefix(languageNamespace);
  languageDescriptor.addModelRoot(modelRoot);
  modelRoot=ModelRoot.newInstance(descriptorModel);
  modelRoot.setPath(new File(descriptorFile.getParentFile(),LANGUAGE_ACCESSORIES).getAbsolutePath());
  modelRoot.setPrefix(languageNamespace);
  languageDescriptor.addModelRoot(modelRoot);
  language.myDescriptorFile=descriptorFile;
  language.myLanguageDescriptor=languageDescriptor;
  MPSModuleRepository.getInstance().addModule(language,moduleOwner);
  language.updateDependenciesAndGenerators();
  return language;
}
