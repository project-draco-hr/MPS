{
  Language language=new Language();
  SModel descriptorModel=ProjectModelDescriptor.createDescriptorFor(language).getSModel();
  descriptorModel.setLoading(true);
  LanguageDescriptor languageDescriptor=new LanguageDescriptor(descriptorModel);
  descriptorModel.addRoot(languageDescriptor);
  languageDescriptor.setNamespace(languageNamespace);
  ModelRoot modelRoot=new ModelRoot(descriptorModel);
  modelRoot.setPath(new File(descriptorFile.getParentFile(),"languageModels").getAbsolutePath());
  modelRoot.setPrefix(languageNamespace);
  languageDescriptor.addModelRoot(modelRoot);
  modelRoot=new ModelRoot(descriptorModel);
  modelRoot.setPath(new File(descriptorFile.getParentFile(),"languageAccessories").getAbsolutePath());
  modelRoot.setPrefix(languageNamespace);
  languageDescriptor.addModelRoot(modelRoot);
  language.myDescriptorFile=descriptorFile;
  language.myLanguageDescriptor=languageDescriptor;
  MPSModuleRepository.getInstance().addLanguage(language,moduleOwner);
  language.init();
  return language;
}
