{
  final BytecodeLocator oldLocator=super.getByteCodeLocator();
  return new BytecodeLocator(){
    public byte[] find(    String fqName){
      if (!fqName.startsWith(getModuleUID())) {
        return null;
      }
      if (structureHaveToBeLoadedFromApplicationClassLoader()) {
        String namespace=NameUtil.namespaceFromLongName(fqName);
        String editorPack=getModuleUID() + ".editor";
        String actionsPack=getModuleUID() + ".actions";
        String constraintsPack=getModuleUID() + ".constraints";
        String intentionsPack=getModuleUID() + ".intentions";
        String builderPack=getModuleUID() + ".builder";
        String scriptsPack=getModuleUID() + ".scripts";
        String helginsPack=getModuleUID() + ".helgins";
        String generatorPack=getModuleUID() + ".generator";
        if (namespace.equals(editorPack) || namespace.equals(actionsPack) || namespace.equals(constraintsPack)|| namespace.equals(intentionsPack)|| namespace.equals(builderPack)|| namespace.equals(scriptsPack)|| namespace.equals(helginsPack)|| namespace.startsWith(generatorPack)) {
          return getRuntimeClasspath().getClass(fqName);
        }
        return null;
      }
 else {
        return oldLocator.find(fqName);
      }
    }
    public URL findResource(    String name){
      return oldLocator.findResource(name);
    }
  }
;
}
