{
  final int length=HashUtil.adjustTableLength((int)(capacity / loadFactor));
  this.capacity=capacity;
  if (length != table.length) {
    allocateTable(length);
    final Entry<V>[] table=this.table;
    final int shift=this.shift;
    final int mask=this.mask;
    for (Entry<V> e=back; e != null; e=e.previous) {
      final int index=HashUtil.indexFor(e.key,length,shift,mask);
      e.hashNext=table[index];
      table[index]=e;
    }
  }
}
