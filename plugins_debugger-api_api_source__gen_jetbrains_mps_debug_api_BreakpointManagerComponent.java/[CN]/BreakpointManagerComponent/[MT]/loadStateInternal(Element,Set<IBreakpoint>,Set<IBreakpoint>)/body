{
synchronized (myBreakpoints) {
    SetSequence.fromSet(oldBreakpoints).addSequence(SetSequence.fromSet(myBreakpoints));
    clear();
    List breakpointsElement=state.getChildren();
    for (ListIterator it=breakpointsElement.listIterator(); it.hasNext(); ) {
      Element breakpointElement=(Element)it.next();
      try {
        IBreakpoint breakpoint=myBreakpointsIO.readBreakpoint(breakpointElement);
        if (breakpoint != null) {
          myBreakpoints.add(breakpoint);
        }
 else {
          myUnreadBreakpoints.add(breakpointElement);
        }
      }
 catch (      Throwable t) {
        LOG.error("Error while loading breakpoint from " + breakpointElement,t);
      }
    }
    SetSequence.fromSet(newBreakpoints).addSequence(SetSequence.fromSet(myBreakpoints));
  }
}
