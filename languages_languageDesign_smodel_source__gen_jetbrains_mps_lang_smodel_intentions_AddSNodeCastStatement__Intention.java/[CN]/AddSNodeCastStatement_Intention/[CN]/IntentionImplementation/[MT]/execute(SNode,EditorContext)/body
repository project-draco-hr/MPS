{
  SNode castVariable=SNodeFactoryOperations.createNewNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement",null);
  SNode de=SNodeOperations.cast(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068580123159l,1068580123160l,"condition")),"jetbrains.mps.baseLanguage.structure.DotExpression");
  SNode conceptDeclaration=SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(de,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1197027756228l,1197027833540l,"operation")),"jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation"),MetaAdapterFactory.getContainmentLink(new UUID(8675788371017092295l,-9098312342032910879l),1139621453865l,1177027386292l,"conceptArgument")),"jetbrains.mps.lang.smodel.structure.RefConcept_Reference"),MetaAdapterFactory.getReferenceLink(new UUID(8675788371017092295l,-9098312342032910879l),1177026924588l,1177026940964l,"conceptDeclaration"));
  SNode declaration=SLinkOperations.getTarget(castVariable,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068581242864l,1068581242865l,"localVariableDeclaration"));
  SLinkOperations.setTarget(SNodeFactoryOperations.setNewChild(declaration,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),4972933694980447171l,5680397130376446158l,"type"),"jetbrains.mps.lang.smodel.structure.SNodeType"),MetaAdapterFactory.getReferenceLink(new UUID(8675788371017092295l,-9098312342032910879l),1138055754698l,1138405853777l,"concept"),conceptDeclaration);
  SPropertyOperations.set(declaration,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"),NameUtil.decapitalize(SPropertyOperations.getString(conceptDeclaration,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"))));
  SNode expression=SLinkOperations.getTarget(de,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1197027756228l,1197027771414l,"operand"));
  if (SNodeOperations.isInstanceOf(TypeChecker.getInstance().getTypeOf(expression),"jetbrains.mps.lang.smodel.structure.SNodeType")) {
    SNode nodeTypeCastExpression=SNodeFactoryOperations.setNewChild(declaration,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068431474542l,1068431790190l,"initializer"),"jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression");
    SLinkOperations.setTarget(nodeTypeCastExpression,MetaAdapterFactory.getReferenceLink(new UUID(8675788371017092295l,-9098312342032910879l),1140137987495l,1140138128738l,"concept"),conceptDeclaration);
    SLinkOperations.setTarget(nodeTypeCastExpression,MetaAdapterFactory.getContainmentLink(new UUID(8675788371017092295l,-9098312342032910879l),1140137987495l,1140138123956l,"leftExpression"),SNodeOperations.copyNode(expression));
  }
 else {
    SNode castExpression=SNodeFactoryOperations.setNewChild(declaration,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068431474542l,1068431790190l,"initializer"),"jetbrains.mps.baseLanguage.structure.CastExpression");
    SLinkOperations.setTarget(castExpression,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1070534934090l,1070534934091l,"type"),SNodeOperations.copyNode(SLinkOperations.getTarget(declaration,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),4972933694980447171l,5680397130376446158l,"type"))));
    SLinkOperations.setTarget(castExpression,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1070534934090l,1070534934092l,"expression"),SNodeOperations.copyNode(expression));
  }
  ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068580123159l,1068580123161l,"ifTrue")),MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1068580123136l,1068581517665l,"statement"))).insertElement(0,castVariable);
}
