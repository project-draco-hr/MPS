{
  this.addNodeById("2906110183022219846");
  this.addNodeById("2906110183022219807");
  this.addNodeById("2906110183022219843");
  this.addNodeById("2906110183022354865");
  this.addNodeById("2906110183022432276");
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022219844"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851399l,"root"));
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022219844"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851400l,"leftChild"));
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022219844"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851401l,"rightChild"));
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022354866"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),2854075155748534270l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainerSubConcept")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851399l,"root"));
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022354866"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),2854075155748534270l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainerSubConcept")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851400l,"leftChild"));
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022354866"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),2854075155748534270l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainerSubConcept")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851401l,"rightChild"));
  int initialSize=Sequence.fromIterable(SNodeOperations.getReferences(SNodeOperations.cast(this.getNodeById("2906110183022432277"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")))).count();
  Assert.assertTrue(Sequence.fromIterable(SNodeOperations.getReferences(SNodeOperations.cast(this.getNodeById("2906110183022432277"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")))).where(new IWhereFilter<SReference>(){
    public boolean accept(    SReference it){
      return (SLinkOperations.getTargetNode(it) == null);
    }
  }
).isEmpty());
  SLinkOperations.getTarget(SNodeOperations.cast(this.getNodeById("2906110183022432277"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")),MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851399l,"root")).delete();
  UnregisteredNodes.instance().clear();
  Assert.assertEquals(initialSize,Sequence.fromIterable(SNodeOperations.getReferences(SNodeOperations.cast(this.getNodeById("2906110183022432277"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")))).count());
  Iterable<SReference> brokenReferences=Sequence.fromIterable(SNodeOperations.getReferences(SNodeOperations.cast(this.getNodeById("2906110183022432277"),MetaAdapterFactory.getConcept(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,"jetbrains.mps.lang.smodelTests.structure.ReferenceContainer")))).where(new IWhereFilter<SReference>(){
    public boolean accept(    SReference it){
      return jetbrains.mps.util.SNodeOperations.getTargetNodeSilently(it) == null;
    }
  }
);
  Assert.assertEquals(1,Sequence.fromIterable(brokenReferences).count());
  SReference theReference=Sequence.fromIterable(brokenReferences).first();
  Assert.assertEquals(SPropertyOperations.getString(SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851399l,"root")),MetaAdapterFactory.getProperty(new UUID(-4094437568663370681l,-8968368868337559369l),1071489288298l,1071599776563l,"role")),SLinkOperations.getRole(theReference));
  Assert.assertEquals(SLinkOperations.findLinkDeclaration(MetaAdapterFactory.getReferenceLink(new UUID(-5752535300696554171l,-8216104078447456642l),8758390115028851398l,8758390115028851399l,"root")),SLinkOperations.findLinkDeclaration(theReference));
  Assert.assertNotNull(SLinkOperations.getResolveInfo(theReference));
}
