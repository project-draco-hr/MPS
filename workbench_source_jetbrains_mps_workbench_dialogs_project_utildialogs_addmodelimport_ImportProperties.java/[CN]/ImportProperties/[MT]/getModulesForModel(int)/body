{
  SModelReference modelRef=getModelList().get(numberInList).getModel();
  SModelDescriptor model=SModelRepository.getInstance().getModelDescriptor(modelRef);
  Set<IModule> modules=new HashSet<IModule>();
  if (model.getModule() != null) {
    modules.add(model.getModule());
  }
  modules.retainAll(mySourceModule.getDependenciesManager().getAllDependOnModules());
  modules.add(mySourceModule);
  modules.removeAll(myTargetModule.getDependenciesManager().getAllDependOnModules());
  modules.remove(myTargetModule);
  List<ModuleReference> result=new ArrayList<ModuleReference>();
  for (  IModule module : modules) {
    result.add(module.getModuleReference());
  }
  return result;
}
