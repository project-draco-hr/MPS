{
  SModelReference modelRef=getModelList().get(numberInList).getModel();
  SModelDescriptor model=SModelRepository.getInstance().getModelDescriptor(modelRef);
  Set<IModule> modules=new HashSet<IModule>(model.getModules());
  modules.retainAll(ModuleUtil.getAllDependOnModules(mySourceModule));
  modules.add(mySourceModule);
  modules.removeAll(ModuleUtil.getAllDependOnModules(myTargetModule));
  modules.remove(myTargetModule);
  List<ModuleReference> result=new ArrayList<ModuleReference>();
  for (  IModule module : modules) {
    result.add(module.getModuleReference());
  }
  return result;
}
