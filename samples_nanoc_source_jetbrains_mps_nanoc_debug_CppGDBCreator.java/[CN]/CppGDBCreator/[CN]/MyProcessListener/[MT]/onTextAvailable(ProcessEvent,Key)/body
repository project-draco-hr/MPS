{
  if (!myReadyForInput) {
    String s=event.getText();
    if (s.startsWith("(gdb)")) {
      myReadyForInput=true;
      final SimpleConsoleProcessHandler gdbProcess=(SimpleConsoleProcessHandler)event.getProcessHandler();
      File programFile=new File(myCommand);
      File dir=programFile.getParentFile();
      String workingDir=dir.getAbsolutePath();
      gdbProcess.inputWithFlush("-environment-cd " + workingDir + "\n");
      gdbProcess.inputWithFlush("-file-exec-and-symbols " + myCommand.replace(File.separatorChar,'/') + "\n");
      gdbProcess.inputWithFlush("-break-insert main\n");
      gdbProcess.inputWithFlush("-exec-run\n");
      final GDBEventsHandler eventsHandler=myDebugSession.getGDBEventsHandler();
      eventsHandler.addEventListener(new GDBEventsListener(){
        @Override public void breakpointHit(        GDBAnswer answer){
          eventsHandler.removeEventListener(this);
          connectedToDebuggee(gdbProcess);
        }
        @Override public void processTerminated(        SimpleConsoleProcessHandler gdbProcess){
        }
      }
);
    }
  }
}
