{
  super(20);
  getDocument().addDocumentListener(new DocumentListener(){
    public void insertUpdate(    DocumentEvent e){
      updateCompletion();
    }
    public void removeUpdate(    DocumentEvent e){
      updateCompletion();
    }
    public void changedUpdate(    DocumentEvent e){
      updateCompletion();
    }
  }
);
  addCaretListener(new CaretListener(){
    public void caretUpdate(    CaretEvent e){
      updateCompletion();
    }
  }
);
  registerKeyboardAction(new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      myHint.up();
    }
  }
,KeyStroke.getKeyStroke("UP"),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  registerKeyboardAction(new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      myHint.down();
    }
  }
,KeyStroke.getKeyStroke("DOWN"),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  registerKeyboardAction(new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      myHint.complete();
    }
  }
,KeyStroke.getKeyStroke("ENTER"),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  registerKeyboardAction(new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      myHint.show();
      updateCompletion();
    }
  }
,KeyStroke.getKeyStroke("control SPACE"),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  addKeyListener(new KeyAdapter(){
    public void keyPressed(    KeyEvent e){
      if (e.getKeyCode() == KeyEvent.VK_ESCAPE && myHint.isVisible()) {
        myHint.hide();
        e.consume();
      }
    }
  }
);
}
