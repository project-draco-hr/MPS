{
  Computable<SModule> c=new Computable<SModule>(){
    @Override public SModule compute(){
      return ref.getModuleId() != null ? REPO.getModule(ref.getModuleId()) : REPO.getModuleByFqName(ref.getModuleName());
    }
  }
;
  if (REPO.getModelAccess().canRead()) {
    return c.compute();
  }
  ComputeRunnable<SModule> r=new ComputeRunnable<SModule>(c);
  REPO.getModelAccess().runReadAction(r);
  return r.getResult();
}
