{
  if (SConceptOperations.isSubConceptOf(kind,"jetbrains.mps.build.structure.BuildMacro")) {
    return BuildProject_Behavior.call_getBuildMacroScope_3767587139141108514(thisNode,child);
  }
 else   if (kind == SConceptOperations.findConceptDeclaration("jetbrains.mps.build.structure.BuildSource_JavaOptions")) {
    return new FilteringScope(new SimpleRoleScope(thisNode,SLinkOperations.findLinkDeclaration("jetbrains.mps.build.structure.BuildProject","parts"),"jetbrains.mps.build.structure.BuildSource_JavaOptions"){
      public String getName(      SNode jo){
        String optionsName=SPropertyOperations.getString(SNodeOperations.cast(jo,"jetbrains.mps.build.structure.BuildSource_JavaOptions"),"optionsName");
        return (StringUtils.isEmpty(optionsName) ? "<default options>" : optionsName);
      }
    }
){
      @Override public boolean isExcluded(      SNode node){
        return StringUtils.isEmpty(SPropertyOperations.getString(SNodeOperations.cast(node,"jetbrains.mps.build.structure.BuildSource_JavaOptions"),"optionsName"));
      }
    }
;
  }
 else   if (SConceptOperations.isSubConceptOf(kind,"jetbrains.mps.build.structure.BuildProjectPart")) {
    List<Scope> scopes=ListSequence.fromList(new ArrayList<Scope>());
    ListSequence.fromList(scopes).addElement(ScopeUtil.where(ScopeUtil.simpleRoleScope(thisNode,SLinkOperations.findLinkDeclaration("jetbrains.mps.build.structure.BuildProject","parts")),new _FunctionTypes._return_P1_E0<Boolean,SNode>(){
      public Boolean invoke(      SNode node){
        return SNodeOperations.isInstanceOf(node,INamedConcept_Behavior.call_getFqName_1213877404258(kind));
      }
    }
));
    ListSequence.fromList(scopes).addSequence(Sequence.fromIterable(ScopeUtil.imported(SLinkOperations.getTargets(thisNode,"dependencies",true),kind,child)));
    return ScopeUtil.unique(new CompositeScope(ListSequence.fromList(scopes).toGenericArray(Scope.class)));
  }
  return null;
}
