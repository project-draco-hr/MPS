{
  Class<?> curClass=testClass;
  while (curClass != null) {
    for (    Method method : curClass.getMethods()) {
      if (method.getAnnotation(DynamicSuite.Factory.class) != null) {
        int modifiers=method.getModifiers();
        if (Modifier.isStatic(modifiers) && Modifier.isPublic(modifiers)) {
          try {
            return (Class<?>[])method.invoke(null,testClass);
          }
 catch (          InvocationTargetException e) {
            throw e.getTargetException();
          }
        }
      }
    }
    curClass=curClass.getSuperclass();
  }
  throw new Exception("No public static factory method in class or ots superclasses: " + testClass.getName());
}
