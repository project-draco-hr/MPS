{
{
    SNode outputTargetNode=generator.findOutputNodeByInputAndTemplateNode(getInputNode(),myTemplateTargetNode);
    if (outputTargetNode != null) {
      return outputTargetNode;
    }
  }
{
    SNode outputTargetNode=generator.findOutputNodeByTemplateNode(myTemplateTargetNode,true);
    if (outputTargetNode != null) {
      return outputTargetNode;
    }
  }
{
    SNode templateParentNode=myTemplateSourceNode.getParent();
    SNode outputParentNode=getOutputNode().getParent();
    while (templateParentNode != null && outputParentNode != null) {
      if (templateParentNode.equals(myTemplateTargetNode)) {
        return outputParentNode;
      }
      templateParentNode=templateParentNode.getParent();
      outputParentNode=outputParentNode.getParent();
    }
  }
  return null;
}
