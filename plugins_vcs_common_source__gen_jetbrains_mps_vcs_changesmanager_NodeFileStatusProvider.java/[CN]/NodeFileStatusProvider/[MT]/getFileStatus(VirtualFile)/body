{
  if (!(file instanceof MPSNodeVirtualFile)) {
    return null;
  }
  if (!(ModelAccess.instance().isInEDT())) {
    return FileStatus.NOT_CHANGED;
  }
  MPSNodeVirtualFile nodeFile=(MPSNodeVirtualFile)file;
  SNode root=MPSEditorUtil.getCurrentEditedNode(myProject,nodeFile);
  if (root == null) {
    return null;
  }
  if (SNodeOperations.isDisposed(root)) {
    return null;
  }
  return myMapping.getStatus(root);
}
