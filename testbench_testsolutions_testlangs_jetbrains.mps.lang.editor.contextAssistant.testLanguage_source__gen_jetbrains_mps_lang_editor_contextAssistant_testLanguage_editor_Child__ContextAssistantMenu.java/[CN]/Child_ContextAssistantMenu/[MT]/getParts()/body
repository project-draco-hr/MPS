{
  return Arrays.<MenuPart>asList(new ConditionalMenuPart(){
    @Override protected boolean isApplicable(    ContextAssistantMenu.Context context){
      final EditorContext editorContext=context.getEditorContext();
      final SNode node=context.getNode();
      return new _FunctionTypes._return_P0_E0<Boolean>(){
        public Boolean invoke(){
          if ("error".equals(SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")))) {
            throw new RuntimeException("Intentional exception - ignore this");
          }
          return true;
        }
      }
.invoke();
    }
    @Override protected List<MenuPart> getParts(){
      return Arrays.<MenuPart>asList(new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "exception 1";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
        }
      }
);
    }
  }
,new ActionItemMenuPart(){
    @Override protected String getText(    ContextAssistantMenu.Context context){
      final EditorContext editorContext=context.getEditorContext();
      final SNode node=context.getNode();
      return "exception 2";
    }
    @Override protected void execute(    ContextAssistantMenu.Context context){
      final EditorContext editorContext=context.getEditorContext();
      final SNode node=context.getNode();
      throw new RuntimeException("Intentional exception from 'execute'");
    }
  }
,new SubMenuMenuPart(){
    @Override protected String getText(    EditorContext context,    SNode node){
      return "tree operations";
    }
    @Override protected List<MenuPart> getParts(){
      return Arrays.<MenuPart>asList(new MenuPart[]{new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "delete node";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          SNodeOperations.deleteNode(node);
        }
      }
,new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "add sibling before";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
{
            SNode newNode=SNodeFactoryOperations.createNewNode(SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0x9a629f9aabc94c29L,0xb1b8db7f349f7fbcL,0x4d6a8b533e60aa32L,"jetbrains.mps.lang.editor.contextAssistant.testLanguage.structure.Child")),null);
            SNodeOperations.insertPrevSiblingChild(node,newNode);
            editorContext.selectWRTFocusPolicy(newNode);
          }
        }
      }
});
    }
  }
,new ConditionalMenuPart(){
    @Override protected boolean isApplicable(    ContextAssistantMenu.Context context){
      final EditorContext editorContext=context.getEditorContext();
      final SNode node=context.getNode();
      return SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).contains("a");
    }
    @Override protected List<MenuPart> getParts(){
      return Arrays.<MenuPart>asList(new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "remove all 'a's";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          SPropertyOperations.set(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name"),SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).replaceAll("a",""));
        }
      }
,new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "another ";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
        }
      }
);
    }
  }
,new ConditionalMenuPart(){
    @Override protected boolean isApplicable(    ContextAssistantMenu.Context context){
      final EditorContext editorContext=context.getEditorContext();
      final SNode node=context.getNode();
      return !(SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).endsWith("a"));
    }
    @Override protected List<MenuPart> getParts(){
      return Arrays.<MenuPart>asList(new ActionItemMenuPart(){
        @Override protected String getText(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          return "ensure name ends with 'a'";
        }
        @Override protected void execute(        ContextAssistantMenu.Context context){
          final EditorContext editorContext=context.getEditorContext();
          final SNode node=context.getNode();
          SPropertyOperations.set(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name"),SPropertyOperations.getString(node,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")) + "a");
        }
      }
);
    }
  }
,new IncludeMenuMenuPart(){
    @Nullable @Override protected ContextAssistantMenuLookup getMenuLookup(    ContextAssistantMenu.Context context){
      final SNode node=context.getNode();
      final EditorContext editorContext=context.getEditorContext();
      return new NamedMenuLookup(LanguageRegistry.getInstance(editorContext.getRepository()),MetaAdapterFactory.getConcept(0x9a629f9aabc94c29L,0xb1b8db7f349f7fbcL,0x4d6a8b533e60aa32L,"jetbrains.mps.lang.editor.contextAssistant.testLanguage.structure.Child"),"jetbrains.mps.lang.editor.contextAssistant.testLanguage.editor.NamedMenu");
    }
  }
);
}
