{
  MPSProject mpsProject=MPSOpenProjectRunner.getCurrentMPSProject();
  String moduleUUID=getModuleUUID(klass);
  if (moduleUUID != null) {
    for (    IModule module : ListSequence.<IModule>fromList(mpsProject.getModules())) {
      if (moduleUUID.equals(module.getModuleDescriptor().getUUID())) {
        return module.getOwnModelDescriptors();
      }
    }
    throw new InitializationError("Module with specified UUID: " + moduleUUID + " was not found in MPS project: "+ mpsProject.getProjectFile().getAbsolutePath());
  }
  String modelLongName=getModelLongName(klass);
  if (modelLongName != null) {
    for (    SModelDescriptor modelDescriptor : ListSequence.<SModelDescriptor>fromList(mpsProject.getProjectModels())) {
      if (modelLongName.equals(modelDescriptor.getLongName())) {
        return Collections.singletonList(modelDescriptor);
      }
    }
    throw new InitializationError("Model with specified longName: " + modelLongName + " was not found in MPS project: "+ mpsProject.getProjectFile().getAbsolutePath());
  }
  return mpsProject.getProjectModels();
}
