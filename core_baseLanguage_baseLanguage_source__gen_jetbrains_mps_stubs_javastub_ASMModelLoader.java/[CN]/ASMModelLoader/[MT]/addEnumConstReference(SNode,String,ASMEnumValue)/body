{
  ASMClassType classType=(ASMClassType)enumValue.getType();
  SModelDescriptor targetModel=this.getModelDescriptor(NodeNameUtil.getNamespace(classType.getName()));
  if (sourceNode.getModel().getModelDescriptor() != targetModel) {
    SNodeId nodeId=ASMNodeId.createFieldId(classType.getName(),enumValue.getConstant());
    SReference reference=SReference.create(role,sourceNode,targetModel.getSModelReference(),nodeId);
    sourceNode.addReference(reference);
  }
 else {
    if (sourceNode.getReferent(role) == null) {
      Classifier classifier=this.getClassifier(classType.getName());
      EnumConstantDeclaration constDcl=null;
      if (classifier instanceof EnumClass) {
        EnumClass ec=(EnumClass)classifier;
        for (        EnumConstantDeclaration dcl : ec.getEnumConstants()) {
          if (enumValue.getConstant().equals(dcl.getName())) {
            constDcl=dcl;
            break;
          }
        }
      }
      sourceNode.addReference(SReference.create(role,sourceNode,BaseAdapter.fromAdapter(constDcl)));
    }
  }
}
