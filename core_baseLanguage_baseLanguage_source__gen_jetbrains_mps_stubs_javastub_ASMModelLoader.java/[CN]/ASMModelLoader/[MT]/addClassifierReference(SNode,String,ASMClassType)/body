{
  SModelDescriptor targetModel=this.getModelDescriptor(NodeNameUtil.getNamespace(clsType.getName()));
  if (sourceNode.getModel().getModelDescriptor() != targetModel) {
    SNodeId nodeId=ASMNodeId.createId(clsType.getName());
    SReference reference=SReference.create(role,sourceNode,targetModel.getSModelReference(),nodeId);
    sourceNode.addReference(reference);
  }
 else {
    if (sourceNode.getReferent(role) == null) {
      Classifier classifier=this.getClassifier(clsType.getName());
      if (classifier != null) {
        SNode targetNode=classifier.getNode();
        SReference reference=SReference.create(role,sourceNode,targetNode);
        sourceNode.addReference(reference);
      }
    }
  }
}
