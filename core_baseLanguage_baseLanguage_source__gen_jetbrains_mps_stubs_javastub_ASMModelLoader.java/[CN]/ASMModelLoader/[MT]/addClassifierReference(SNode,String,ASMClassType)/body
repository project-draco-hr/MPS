{
  SModelReference targetModelRef=this.getModelReferenceFor(NodeNameUtil.getNamespace(clsType.getName()));
  if (!(sourceNode.getModel().getSModelReference().equals(targetModelRef))) {
    SNodeId nodeId=ASMNodeId.createId(clsType.getName());
    SReference reference=SReference.create(role,sourceNode,targetModelRef,nodeId);
    sourceNode.addReference(reference);
  }
 else {
    if (sourceNode.getReferent(role) == null) {
      Classifier classifier=this.getClassifier(NameUtil.shortNameFromLongName(clsType.getName()));
      if (classifier != null) {
        SNode targetNode=classifier.getNode();
        SReference reference=SReference.create(role,sourceNode,targetNode);
        sourceNode.addReference(reference);
      }
    }
  }
}
