{
  AnnotationInstance result=AnnotationInstance.newInstance(model);
  ASMClassType c=(ASMClassType)annotation.getType();
  this.addClassifierReference(result.getNode(),AnnotationInstance.ANNOTATION,c);
  Map<String,Object> values=annotation.getValues();
  for (  String key : values.keySet()) {
    AnnotationInstanceValue value=AnnotationInstanceValue.newInstance(model);
    this.addAnnotationMethodReference(value.getNode(),AnnotationInstanceValue.KEY,c,key);
    value.setValue(this.getAnnotationValue(values.get(key),model));
    result.addValue(value);
  }
  return result;
}
