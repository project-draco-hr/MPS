{
  SModelReference targetRef=this.getModelReferenceFor(NodeNameUtil.getNamespace(annotationType.getName()));
  if (!(sourceNode.getModel().getSModelReference().equals(targetRef))) {
    SNodeId nodeId=ASMNodeId.createAnnotationMethodId(annotationType.getName(),method);
    SReference reference=SReference.create(role,sourceNode,targetRef,nodeId);
    sourceNode.addReference(reference);
  }
 else {
    Classifier classifier=this.getClassifier(NameUtil.shortNameFromLongName(annotationType.getName()));
    InstanceMethodDeclaration result=null;
    if (classifier instanceof Annotation) {
      Annotation annotation=(Annotation)classifier;
      for (      InstanceMethodDeclaration m : annotation.getMethods()) {
        if (method.equals(m.getName())) {
          result=m;
          break;
        }
      }
    }
    if (sourceNode.getReferent(role) == null) {
      sourceNode.addReference(SReference.create(role,sourceNode,BaseAdapter.fromAdapter(result)));
    }
  }
}
