{
  TextMPSTreeNode root=new TextMPSTreeNode("root",null);
  for (  SModule module : myScope.getModules()) {
    root.add(ProjectModuleTreeNode.createFor(myProject,module));
  }
  for (  SModel model : myScope.getModels()) {
    SModelTreeNode node=new SModelTreeNode((SModelDescriptor)model,null,new ModuleContext((IModule)model.getModule(),myProject));
    root.add(node);
  }
  for (  SNode node : myScope.getRoots()) {
    SNodeTreeNode treeNode=new SNodeTreeNode((jetbrains.mps.smodel.SNode)node,null,new ModuleContext((IModule)((jetbrains.mps.smodel.SNode)node).getModel().getModelDescriptor().getModule(),myProject));
    root.add(treeNode);
  }
  setRootVisible(false);
  setShowsRootHandles(true);
  return root;
}
