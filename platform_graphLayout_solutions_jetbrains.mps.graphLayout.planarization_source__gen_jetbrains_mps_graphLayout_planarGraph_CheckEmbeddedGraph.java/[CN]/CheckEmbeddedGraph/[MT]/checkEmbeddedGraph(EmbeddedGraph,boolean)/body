{
  checkAdjacentFaces(embeddedGraph);
  for (  Face face : ListSequence.fromList(embeddedGraph.getFaces())) {
    if (!(CheckFace.check(face)) || (isRegularFaces && ListSequence.fromList(face.getDarts()).count() < 3)) {
      throw new RuntimeException("bad face: " + face);
    }
    for (    Dart dart : ListSequence.fromList(face.getDarts())) {
      if (embeddedGraph.getFace(dart) != face) {
        throw new RuntimeException("bad dart: " + dart);
      }
    }
  }
  for (  Edge edge : ListSequence.fromList(embeddedGraph.getGraph().getEdges())) {
    List<Dart> darts=embeddedGraph.getDarts(edge);
    if (darts != null) {
      Assert.assertTrue(ListSequence.fromList(darts).count() == 2);
      Set<Node> sources=SetSequence.fromSet(new HashSet<Node>());
      SetSequence.fromSet(sources).addSequence(ListSequence.fromList(darts).<Node>select(new ISelector<Dart,Node>(){
        public Node select(        Dart it){
          return it.getSource();
        }
      }
));
      Assert.assertTrue(SetSequence.fromSet(sources).contains(edge.getSource()));
      Assert.assertTrue(SetSequence.fromSet(sources).contains(edge.getTarget()));
    }
  }
}
