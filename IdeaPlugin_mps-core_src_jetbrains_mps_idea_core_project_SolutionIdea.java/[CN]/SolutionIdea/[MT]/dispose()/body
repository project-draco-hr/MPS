{
  final ProjectLibraryTable projectLibraryTable=(ProjectLibraryTable)ProjectLibraryTable.getInstance(myModule.getProject());
  myModelAccess.runReadAction(new Runnable(){
    @Override public void run(){
      for (      final Library library : projectLibraryTable.getLibraries()) {
        if (ModuleLibraryType.isModuleLibrary(library)) {
          library.getRootProvider().removeRootSetChangedListener(myRootSetListener);
        }
      }
    }
  }
);
  projectLibraryTable.removeListener(myLibrariesListener);
  ApplicationManager.getApplication().getComponent(JdkStubSolutionManager.class).releaseSdk(myModule);
  super.dispose();
  myConnection.disconnect();
}
