{
  for (Iterator<ModelRootDescriptor> i=solutionDescriptor.getModelRootDescriptors().iterator(); i.hasNext(); ) {
    ModelRootDescriptor next=i.next();
    jetbrains.mps.project.structure.model.ModelRoot root=next.getRoot();
    if (root == null || root.getManager() == null)     continue;
    i.remove();
  }
  for (  OrderEntry e : ModuleRootManager.getInstance(myModule).getOrderEntries()) {
    if (!(e instanceof LibraryOrderEntry))     continue;
    LibraryOrderEntry loe=(LibraryOrderEntry)e;
    if (!loe.isModuleLevel())     continue;
    Library library=loe.getLibrary();
    if (library == null)     continue;
    AbstractJavaStubSolutionManager.addModelRoots(solutionDescriptor,library.getFiles(OrderRootType.CLASSES),LanguageID.JAVA_MANAGER);
  }
}
