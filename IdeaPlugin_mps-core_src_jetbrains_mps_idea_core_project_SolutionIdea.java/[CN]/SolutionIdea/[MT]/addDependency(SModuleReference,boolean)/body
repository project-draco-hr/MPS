{
  ModifiableRootModel modifiableModel=ModuleRootManager.getInstance(myModule).getModifiableModel();
  SModule sModule=moduleRef.resolve(getRepository());
  if (sModule instanceof SolutionIdea) {
    Module otherIdeaModule=((SolutionIdea)sModule).getIdeaModule();
    modifiableModel.addModuleOrderEntry(otherIdeaModule);
  }
 else {
    ModuleRuntimeLibrariesImporter.importForUsedModules(myModule,Collections.singleton(moduleRef),modifiableModel);
  }
  modifiableModel.commit();
  return null;
}
