{
  return ModelAccess.instance().runReadAction(new Computable<StructureViewBuilder>(){
    public StructureViewBuilder compute(){
      List<EditorTabDescriptor> tabs=myProject.getComponent(ProjectPluginManager.class).getTabDescriptors();
      SNode node=np.getNode();
      for (      EditorTabDescriptor tab : tabs) {
        SNode baseNode=tab.getBaseNode(node);
        if (baseNode != null && baseNode.getName() != null) {
          return new NodeStructureViewBuilder(myProject,new SNodePointer(baseNode));
        }
      }
      for (      EditorTabDescriptor tab : tabs) {
        List<SNode> nodes=tab.getNodes(node);
        if (!nodes.isEmpty()) {
          return new NodeStructureViewBuilder(myProject,new SNodePointer(node));
        }
      }
      return null;
    }
  }
);
}
