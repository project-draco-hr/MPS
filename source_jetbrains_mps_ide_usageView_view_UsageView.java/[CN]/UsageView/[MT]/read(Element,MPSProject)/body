{
  Element resultProviderXML=element.getChild(RESULT_PROVIDER);
  String resultProviderName=resultProviderXML.getAttribute(CLASS_NAME).getValue();
  try {
    myResultProvider=(IResultProvider)Class.forName(resultProviderName).newInstance();
    myResultProvider.read(resultProviderXML,project);
  }
 catch (  Exception e) {
    LOG.error("Can't find result provider " + resultProviderName);
  }
  Element searchQueryXML=element.getChild(SEARCH_QUERY);
  try {
    mySearchQuery.read(searchQueryXML,project);
    Element toggleToolbarXML=element.getChild(TOOLBAR);
    myOptionsToolbar.read(toggleToolbarXML,project);
    Element treeXML=element.getChild(TREE);
    myTree.read(treeXML,project);
    myTree.setAll(myResultProvider.getResults(mySearchQuery,myContext),myPathProvider);
  }
 catch (  ScopeNotFoundException e) {
    myTree.setEmptyContents();
  }
  updateUI();
}
