{
  boolean cleared=false;
  for (  BaseKeymapChanges keymapDiff : myKeymaps) {
    Keymap keymap=KeymapManager.getInstance().getKeymap(keymapDiff.getScheme());
    if (keymap == null) {
      LOG.error("keymap " + keymapDiff.getScheme() + " is not found");
      return;
    }
    if (keymapDiff.hasShortcutsForAction(action,languageNamespace)) {
      if (!cleared) {
        cleared=true;
        keymap.removeAllActionShortcuts(actionId);
      }
      for (      KeyStroke stroke : keymapDiff.getShortcutsForAction(action,languageNamespace,params)) {
        keymap.addShortcut(actionId,new KeyboardShortcut(stroke,null));
      }
    }
  }
}
