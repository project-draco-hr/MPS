{
  if (root == null)   return;
  if (root.isDirectory()) {
    if (visitedFolders.contains(root))     return;
    visitedFolders.add(root);
  }
  if (!CacheUtil.checkFile(root,myManager))   return;
  if (indicator != null) {
    indicator.setText2(root.getPresentableUrl());
  }
  for (  VirtualFile file : root.getChildren()) {
    if (file.isDirectory()) {
      iterateRecursively(file,processor,indicator,visitedFolders);
    }
 else {
      SingleRootFileViewProvider.doNotCheckFileSizeLimit(file);
      processor.processFile(file);
    }
  }
}
