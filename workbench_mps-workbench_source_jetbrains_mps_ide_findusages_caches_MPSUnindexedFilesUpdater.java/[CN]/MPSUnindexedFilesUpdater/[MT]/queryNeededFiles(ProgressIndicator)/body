{
  final CollectingContentIterator finder=myIndex.createContentIterator(indicator);
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      iterateIndexableFiles(finder);
    }
  }
);
  final List<VirtualFile> files=finder.getFiles();
  return files.toArray(new VirtualFile[files.size()]);
}
