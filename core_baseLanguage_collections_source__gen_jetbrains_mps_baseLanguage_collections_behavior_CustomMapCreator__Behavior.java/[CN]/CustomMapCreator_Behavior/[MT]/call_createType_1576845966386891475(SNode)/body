{
  SNode res=SNodeOperations.copyNode(SLinkOperations.getTarget(SLinkOperations.getTarget(thisNode,"containerDeclaration",false),"containerType",true));
  if (res != null) {
    res.changeModel(AuxilaryRuntimeModel.getDescriptor().getSModel());
  }
  final List<SNode> params=ListSequence.fromList(new ArrayList<SNode>());
  if ((SLinkOperations.getTarget(thisNode,"valueType",true) != null)) {
    ListSequence.fromList(params).addElement(SLinkOperations.getTarget(thisNode,"valueType",true));
  }
  if ((SLinkOperations.getTarget(thisNode,"keyType",true) != null)) {
    ListSequence.fromList(params).addElement(SLinkOperations.getTarget(thisNode,"keyType",true));
  }
  ListSequence.fromList(SNodeOperations.getChildren(res)).toListSequence().visitAll(new IVisitor<SNode>(){
    public void visit(    SNode chld){
      if (SNodeOperations.isInstanceOf(chld,"jetbrains.mps.baseLanguage.structure.TypeVariableReference")) {
        SNodeOperations.replaceWithAnother(chld,SNodeOperations.copyNode(ListSequence.fromList(params).removeLastElement()));
      }
    }
  }
);
  return res;
}
