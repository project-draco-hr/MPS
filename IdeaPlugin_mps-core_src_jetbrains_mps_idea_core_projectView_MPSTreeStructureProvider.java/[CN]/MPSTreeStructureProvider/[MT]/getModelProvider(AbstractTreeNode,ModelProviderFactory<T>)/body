{
  if (!(treeNode instanceof MPSPsiModelTreeNode))   return null;
  MPSPsiModel psiModel=((MPSPsiModelTreeNode)treeNode).getModel();
  if (psiModel == null || !psiModel.isValid())   return null;
  Project project=treeNode.getProject();
  EditableSModel modelDescriptor=getModel(treeNode);
  jetbrains.mps.project.Project mpsProject=ProjectHelper.toMPSProject(project);
  if (mpsProject == null || modelDescriptor == null)   return null;
  return createProvider.create(modelDescriptor,modelDescriptor,mpsProject);
}
