{
  myRootNode=typeCheckingContext.getNode();
  myTypeCheckingContext=typeCheckingContext;
  if (!myTypeCheckingContext.isSingleTypeComputation()) {
    myTypeSystemComponent=new TypeSystemComponent(TypeChecker.getInstance(),state,this);
    myNonTypeSystemComponent=new NonTypeSystemComponent(TypeChecker.getInstance(),this);
    myModelListener=new MyModelListener();
    myModelListenerManager=new MyModelListenerManager(myModelListener);
    myModelListenerManager.track(myRootNode);
    myTypeRecalculatedListener=new MyTypeRecalculatedListener();
    myEvents=new ArrayList<SModelEvent>();
  }
 else {
    myTypeSystemComponent=new SingleTypeSystemComponent(TypeChecker.getInstance(),state,this);
  }
}
