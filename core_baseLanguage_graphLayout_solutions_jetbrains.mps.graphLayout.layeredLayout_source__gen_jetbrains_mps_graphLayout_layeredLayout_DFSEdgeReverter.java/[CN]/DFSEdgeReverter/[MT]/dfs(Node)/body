{
  MapSequence.fromMap(myDfsState).put(node,1);
  for (  Edge edge : ListSequence.fromList(node.getOutEdges())) {
    Node target=edge.getTarget();
    Integer state=MapSequence.fromMap(myDfsState).get(target);
    if (state == 1) {
      SetSequence.fromSet(myToRevert).addElement(edge);
    }
    if (state == 0) {
      dfs(target);
    }
  }
  MapSequence.fromMap(myDfsState).put(node,2);
}
