{
  if (!ThreadUtils.isEventDispatchThread()) {
    throw new RuntimeException("Rebuild now can be only called from UI thread");
  }
  runRebuildAction(new Runnable(){
    public void run(){
      if (getModel().getRoot() instanceof MPSTreeNode && isDisplayable()) {
        (getRootNode()).removeThisAndChildren();
      }
      MPSTreeNode root=rebuild();
      setRootNode(root);
    }
  }
,true);
}
