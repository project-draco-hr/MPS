{
  if (myExpadingNodes.contains(node))   return;
  myExpadingNodes.add(node);
  try {
    TextTreeNode progressNode=new TextTreeNode("loading...");
    node.add(progressNode);
    ((DefaultTreeModel)getModel()).nodeStructureChanged(node);
    expandPath(new TreePath(progressNode.getPath()));
    paint(getGraphics());
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        node.init();
      }
    }
);
    if (node.hasChild(progressNode)) {
      node.remove(progressNode);
      ((DefaultTreeModel)getModel()).nodeStructureChanged(node);
    }
  }
  finally {
    myExpadingNodes.remove(node);
  }
}
