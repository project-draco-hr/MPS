{
  SNode node=((SNodePointer)getNodePointer()).resolve(MPSModuleRepository.getInstance());
  SNode parentNode=SNodeOperations.getParent(node);
  if (parentNode == null) {
    String virtualPackage=SPropertyOperations.getString(node,"virtualPackage");
    if ((virtualPackage == null || virtualPackage.length() == 0)) {
      return null;
    }
 else {
      return new VirtualPackageFeature(getModelReference(),virtualPackage);
    }
  }
  return new NodeFeature(new SNodePointer(parentNode));
}
