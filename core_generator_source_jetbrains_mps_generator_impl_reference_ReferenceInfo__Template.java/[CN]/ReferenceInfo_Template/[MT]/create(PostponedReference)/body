{
  SNode outputTargetNode=doResolve_Straightforward(ref);
  if (outputTargetNode != null) {
    return createStaticReference(ref,outputTargetNode);
  }
  if (myResolveInfo != null) {
    final SReference dr=createDynamicReference(ref,myResolveInfo,new DynamicReferenceOrigin(myTemplateSourceNode,myContext.getInput().getReference()));
    ref.getGenerator().registerDynamicReference(dr);
    return dr;
  }
  return createInvalidReference(ref,null);
}
