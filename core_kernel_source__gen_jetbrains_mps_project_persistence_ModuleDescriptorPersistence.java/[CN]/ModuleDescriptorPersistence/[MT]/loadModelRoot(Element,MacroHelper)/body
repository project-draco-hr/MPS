{
  Memento m=new MementoImpl();
  readMemento(m,modelRootElement,macroHelper);
  String type=modelRootElement.getAttributeValue("type");
  if (type == null) {
    Memento manager=m.getChild("manager");
    if (manager == null) {
      type=PersistenceRegistry.DEFAULT_MODEL_ROOT;
    }
 else     if (matches(manager,LanguageID.JAVA_MANAGER)) {
      type="java_classes";
      String path=m.get("path");
      m=new MementoImpl();
      m.put("path",path);
    }
 else {
      type=PersistenceRegistry.OBSOLETE_MODEL_ROOT;
    }
  }
  return new ModelRootDescriptor(type,m);
}
