{
  for (  String key : memento.getKeys()) {
    element.setAttribute(key,(isPathAttribute(key) ? macroHelper.shrinkPath(memento.get(key)) : memento.get(key)));
  }
  for (  Memento childMemento : memento.getChildren()) {
    Element child=new Element(childMemento.getType());
    writeMemento(childMemento,child,macroHelper);
    element.addContent(child);
  }
}
