{
  if (myThis.getSolutionPath().length() == 0) {
    myThis.getDialog().setErrorText("Enter solution directory");
    return;
  }
  if (myThis.getSolutionName().length() == 0) {
    myThis.getDialog().setErrorText("Enter solution name");
    return;
  }
  if (MPSModuleRepository.getInstance().getModuleByUID(myThis.getSolutionName()) != null) {
    myThis.getDialog().setErrorText("Duplicate solution name");
    return;
  }
  String descriptorPath=myThis.getSolutionPath() + File.separator + myThis.getSolutionName()+ ".msd";
  File file=new File(descriptorPath);
  if (file.exists()) {
    myThis.getDialog().setErrorText("Solution file already exists");
    return;
  }
  File dir=file.getParentFile();
  if (!(dir.isAbsolute())) {
    myThis.getDialog().setErrorText("Path should be absolute");
    return;
  }
  if (!(dir.exists())) {
    if (!(DirectoryUtil.askToCreateNewDirectory((Frame)myThis.getDialog().getOwner(),dir))) {
      myThis.getDialog().setErrorText("Enter correct path");
      return;
    }
  }
  final File descriptorFile=myThis.createNewSolutionDescriptorFile(descriptorPath);
  if (descriptorFile == null) {
    myThis.getDialog().setErrorText("Can't create " + descriptorPath);
    return;
  }
  myThis.getDialog().dispose();
  CommandProcessor.instance().executeCommand(new Runnable(){
    public void run(){
      myThis.setResult(myThis.createNewSolution(myThis.getSolutionName(),FileSystem.getFile(descriptorFile)));
    }
  }
);
}
