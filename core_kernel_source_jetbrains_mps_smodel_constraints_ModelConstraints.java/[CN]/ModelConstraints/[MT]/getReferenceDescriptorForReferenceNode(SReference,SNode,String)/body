{
  SNode scopeReference=((jetbrains.mps.smodel.SNode)referenceNode).getLinkDeclaration(role);
  if (scopeReference == null) {
    return new ErrorReferenceDescriptor("can't find link for role '" + role + "' in '"+ referenceNode.getConcept().getId()+ "'");
  }
  SNode concept=((jetbrains.mps.smodel.SNode)referenceNode).getConceptDeclarationNode();
  return new OkReferenceDescriptor(concept,SModelUtil.getGenuineLinkRole(scopeReference),reference != null,role,0,referenceNode,SModelUtil.getLinkDeclarationTarget(scopeReference),referenceNode.getParent(),((jetbrains.mps.smodel.SNode)referenceNode).getRoleLink(),reference);
}
