{
  ModelAccess.assertLegalRead();
  SNode currentNode=node;
  ConceptRegistry registry=ConceptRegistry.getInstance();
  IOperationContext context=getOperationContext(getModule(node));
  while (currentNode != null) {
    ConstraintsDescriptor descriptor=registry.getConstraintsDescriptor(currentNode.getConcept().getId());
    if (!descriptor.canBeAncestor(currentNode,childNode,childConcept,context,checkingNodeContext)) {
      return false;
    }
    currentNode=currentNode.getParent();
  }
  return true;
}
