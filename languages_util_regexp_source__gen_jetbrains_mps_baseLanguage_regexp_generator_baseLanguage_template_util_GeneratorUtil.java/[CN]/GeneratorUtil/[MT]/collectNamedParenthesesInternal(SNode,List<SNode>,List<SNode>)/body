{
  if (ListSequence.<SNode>fromList(seen).contains(node)) {
    return;
  }
  ListSequence.<SNode>fromList(seen).addElement(node);
  for (  SNode ref : SNodeOperations.getDescendants(node,"jetbrains.mps.baseLanguage.regexp.structure.RegexpDeclarationReferenceRegexp",false,new String[]{})) {
    if (SLinkOperations.getTarget(ref,"regexp",false) != null) {
      collectNamedParenthesesInternal(SLinkOperations.getTarget(ref,"regexp",false),seen,found);
    }
  }
  for (  SNode mpe : SNodeOperations.getDescendants(node,"jetbrains.mps.baseLanguage.regexp.structure.MatchParensRegexp",false,new String[]{})) {
    ListSequence.<SNode>fromList(found).addElement(mpe);
  }
}
