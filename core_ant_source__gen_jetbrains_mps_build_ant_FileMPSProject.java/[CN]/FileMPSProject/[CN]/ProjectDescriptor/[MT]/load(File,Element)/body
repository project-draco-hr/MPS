{
  FileMPSProject.ProjectDescriptor result_dkknya_a0a1a=this;
  final String result_dkknya_a0a0a1a=file.getName();
  result_dkknya_a0a1a.setName(result_dkknya_a0a0a1a);
  if (root == null) {
    return;
  }
  List<Element> moduleList=ListSequence.fromList(new ArrayList<Element>());
  ListSequence.fromList(moduleList).addSequence(Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"projectSolutions"),"solutionPath")));
  ListSequence.fromList(moduleList).addSequence(Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"projectLanguages"),"languagePath")));
  ListSequence.fromList(moduleList).addSequence(Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"projectDevkits"),"devkitPath")));
  ListSequence.fromList(moduleList).addSequence(Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"projectModules"),"modulePath")));
  for (  Element moduleElement : ListSequence.fromList(moduleList)) {
    Path modulePath=new Path();
    Path result_dkknya_a1a9a0a1a=modulePath;
    final String result_dkknya_a0a1a9a0a1a=MacrosFactory.forProjectFile(FileSystem.getInstance().getFileByPath(file.getPath())).expandPath(moduleElement.getAttributeValue("path"));
    result_dkknya_a1a9a0a1a.setPath(result_dkknya_a0a1a9a0a1a);
    final String result_dkknya_a1a1a9a0a1a=moduleElement.getAttributeValue("folder");
    result_dkknya_a1a9a0a1a.setMPSFolder(result_dkknya_a1a1a9a0a1a);
    result_dkknya_a0a1a.addModule(modulePath);
  }
  for (  Element e : Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"genConfs"),"genConfModels"))) {
    ModelsTestConfiguration tc=new ModelsTestConfiguration();
    tc.setName(e.getAttributeValue("name"));
    for (    Element me : Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(e,"models"),"model"))) {
      tc.addModel(SModelReference.fromString(me.getAttributeValue("modelRef")));
    }
    result_dkknya_a0a1a.getTestConfigurations().add(tc);
  }
  for (  Element e : Sequence.fromIterable(jetbrains.mps.project.persistence.JDOMUtil.children(jetbrains.mps.project.persistence.JDOMUtil.first(root,"genConfs"),"genConfModule"))) {
    ModuleTestConfiguration tc=new ModuleTestConfiguration();
    tc.setName(e.getAttributeValue("name"));
    String moduleRef=e.getAttributeValue("moduleRef");
    if (moduleRef != null) {
      tc.setModuleRef(ModuleReference.fromString(moduleRef));
      result_dkknya_a0a1a.getTestConfigurations().add(tc);
    }
  }
}
