{
  myErrors=null;
  Set<ModuleReference> existingModules=getModuleReferences();
  for (  Path modulePath : projDesc.getModules()) {
    String path=modulePath.getPath();
    IFile descriptorFile=FileSystem.getInstance().getFileByPath(path);
    if (descriptorFile.exists()) {
      ModuleDescriptor descriptor=ModulesMiner.getInstance().loadModuleDescriptor(descriptorFile);
      if (descriptor != null) {
        ModulesMiner.ModuleHandle moduleHandle=new ModulesMiner.ModuleHandle(descriptorFile,descriptor);
        IModule m=ModuleRepositoryFacade.createModule(moduleHandle,this);
        ModuleReference moduleReference=m.getModuleReference();
        if (!(existingModules.remove(moduleReference))) {
          super.addModule(moduleReference);
        }
      }
 else {
        error("Can't load module from " + descriptorFile.getPath() + " Unknown file type.");
      }
    }
 else {
      error("Can't load module from " + descriptorFile.getPath() + " File doesn't exist.");
    }
  }
  for (  ModuleReference ref : existingModules) {
    super.removeModule(ref);
  }
}
