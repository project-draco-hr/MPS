{
  if (ListSequence.fromList(SModelOperations.nodes(_context.getModel(),MetaAdapterFactory.getConcept(0x6106f6117a7442d1L,0x80deedc5c602bfd1L,0xf301bf106a326e1L,"jetbrains.mps.lang.editor.diagram.structure.CellModel_DiagramNode"))).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap")) == null;
    }
  }
).isNotEmpty() || ListSequence.fromList(SModelOperations.nodes(_context.getModel(),MetaAdapterFactory.getConcept(0x6106f6117a7442d1L,0x80deedc5c602bfd1L,0x58940e88f3ef74c9L,"jetbrains.mps.lang.editor.diagram.structure.CellModel_DiagramConnector"))).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap")) == null;
    }
  }
).isNotEmpty()) {
    SNode de=SModelOperations.createNewNode(_context.getModel(),null,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x116b46a08c4L,"jetbrains.mps.baseLanguage.structure.DotExpression"));
    SLinkOperations.setTarget(de,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x116b46a08c4L,0x116b46a4416L,"operand"),SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0x13781fdf13c3c7bdL,"jetbrains.mps.lang.editor.structure.CellActionMap_FunctionParm_selectedNode"))));
    SLinkOperations.setTarget(de,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x116b46a08c4L,0x116b46b36c4L,"operation"),SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0x7866978ea0f04cc7L,0x81bc4d213d9375e1L,0x1097542784fL,"jetbrains.mps.lang.smodel.structure.Node_DeleteOperation"))));
    final SNode defaultActionMap=_quotation_createNode_x583g4_a0d0a0mg(de,_context.createUniqueName("DefaultDiagramElementActionMap",null));
    SModelOperations.addRootNode(_context.getModel(),defaultActionMap);
    ListSequence.fromList(SModelOperations.nodes(_context.getInputModel(),MetaAdapterFactory.getConcept(0x6106f6117a7442d1L,0x80deedc5c602bfd1L,0xf301bf106a326e1L,"jetbrains.mps.lang.editor.diagram.structure.CellModel_DiagramNode"))).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap")) == null;
      }
    }
).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        SLinkOperations.setTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap"),defaultActionMap);
      }
    }
);
    ListSequence.fromList(SModelOperations.nodes(_context.getInputModel(),MetaAdapterFactory.getConcept(0x6106f6117a7442d1L,0x80deedc5c602bfd1L,0x58940e88f3ef74c9L,"jetbrains.mps.lang.editor.diagram.structure.CellModel_DiagramConnector"))).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap")) == null;
      }
    }
).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        SLinkOperations.setTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,0x1096ade08ceL,"actionMap"),defaultActionMap);
      }
    }
);
  }
}
