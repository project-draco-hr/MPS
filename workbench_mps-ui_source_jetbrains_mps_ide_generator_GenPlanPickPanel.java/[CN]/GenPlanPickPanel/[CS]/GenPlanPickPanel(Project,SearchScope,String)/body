{
  myProject=mpsProject;
  myScope=scope;
  setBorder(IdeBorderFactory.createTitledBorder(title));
  setLayout(new GridBagLayout());
  JLabel l=new JLabel("Model:");
  myModelName=new JTextField();
  myModelName.setEditable(false);
  JButton b=new JButton("...");
  GridBagConstraints c=new GridBagConstraints();
  c.gridx=0;
  c.gridy=0;
  c.anchor=GridBagConstraints.LINE_START;
  add(l,c);
  c.gridx++;
  c.fill=GridBagConstraints.HORIZONTAL;
  c.weightx=1.0;
  add(myModelName,c);
  c.gridx++;
  c.fill=GridBagConstraints.NONE;
  c.weightx=0;
  add(b,c);
  b.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      ArrayList<SModelReference> models=new ModelAccessHelper(myProject.getModelAccess()).runReadAction(new Computable<ArrayList<SModelReference>>(){
        @Override public ArrayList<SModelReference> compute(){
          ArrayList<SModelReference> rv=new ArrayList<SModelReference>();
          for (          SModel m : myScope.getModels()) {
            rv.add(m.getReference());
          }
          return rv;
        }
      }
);
      setPlanModel(CommonChoosers.showModelChooser(myProject,"Pick model with a generation plan",models));
    }
  }
);
}
