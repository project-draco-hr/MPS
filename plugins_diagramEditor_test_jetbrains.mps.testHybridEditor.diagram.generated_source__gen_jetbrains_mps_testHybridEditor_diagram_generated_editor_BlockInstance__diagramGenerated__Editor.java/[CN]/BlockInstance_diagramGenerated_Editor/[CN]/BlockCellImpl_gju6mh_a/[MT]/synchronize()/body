{
  SNode node=getSNode();
  boolean inputPortDiffFound=false;
  ListIterator<SNode> inputPortsIterator=myInputPorts.listIterator();
  for (  SNode port : ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(node,"metaBlock",false),"inMetaPorts",true))) {
    inputPortDiffFound=inputPortDiffFound || !(BlockCell.skipNextIfSame(inputPortsIterator,port));
    if (inputPortDiffFound) {
      inputPortsIterator.add(port);
    }
  }
  while (inputPortsIterator.hasNext()) {
    inputPortsIterator.next();
    inputPortsIterator.remove();
  }
  boolean outputPortDiffFound=false;
  ListIterator<SNode> outputPortsIterator=myOutputPorts.listIterator();
  for (  SNode port : ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(node,"metaBlock",false),"outMetaPorts",true))) {
    outputPortDiffFound=outputPortDiffFound || !(BlockCell.skipNextIfSame(outputPortsIterator,port));
    if (outputPortDiffFound) {
      outputPortsIterator.add(port);
    }
  }
  while (outputPortsIterator.hasNext()) {
    outputPortsIterator.next();
    outputPortsIterator.remove();
  }
}
