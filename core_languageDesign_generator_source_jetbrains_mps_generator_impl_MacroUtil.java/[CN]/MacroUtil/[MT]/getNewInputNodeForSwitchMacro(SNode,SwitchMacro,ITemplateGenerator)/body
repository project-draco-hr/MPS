{
  SourceSubstituteMacro_SourceNodeQuery query=macro.getSourceNodeQuery();
  if (query == null) {
    return currentInputNode;
  }
  return QueryExecutor.evaluateSourceNodeQuery(currentInputNode,macro.getNode(),query,generator);
}
