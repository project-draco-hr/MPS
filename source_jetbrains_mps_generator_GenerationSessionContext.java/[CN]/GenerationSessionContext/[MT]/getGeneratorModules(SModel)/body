{
  List<Generator> generators=new LinkedList<Generator>();
  if (sourceModel.getUID().getStereotype().equals(SModelStereotype.TEMPLATES)) {
    List<Generator> tlGenerators=BootstrapLanguages.getInstance().getTLBase().getGenerators();
    for (    Generator generator : tlGenerators) {
      if ("jetbrains.mps.transformation.templateGeneratorEngine".equals(generator.getTargetLanguageName())) {
        generators.add(generator);
        return generators;
      }
    }
  }
  List<Language> sourceLanguages=sourceModel.getLanguages(myInvocationContext.getScope());
  for (  Language sourceLanguage : sourceLanguages) {
    List<Generator> sourceLanguageGenerators=sourceLanguage.getGenerators();
    for (    Generator sourceLanguageGenerator : sourceLanguageGenerators) {
      if (myTargetLanguage.getNamespace().equals(sourceLanguageGenerator.getTargetLanguageName())) {
        if (!generators.contains(sourceLanguageGenerator)) {
          generators.add(sourceLanguageGenerator);
        }
      }
      if (sourceLanguage.getNamespace().equals(sourceLanguageGenerator.getTargetLanguageName())) {
        if (!generators.contains(sourceLanguageGenerator)) {
          generators.add(sourceLanguageGenerator);
        }
      }
    }
  }
  List<Generator> reductionGenerators=myTargetLanguage.getGenerators();
  for (  Generator generator : reductionGenerators) {
    if (myTargetLanguage.getNamespace().equals(generator.getTargetLanguageName())) {
      if (!generators.contains(generator)) {
        generators.add(generator);
      }
    }
  }
  return generators;
}
