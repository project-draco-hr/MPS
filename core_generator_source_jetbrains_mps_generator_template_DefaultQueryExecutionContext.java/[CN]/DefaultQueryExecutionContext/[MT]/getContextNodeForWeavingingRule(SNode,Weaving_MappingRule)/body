{
  Weaving_MappingRule_ContextNodeQuery query=rule.getContextNodeQuery();
  if (query != null) {
    String methodName=TemplateFunctionMethodName.weaving_MappingRule_ContextNodeQuery(query.getNode());
    try {
      return (SNode)QueryMethodGenerated.invoke(methodName,generator.getGeneratorSessionContext(),new WeavingMappingRuleContext(inputNode,rule.getNode(),generator),query.getModel());
    }
 catch (    NoSuchMethodException e) {
      generator.getLogger().warning(BaseAdapter.fromAdapter(rule),"cannot find context node query '" + methodName + "' : evaluate to null");
      return null;
    }
catch (    Exception e) {
      generator.showErrorMessage(inputNode,null,rule.getNode(),"cannot evaluate rule context query");
      generator.getLogger().handleException(e);
    }
  }
  return null;
}
