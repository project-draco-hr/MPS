{
  final SNodeReference qr=ifMacro.getReference();
  IfMacroCondition cond=myIfMacroConditions.get(qr);
  if (cond == null) {
    cond=myGenerator.getGeneratorSessionContext().getQueryProvider(qr).getIfMacroCondition(ifMacro);
    myIfMacroConditions.put(qr,cond);
  }
  return cond.check(new IfMacroContext(context.subContext(inputNode),qr,myGenerator));
}
