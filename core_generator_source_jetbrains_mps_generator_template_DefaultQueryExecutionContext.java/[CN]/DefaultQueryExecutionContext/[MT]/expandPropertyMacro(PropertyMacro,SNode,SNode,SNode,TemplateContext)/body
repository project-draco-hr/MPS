{
  String attributeRole=propertyMacro.getRole_();
  String propertyName=AttributesRolesUtil.getPropertyNameFromPropertyAttributeRole(attributeRole);
  PropertyMacro_GetPropertyValue function=propertyMacro.getPropertyValueFunction();
  if (function == null) {
    throw new GenerationFailureException("cannot evaluate property macro",inputNode,templateNode,BaseAdapter.fromAdapter(propertyMacro));
  }
  String templateValue=templateNode.getProperty(propertyName);
  String methodName=TemplateFunctionMethodName.propertyMacro_GetPropertyValue(function.getNode());
  try {
    Object macroValue=QueryMethodGenerated.invoke(methodName,generator.getGeneratorSessionContext(),new PropertyMacroContext(inputNode,templateValue,propertyMacro.getNode(),context,generator),propertyMacro.getModel());
    String propertyValue=macroValue == null ? null : String.valueOf(macroValue);
    outputNode.setProperty(propertyName,propertyValue);
  }
 catch (  Throwable t) {
    throw new GenerationFailureException("cannot evaluate property macro",inputNode,templateNode,BaseAdapter.fromAdapter(propertyMacro),t);
  }
}
