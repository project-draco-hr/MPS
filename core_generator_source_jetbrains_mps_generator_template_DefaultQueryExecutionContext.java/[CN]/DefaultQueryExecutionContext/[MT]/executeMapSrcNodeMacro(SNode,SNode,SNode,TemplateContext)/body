{
  SNode mapperFunction=RuleUtil.getMapSrc_MapperFunction(mapSrcNodeOrListMacro);
  String methodName=TemplateFunctionMethodName.mapSrcMacro_MapperFunction(mapperFunction);
  try {
    final MapSrcMacroContext qctx=new MapSrcMacroContext(context,parentOutputNode,mapSrcNodeOrListMacro.getReference());
    return this.<SNode>createMethod(mapSrcNodeOrListMacro.getModel(),methodName).invoke(qctx);
  }
 catch (  Throwable t) {
    getLog().error(mapSrcNodeOrListMacro.getReference(),"cannot evaluate macro: mapping func failed, exception was thrown",GeneratorUtil.describeInput(context));
    GenerationFailureException ex=new GenerationFailureException(t);
    ex.setTemplateContext(context);
    ex.setTemplateModelLocation(mapSrcNodeOrListMacro.getReference());
    throw ex;
  }
}
