{
  SNode result=SModelOperations.createNewNode(myCurrentModel,"jetbrains.mps.baseLanguage.structure.ForeachStatement",null);
  SNode action=processStatementRefl(x.action);
  SNode body=getStatementListFromStatement(action);
  SNode elementVar=SNodeOperations.cast(myTypesProvider.getRaw(x.elementVariable.binding),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
  SNode iterable=processExpressionRefl(x.collection);
  SLinkOperations.setTarget(result,"iterable",iterable,true);
  SLinkOperations.setTarget(result,"variable",elementVar,true);
  SLinkOperations.setTarget(result,"body",body,true);
  return result;
}
