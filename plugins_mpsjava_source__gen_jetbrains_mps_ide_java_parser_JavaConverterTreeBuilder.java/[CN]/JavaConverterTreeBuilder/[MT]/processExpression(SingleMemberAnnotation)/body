{
  SNode annotationInstance=prepareAnnotationInstance(x);
  SNode value=SModelOperations.createNewNode(myCurrentModel,"jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue",null);
  MemberValuePair[] pairs=x.memberValuePairs();
  if (pairs != null) {
    MemberValuePair pair=pairs[0];
    SLinkOperations.setTarget(value,"value",processExpressionRefl(pair.value),true);
    SNode valueNode=value;
    if (pair.binding == null) {
      valueNode.addReference(myTypesProvider.createErrorReference("key",new String(pair.name),valueNode));
    }
 else {
      valueNode.addReference(myTypesProvider.createMethodReference(pair.binding,"key",valueNode));
    }
    ListSequence.fromList(SLinkOperations.getTargets(annotationInstance,"value",true)).addElement(value);
  }
  return annotationInstance;
}
