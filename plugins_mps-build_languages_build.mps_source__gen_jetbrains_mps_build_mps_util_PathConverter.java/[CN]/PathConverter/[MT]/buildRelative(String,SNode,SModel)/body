{
  SNode relPath;
  if (macro == null) {
    relPath=SModelOperations.createNewNode(model,null,"jetbrains.mps.build.structure.BuildSourceProjectRelativePath");
  }
 else {
    relPath=SModelOperations.createNewNode(model,null,"jetbrains.mps.build.structure.BuildSourceMacroRelativePath");
    SLinkOperations.setTarget(SNodeOperations.cast(relPath,"jetbrains.mps.build.structure.BuildSourceMacroRelativePath"),"macro",macro,false);
  }
  buildCompositePath(relPath,currPath,model);
  return relPath;
}
