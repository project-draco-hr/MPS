{
  SNode relPath;
  if (macro == null) {
    relPath=SModelOperations.createNewNode(model,"jetbrains.mps.build.structure.BuildSourceProjectRelativePath",null);
  }
 else {
    relPath=SModelOperations.createNewNode(model,"jetbrains.mps.build.structure.BuildSourceMacroRelativePath",null);
    SLinkOperations.setTarget(SNodeOperations.cast(relPath,"jetbrains.mps.build.structure.BuildSourceMacroRelativePath"),"macro",macro,false);
  }
  buildCompositePath(relPath,currPath,model);
  return relPath;
}
