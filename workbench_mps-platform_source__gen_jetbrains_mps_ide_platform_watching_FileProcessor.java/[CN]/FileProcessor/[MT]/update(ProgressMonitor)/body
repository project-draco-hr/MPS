{
  monitor.start("Reloading files... Please wait.",MapSequence.fromMap(dataMap).count() * 2);
  try {
    for (    FileSystemListener listener : Sequence.fromIterable(sortedListeners())) {
      FileProcessor.ListenerData data=MapSequence.fromMap(dataMap).get(listener);
      if (!(listenersContainer.contains(listener))) {
        continue;
      }
      if (data.changed.isEmpty()) {
        monitor.advance(1);
      }
 else {
        filesChanged(monitor.subTask(1,SubProgressKind.AS_COMMENT),listener,data.changed);
      }
      if (data.added.isEmpty() && data.removed.isEmpty()) {
        monitor.advance(1);
      }
 else {
        listener.folderChanged(monitor.subTask(1,SubProgressKind.AS_COMMENT),data.added,data.removed);
      }
    }
    ReloadableSources.getInstance().reload(monitor.subTask(10,SubProgressKind.AS_COMMENT));
  }
  finally {
    monitor.done();
  }
}
