{
  Set<T> result;
  if (myIsParentHierarchy) {
    result=getParents(node,visited);
  }
 else {
    result=getDescendants(node,visited);
  }
  if (myOnlyInOneModel) {
    result=CollectionUtil.filter(result,new Condition<T>(){
      public boolean met(      T object){
        if (object == null) {
          return false;
        }
        return object.getModel() == node.getModel();
      }
    }
);
  }
  if (!myShowGeneratorModels) {
    result=CollectionUtil.filter(result,new Condition<T>(){
      public boolean met(      T object){
        if (object == null) {
          return false;
        }
        return !SModelStereotype.isGeneratorModel(object.getModel());
      }
    }
);
  }
  return result;
}
