{
  final List<SearchPanelEditorMessage> searchMessages=getMessages();
  Collections.sort(searchMessages,new Comparator<SearchPanelEditorMessage>(){
    public int compare(    SearchPanelEditorMessage o1,    SearchPanelEditorMessage o2){
      Integer i1=allCellsAndContent().first.indexOf(o1.getCell(myEditor));
      Integer i2=allCellsAndContent().first.indexOf(o2.getCell(myEditor));
      return i1.compareTo(i2);
    }
  }
);
  UsagesViewTool usagesViewTool=new UsagesViewTool(myEditor.getOperationContext().getProject());
  BaseNode baseNode=new BaseNode(){
    public SearchResults doGetResults(    SearchQuery query,    ProgressIndicator indicator){
      SearchResults<SNode> searchResults=new SearchResults<SNode>();
      for (      SearchPanelEditorMessage message : searchMessages) {
        EditorCell cell=message.getCell(myEditor);
        if (cell == null)         continue;
        SNode node=cell.getSNode();
        searchResults.getSearchResults().add(new SearchResult<SNode>(node,"Search Panel"));
      }
      return searchResults;
    }
  }
;
  SearchQuery searchQuery=new SearchQuery(null){
    @NotNull public String getCaption(){
      return "Occurrences of '" + myText.getText() + "'";
    }
  }
;
  usagesViewTool.findUsages(baseNode,searchQuery,false,false,false,null);
}
