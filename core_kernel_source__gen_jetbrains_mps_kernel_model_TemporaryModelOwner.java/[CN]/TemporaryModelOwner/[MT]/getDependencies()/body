{
  List<Dependency> result=new ArrayList<Dependency>();
  for (  org.jetbrains.mps.openapi.model.SModel md : getOwnModelDescriptors()) {
    for (    SModel.ImportElement ie : ((SModel)md.getSModel()).importedModels()) {
      SModelReference mRef=ie.getModelReference();
      org.jetbrains.mps.openapi.model.SModel model=SModelRepository.getInstance().getModelDescriptor(mRef);
      if (model == null) {
        continue;
      }
      IModule module=model.getModule();
      if (module == null) {
        continue;
      }
      Dependency dep=new Dependency();
      dep.setModuleRef(module.getModuleReference());
      result.add(dep);
    }
  }
  return result;
}
