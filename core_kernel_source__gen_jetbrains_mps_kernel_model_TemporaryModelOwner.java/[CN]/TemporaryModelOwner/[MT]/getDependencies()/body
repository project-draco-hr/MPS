{
  List<Dependency> result=new ArrayList<Dependency>();
  for (  SModel md : getModels()) {
    for (    jetbrains.mps.smodel.SModel.ImportElement ie : ((SModelInternal)md).importedModels()) {
      SModelReference mRef=ie.getModelReference();
      SModel model=SModelRepository.getInstance().getModelDescriptor(mRef);
      if (model == null) {
        continue;
      }
      IModule module=model.getModule();
      if (module == null) {
        continue;
      }
      Dependency dep=new Dependency();
      dep.setModuleRef(module.getModuleReference());
      result.add(dep);
    }
  }
  return result;
}
