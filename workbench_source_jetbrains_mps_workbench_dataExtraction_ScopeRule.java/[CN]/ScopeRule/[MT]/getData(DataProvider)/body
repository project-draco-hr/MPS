{
  IOperationContext context=(IOperationContext)dataProvider.getData(MPSDataKeys.OPERATION_CONTEXT.getName());
  if (context == null)   return null;
  IScope scope=context.getScope();
  if (scope != null)   return scope;
  MPSProject project=(MPSProject)dataProvider.getData(MPSDataKeys.MPS_PROJECT.getName());
  if (project != null)   return project.getProject().getComponent(ProjectScope.class);
  return GlobalScope.getInstance();
}
