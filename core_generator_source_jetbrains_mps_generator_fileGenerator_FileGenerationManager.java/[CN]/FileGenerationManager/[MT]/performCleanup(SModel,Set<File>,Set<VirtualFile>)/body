{
  Set<VirtualFile> directories=new HashSet<VirtualFile>();
  for (  VirtualFile f : generatedFiles) {
    directories.add(f.getParent());
  }
  for (  File outputRoot : outputRootDirs) {
    directories.add(LocalFileSystem.getInstance().findFileByIoFile(FileGenerationUtil.getDefaultOutputDir(inputModel,outputRoot)));
  }
  for (  VirtualFile dir : directories) {
    VirtualFile[] children=dir.getChildren();
    if (children == null)     continue;
    for (    VirtualFile child : children) {
      if (child.isDirectory())       continue;
      if (generatedFiles.contains(child))       continue;
      try {
        FileUtil.deleteVirtualFile(child);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
  }
}
