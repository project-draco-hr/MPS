{
  setPaintFocusBorder(false);
  setFocusBorderAroundIcon(true);
  setBorder(BorderFactory.createEmptyBorder(1,1,1,1));
  if (value != null) {
    SModelReference modelReference=(SModelReference)value;
    ModelPresentation modelPresentation=new ModelPresentation((jetbrains.mps.smodel.SModelReference)modelReference);
    setIcon(modelPresentation.doGetIcon());
    if (StateUtil.isAvailable((jetbrains.mps.smodel.SModelReference)modelReference) && StateUtil.isInScope(myScope,(jetbrains.mps.smodel.SModelReference)modelReference))     append(modelPresentation.doGetPresentableText());
 else     append(modelPresentation.doGetPresentableText(),SimpleTextAttributes.ERROR_ATTRIBUTES);
  }
}
