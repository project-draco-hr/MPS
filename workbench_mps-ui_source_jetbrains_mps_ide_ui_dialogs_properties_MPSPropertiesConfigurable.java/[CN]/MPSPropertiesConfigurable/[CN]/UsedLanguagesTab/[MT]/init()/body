{
  JPanel usedLangsTab=new JPanel();
  usedLangsTab.setLayout(new GridLayoutManager(1,1,INSETS,-1,-1));
  final JBTable usedLangsTable=new JBTable();
  usedLangsTable.setShowHorizontalLines(false);
  usedLangsTable.setShowVerticalLines(false);
  usedLangsTable.setAutoCreateRowSorter(false);
  usedLangsTable.setAutoscrolls(true);
  usedLangsTable.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
  myUsedLangsTableModel=getUsedLangsTableModel();
  usedLangsTable.setModel(myUsedLangsTableModel);
  usedLangsTable.setDefaultRenderer(UsedLangsTableModel.Import.class,getTableCellRender());
  ToolbarDecorator decorator=ToolbarDecorator.createDecorator(usedLangsTable);
  decorator.setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton anActionButton){
      Iterable<SModule> modules=new ConditionalIterable<SModule>(getProjectModules(),new ModuleInstanceCondition(Language.class,DevKit.class));
      modules=new ConditionalIterable<SModule>(modules,new VisibleModuleCondition());
      ComputeRunnable<List<SModuleReference>> c=new ComputeRunnable<List<SModuleReference>>(new ModuleCollector(modules));
      myProject.getModelAccess().runReadAction(c);
      List<SModuleReference> list=CommonChoosers.showModuleSetChooser(myProject,"Choose Language or DevKit",c.getResult());
      for (      SModuleReference reference : list) {
        myUsedLangsTableModel.addItem(reference);
      }
      myUsedLangsTableModel.fireTableDataChanged();
    }
  }
).setRemoveAction(new RemoveEntryAction(usedLangsTable){
    @Override protected boolean confirmRemove(    int row){
      return UsedLanguagesTab.this.confirmRemove(myUsedLangsTableModel.getValueAt(row,UsedLangsTableModel.ITEM_COLUMN));
    }
  }
);
  FindAnActionButton findAnActionButton=getFindAnAction(usedLangsTable);
  if (findAnActionButton != null)   decorator.addExtraAction(findAnActionButton);
  decorator.setPreferredSize(new Dimension(500,300));
  JPanel table=decorator.createPanel();
  table.setBorder(IdeBorderFactory.createBorder());
  usedLangsTab.add(table,new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,null,null,null,0,false));
  setTabComponent(usedLangsTab);
  new TableColumnSearch(usedLangsTable,UsedLangsTableModel.ITEM_COLUMN).setComparator(new SpeedSearchComparator(false,true));
}
