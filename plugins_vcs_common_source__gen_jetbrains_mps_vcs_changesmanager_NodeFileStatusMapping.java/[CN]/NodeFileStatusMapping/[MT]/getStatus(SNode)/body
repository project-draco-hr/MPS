{
  final SNodeReference nodePointer=new SNodePointer(root);
  myRegistry.getCommandQueue().runTask(new Runnable(){
    public void run(){
      myMPSProject.getModelAccess().runReadAction(new Runnable(){
        public void run(){
          SModel md=null;
          SNode node=nodePointer.resolve(myMPSProject.getRepository());
          if (node != null) {
            md=SNodeOperations.getModel(root);
          }
          if (md instanceof EditableSModel && !(md.isReadOnly())) {
            myRegistry.getCurrentDifference((EditableSModel)md).setEnabled(true);
          }
        }
      }
);
    }
  }
);
synchronized (myFileStatusMap) {
    return MapSequence.fromMap(myFileStatusMap).get(nodePointer);
  }
}
