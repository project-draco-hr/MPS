{
  final Wrappers._T<SNodeReference> nodePointer=new Wrappers._T<SNodeReference>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      nodePointer.value=new SNodePointer(root);
      myRegistry.getCommandQueue().runTask(new Runnable(){
        public void run(){
          ModelAccess.instance().runReadAction(new Runnable(){
            public void run(){
              SModel modelDescriptor=null;
              if (!(SNodeOperations.isDisposed(root) || SNodeOperations.isModelDisposed(jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations.getModel(root)))) {
                modelDescriptor=jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations.getModel(root);
              }
              if (modelDescriptor instanceof BaseEditableSModelDescriptor) {
                myRegistry.getCurrentDifference((BaseEditableSModelDescriptor)modelDescriptor).setEnabled(true);
              }
            }
          }
);
        }
      }
);
    }
  }
);
synchronized (myFileStatusMap) {
    return MapSequence.fromMap(myFileStatusMap).get(nodePointer.value);
  }
}
