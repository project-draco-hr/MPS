{
  SNode node=event.getNode();
  if (SNodeOperations.isInstanceOf(node,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1107461130800l,"jetbrains.mps.baseLanguage.structure.Classifier")) && "name".equals(event.getPropertyName())) {
    SNode classifier=SNodeOperations.cast(node,MetaAdapterFactory.getConcept(new UUID(-935030926396207931l,-6610165693999523818l),1107461130800l,"jetbrains.mps.baseLanguage.structure.Classifier"));
    List<SNode> classifiersToUpdate=new ArrayList<SNode>();
    ListSequence.fromList(classifiersToUpdate).addElement(classifier);
    collectInnerClasses(classifier,classifiersToUpdate);
    for (    SNode cl : classifiersToUpdate) {
      String oldRefName=MapSequence.fromMap(myNameByClassifier).get(cl);
      List<SNode> nodes=MapSequence.fromMap(myClassifiersByName).get(oldRefName);
      if (nodes != null) {
        nodes.remove(cl);
      }
      if (nodes == null || nodes.isEmpty()) {
        MapSequence.fromMap(myClassifiersByName).removeKey(oldRefName);
      }
      MapSequence.fromMap(myNameByClassifier).removeKey(cl);
    }
    this.putClassifier(classifier);
  }
}
