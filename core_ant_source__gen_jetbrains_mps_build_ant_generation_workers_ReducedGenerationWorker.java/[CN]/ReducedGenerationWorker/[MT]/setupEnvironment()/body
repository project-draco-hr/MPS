{
  super.setupEnvironment();
  GenerationDependenciesCache.getInstance().registerCachePathRedirect(new GenerationDependenciesCache.CachePathRedirect(){
    public String redirectTo(    String outputPath){
      IFile cachesOutputRedirect=myOutputRedirects.getCachesOutputRedirect(outputPath);
      return (cachesOutputRedirect != null ? cachesOutputRedirect.getPath() : null);
    }
  }
);
  GeneratorPathsComponent.getInstance().registerForeignPathsProvider(new ForeignPathsProvider(){
    public String belongsToForeignPath(    IFile path){
      return (myForeignRootPaths != null ? myForeignRootPaths.findForeignPrefix(path.getPath()) : null);
    }
  }
);
}
