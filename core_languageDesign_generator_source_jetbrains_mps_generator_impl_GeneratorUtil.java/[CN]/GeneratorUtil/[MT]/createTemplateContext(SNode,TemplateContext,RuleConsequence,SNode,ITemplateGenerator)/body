{
  if (consequence instanceof ITemplateCall) {
    return createTemplateContext(inputNode,context,(ITemplateCall)consequence,newInputNode,generator);
  }
  return context != null ? context : new TemplateContext(newInputNode);
}
