{
  if (consequence instanceof ITemplateCall) {
    return createTemplateContext(inputNode,outerContext,reductionContext,(ITemplateCall)consequence,newInputNode,generator);
  }
  return outerContext != null ? outerContext : new TemplateContext(newInputNode,reductionContext.getExecutor());
}
