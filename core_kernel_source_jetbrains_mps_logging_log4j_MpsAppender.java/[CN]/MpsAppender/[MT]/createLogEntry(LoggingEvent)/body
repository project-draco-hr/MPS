{
  ThrowableInformation throwableInformation=event.getThrowableInformation();
  String renderedMessage=event.getRenderedMessage();
  Object message=event.getMessage();
  if (renderedMessage != null && renderedMessage.equals(message)) {
    message=null;
  }
 else   if (message instanceof MessageObject) {
    renderedMessage=((MessageObject)message).getMessage();
    message=((MessageObject)message).getHintObject();
  }
  if (throwableInformation != null) {
    return new LogEntry(event.categoryName,renderedMessage,throwableInformation.getThrowable(),message);
  }
 else {
    return new LogEntry(event.categoryName,renderedMessage,null,message);
  }
}
