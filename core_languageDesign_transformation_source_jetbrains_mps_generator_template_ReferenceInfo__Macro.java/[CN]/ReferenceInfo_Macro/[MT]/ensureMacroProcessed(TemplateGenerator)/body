{
  if (myMacroProcessed)   return;
  myMacroProcessed=true;
  Map<String,SNode> old=generator.setPreviousInputNodesByMappingName(myInputNodesByMappingName);
  try {
    expandReferenceMacro(generator);
  }
  finally {
    generator.setPreviousInputNodesByMappingName(old);
  }
}
