{
  IFile baseDirFile=FileSystem.getFile(solutionBaseDir);
  if (!(baseDirFile.exists())) {
    baseDirFile.mkdirs();
  }
  String solutionFilePath=solutionBaseDir + File.separator + solutionName+ MPSExtentions.DOT_SOLUTION;
  IFile solutionFile=FileSystem.getFile(solutionFilePath);
  Solution solution;
  if (solutionFile.exists()) {
    IModule module=MPSModuleRepository.getInstance().getModuleByFile(solutionFile.toFile());
    if (!(module instanceof Solution)) {
      return null;
    }
    solution=(Solution)module;
  }
 else {
    solution=BuildGeneratorUtil.createSolutionFormFile(mpsProject,solutionFile);
  }
  ModuleReference packagingLanguageRef=BuildGeneratorUtil.getPackagingLanguageReference();
  solution.addDependency(packagingLanguageRef,false);
  solution.addUsedLangauge(packagingLanguageRef);
  return solution;
}
