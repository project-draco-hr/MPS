{
  if (subtype == null)   return null;
  if (pattern.match(subtype))   return subtype;
  CoersionMatcher coersionMatcher=new CoersionMatcher(pattern);
  if ("jetbrains.mps.bootstrap.helgins.structure.MeetType".equals(subtype.getConceptFqName())) {
    List<SNode> children=subtype.getChildren("argument");
    for (    SNode child : children) {
      SNode result=coerceSubtyping(child,pattern,isWeak,equationManager);
      if (result != null)       return result;
    }
    return null;
  }
  boolean success=searchInSupertypes(NodeWrapper.fromNode(subtype,equationManager),coersionMatcher,null,null,isWeak);
  if (!success)   return null;
  return coersionMatcher.getResult();
}
