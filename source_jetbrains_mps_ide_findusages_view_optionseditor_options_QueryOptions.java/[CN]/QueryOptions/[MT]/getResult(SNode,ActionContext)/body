{
  IScope scope;
  IOperationContext operationContext=context.getOperationContext();
  if (myScopeType.equals(GLOBAL_SCOPE)) {
    scope=GlobalScope.getInstance();
  }
 else   if (myScopeType.equals(PROJECT_SCOPE)) {
    scope=operationContext.getProject().getScope();
  }
 else   if (myScopeType.equals(MODULE_SCOPE)) {
    scope=operationContext.getModule().getScope();
  }
 else   if (myScopeType.equals(MODEL_SCOPE)) {
    scope=new ModelScope(operationContext.getModule().getScope(),context.getModel());
  }
 else {
    throw new IllegalArgumentException();
  }
  return new SearchQuery(new SNodePointer(node),scope);
}
