{
  List<IModule> modules=new ArrayList<IModule>();
  for (  MPSTreeNode child : node) {
    if (child instanceof ProjectModuleTreeNode) {
      modules.add(((ProjectModuleTreeNode)child).getModule());
    }
 else {
      if (child instanceof NamespaceNode)       modules.addAll(getModulesUnder(child));
    }
  }
  return modules;
}
