{
  if (isLoading()) {
    for (    SNode root : myRoots) {
      root.unRegisterFromModel();
    }
    myRoots.clear();
  }
 else {
    List<SNode> roots=new ArrayList<SNode>(myRoots);
    for (    SNode root : roots) {
      myRoots.remove(root);
      root.unRegisterFromModel();
      String id=root.getId();
      UndoManager.instance().undoableActionPerformed(new UndoRootAddOrDelete(root,id,true));
      fireRootRemovedEvent(root);
    }
  }
}
