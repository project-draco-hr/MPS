{
  int currentVersion=usedModelDescriptor.getVersion();
  int usedVersion=model.getUsedVersion(usedModelDescriptor.getSModelReference());
  if (currentVersion > usedVersion) {
    boolean played=false;
    RefactoringHistory refactoringHistory=usedModelDescriptor.getRefactoringHistory();
    for (    RefactoringContext refactoringContext : refactoringHistory.getRefactoringContexts()) {
      if (refactoringContext.getModelVersion() <= usedVersion)       continue;
      playRefactoring(model,refactoringContext);
      played=true;
    }
    model.updateImportedModelUsedVersion(usedModelDescriptor.getSModelReference(),currentVersion);
    return played;
  }
  if (currentVersion < usedVersion) {
    LOG.error("Model version mismatch for import " + usedModelDescriptor.getSModelReference().getSModelFqName() + " in model "+ model.getSModelFqName());
    LOG.error("Used version = " + usedVersion + ", current version = "+ currentVersion);
    model.updateImportedModelUsedVersion(usedModelDescriptor.getSModelReference(),currentVersion);
    LOG.error("Mismatch fixed");
    return true;
  }
  return false;
}
