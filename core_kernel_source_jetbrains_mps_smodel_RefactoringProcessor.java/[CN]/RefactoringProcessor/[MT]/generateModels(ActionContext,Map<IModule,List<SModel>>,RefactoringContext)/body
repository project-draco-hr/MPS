{
  final SNodeMembersAccessModifier modifier=SNodeMembersAccessModifier.getInstance();
  refactoringContext.setUpMembersAccessModifier(modifier);
  for (  IModule sourceModule : sourceModels.keySet()) {
    try {
      IOperationContext operationContext=new ModuleContext(sourceModule,context.getOperationContext().getProject());
      final List<SModel> models=sourceModels.get(sourceModule);
      CommandProcessor.instance().executeLightweightCommand(new Runnable(){
        public void run(){
          modifier.startModificationMode(models);
        }
      }
);
      List<SModelDescriptor> descriptors=new ArrayList<SModelDescriptor>();
      for (      SModel model : models) {
        descriptors.add(model.getModelDescriptor());
      }
      new GeneratorManager().generateModels(descriptors,operationContext,IGenerationType.FILES,IAdaptiveProgressMonitor.NULL_PROGRESS_MONITOR,new DefaultMessageHandler(operationContext.getProject()));
    }
  finally {
      CommandProcessor.instance().executeLightweightCommand(new Runnable(){
        public void run(){
          modifier.clear();
        }
      }
);
    }
  }
}
