{
  Element result=new Element(element.getName());
  for (  Attribute attr : (List<Attribute>)element.getAttributes()) {
    String name=attr.getName();
    String pathValue=pathMap.get(new Pair<Element,String>(element,name));
    if (pathValue != null) {
      result.setAttribute(name,helper.shrinkPath(pathValue));
    }
 else {
      result.setAttribute(name,attr.getValue());
    }
  }
  for (  Element child : (List<Element>)element.getChildren()) {
    result.addContent(cloneElement(child,helper));
  }
  return result;
}
