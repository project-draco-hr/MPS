{
  BaseGroup group=new BaseGroup("");
  List<Pair<Intention,SNode>> groupItems=new ArrayList<Pair<Intention,SNode>>();
  IntentionsManager.QueryDescriptor query=new IntentionsManager.QueryDescriptor();
  query.setIntentionClass(SurroundWithIntention.class);
  query.setInstantiate(true);
  query.setCurrentNodeOnly(true);
  Collection<Pair<Intention,SNode>> intentions=IntentionsManager.getInstance().getAvailableIntentions(query,SurroundWithIntentions_Action.this.selectedNode,SurroundWithIntentions_Action.this.editorContext);
  groupItems.addAll(intentions);
  if (groupItems.isEmpty()) {
    return null;
  }
  Collections.sort(groupItems,new Comparator<Pair<Intention,SNode>>(){
    public int compare(    Pair<Intention,SNode> p0,    Pair<Intention,SNode> p1){
      Intention intention1=p0.getFirst();
      Intention intention2=p1.getFirst();
      SNode node1=p0.getSecond();
      SNode node2=p1.getSecond();
      return intention1.getDescription(node1,SurroundWithIntentions_Action.this.editorContext).compareTo(intention2.getDescription(node2,SurroundWithIntentions_Action.this.editorContext));
    }
  }
);
  for (  final Pair<Intention,SNode> pair : groupItems) {
    BaseAction action=new BaseAction(pair.getFirst().getDescription(pair.getSecond(),SurroundWithIntentions_Action.this.editorContext)){
      protected void doExecute(      AnActionEvent p0){
        ModelAccess.instance().runCommandInEDT(new Runnable(){
          public void run(){
            pair.getFirst().execute(pair.getSecond(),SurroundWithIntentions_Action.this.editorContext);
          }
        }
);
      }
    }
;
    action.setExecuteOutsideCommand(true);
    group.add(action);
  }
  return group;
}
