{
  LanguageDescriptor languageDescriptor=new LanguageDescriptor();
  languageDescriptor.setNamespace(languageNamespace);
  languageDescriptor.setId(ModuleId.regular());
  IFile languageModels=descriptorFile.getParent().getDescendant(Language.LANGUAGE_MODELS);
  if (languageModels.exists()) {
    throw new IllegalStateException("Trying to create a language in an existing language's directory");
  }
  SModelRoot modelRoot=new SModelRoot(null);
  modelRoot.setPath(languageModels.getPath());
  languageDescriptor.getModelRootDescriptors().add(modelRoot.toDescriptor());
  return languageDescriptor;
}
