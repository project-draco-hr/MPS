{
  SNode contextNode=editorContext.getSelectedCell().getSNode();
  if (contextNode == null) {
    return;
  }
  if (SNodeOperations.isInstanceOf(contextNode,"jetbrains.mps.lang.quotation.structure.Antiquotation")) {
    SNode attributedNode=SNodeOperations.getParent((SNodeOperations.cast(contextNode,"jetbrains.mps.lang.quotation.structure.Antiquotation")));
    attributedNode.setAttribute(null);
    return;
  }
  SModel model=SNodeOperations.getModel(contextNode);
  if (AttributeOperations.getAttribute(contextNode,new IAttributeDescriptor.NodeAttribute(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.quotation.structure.Antiquotation"))) != null) {
    contextNode.setAttribute(null);
  }
 else {
    SNode antiquotation=SNodeFactoryOperations.createNewNode(model,"jetbrains.mps.lang.quotation.structure.Antiquotation",null);
    contextNode.setAttribute(antiquotation);
    editorContext.selectWRTFocusPolicy(antiquotation);
  }
}
