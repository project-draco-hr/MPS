{
  SearchResults searchResults=new SearchResults();
  IHolder objectHolder=query.getObjectHolder();
  if (!((objectHolder instanceof ModuleHolder))) {
    return searchResults;
  }
  ModuleHolder moduleHolder=(ModuleHolder)objectHolder;
  SModule searchedModule=moduleHolder.getObject();
  IScope scope=query.getScope();
  for (  SModule module : scope.getModules()) {
    if (monitor.isCanceled()) {
      return searchResults;
    }
    if (module instanceof Solution) {
      collectUsagesInSolution(searchedModule,(Solution)module,searchResults);
    }
 else     if (module instanceof Language) {
      collectUsagesInLanguage(searchedModule,(Language)module,searchResults);
    }
 else     if (module instanceof DevKit) {
      collectUsagesInDevKit(searchedModule,(DevKit)module,searchResults);
    }
 else     if (module instanceof Generator) {
      collectUsagesInGenerator(searchedModule,(Generator)module,searchResults);
    }
  }
  return searchResults;
}
