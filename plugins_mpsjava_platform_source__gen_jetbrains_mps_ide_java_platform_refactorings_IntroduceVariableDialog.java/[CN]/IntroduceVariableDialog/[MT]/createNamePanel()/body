{
  JPanel result=new JPanel(new GridBagLayout());
  GridBagConstraints c=new GridBagConstraints();
  c.fill=GridBagConstraints.HORIZONTAL;
  result.add(new JLabel("Name: "),c);
  c=new GridBagConstraints();
  c.fill=GridBagConstraints.HORIZONTAL;
  c.weightx=1;
  c.gridx=1;
  List<String> expectedNames=getRefactoring().getExpectedNames();
  myName=new JComboBox(ListSequence.fromList(expectedNames).toGenericArray(String.class));
  myName.setEditable(true);
  result.add(myName,c);
  myName.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent p0){
      getRefactoring().setName(((String)myName.getSelectedItem()));
    }
  }
);
  myName.setSelectedItem(ListSequence.fromList(expectedNames).first());
  JTextField textField=((JTextField)myName.getEditor().getEditorComponent());
  textField.setSelectionStart(0);
  textField.setSelectionEnd(ListSequence.fromList(expectedNames).first().length());
  textField.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent p0){
      if (p0.getKeyCode() == KeyEvent.VK_ENTER && !(myName.isPopupVisible())) {
        doRefactoringAction();
      }
    }
  }
);
  return result;
}
