{
  return ModelAccess.instance().runReadAction(new Computable<List<INodeSubstituteAction>>(){
    public List<INodeSubstituteAction> compute(){
      Pair<String,List<INodeSubstituteAction>> pair=getPatternAndActions(pattern,strictMatching);
      List<INodeSubstituteAction> result=new ArrayList<INodeSubstituteAction>();
      for (      INodeSubstituteAction item : pair.o2) {
        if (strictMatching) {
          if (item.canSubstituteStrictly(pattern)) {
            result.add(item);
          }
        }
 else {
          if (item.canSubstitute(pattern)) {
            result.add(item);
          }
        }
      }
      if (strictMatching) {
        myStrictPatternsToActionListsCache.put(pattern,new ArrayList<INodeSubstituteAction>(result));
      }
 else {
        myPatternsToActionListsCache.put(pattern,new ArrayList<INodeSubstituteAction>(result));
      }
      return (List)result;
    }
  }
);
}
