{
  Collection<String> kinds=modelRoot.getSupportedFileKinds();
  for (  String kind : kinds) {
    if (modelRoot.containsFile(kind,file.getPath())) {
      return myModelRootEditor.getFileBasedModelRootEntry().getKindIcon(kind);
    }
    Collection<String> kindFiles=modelRoot.getFiles(kind);
    for (    String kindFile : kindFiles) {
      if (file.getPath().contains(kindFile))       return myModelRootEditor.getFileBasedModelRootEntry().getKindIcon(kind);
    }
  }
  return originalIcon;
}
