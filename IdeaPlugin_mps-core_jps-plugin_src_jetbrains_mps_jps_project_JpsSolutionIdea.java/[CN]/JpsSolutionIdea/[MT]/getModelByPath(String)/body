{
  Map<String,SModel> map=myPathToModel.get();
  if (map != null) {
    return map.get(path);
  }
  map=new HashMap<String,SModel>();
  for (  SModel m : getModels()) {
    DataSource source=m.getSource();
    if (source instanceof FileDataSource) {
      String p=((FileDataSource)source).getFile().getPath();
      p=FileUtil.toCanonicalPath(p);
      map.put(p,m);
    }
 else     if (source instanceof FilePerRootDataSource) {
      String p=((FilePerRootDataSource)source).getFolder().getDescendant(".model").getPath();
      p=FileUtil.toCanonicalPath(p);
      map.put(p,m);
    }
  }
  myPathToModel.compareAndSet(null,map);
  return map.get(path);
}
