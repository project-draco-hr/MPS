{
  SNode propertyMacro=EditingUtil.addPropertyMacro(node,editorContext.getSelectedCell());
  SNode propertyValue=SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue",null);
  SNode dotExpression=SNodeFactoryOperations.createNewNode("jetbrains.mps.baseLanguage.structure.DotExpression",null);
  SNode propertyAccess=SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.smodel.structure.SPropertyAccess",null);
  SLinkOperations.setTarget(propertyAccess,"property",myParameter,false);
  SLinkOperations.setTarget(dotExpression,"operation",propertyAccess,true);
  SLinkOperations.setTarget(dotExpression,"operand",SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode",null),true);
  SNode expressionStatement=SNodeFactoryOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement",null);
  SLinkOperations.setTarget(expressionStatement,"expression",dotExpression,true);
  ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(propertyValue,"body",true),"statement",true)).addElement(expressionStatement);
  SLinkOperations.setTarget(propertyMacro,"propertyValueFunction",propertyValue,true);
  SelectionUtil.selectLabelCellAnSetCaret(editorContext,propertyMacro,SelectionManager.FIRST_CELL,0);
}
