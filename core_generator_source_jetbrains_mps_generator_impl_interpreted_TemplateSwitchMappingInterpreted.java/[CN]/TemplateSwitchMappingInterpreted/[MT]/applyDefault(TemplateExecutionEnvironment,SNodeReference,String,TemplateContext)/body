{
  SNode defaultConsequence=RuleUtil.getSwitchDefaultConsequence(mySwitch);
  if (defaultConsequence == null) {
    SNodeReference modifies=getModifiesSwitch();
    if (modifies == null) {
      return null;
    }
    TemplateSwitchMapping switchMapping=environment.getGenerator().getSwitch(modifies);
    if (switchMapping == null) {
      return null;
    }
    return switchMapping.applyDefault(environment,templateSwitch,mappingName,context);
  }
  try {
    RuleConsequenceProcessor rcp=RuleConsequenceProcessor.prepare(defaultConsequence);
    return rcp.processRuleConsequence(context.subContext(mappingName));
  }
 catch (  AbandonRuleInputException ex) {
    return Collections.emptyList();
  }
}
