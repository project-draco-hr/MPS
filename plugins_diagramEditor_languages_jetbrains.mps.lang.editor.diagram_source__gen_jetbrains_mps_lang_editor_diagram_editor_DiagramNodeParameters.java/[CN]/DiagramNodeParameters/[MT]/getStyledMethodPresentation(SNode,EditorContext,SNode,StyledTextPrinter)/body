{
  if (SNodeOperations.getConceptDeclaration(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(6991546026468590289l,-9160623158338601007l),1094405431463454433l,1094405431463455193l,"figure"))) == SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.editor.diagram.structure.AbstractFigureReference")) {
    styledText.append("null()");
    return;
  }
  styledText.append(SLinkOperations.getTarget(node,MetaAdapterFactory.getContainmentLink(new UUID(6991546026468590289l,-9160623158338601007l),1094405431463454433l,1094405431463455193l,"figure")).getPresentation());
  styledText.append("(");
  SNode selectedNode=editorContext.getSelectedNode();
  List<String> definedParameters=ListSequence.fromListWithValues(new LinkedList<String>(),BehaviorReflection.invokeVirtual((Class<List<String>>)((Class)Object.class),parameterObject,"virtual_getFigureParameterNames_1491555030356445722",new Object[]{}));
  Set<String> specifiedParameters=SetSequence.fromSet(new HashSet<String>());
  for (  SNode nextSpecifiedParameter : ListSequence.fromList(SLinkOperations.getChildren(node,MetaAdapterFactory.getContainmentLink(new UUID(6991546026468590289l,-9160623158338601007l),1094405431463454433l,1094405431463761842l,"parameters")))) {
    if (ListSequence.fromList(definedParameters).contains(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")))) {
      SetSequence.fromSet(specifiedParameters).addElement(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")));
      ListSequence.fromList(definedParameters).removeElement(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")));
    }
  }
  boolean isEmpty=true;
  for (  SNode nextSpecifiedParameter : ListSequence.fromList(SLinkOperations.getChildren(node,MetaAdapterFactory.getContainmentLink(new UUID(6991546026468590289l,-9160623158338601007l),1094405431463454433l,1094405431463761842l,"parameters")))) {
    if (SetSequence.fromSet(specifiedParameters).contains(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")))) {
      SetSequence.fromSet(specifiedParameters).removeElement(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")));
      this.appendParameter(SPropertyOperations.getString(nextSpecifiedParameter,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")),styledText,isEmpty,nextSpecifiedParameter == selectedNode);
      isEmpty=false;
    }
 else     if (ListSequence.fromList(definedParameters).isNotEmpty()) {
      this.appendParameter(ListSequence.fromList(definedParameters).removeElementAt(0),styledText,isEmpty,nextSpecifiedParameter == selectedNode);
      isEmpty=false;
    }
  }
  for (  String nextDefinedParameter : definedParameters) {
    this.appendParameter(nextDefinedParameter,styledText,isEmpty,false);
    isEmpty=false;
  }
  styledText.append(")");
}
