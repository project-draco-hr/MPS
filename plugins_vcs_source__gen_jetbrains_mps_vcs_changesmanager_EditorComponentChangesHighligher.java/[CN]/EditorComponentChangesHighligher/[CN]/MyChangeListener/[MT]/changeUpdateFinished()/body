{
  if (!(ListSequence.<EditorMessage>fromList(myAddedMessages).isEmpty()) || !(ListSequence.<EditorMessage>fromList(myRemovedMessages).isEmpty())) {
    NodeHighlightManager nodeHighlightManager=getHighlightManager();
    for (    EditorMessage removedMessage : ListSequence.<EditorMessage>fromList(myRemovedMessages)) {
      nodeHighlightManager.unmark(removedMessage);
    }
    for (    EditorMessage addedMessage : ListSequence.<EditorMessage>fromList(myAddedMessages)) {
      nodeHighlightManager.mark(addedMessage);
    }
    nodeHighlightManager.repaintAndRebuildEditorMessages();
    ThreadUtils.runInUIThreadNoWait(new Runnable(){
      public void run(){
        myFoldingAreaPainter.relayout();
      }
    }
);
    ListSequence.<EditorMessage>fromList(myAddedMessages).clear();
    ListSequence.<EditorMessage>fromList(myRemovedMessages).clear();
  }
}
