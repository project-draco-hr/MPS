{
  final List<SModelEvent> events=myEventCollector.drainEvents();
  final Set<BaseEditorChecker> checkers=new LinkedHashSet<BaseEditorChecker>();
  if (!EditorSettings.getInstance().isPowerSaveMode() || myForceUpdateInPowerSaveModeFlag) {
    checkers.addAll(myCheckers);
    myForceUpdateInPowerSaveModeFlag=false;
  }
  final List<EditorComponent> activeEditors=myEditorList.getActiveEditorsInEDT();
  if (EditorSettings.getInstance().isPowerSaveMode()) {
    myEditorTracker.markEverythingUnchecked();
  }
 else {
    myEditorTracker.markOnlyEditorsChecked(activeEditors);
  }
  return new HighlighterUpdateSession(Highlighter.this,essentialOnly,events,checkers,activeEditors);
}
