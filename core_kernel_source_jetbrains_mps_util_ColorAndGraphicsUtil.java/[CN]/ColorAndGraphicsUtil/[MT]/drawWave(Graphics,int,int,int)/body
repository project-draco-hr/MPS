{
  int offset=xStart % WAVE_SEGMENT_LENGTH;
  Graphics gc=g.create();
  gc.translate(xStart - offset,y);
  Graphics2D g2d=(Graphics2D)gc;
  Paint oldPaint=g2d.getPaint();
  g2d.setPaint(createPaintForLine(g.getColor()));
  g2d.fillRect(0,0,xEnd - xStart + offset,WAVE_HEIGHT + 1);
  g2d.setPaint(oldPaint);
}
