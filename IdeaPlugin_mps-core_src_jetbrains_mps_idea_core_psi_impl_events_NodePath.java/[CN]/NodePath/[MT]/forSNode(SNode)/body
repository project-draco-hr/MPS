{
  List<SNodeId> path=ModelAccess.instance().runReadAction(new Computable<List<SNodeId>>(){
    @Override public List<SNodeId> compute(){
      LinkedList<SNodeId> path=new LinkedList<SNodeId>();
      for (SNode sn=sNode; sn != null; sn=sn.getParent()) {
        SNodeId nodeId=sn.getNodeId();
        if (nodeId == null)         return null;
        path.addFirst(nodeId);
      }
      return path;
    }
  }
);
  if (path == null) {
    throw new IllegalArgumentException("null SNodeId");
  }
  return new NodePath(path);
}
