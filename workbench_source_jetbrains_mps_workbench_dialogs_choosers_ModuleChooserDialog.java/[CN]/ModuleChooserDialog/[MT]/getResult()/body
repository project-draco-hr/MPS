{
  List<ModuleReference> result=new ArrayList<ModuleReference>();
  if (myIsCancelled)   return result;
  List<Object> choosen=Collections.unmodifiableList(myChooser.getChosenElements());
  for (  Object item : choosen) {
    if (item instanceof BaseModuleItem) {
      BaseModuleItem moduleItem=(BaseModuleItem)item;
      result.add(moduleItem.getModuleReference());
    }
  }
  return result;
}
