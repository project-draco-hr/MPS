{
  this.myChooser=descriptor;
  addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent p0){
      FileChooserDialog dialog=FileChooserFactory.getInstance().createFileChooser(FieldWithPathChooseDialog.this.myChooser,null,FieldWithPathChooseDialog.this);
      VirtualFile[] selectedFiles=dialog.choose(null);
      if (selectedFiles.length > 0 && selectedFiles[0] != null) {
        FieldWithPathChooseDialog.this.setText(selectedFiles[0].getPath());
      }
    }
  }
);
}
