{
  super(project);
  if (IdeMain.getTestMode() == TestMode.CORE_TEST)   return;
  StartupManagerEx.getInstanceEx(myProject).registerPreStartupActivity(new Runnable(){
    public void run(){
      final ProgressIndicator[] indicator={ProgressManager.getInstance().getProgressIndicator()};
      if (indicator[0] == null) {
        indicator[0]=new EmptyProgressIndicator();
      }
      indicator[0].pushState();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          ModuleMaker maker=new ModuleMaker();
          maker.make(new LinkedHashSet<IModule>(MPSModuleRepository.getInstance().getAllModules()),indicator[0]);
        }
      }
);
      indicator[0].popState();
      ClassLoaderManager.getInstance().reloadAll(indicator[0]);
    }
  }
);
}
