{
  if (reference == null) {
    textGen.foundError("null reference");
    textGen.append("???");
    return;
  }
  SNode targetNode=reference.getTargetNode();
  if (targetNode == null) {
    textGen.foundError(String.format("Unknown target for role %s",reference.getLink()));
    textGen.append("???");
    return;
  }
  String name=SNodeUtil.getResolveInfo(targetNode);
  if (name == null) {
    textGen.foundError(String.format("No resolve info for node %s",targetNode));
    name=targetNode.getName();
  }
  if (name == null) {
    textGen.append("???");
  }
 else {
    textGen.append(name);
  }
}
