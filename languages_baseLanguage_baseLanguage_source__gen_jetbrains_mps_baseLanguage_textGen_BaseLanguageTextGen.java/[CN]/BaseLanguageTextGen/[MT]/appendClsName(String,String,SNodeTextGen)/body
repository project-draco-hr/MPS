{
  if (fqName == null) {
    textGen.foundError("class name is NULL");
    return "???";
  }
  ImportsContext context=ImportsContext.getInstance(textGen.getBuffer());
  String simpleName=JavaNameUtil.shortName(fqName);
  if (context.containsBinding(simpleName)) {
    if (fqName.equals(context.getBinding(simpleName))) {
      return simpleName;
    }
 else {
      return fqName;
    }
  }
 else {
    if (context.addBinding(pack,fqName)) {
      int currPartId=textGen.getBuffer().selectPart(TextGenBuffer.TOP);
      textGen.appendNewLine();
      textGen.append("import " + fqName + ";");
      textGen.getBuffer().selectPart(currPartId);
    }
    BaseLanguageTextGen.addDependency(InternUtil.intern(fqName),textGen);
    return simpleName;
  }
}
