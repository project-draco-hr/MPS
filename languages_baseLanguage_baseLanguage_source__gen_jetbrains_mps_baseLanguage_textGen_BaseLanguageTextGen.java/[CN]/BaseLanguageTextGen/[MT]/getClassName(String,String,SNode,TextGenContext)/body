{
  final TextGenSupport tgs=new TextGenSupport(ctx);
  if (fqName == null) {
    tgs.reportError("class name is NULL");
    return "???";
  }
  BaseLanguageTextGen.addDependency(packageName,fqName,ctx);
  ImportEntry importEntry=ImportsContext.getInstance(tgs.getLegacyBuffer()).getClassifierRefText(packageName,fqName,contextNode);
  if (importEntry.needsImport()) {
    tgs.pushTextArea("IMPORTS");
    tgs.append("import ");
    tgs.append(importEntry.getImport());
    tgs.append(";");
    tgs.newLine();
    tgs.popTextArea();
  }
  return importEntry.getName();
}
