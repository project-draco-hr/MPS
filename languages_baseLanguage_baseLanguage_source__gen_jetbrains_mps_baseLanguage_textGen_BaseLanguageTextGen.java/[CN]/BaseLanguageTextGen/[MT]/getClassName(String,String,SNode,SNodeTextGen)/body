{
  if (fqName == null) {
    textGen.foundError("class name is NULL");
    return "???";
  }
  ClassifierRefText refText=ImportsContext.getInstance(textGen.getBuffer()).getClassRefText(packageName,fqName,contextNode);
  if (refText.shouldBeImported) {
    int currPartId=textGen.getBuffer().selectPart(TextGenBuffer.TOP);
    textGen.appendNewLine();
    textGen.append("import " + fqName + ";");
    textGen.getBuffer().selectPart(currPartId);
  }
  return refText.refText;
}
