{
  try {
    ReferencesFinder finder=new ReferencesFinder();
    Scope fromScope=new Scope();
    fromScope.add(((IModule)MapSequence.fromMap(_params).get("from")));
    Scope toScope=new Scope();
    toScope.add(((IModule)MapSequence.fromMap(_params).get("to")));
    SearchResults results=finder.getReferencesFromTo(fromScope,toScope);
    if (results.getSearchResults().isEmpty()) {
      SafeDeleteModuleDependency_Action.this.removeDependency(_params);
    }
 else {
      int res=Messages.showDialog("Can't safe delete dependency","Safe delete impossible",new String[]{"View dependencies","Delete anyway","Cancel"},0,null);
      if (res == 1) {
        SafeDeleteModuleDependency_Action.this.removeDependency(_params);
      }
 else       if (res == 0) {
        AnalyzeDependencies_Tool tool=((Project)MapSequence.fromMap(_params).get("project")).getComponent(ProjectPluginManager.class).getTool(AnalyzeDependencies_Tool.class);
        DependenciesPanel panel=as_iuftgz_a0a1a0b0a6a0a2(tool.getComponent(),DependenciesPanel.class);
        tool.openToolLater(true);
      }
    }
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "SafeDeleteModuleDependency",t);
    }
  }
}
