{
  File tmp=FileUtil.createTmpDir();
  writeContentsToFile(contents[ModelMergeRequest.ORIGINAL],file,tmp,"base");
  writeContentsToFile(contents[ModelMergeRequest.CURRENT],file,tmp,"mine");
  writeContentsToFile(contents[ModelMergeRequest.LAST_REVISION],file,tmp,"repository");
  writeMetaInformation(request,file,tmp);
  FileUtil.zip(tmp,getZipFile(file));
  FileUtil.delete(tmp);
}
