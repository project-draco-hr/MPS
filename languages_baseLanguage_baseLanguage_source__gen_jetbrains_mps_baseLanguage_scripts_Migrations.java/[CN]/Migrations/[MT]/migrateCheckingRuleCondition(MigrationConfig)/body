{
  return new SimpleMigration(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.typesystem.structure.NonTypesystemRule")){
    @Override public String getName(){
      return "Migrate checking rules condition for " + config.getName();
    }
    @Override public boolean isApplicableInstanceNode(    SNode rule){
      return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(rule,"applicableNode",true),"jetbrains.mps.lang.typesystem.structure.ConceptReference") && SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(rule,"applicableNode",true),"jetbrains.mps.lang.typesystem.structure.ConceptReference"),"concept",false) == config.sourceConcept;
    }
    @Override public void doUpdateInstanceNode(    SNode rule){
      SLinkOperations.setTarget(SNodeOperations.cast(SLinkOperations.getTarget(rule,"applicableNode",true),"jetbrains.mps.lang.typesystem.structure.ConceptReference"),"concept",config.targetConcept,false);
      SNode condition=config.createCondition(_quotation_createNode_b5gojm_a0a0b0c0a0a0h(SLinkOperations.getTarget(rule,"applicableNode",true)));
      SNode checkingStatement=_quotation_createNode_b5gojm_a0c0c0a0a0h(condition);
      ListSequence.fromList(SNodeOperations.getChildren(SLinkOperations.getTarget(rule,"body",true),SLinkOperations.findLinkDeclaration("jetbrains.mps.baseLanguage.structure.StatementList","statement"))).insertElement(0,checkingStatement);
    }
  }
;
}
