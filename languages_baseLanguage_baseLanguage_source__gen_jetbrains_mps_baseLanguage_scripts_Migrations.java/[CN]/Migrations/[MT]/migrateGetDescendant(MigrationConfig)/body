{
  return new SModelMethodMigration(SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetDescendantsOperation"),config){
    @Override public boolean isApplicableInstanceNode(    SNode node){
      return ListSequence.fromList(SLinkOperations.getChildren(node,MetaAdapterFactory.getContainmentLink(new UUID(8675788371017092295l,-9098312342032910879l),1138411891628l,1144104376918l,"parameter"))).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return SNodeOperations.isInstanceOf(it,"jetbrains.mps.lang.smodel.structure.OperationParm_Concept");
        }
      }
).any(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          SNode conceptArg=SLinkOperations.getTarget(SNodeOperations.cast(it,"jetbrains.mps.lang.smodel.structure.OperationParm_Concept"),MetaAdapterFactory.getContainmentLink(new UUID(8675788371017092295l,-9098312342032910879l),1144101972840l,1207343664468l,"conceptArgument"));
          return SNodeOperations.isInstanceOf(conceptArg,"jetbrains.mps.lang.smodel.structure.RefConcept_Reference") && SLinkOperations.getTarget(SNodeOperations.cast(conceptArg,"jetbrains.mps.lang.smodel.structure.RefConcept_Reference"),MetaAdapterFactory.getReferenceLink(new UUID(8675788371017092295l,-9098312342032910879l),1177026924588l,1177026940964l,"conceptDeclaration")) == config.sourceConcept;
        }
      }
);
    }
    @Override public void doUpdateInstanceNode(    SNode node){
      Iterable<SNode> parameters=ListSequence.fromList(SLinkOperations.getChildren(node,MetaAdapterFactory.getContainmentLink(new UUID(8675788371017092295l,-9098312342032910879l),1138411891628l,1144104376918l,"parameter"))).select(new ISelector<SNode,SNode>(){
        public SNode select(        SNode it){
          if (SNodeOperations.isInstanceOf(it,"jetbrains.mps.lang.smodel.structure.OperationParm_Concept")) {
            return _quotation_createNode_b5gojm_a0a0a0a0a0a1a0a0a6(config.targetConcept);
          }
 else {
            return it;
          }
        }
      }
);
      SNode result=_quotation_createNode_b5gojm_a0d0b0a0a0g(config.targetConcept,IOperation_Behavior.call_getOperand_1213877410070(node),Sequence.fromIterable(parameters).toListSequence());
      SNode whereClosure=SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(result,"jetbrains.mps.baseLanguage.structure.DotExpression"),MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1197027756228l,1197027771414l,"operand")),"jetbrains.mps.baseLanguage.structure.DotExpression"),MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1197027756228l,1197027833540l,"operation")),"jetbrains.mps.baseLanguage.collections.structure.WhereOperation"),MetaAdapterFactory.getContainmentLink(new UUID(-8968771020793164004l,-7182180101671965361l),1204796164442l,1204796294226l,"closure")),"jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral");
      SNode condition=config.createCondition(ListSequence.fromList(SNodeOperations.getDescendants(whereClosure,"jetbrains.mps.baseLanguage.structure.VariableReference",false,new String[]{})).first());
      SNodeOperations.replaceWithAnother(ListSequence.fromList(SNodeOperations.getDescendants(whereClosure,"jetbrains.mps.baseLanguage.structure.VariableReference",false,new String[]{})).first(),condition);
      SNodeOperations.replaceWithAnother(SNodeOperations.getParent(node),result);
    }
  }
;
}
