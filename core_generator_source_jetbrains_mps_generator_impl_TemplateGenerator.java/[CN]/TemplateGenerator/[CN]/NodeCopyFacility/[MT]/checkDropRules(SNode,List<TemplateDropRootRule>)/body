{
  final DefaultTemplateContext tc=new DefaultTemplateContext(myEnv,inputRootNode,null);
  for (  TemplateDropRootRule dropRootRule : rules) {
    if (myEnv.getQueryExecutor().isApplicable(dropRootRule,tc)) {
      drop(inputRootNode,dropRootRule);
      myEnv.getTrace().trace(inputRootNode.getNodeId(),Collections.<SNodeId>emptyList(),dropRootRule.getRuleNode());
      return true;
    }
  }
  return false;
}
