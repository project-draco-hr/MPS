{
  try {
    List<SNode> outputNodes=new TemplateProcessor(this,new ReductionContext(executionContext)).processTemplateNode(mappingName,templateNode,new DefaultTemplateContext(inputNode));
    for (    SNode outputNode : outputNodes) {
      registerRoot(outputNode,inputNode,templateNode,false);
      setChanged();
    }
  }
 catch (  DismissTopMappingRuleException e) {
    if (copyRootOnFailure && inputNode.isRoot()) {
      copyRootNodeFromInput(inputNode,executionContext);
    }
  }
catch (  TemplateProcessingFailureException e) {
    showErrorMessage(inputNode,templateNode,"couldn't create root node");
  }
}
