{
  node.visitReferences(new ReferenceVisitor(){
    public boolean visitReference(    String role,    org.jetbrains.mps.openapi.model.SReference reference){
      if (reference instanceof PostponedReference) {
        ((PostponedReference)reference).validateAndReplace();
      }
      return true;
    }
  }
);
  for (  org.jetbrains.mps.openapi.model.SNode child : jetbrains.mps.util.SNodeOperations.getChildren(node)) {
    revalidateAllReferences(((SNode)child));
  }
}
