{
  try {
    if (environment.getQueryExecutor().isApplicable(rule,environment,null)) {
      myGenerationTracer.pushRule(rule.getRuleNode());
      try {
        createRootNodeByRule(rule,environment);
      }
  finally {
        myGenerationTracer.closeRule(rule.getRuleNode());
      }
    }
  }
 catch (  GenerationFailureException ex) {
    throw ex;
  }
catch (  GenerationCanceledException ex) {
    throw ex;
  }
catch (  GenerationException e) {
    getLogger().error(rule.getRuleNode(),String.format("internal error: unexpected exception: %s",e.toString()));
    throw new GenerationFailureException(e);
  }
}
