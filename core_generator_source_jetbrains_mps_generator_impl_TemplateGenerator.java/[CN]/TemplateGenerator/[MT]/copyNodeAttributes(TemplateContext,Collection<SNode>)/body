{
  if (!myDoesCopyNodeAttribute) {
    return;
  }
  final SNode input=ctx.getInput();
  if (input == null) {
    return;
  }
  QueryExecutionContext queryExecutor=ctx.getEnvironment().getQueryExecutor();
  L1:   for (  SNode attr : input.getChildren(jetbrains.mps.smodel.SNodeUtil.link_BaseConcept_smodelAttribute)) {
    for (    TemplateDropAttributeRule dropRule : getRuleManager().getDropAttributeRules(attr)) {
      if (queryExecutor.isApplicable(dropRule,ctx)) {
        continue L1;
      }
    }
    for (    SNode output : outputNodes) {
      output.addChild(jetbrains.mps.smodel.SNodeUtil.link_BaseConcept_smodelAttribute,CopyUtil.copy(attr));
    }
  }
}
