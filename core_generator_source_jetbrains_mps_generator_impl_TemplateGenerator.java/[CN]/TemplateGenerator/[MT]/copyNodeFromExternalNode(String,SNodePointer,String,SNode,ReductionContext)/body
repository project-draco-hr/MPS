{
  if (inputNode.isRegistered()) {
    inputNode=CopyUtil.copy(inputNode);
  }
synchronized (myAdditionalInputNodes) {
    if (!myAdditionalInputNodes.containsKey(inputNode)) {
      for (      SNode n : inputNode.getDescendantsIterable(null,true)) {
        myAdditionalInputNodes.put(n,Boolean.TRUE);
      }
    }
  }
  return copyNodeFromInputNode(mappingName,templateNode,templateNodeId,inputNode,reductionContext,new boolean[]{false});
}
