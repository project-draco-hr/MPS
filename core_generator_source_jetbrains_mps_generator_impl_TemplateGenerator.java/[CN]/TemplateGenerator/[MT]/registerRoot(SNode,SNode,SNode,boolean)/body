{
synchronized (this) {
    registerInModel(outputRoot,inputNode,templateNode);
    myNewToOldRoot.put(outputRoot,inputNode);
    myDependenciesBuilder.registerRoot(outputRoot,inputNode);
    if (isCopied) {
      getGeneratorSessionContext().registerCopiedRoot(outputRoot);
    }
  }
}
