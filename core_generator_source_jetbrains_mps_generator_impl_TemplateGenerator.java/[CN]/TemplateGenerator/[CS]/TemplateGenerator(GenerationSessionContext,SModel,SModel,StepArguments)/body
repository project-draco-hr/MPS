{
  super(operationContext,inputModel,outputModel,stepArgs.mappingLabels);
  myRuleManager=stepArgs.ruleManager;
  GenerationOptions options=operationContext.getGenerationOptions();
  myIsStrict=options.isStrictMode();
  myDoesCopyNodeAttribute=GenerationSettingsProvider.getInstance().getGenerationSettings().handleAttributesInTextGen();
  myDelayedChanges=new DelayedChanges();
  myDependenciesBuilder=stepArgs.dependenciesBuilder;
  myOutputRoots=new ArrayList<SNode>();
  DefaultQueryExecutionContext ctx=new DefaultQueryExecutionContext(this);
  myExecutionContext=options.getTracingMode() >= GenerationOptions.TRACE_LANGS ? new QueryExecutionContextWithTracing(ctx,operationContext.getPerformanceTracer()) : ctx;
  myPostponedRefs=new PostponedReferenceUpdate(this);
  myDynamicRefs=new DynamicReferenceUpdate(this);
  myNewTrace=stepArgs.genTrace;
}
