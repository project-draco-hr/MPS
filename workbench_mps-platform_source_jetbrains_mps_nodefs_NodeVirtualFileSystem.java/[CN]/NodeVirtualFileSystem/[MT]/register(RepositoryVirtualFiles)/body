{
  RepositoryVirtualFiles existing=findForRepository(repoFiles.getRepository());
  if (existing != null) {
    throw new IllegalArgumentException("Attempt to register another VirtualFile container for the same repository");
  }
  myPerRepositoryFiles.add(0,repoFiles);
  new RepoListenerRegistrar(repoFiles.getRepository(),myRepositoryListener).attach();
}
