{
  final List<TreeElement> result=new ArrayList<TreeElement>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      SNode node=myNode.getNode();
      List<EditorTabDescriptor> tabs=myProject.getComponent(ProjectPluginManager.class).getTabDescriptors();
      for (      EditorTabDescriptor tab : tabs) {
        if (!tab.isApplicable(node))         continue;
        for (        SNode aspectNode : tab.getNodes(myNode.getNode())) {
          result.add(new AspectTreeElement(new SNodePointer(aspectNode)));
        }
      }
    }
  }
);
  return result.toArray(new TreeElement[result.size()]);
}
