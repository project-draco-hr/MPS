{
  Project project=ProjectHelper.toMPSProject(myModelsDialog.getProject());
  Runnable r=new Runnable(){
    public void run(){
      myModelsDialog.restoreState(myStateToRestore);
    }
  }
;
  if (project != null) {
    ModelAccess.instance().runCommandInEDT(r,project);
  }
 else {
    ModelAccess.instance().runWriteActionInCommand(r);
  }
}
