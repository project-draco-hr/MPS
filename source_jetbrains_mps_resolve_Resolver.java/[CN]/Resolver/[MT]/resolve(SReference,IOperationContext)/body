{
  CommandProcessor.instance().executeCommand(new Runnable(){
    public void run(){
      String resolveInfo=reference.getResolveInfo();
      String role=reference.getRole();
      SNode sourceNode=reference.getSourceNode();
      ConceptDeclaration sourceConcept=SModelUtil.getConceptDeclaration(sourceNode,operationContext.getScope());
      LinkDeclaration referenceLinkDeclaration=SModelUtil.findLinkDeclaration(sourceConcept,role);
      List<INodeSubstituteAction> actions=ModelActions.createReferentSubstituteActions(sourceNode,reference.getTargetNode(),referenceLinkDeclaration,operationContext);
      boolean success=false;
      for (      INodeSubstituteAction action : actions) {
        if (action.canSubstitute(resolveInfo)) {
          action.doSubstitute(resolveInfo);
          success=true;
          break;
        }
      }
      if (success) {
        reference.setResolved();
        reference.setResolveInfo(null);
      }
 else {
        reference.setUnresolved();
      }
    }
  }
,"resolve");
}
