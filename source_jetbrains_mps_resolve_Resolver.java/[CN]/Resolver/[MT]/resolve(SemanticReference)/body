{
  String role=reference.getRole();
  SemanticNode sourceNode=reference.getSourceNode();
  SModel model=sourceNode.getModel();
  String packageName=sourceNode.getClass().getPackage().getName();
  Class cls=sourceNode.getClass();
  SemanticNode oldTarget=reference.getTargetNode();
  while (cls != SemanticNode.class) {
    try {
      String className=cls.getName();
      className=className.substring(className.lastIndexOf('.') + 1);
      Class resolveClass=Class.forName(packageName + ".resolve.Resolver",true,ClassLoaderManager.getInstance().getClassLoader());
      model.setLoading(true);
      boolean success=(Boolean)resolveClass.getMethod("resolveForRole" + role + "In"+ className,SemanticReference.class,Class.class).invoke(null,reference,cls);
      model.setLoading(false);
      if (success) {
        reference.setGood();
        reference.setResolveInfo(null);
        reference.setTargetClassResolveInfo((String)null);
      }
 else {
        reference.setBad();
      }
      return;
    }
 catch (    NullPointerException e) {
      model.setLoading(false);
      return;
    }
catch (    Exception e) {
      model.setLoading(false);
    }
    cls=cls.getSuperclass();
  }
  reference.setGood();
  reference.setResolveInfo(null);
}
