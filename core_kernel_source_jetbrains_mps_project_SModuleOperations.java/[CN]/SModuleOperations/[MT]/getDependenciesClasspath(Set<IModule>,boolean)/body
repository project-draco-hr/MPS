{
  Set<String> classpath=JavaModuleOperations.collectCompileClasspath(modules,true);
  CompositeClassPathItem result=new CompositeClassPathItem();
  result.add(JavaModuleOperations.createClassPathItem(classpath,SModuleOperations.class.getName()));
  if (includeStubSolutions) {
    result.add(CommonPaths.getJDKClassPath());
    result.add(CommonPaths.getMPSClassPath());
    for (    String s : CommonPaths.getMPSPaths(ClasspathReader.ClassType.TEST)) {
      try {
        result.add(ClassPathFactory.getInstance().createFromPath(s,null));
      }
 catch (      IOException e) {
      }
    }
  }
  return result;
}
