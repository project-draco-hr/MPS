{
  SNode root=SLinkOperations.getTarget(_context.getNode(),"quotedNode",true);
  List<SNode> result=new ArrayList<SNode>();
  List<SNode> frontier=new ArrayList<SNode>();
  ListOperations.addElement(result,root);
  ListOperations.addElement(frontier,root);
  List<SNode> newFrontier=new ArrayList<SNode>();
  while (!(SequenceOperations.isEmpty(frontier))) {
    for (    SNode node : frontier) {
      for (      SNode child : SNodeOperations.getChildren(node)) {
        if (!(SNodeOperations.isInstanceOf(child,"jetbrains.mps.quotation.structure.AbstractAntiquotation"))) {
          ListOperations.addElement(result,child);
          ListOperations.addElement(newFrontier,child);
        }
      }
    }
    frontier=newFrontier;
    newFrontier=new ArrayList<SNode>();
  }
  return result;
}
