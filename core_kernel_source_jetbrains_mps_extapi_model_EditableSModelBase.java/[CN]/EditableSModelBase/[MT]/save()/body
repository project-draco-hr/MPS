{
  ModelAccess.assertLegalWrite();
  if (!isLoaded())   return;
  LOG.info("Saving model " + getModelName());
  if (!checkAndResolveConflictOnSave())   return;
  setChanged(false);
  boolean reload=false;
  try {
    reload=saveModel();
  }
 catch (  IOException e) {
    LOG.error("Can't save " + getModelName() + ": "+ e.getMessage(),e);
  }
catch (  ModelSaveException e) {
    fireModelProblemsUpdated();
  }
  if (reload) {
    reloadContents();
  }
  updateTimestamp();
  fireModelSaved();
}
