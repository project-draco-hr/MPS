{
  ModelAccess.assertLegalWrite();
  if (!isChanged() && !isLoaded()) {
    return;
  }
  LOG.info("Saving model " + getModelName());
  if (!checkAndResolveConflictOnSave()) {
    return;
  }
  boolean isSaved=false;
  try {
    boolean reload=saveModel();
    setChanged(false);
    if (reload) {
      reloadContents();
    }
    isSaved=true;
  }
 catch (  IOException e) {
    LOG.error("Can't save " + getModelName() + ": "+ e.getMessage(),e);
  }
catch (  ModelSaveException e) {
    fireProblemsDetected(e.getProblems());
  }
  updateTimestamp();
  if (isSaved) {
    fireModelSaved();
  }
}
