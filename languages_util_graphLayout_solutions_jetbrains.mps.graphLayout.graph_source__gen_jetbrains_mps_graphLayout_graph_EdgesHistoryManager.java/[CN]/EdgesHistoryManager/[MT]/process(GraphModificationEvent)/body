{
  List<Edge> history;
switch (event.getType()) {
case EDGE_SPLITTED:
    Edge edge=event.getEdge();
  history=event.getSplit();
if (!(checkConnection(edge.getSource(),ListSequence.<Edge>fromList(history).first()))) {
  history=ListSequence.<Edge>fromList(history).reversedList();
}
MapSequence.<Edge,List<Edge>>fromMap(myHistory).put(event.getEdge(),history);
break;
case EDGE_REVERTED:
history=MapSequence.<Edge,List<Edge>>fromMap(myHistory).get(event.getEdge());
if (history != null) {
MapSequence.<Edge,List<Edge>>fromMap(myHistory).put(event.getEdge(),ListSequence.<Edge>fromList(history).reversedList());
break;
}
default :
}
}
