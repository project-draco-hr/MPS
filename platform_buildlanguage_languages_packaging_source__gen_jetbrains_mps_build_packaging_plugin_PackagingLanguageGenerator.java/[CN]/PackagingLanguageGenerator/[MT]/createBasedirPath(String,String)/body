{
  SNode basedirPath=SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.BaseDirPath",null);
  SPropertyOperations.set(SLinkOperations.getTarget(basedirPath,"macro",true),"name",macro);
  String[] pathComponents=path.split(File.separator);
  if (pathComponents.length > 0) {
    Mapper<String,SNode> mapper=new Mapper<String,SNode>(){
      public SNode map(      String pathComponentName){
        SNode pathComponent=PackagingLanguageGenerator.createPathComponent(pathComponentName);
        return pathComponent;
      }
    }
;
    SNode compositePathComponent=createCompositePathComponent(CollectionUtil.map(Arrays.asList(pathComponents),mapper));
    SLinkOperations.setTarget(basedirPath,"compositePathComponent",compositePathComponent,true);
  }
  return basedirPath;
}
