{
  SNode basedirPath=SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.BaseDirPath",null);
  SPropertyOperations.set(SLinkOperations.getTarget(basedirPath,"macro",true),"name",macro);
  String[] pathComponents=path.split(File.separator.replace("\\","\\\\"));
  if (pathComponents.length > 0) {
    List<SNode> pathComponentNodes=new ArrayList();
    for (    String pathComponentName : pathComponents) {
      if (StringUtils.isEmpty(pathComponentName)) {
        continue;
      }
      ListSequence.fromList(pathComponentNodes).addElement(PackagingLanguageGenerator.createPathComponent(pathComponentName));
    }
    SNode compositePathComponent=createCompositePathComponent(pathComponentNodes);
    SLinkOperations.setTarget(basedirPath,"compositePathComponent",compositePathComponent,true);
  }
  return basedirPath;
}
