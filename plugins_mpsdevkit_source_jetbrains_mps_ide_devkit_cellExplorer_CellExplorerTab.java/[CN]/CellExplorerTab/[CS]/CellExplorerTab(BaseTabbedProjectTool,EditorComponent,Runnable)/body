{
  myTool=tool;
  myEditorComponent=editorComponent;
  myEditorActivator=editorActivator;
  ((jetbrains.mps.nodeEditor.EditorComponent)myEditorComponent).addDisposeListener(myCloseTabOnEditorDisposeListener);
  myCellDetailTree=new CellDetailTree();
  ActionListener selectCurrentCellInEditor=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      selectCurrentCellInEditor();
    }
  }
;
  myCellDetailTree.setActionListener(selectCurrentCellInEditor);
  myCellsTree=new CellsTree();
  myCellsTree.addTreeSelectionListener(new TreeSelectionListener(){
    @Override public void valueChanged(    TreeSelectionEvent e){
      CellsTree source=(CellsTree)e.getSource();
      myCellDetailTree.setCell(source.getCellByPath(e.getNewLeadSelectionPath()));
    }
  }
);
  myCellsTree.setActionListener(selectCurrentCellInEditor);
  OnePixelSplitter splitter=new OnePixelSplitter(false,"CellExplorerTool.Splitter.Proportion",0.5f);
  splitter.setFirstComponent(ScrollPaneFactory.createScrollPane(myCellsTree,true));
  splitter.setSecondComponent(ScrollPaneFactory.createScrollPane(myCellDetailTree,true));
  myComponent=new SimpleToolWindowPanel(false,true);
  myComponent.setToolbar(createToolbar());
  myComponent.setContent(splitter);
}
