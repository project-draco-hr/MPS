{
  Message message=new Message(kind,text);
  if (node != null && jetbrains.mps.util.SNodeOperations.isRegistered(node) && node.getModel() != null && !node.getModel().isTransient()) {
    message.setHintObject(new SNodePointer(node));
  }
  return message;
}
