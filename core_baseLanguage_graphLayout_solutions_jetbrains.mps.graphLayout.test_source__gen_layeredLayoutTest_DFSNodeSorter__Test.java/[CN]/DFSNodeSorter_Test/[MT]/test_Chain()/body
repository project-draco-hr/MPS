{
  Graph chain=SimpleDirectedGraphs.chain(3);
  NodeLayers layers=new NodeLayers(chain);
  layers.set(chain.getNode(0),0);
  layers.set(chain.getNode(1),1);
  layers.set(chain.getNode(2),2);
  NodeLayeredOrder order=new DFSNodeSorter().sortNodes(chain,layers);
  Assert.assertTrue(ListSequence.fromList(order.getOrder(0)).count() == 1);
  Assert.assertTrue(ListSequence.fromList(order.getOrder(1)).count() == 1);
  Assert.assertTrue(ListSequence.fromList(order.getOrder(2)).count() == 1);
  Assert.assertTrue(ListSequence.fromList(order.getOrder(0)).getElement(0) == chain.getNode(0));
  Assert.assertTrue(ListSequence.fromList(order.getOrder(1)).getElement(0) == chain.getNode(1));
  Assert.assertTrue(ListSequence.fromList(order.getOrder(2)).getElement(0) == chain.getNode(2));
}
