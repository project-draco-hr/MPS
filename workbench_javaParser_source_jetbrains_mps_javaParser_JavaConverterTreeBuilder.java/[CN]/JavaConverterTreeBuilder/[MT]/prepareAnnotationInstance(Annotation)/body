{
  AnnotationInstance annotationInstance=AnnotationInstance.newInstance(myCurrentModel);
  SNode sourceNode=annotationInstance.getNode();
  AnnotationBinding annotationBinding=annotation.getCompilerAnnotation();
  SReference classifierReference;
  if (annotationBinding == null) {
    TypeReference type=annotation.type;
    classifierReference=myTypesProvider.createErrorClassifierReference(AnnotationInstance.ANNOTATION,type.resolvedType,sourceNode);
  }
 else {
    classifierReference=myTypesProvider.createClassifierReference(annotationBinding.getAnnotationType(),AnnotationInstance.ANNOTATION,sourceNode);
  }
  if (classifierReference != null) {
    sourceNode.addReference(classifierReference);
  }
  return annotationInstance;
}
