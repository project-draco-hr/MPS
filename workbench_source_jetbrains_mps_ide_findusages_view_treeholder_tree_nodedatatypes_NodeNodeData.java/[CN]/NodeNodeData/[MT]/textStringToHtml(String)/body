{
  StringBuffer buffer=new StringBuffer();
  if (text == null)   return "";
  for (  char c : text.toCharArray()) {
    if (c == '<')     buffer.append("&lt;");
 else     if (c == '>')     buffer.append("&gt;");
 else     if (c == '"')     buffer.append("&quot;");
 else     if (c == '&')     buffer.append("&amp;");
 else     buffer.append(c);
  }
  return buffer.toString();
}
