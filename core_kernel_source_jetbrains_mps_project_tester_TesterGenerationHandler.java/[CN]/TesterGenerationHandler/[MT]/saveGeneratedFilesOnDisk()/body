{
  for (  SModelReference outputModel : getOutputModelRefs()) {
    List<String> files=new ArrayList<String>();
    File dir=getOutputDir(outputModel);
    if (dir == null || !dir.exists() || !dir.canRead()) {
      continue;
    }
    files.addAll(Arrays.asList(dir.list()));
    for (    String outputRoot : getRoots(outputModel)) {
      String extension=getExtension(outputRoot);
      String filename=(extension == null) ? getName(outputRoot,outputModel) : getName(outputRoot,outputModel) + "." + extension;
      if (filename == null) {
        continue;
      }
      final String filePath=getOutputDir(outputModel) + File.separator + filename;
      final File testFile=new File(filePath);
      String content=getSourceByNode(outputRoot,outputModel);
      if (content != null) {
        FileUtil.write(testFile,content);
      }
 else {
        testFile.delete();
      }
      files.remove(filePath);
    }
    for (    String f : files) {
      new File(f).delete();
    }
  }
}
