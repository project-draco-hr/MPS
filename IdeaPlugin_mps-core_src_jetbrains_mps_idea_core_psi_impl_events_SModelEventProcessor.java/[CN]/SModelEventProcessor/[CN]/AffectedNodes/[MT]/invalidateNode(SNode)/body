{
  NodePath affPath=NodePath.forSNode(sNode);
  SModel containingModel=sNode.getContainingModel();
  if (containingModel == null)   return;
  SModelReference mref=containingModel.getReference();
  List<NodePath> nodePaths=nodePaths(mref);
  ListIterator<NodePath> npathIt=nodePaths.listIterator();
  while (npathIt.hasNext()) {
    NodePath path=npathIt.next();
    NodePath lcp=affPath.findLowestCommonParent(path);
    if (lcp != null) {
      if (lcp.equals(path))       break;
      npathIt.remove();
      npathIt.add(lcp);
      break;
    }
  }
  if (!npathIt.hasNext()) {
    nodePaths.add(affPath);
  }
}
