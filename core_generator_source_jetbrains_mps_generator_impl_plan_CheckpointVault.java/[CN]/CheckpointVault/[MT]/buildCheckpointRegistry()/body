{
  Element root=new Element("checkpoints");
  for (  Entry entry : myKnownCheckpoints) {
    Element planElement=new Element("plan");
    planElement.setAttribute("id",entry.myPlan.getPersistenceValue());
    for (    Pair<CheckpointIdentity,String> cpEntry : entry.myFiles) {
      Element cpElement=new Element("checkpoint");
      cpElement.setAttribute("id",cpEntry.o1.getPersistenceValue());
      String filename;
      if (cpEntry.o2 != null) {
        filename=cpEntry.o2;
      }
 else {
        filename=getFilename(cpEntry.o1);
        cpEntry.o2=filename;
      }
      cpElement.setAttribute("file",filename);
      planElement.addContent(cpElement);
    }
    root.addContent(planElement);
  }
  return root;
}
