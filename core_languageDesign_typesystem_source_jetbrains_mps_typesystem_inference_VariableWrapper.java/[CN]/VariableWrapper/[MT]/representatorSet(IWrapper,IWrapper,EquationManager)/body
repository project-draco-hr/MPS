{
  wrapper.removeWrapperlistener(this,equationManager);
  representator.addWrapperListener(this,equationManager);
  WhenConcreteEntity varConditionWrapper=equationManager.getWhenConcreteEntity(this);
  equationManager.clearWhenConcreteEntity(this);
  if (varConditionWrapper != null) {
    equationManager.addWhenConcreteEntity(representator,varConditionWrapper);
  }
  WhenConcreteEntity varShallowConditionWrapper=equationManager.getShallowWhenConcreteEntity(this);
  equationManager.clearShallowWhenConcreteEntity(this);
  if (varShallowConditionWrapper != null) {
    equationManager.addShallowWhenConcreteEntity(representator,varShallowConditionWrapper);
  }
  if (!myIsShallowConcrete && representator.isConcrete()) {
    myIsShallowConcrete=true;
    myShallowConcreteRepresentator=representator;
    equationManager.checkConcrete(representator);
    SNode parent=getNode().getParent();
    while (parent != null) {
      equationManager.checkConcrete(NodeWrapper.createWrapperFromNode(parent,equationManager));
      parent=parent.getParent();
    }
  }
}
