{
  final List<String> items=new ArrayList<String>();
  for (int i=0; i < 10; i++) {
    items.add("abc" + Math.random());
  }
  int ntimes=100000;
  printMeasure("simple iteration",ntimes,new Runnable(){
    @Override public void run(){
      for (      String item : items) {
        item.toUpperCase();
      }
    }
  }
);
  printMeasure("to array iteration",ntimes,new Runnable(){
    @Override public void run(){
      for (      String item : items.toArray(new String[items.size()])) {
        item.toUpperCase();
      }
    }
  }
);
  printMeasure("to array with runnable",ntimes,new Runnable(){
    @Override public void run(){
abstract class Visitor {
        abstract void visit(        String s);
      }
      Visitor v=new Visitor(){
        @Override void visit(        String s){
          s.toUpperCase();
        }
      }
;
      for (      String item : items.toArray(new String[items.size()])) {
        v.visit(item);
      }
    }
  }
);
}
