{
  TextRange range=getFirstRange();
  myEditor.changeSelection(range.getLabel());
  boolean canSetCaretStart=range.getLabel().isCaretPositionAllowed(range.getStartPosition());
  if (canSetCaretStart) {
    range.getLabel().setCaretPosition(range.getStartPosition());
  }
  boolean canSetCaretEnd=range.getLabel().isCaretPositionAllowed(range.getEndPosition());
  if (canSetCaretEnd) {
    range.getLabel().setCaretPosition(range.getEndPosition(),canSetCaretStart);
  }
  if (!(canSetCaretStart && canSetCaretEnd)) {
    range.getLabel().setSelectionStart(range.getStartPosition());
    range.getLabel().setSelectionEnd(range.getEndPosition());
  }
}
