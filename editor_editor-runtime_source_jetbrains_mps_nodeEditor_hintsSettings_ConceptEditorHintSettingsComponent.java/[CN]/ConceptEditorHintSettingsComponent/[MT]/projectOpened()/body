{
  if (mySettings == null) {
    mySettings=new ConceptEditorHintSettings();
  }
  myListener=new LanguageRegistryListener(){
    @Override public void languagesLoaded(    Iterable<LanguageRuntime> languages){
      updateHintsFromLanguages(languages);
      mySettings.updateSettings(myCurrentState.getEnabledHints());
    }
    @Override public void languagesUnloaded(    Iterable<LanguageRuntime> languages){
      myCurrentState.addEnabledHints(mySettings.getEnabledHints());
      removeHintsFromUnloadedLanguages(languages);
    }
  }
;
  LanguageRegistry.getInstance().addRegistryListener(myListener);
  updateHintsFromLanguages(LanguageRegistry.getInstance().getAvailableLanguages());
  mySettings.updateSettings(myCurrentState.myEnabledHints);
}
