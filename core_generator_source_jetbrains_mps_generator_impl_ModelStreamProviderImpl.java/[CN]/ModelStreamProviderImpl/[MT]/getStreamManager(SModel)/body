{
  final SModule module=model.getModule();
  if (module.isPackaged() && module instanceof ReloadableModule) {
    return new DeployedStreamManager(model.getReference(),(ReloadableModule)module);
  }
 else {
    final IFile outputDir=DefaultStreamManager.Provider.getOutputDir(model);
    final IFile cachesDir=DefaultStreamManager.Provider.getCachesDir(model);
    return new DefaultStreamManager(model.getReference(),outputDir,cachesDir);
  }
}
