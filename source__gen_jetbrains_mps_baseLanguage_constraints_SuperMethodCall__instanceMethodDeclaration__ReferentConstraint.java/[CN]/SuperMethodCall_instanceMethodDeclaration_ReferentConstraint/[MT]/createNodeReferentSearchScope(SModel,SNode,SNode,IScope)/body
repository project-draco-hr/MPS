{
  SNode enclosingClass=SNodeOperations.getAncestor(enclosingNode,"jetbrains.mps.baseLanguage.structure.ClassConcept",true,false);
  SNode superclass=SLinkOperations.getTarget(SLinkOperations.getTarget(enclosingClass,"superclass",true),"classifier",false);
  if (superclass == null) {
    return new EmptySearchScope();
  }
  ISearchScope hierarchyScope=new SuperMethodCall_InstanceMethodScope(((Classifier)SNodeOperations.getAdapter(superclass)));
  return new VisibleClassifierMembersScope(hierarchyScope,((ClassConcept)SNodeOperations.getAdapter(enclosingClass)));
}
