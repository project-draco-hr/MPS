{
  super.init(project);
  final ContextActionsTool_Tool tool=ContextActionsTool_Tool.this;
  MPSProject mpsProject=ProjectHelper.fromIdeaProject(project);
  if (mpsProject == null) {
    throw new IllegalArgumentException("project must be an MPSProject");
  }
  ContextActionsTool_Tool.this.myComponent=new ToolComponent(tool);
  ContextActionsTool_Tool.this.myController=new ContextMenuController(mpsProject,ContextActionsTool_Tool.this.myComponent,new ContextAssistantMenuProviderByCellAndConcept(mpsProject.getRepository().getModelAccess()));
  ((ToolWindowEx)tool.getToolWindow()).setAdditionalGearActions(ContextActionsTool_Tool.this.createGearActionGroup());
  ThreadUtils.runInUIThreadNoWait(new Runnable(){
    public void run(){
      tool.makeAvailableLater();
    }
  }
);
}
