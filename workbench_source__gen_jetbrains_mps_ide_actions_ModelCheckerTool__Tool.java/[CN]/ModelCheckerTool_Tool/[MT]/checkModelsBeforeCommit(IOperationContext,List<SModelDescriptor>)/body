{
  ModelCheckerViewer viewer=ModelCheckerTool_Tool.this.checkModels(modelDescriptors,operationContext,false);
  SearchResults<ModelCheckerIssue> issues=viewer.getSearchResults();
  int warnings=0;
  int errors=0;
  for (  SearchResult<ModelCheckerIssue> issue : ListSequence.fromList(issues.getSearchResults())) {
    String category=issue.getCategory();
    if (ModelCheckerUtils.CATEGORY_ERROR.equals(category)) {
      errors++;
    }
 else     if (ModelCheckerUtils.CATEGORY_WARNING.equals(category)) {
      warnings++;
    }
  }
  if (errors != 0) {
    String dialogMessage="Model checker found " + errors + " errors and "+ warnings+ " warnings. Would you like to review them?";
    int dialogAnswer=Messages.showDialog(operationContext.getProject(),dialogMessage,"Model Checking",new String[]{"Review","Commit","Cancel"},2,null);
    if (dialogAnswer == 0) {
      ModelCheckerTool_Tool.this.showTabWithResults(viewer);
      return CheckinHandler.ReturnResult.CLOSE_WINDOW;
    }
 else     if (dialogAnswer == 1) {
      return CheckinHandler.ReturnResult.COMMIT;
    }
 else     if (dialogAnswer == 2) {
      return CheckinHandler.ReturnResult.CANCEL;
    }
  }
  return CheckinHandler.ReturnResult.COMMIT;
}
