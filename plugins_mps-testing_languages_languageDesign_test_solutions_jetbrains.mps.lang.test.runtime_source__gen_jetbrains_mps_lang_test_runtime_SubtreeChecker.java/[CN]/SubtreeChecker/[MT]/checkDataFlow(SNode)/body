{
  Program program=DataFlowManager.getInstance().buildProgramFor(node);
  Set<Instruction> unreachable=program.getUnreachableInstructions();
  AnalysisResult<VarSet> initialized=program.analyze(new InitializedVariablesAnalyzer());
  AnalysisResult<VarSet> live=program.analyze(new LivenessAnalyzer());
  for (  SNode child : SNodeOperations.getDescendants(node,"jetbrains.mps.lang.core.structure.BaseConcept",false,new String[]{})) {
    if (AttributeOperations.getAttribute(child,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.test.structure.NodePropertiesContainer")) != null) {
      SNode container=AttributeOperations.getAttribute(child,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.test.structure.NodePropertiesContainer"));
      for (      SNode property : SLinkOperations.getTargets(container,"properties",true)) {
        Instruction instruction;
        List<Instruction> instructions=program.getInstructionsFor(child);
        if (ListSequence.fromList(instructions).isNotEmpty()) {
          instruction=program.getInstructionsFor(child).get(0);
        }
 else {
          continue;
        }
        if (SNodeOperations.isInstanceOf(property,"jetbrains.mps.lang.test.structure.NodeReachable")) {
          Assert.assertFalse("instruction <" + instruction + "> is unreachable",SetSequence.fromSet(unreachable).contains(instruction));
        }
        if (SNodeOperations.isInstanceOf(property,"jetbrains.mps.lang.test.structure.NodeUnreachable")) {
          Assert.assertTrue("instruction <" + instruction + "> is reachable",SetSequence.fromSet(unreachable).contains(instruction));
        }
        if (SNodeOperations.isInstanceOf(property,"jetbrains.mps.lang.test.structure.VariableInialized")) {
          Set<Object> vars=(Set<Object>)initialized.get(instruction);
          SNode var=SLinkOperations.getTarget(SNodeOperations.cast(property,"jetbrains.mps.lang.test.structure.VariableInialized"),"var",true);
          Assert.assertTrue("variable <" + var + "> is not initialized",SetSequence.fromSet(vars).contains(SLinkOperations.getTarget(var,"variableDeclaration",false)));
        }
        if (SNodeOperations.isInstanceOf(property,"jetbrains.mps.lang.test.structure.VariableLive")) {
          Set<Object> vars=(Set<Object>)live.get(instruction);
          SNode var=SLinkOperations.getTarget(SNodeOperations.cast(property,"jetbrains.mps.lang.test.structure.VariableInialized"),"var",true);
          Assert.assertTrue("variable <" + var + "> is not live",SetSequence.fromSet(vars).contains(SLinkOperations.getTarget(var,"variableDeclaration",false)));
        }
      }
    }
  }
}
