{
  for (  SReference ref : ListSequence.fromList(SNodeOperations.getNodeDescendants(newNode,null,true,new SConcept[]{})).translate(new ITranslator2<SNode,SReference>(){
    public Iterable<SReference> translate(    SNode n){
      return SNodeOperations.getReferences(n);
    }
  }
)) {
    SModelReference targetModelRef=ref.getTargetSModelReference();
    ((SModelInternal)model).addModelImport(targetModelRef,false);
    SModule sourceModule=check_4tnolf_a0d0a0p(model);
    SModule targetModule=check_4tnolf_a0e0a0p(SModelRepository.getInstance().getModelDescriptor(targetModelRef));
    if (sourceModule != null && targetModule != null) {
      if (!(new GlobalModuleDependenciesManager(sourceModule).getModules(GlobalModuleDependenciesManager.Deptype.VISIBLE).contains(targetModule))) {
        ((AbstractModule)sourceModule).addDependency(targetModule.getModuleReference(),false);
      }
    }
  }
}
