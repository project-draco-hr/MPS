{
  Language childLang=jetbrains.mps.util.SNodeOperations.getLanguage(child);
  if (!generator.getGeneratorSessionContext().getGenerationPlan().isCountedLanguage(childLang)) {
    if (!childLang.getGenerators().isEmpty()) {
      getLogger().error(child.getReference(),"language of output node is '" + childLang.getModuleName() + "' - this language did not show up when computing generation steps!",GeneratorUtil.describe(templateNode,"template"),GeneratorUtil.describe(templateContext.getInput(),"input"),new ProblemDescription("workaround: add the language '" + childLang.getModuleName() + "' to list of 'Languages Engaged On Generation' in model '"+ generator.getGeneratorSessionContext().getOriginalInputModel().getReference().getModelName()+ "'"));
    }
  }
  if (child.getModel() != null) {
    child=CopyUtil.copy(child);
  }
  validateReferences(child,templateContext.getInput());
  return child;
}
