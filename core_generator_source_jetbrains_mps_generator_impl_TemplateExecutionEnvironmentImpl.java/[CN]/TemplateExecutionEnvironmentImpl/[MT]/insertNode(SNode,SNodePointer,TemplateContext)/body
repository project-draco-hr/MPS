{
  Language childLang=jetbrains.mps.util.SNodeOperations.getLanguage(child);
  if (!generator.getGeneratorSessionContext().getGenerationPlan().isCountedLanguage(childLang)) {
    if (!childLang.getGenerators().isEmpty()) {
      SNode tNode=templateNode.getNode();
      generator.getLogger().error(child,"language of output node is '" + childLang.getModuleFqName() + "' - this language did not show up when computing generation steps!",GeneratorUtil.describe(tNode,"template"),GeneratorUtil.describe(templateContext.getInput(),"input"),new ProblemDescription(null,"workaround: add the language '" + childLang.getModuleFqName() + "' to list of 'Languages Engaged On Generation' in model '"+ generator.getGeneratorSessionContext().getOriginalInputModel().getSModelFqName()+ "'"));
    }
  }
  if (jetbrains.mps.util.SNodeOperations.isRegistered(child)) {
    child=CopyUtil.copy(child);
  }
  validateReferences(child,templateContext.getInput());
  return child;
}
