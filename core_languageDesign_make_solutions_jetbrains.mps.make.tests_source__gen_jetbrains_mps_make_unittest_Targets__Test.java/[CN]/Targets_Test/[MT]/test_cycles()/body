{
  TargetRange tr=new TargetRange();
  final ITarget make=Mockups.target(context,"make",new ITarget.Name("make"));
  context.checking(new Expectations(){
{
      atLeast(1).of(make).before();
      will(returnValue(Sequence.fromArray(new ITarget.Name[]{new ITarget.Name("make")})));
    }
  }
);
  Mockups.allowing(context,make);
  tr.addTarget(make);
  Assert.assertTrue(tr.hasCycles());
  Assert.assertSame(make.getName(),ListSequence.<ITarget.Name>fromList(ListSequence.<List<ITarget.Name>>fromList(tr.cycles()).first()).first());
}
