{
  myModelDialog=modelDialog;
  myRootId=rootId;
  myOldEditor=addEditor(0,myModelDialog.getChangeSet().getOldModel());
  myNewEditor=addEditor(1,myModelDialog.getChangeSet().getNewModel());
  linkEditors(true);
  linkEditors(false);
  JSplitPane splitPane=new JSplitPane(JSplitPane.VERTICAL_SPLIT,myTopPanel,myBottomPanel);
  splitPane.setResizeWeight(0.7);
  RootDifferenceDialog.MyGoToNeighbourRootActions neighbourActions=new RootDifferenceDialog.MyGoToNeighbourRootActions();
  NextPreviousTraverser neighbourTraverser=new NextPreviousTraverser(myChangeGroupBuilders,myNewEditor.getMainEditor());
  DefaultActionGroup actionGroup=ActionUtils.groupFromActions(neighbourActions.previous(),neighbourActions.next(),Separator.getInstance(),neighbourTraverser.previousAction(),neighbourTraverser.nextAction());
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,actionGroup,true);
  neighbourTraverser.setActionToolbar(toolbar);
  myContainer.add(toolbar.getComponent(),BorderLayout.NORTH);
  myContainer.add(splitPane,BorderLayout.CENTER);
  myContainer.add(myStatusBar,BorderLayout.SOUTH);
  highlightAllChanges();
}
