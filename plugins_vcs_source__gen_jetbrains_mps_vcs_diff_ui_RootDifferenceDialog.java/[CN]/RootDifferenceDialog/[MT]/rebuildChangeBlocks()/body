{
  myNewEditorComponent.removeAllChanges();
  myOldEditorComponent.removeAllChanges();
  final List<Change> revertChanges=new DiffBuilder(myNewModel,myOldModel).getChanges();
  ModelAccess.instance().runWriteActionInCommandAsync(new Runnable(){
    public void run(){
      applySafeMoves(revertChanges);
      myNewEditorComponent.hightlight(revertChanges,true,true);
      myOldEditorComponent.hightlight(revertChanges,false,true);
      myNewEditorComponent.makeChangeBlocks();
      myOldEditorComponent.makeChangeBlocks();
    }
  }
,myOldEditorComponent.getOperationContext().getProject());
}
