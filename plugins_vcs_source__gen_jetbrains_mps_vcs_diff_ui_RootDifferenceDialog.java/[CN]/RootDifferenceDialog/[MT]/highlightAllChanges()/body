{
  ListSequence.<ChangeGroupBuilder>fromList(myChangeGroupBuilders).visitAll(new IVisitor<ChangeGroupBuilder>(){
    public void visit(    ChangeGroupBuilder b){
      b.invalidate();
    }
  }
);
  for (  ModelChange change : ListSequence.<ModelChange>fromList(myModelDialog.getChangesForRoot(myRootId))) {
    higlightChange(myOldEditor,myModelDialog.getChangeSet().getOldModel(),change);
    higlightChange(myNewEditor,myModelDialog.getChangeSet().getNewModel(),change);
  }
  myOldEditor.repaintAndRebuildEditorMessages();
  myNewEditor.repaintAndRebuildEditorMessages();
  int count=ListSequence.<ModelChange>fromList(myModelDialog.getChangesForRoot(myRootId)).count();
  myStatusBar.setText((count == 0 ? "no differences" : NameUtil.formatNumericalString(count,"difference")));
}
