{
  Set<SNode> menusForTag=new HashSet<SNode>();
  Set<SNode> checkedConcepts=new HashSet<SNode>();
  final Deque<SNode> conceptDeque=new ArrayDeque<SNode>();
  conceptDeque.offer(concept);
  while (!(conceptDeque.isEmpty())) {
    concept=conceptDeque.remove();
    if (concept == null || checkedConcepts.contains(concept)) {
      continue;
    }
    checkedConcepts.add(concept);
    SNode menu=ActionMigrationHelper.findMainNamedMenu(concept,tag);
    if (menu != null) {
      menusForTag.add(menu);
    }
    ListSequence.fromList(AbstractConceptDeclaration__BehaviorDescriptor.getImmediateSuperconcepts_idhMuxyK2.invoke(concept)).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        conceptDeque.offer(it);
      }
    }
);
  }
  return menusForTag;
}
