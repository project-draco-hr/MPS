{
  Node node=MapSequence.<Edge,Node>fromMap(labelCenters).get(edge);
  Point center=MapSequence.<Node,Point>fromMap(coordinates).get(node);
  Dart dart=ListSequence.<Dart>fromList(embeddedGraph.getDarts(ListSequence.<Edge>fromList(node.getEdges()).first())).first();
  Rectangle rect;
  Dimension size=MapSequence.<Edge,Dimension>fromMap(edgeSizes).get(edge);
  if (MapSequence.<Dart,Direction2D>fromMap(directions).get(dart).isHorizontal()) {
    rect=new Rectangle(center.x - size.width / 2,center.y,size.width,size.height);
  }
 else {
    rect=new Rectangle(center.x,center.y - size.height / 2,size.width,size.height);
  }
  return rect;
}
