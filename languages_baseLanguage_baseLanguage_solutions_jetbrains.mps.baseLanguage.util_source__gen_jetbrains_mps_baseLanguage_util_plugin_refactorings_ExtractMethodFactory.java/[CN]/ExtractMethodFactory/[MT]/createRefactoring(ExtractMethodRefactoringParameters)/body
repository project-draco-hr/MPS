{
  if (SNodeOperations.isInstanceOf(ListSequence.fromList(parameteres.getNodesToRefactor()).first(),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37f506fL,"jetbrains.mps.baseLanguage.structure.Expression"))) {
    return new ExtractMethodFromExpressionRefactoring(parameteres);
  }
  if (ListSequence.fromList(parameteres.getAnalyzer().getOutputVariables()).isNotEmpty()) {
    return new ExtractMethodWithOutputVariable(parameteres);
  }
  SNode containerType=parameteres.getAnalyzer().getExtractMethodReafactoringProcessor().getContainerReturnType();
  if (parameteres.getAnalyzer().isAlwaysReturns() && containerType != null && !(SNodeOperations.isInstanceOf(containerType,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc6bf96dL,"jetbrains.mps.baseLanguage.structure.VoidType")))) {
    return new ExtractMethodWithReturn(parameteres);
  }
  if (parameteres.getAnalyzer().hasExitPoints()) {
    return new ExtractMethodWithExitPoints(parameteres);
  }
  return new ExtractMethodFromStatementsRefactoring(parameteres);
}
