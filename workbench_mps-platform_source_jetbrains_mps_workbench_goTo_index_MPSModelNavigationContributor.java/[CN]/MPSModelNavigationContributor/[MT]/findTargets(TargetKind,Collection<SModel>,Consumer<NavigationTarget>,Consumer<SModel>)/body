{
  final ID<Integer,List<SNodeDescriptor>> indexName=RootNodeNameIndex.NAME;
  final FileBasedIndex fileBasedIndex=FileBasedIndex.getInstance();
  for (  SModel sm : scope) {
    if (sm instanceof EditableSModel && ((EditableSModel)sm).isChanged()) {
      continue;
    }
    DataSource source=sm.getSource();
    if (!(source instanceof FileDataSource)) {
      continue;
    }
    IFile modelFile=((FileDataSource)source).getFile();
    String ext=FileUtil.getExtension(modelFile.getName());
    if (ext == null || modelFile.isDirectory() || !(supportedExtensions.contains(ext.toLowerCase()))) {
      continue;
    }
    VirtualFile vf=VirtualFileUtils.getVirtualFile(modelFile);
    if (vf == null)     continue;
    int fileId=FileBasedIndex.getFileId(vf);
    ConcreteFilesGlobalSearchScope fileScope=new ConcreteFilesGlobalSearchScope(Collections.singleton(vf));
    List<List<SNodeDescriptor>> descriptors=fileBasedIndex.getValues(indexName,fileId,fileScope);
    if (descriptors.isEmpty())     continue;
    boolean needToLoad=false;
    for (    NavigationTarget snd : descriptors.get(0)) {
      PropertyConstraintsDescriptor descriptor=ConceptRegistryUtil.getConstraintsDescriptor(snd.getConcept()).getProperty(SNodeUtil.property_INamedConcept_name.getName());
      if (descriptor instanceof BasePropertyConstraintsDescriptor && !((BasePropertyConstraintsDescriptor)descriptor).isGetterDefault()) {
        needToLoad=true;
        break;
      }
    }
    if (!needToLoad) {
      for (      SNodeDescriptor desc : descriptors.get(0)) {
        consumer.consume(desc);
      }
      processedConsumer.consume(sm);
    }
  }
}
