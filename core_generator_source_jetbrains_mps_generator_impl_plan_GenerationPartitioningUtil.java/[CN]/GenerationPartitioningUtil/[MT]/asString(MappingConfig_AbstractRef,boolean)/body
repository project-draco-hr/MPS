{
  if (mappingRef instanceof MappingConfig_RefAllLocal) {
    return "*";
  }
  if (mappingRef instanceof MappingConfig_RefAllGlobal) {
    return "[*:*]";
  }
  if (mappingRef instanceof MappingConfig_RefSet) {
    String s="{";
    int count=((MappingConfig_RefSet)mappingRef).getMappingConfigs().size();
    for (    MappingConfig_AbstractRef mappingSimpleRef : ((MappingConfig_RefSet)mappingRef).getMappingConfigs()) {
      count--;
      s=s + asString(mappingSimpleRef,moreDetails);
      if (count > 0)       s+=", ";
    }
    return s + "}";
  }
  if (mappingRef instanceof MappingConfig_SimpleRef) {
    String modelUID=((MappingConfig_SimpleRef)mappingRef).getModelUID();
    String nodeID=((MappingConfig_SimpleRef)mappingRef).getNodeID();
    String modelName=moreDetails ? SModelReference.fromString(modelUID).getLongName() : NameUtil.shortNameFromLongName(SModelReference.fromString(modelUID).getLongName());
    String s=modelName + ".";
    if (nodeID.equals("*")) {
      return s + "*";
    }
 else {
      GlobalScope scope=GlobalScope.getInstance();
      SModelDescriptor refModel=scope.getModelDescriptor(SModelReference.fromString(modelUID));
      if (refModel != null) {
        SNode mappingConfig=refModel.getSModel().getNodeById(nodeID);
        if (mappingConfig != null) {
          return s + mappingConfig.getName();
        }
      }
    }
    return s + nodeID + "!unresolved!";
  }
  if (mappingRef instanceof MappingConfig_ExternalRef) {
    ModuleReference generatorRef=((MappingConfig_ExternalRef)mappingRef).getGenerator();
    MappingConfig_AbstractRef extMappingRef=((MappingConfig_ExternalRef)mappingRef).getMappingConfig();
    return "[" + asString(generatorRef) + ":"+ asString(extMappingRef,moreDetails)+ "]";
  }
  return "???";
}
