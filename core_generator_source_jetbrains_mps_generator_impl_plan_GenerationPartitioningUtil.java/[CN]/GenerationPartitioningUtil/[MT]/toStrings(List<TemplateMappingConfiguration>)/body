{
  List<String> strings=new ArrayList<String>();
  Map<TemplateModel,Integer> numOfMappingsByModel=new HashMap<TemplateModel,Integer>();
  for (  TemplateMappingConfiguration mappingConfig : mappings) {
    TemplateModel model=mappingConfig.getModel();
    if (!numOfMappingsByModel.containsKey(model)) {
      numOfMappingsByModel.put(model,0);
    }
    numOfMappingsByModel.put(model,numOfMappingsByModel.get(model) + 1);
  }
  Iterator<TemplateModel> models=numOfMappingsByModel.keySet().iterator();
  while (models.hasNext()) {
    TemplateModel model=models.next();
    int totalMappings=model.getConfigurations().size();
    if (totalMappings <= 1 || numOfMappingsByModel.get(model) < totalMappings) {
      models.remove();
    }
 else {
      numOfMappingsByModel.put(model,0);
    }
  }
  for (  TemplateMappingConfiguration mappingConfig : mappings) {
    TemplateModel model=mappingConfig.getModel();
    if (numOfMappingsByModel.containsKey(model)) {
      if (numOfMappingsByModel.get(model) == 0) {
        strings.add(model.getLongName() + ".*");
        numOfMappingsByModel.put(model,1);
      }
    }
 else {
      strings.add(model.getLongName() + "." + mappingConfig.getName());
    }
  }
  Collections.sort(strings);
  return strings;
}
