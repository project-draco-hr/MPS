{
  Iterable<SNode> allNodes=Sequence.fromIterable(allModels(scope)).translate(new ITranslator2<SModel,SNode>(){
    public Iterable<SNode> translate(    SModel it){
      return SModelOperations.getNodes(it,null);
    }
  }
);
  if (concept == null) {
    return allNodes;
  }
 else {
    return Sequence.fromIterable(allNodes).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SNodeOperations.isInstanceOf(it,NameUtil.nodeFQName(concept));
      }
    }
);
  }
}
