{
  SNode exceptionResultPart=SConceptOperations.createNewNode("jetbrains.mps.console.base.structure.ExceptionHolder",null);
  SNode nodeWithClosure=SConceptOperations.createNewNode("jetbrains.mps.console.base.structure.NodeWithClosure",null);
  SPropertyOperations.set(nodeWithClosure,"text",exception.getClass().getName());
  SLinkOperations.setTarget(exceptionResultPart,"clickable",nodeWithClosure,true);
  ClosureHoldingNodeUtil.getInstance().register(nodeWithClosure,new _FunctionTypes._void_P0_E0(){
    public void invoke(){
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          StringWriter writer=new StringWriter();
          exception.printStackTrace(new PrintWriter(writer));
          StringSelection contents=new StringSelection(writer.toString());
          CopyPasteManagerEx.getInstanceEx().setContents(contents);
          final AnalyzeStacktraceDialog dialog=new AnalyzeStacktraceDialog(ProjectHelper.toIdeaProject(context.getProject()),new ProjectOperationContext(context.getProject()));
          dialog.show();
        }
      }
);
    }
  }
);
  console.addNode(exceptionResultPart);
}
