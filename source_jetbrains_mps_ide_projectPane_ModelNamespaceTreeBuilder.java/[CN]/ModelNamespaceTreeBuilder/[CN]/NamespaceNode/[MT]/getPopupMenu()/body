{
  JPopupMenu result=new JPopupMenu();
  String stereotype="";
  MPSTreeNode current=this;
  IOperationContext operationContext=null;
  while (true) {
    if (current == null) {
      return null;
    }
    if (current instanceof SModelsSubtree.ModelsGroupTreeNode) {
      stereotype=current.toString();
      operationContext=((SModelsSubtree.ModelsGroupTreeNode)current).getOperationContext();
      break;
    }
    current=(MPSTreeNode)current.getParent();
  }
  ActionContext context=new ActionContext(operationContext);
  IModule module=operationContext.getModule();
  if (module instanceof Solution) {
    Solution solution=(Solution)module;
    context.put(Solution.class,solution);
    if (stereotype.equals("<" + SModelStereotype.JAVA_STUB + ">")) {
      ActionManager.instance().getGroup(ProjectPane.PROJECT_PANE_STUBS_ACTIONS).add(result,context);
    }
 else {
      ActionManager.instance().getGroup(ProjectPane.PROJECT_PANE_MODELS_ACTIONS).add(result,context);
    }
  }
  return result;
}
