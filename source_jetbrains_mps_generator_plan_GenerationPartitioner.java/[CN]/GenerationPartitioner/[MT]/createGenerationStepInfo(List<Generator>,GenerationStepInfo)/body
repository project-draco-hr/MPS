{
  Set<MappingConfiguration> processedLockingMappings;
  Set<MappingConfiguration> deferredNotLockingMappings;
  if (prevStepInfo != null) {
    processedLockingMappings=prevStepInfo.getLockingMappings();
    deferredNotLockingMappings=prevStepInfo.getNotLockingMappings();
  }
 else {
    processedLockingMappings=new HashSet<MappingConfiguration>();
    deferredNotLockingMappings=new HashSet<MappingConfiguration>();
  }
  List<List<MappingConfiguration>> mappingSets=doPartitioning(null,generators,processedLockingMappings,deferredNotLockingMappings);
  if (mappingSets.isEmpty()) {
    return new GenerationStepInfo(new ArrayList<MappingConfiguration>(),myProcessedLockingMappings,myDeferredNotLockingMappings);
  }
  return new GenerationStepInfo(mappingSets.get(0),myProcessedLockingMappings,myDeferredNotLockingMappings);
}
