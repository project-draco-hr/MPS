{
  Set<IModule> dependOnModules=new LinkedHashSet<IModule>();
  for (  IModule m : modules) {
    dependOnModules.addAll(m.getAllDependOnModules(IModule.class));
  }
  dependOnModules.addAll(BootstrapLanguages.getInstance().getLanguagesUsedInCore());
  CompositeClassPathItem classPathItems=new CompositeClassPathItem();
  for (  IModule m : dependOnModules) {
    classPathItems.add(m.getJavaStubsClassPathItem());
  }
  classPathItems.add(ClassLoaderManager.getInstance().getRTJar());
  classPathItems.add(ClassLoaderManager.getInstance().getMPSPath());
  if (ClassLoaderManager.getInstance().getMPSSupportPath() != null) {
    classPathItems.add(ClassLoaderManager.getInstance().getMPSSupportPath());
  }
  return classPathItems;
}
