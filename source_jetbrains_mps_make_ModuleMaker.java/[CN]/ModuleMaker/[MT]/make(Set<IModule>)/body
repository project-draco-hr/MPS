{
  Set<IModule> toCompile=new HashSet<IModule>();
  for (  IModule m : modules) {
    boolean isUpToDate=isUpToDate(m);
    for (    IModule dep : m.getAllDependOnModules(IModule.class)) {
      if (!isUpToDate(dep)) {
        toCompile.add(dep);
        isUpToDate=false;
      }
    }
    if (!isUpToDate) {
      toCompile.add(m);
    }
  }
  for (  Set<IModule> cycle : new MakeScheduleBuilder().buildSchedule(toCompile)) {
    System.out.println("compiling cycle: " + cycle);
    compile(cycle);
  }
}
