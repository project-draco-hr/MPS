{
  PostMethod p=new PostMethod(YOUTRACK_BASE_URL + POST_ISSUE);
  p.addParameter(PROJECT_PARAM_NAME,PROJECT);
  p.addParameter(SUMMARY_PARAM_NAME,summary);
  p.addParameter(DESCRIPTION_PARAM_NAME,description);
  p.addParameter(TYPE_PARAM_NAME,EXCEPTION);
  if (hidden) {
    p.addParameter(PERMITTED_GROUP_PARAM_NAME,MPS_GROUP_NAME);
  }
  if (files.length != 0) {
    List<Part> parts=new ArrayList<Part>();
    for (    NameValuePair nameValuePair : p.getParameters()) {
      parts.add(new StringPart(nameValuePair.getName(),nameValuePair.getValue()));
    }
    for (    File file : files) {
      parts.add(new FilePart(file.getName(),file));
    }
    p.setRequestEntity(new MultipartRequestEntity(parts.toArray(new Part[parts.size()]),p.getParams()));
  }
  c.executeMethod(p);
  int statusCode=p.getStatusCode();
  String responseString=p.getResponseBodyAsString();
  if (statusCode == 200) {
    return new Response("Issue posted",responseString,true,null);
  }
 else {
    return new Response("Can't post issue",responseString,false,null);
  }
}
