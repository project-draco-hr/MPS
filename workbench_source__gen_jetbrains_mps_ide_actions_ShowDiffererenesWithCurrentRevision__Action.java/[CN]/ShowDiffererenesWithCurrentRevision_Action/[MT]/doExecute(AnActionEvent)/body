{
  try {
    VirtualFile file=VFileSystem.getFile(ShowDiffererenesWithCurrentRevision_Action.this.model.getModelFile());
    AbstractVcs vcs=ProjectLevelVcsManager.getInstance(ShowDiffererenesWithCurrentRevision_Action.this.project).getVcsFor(file);
    VcsRevisionNumber revisionNumber=vcs.getDiffProvider().getCurrentRevision(file);
    ContentRevision content=vcs.getDiffProvider().createFileContent(revisionNumber,file);
    SModel oldModel=VcsActionsHelper.loadModel(content.getContent(),ShowDiffererenesWithCurrentRevision_Action.this.model);
    VcsActionsHelper.showDiffrence(ShowDiffererenesWithCurrentRevision_Action.this.frame,ShowDiffererenesWithCurrentRevision_Action.this.context,oldModel,ShowDiffererenesWithCurrentRevision_Action.this.model.getSModel(),ShowDiffererenesWithCurrentRevision_Action.this.node);
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "ShowDiffererenesWithCurrentRevision",t);
    }
  }
}
