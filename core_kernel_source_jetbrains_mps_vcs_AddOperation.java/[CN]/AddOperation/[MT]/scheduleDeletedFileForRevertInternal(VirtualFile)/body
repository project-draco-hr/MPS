{
  if (vf.exists()) {
    AbstractVcs vcs=myManager.getVcsFor(vf);
    if (vcs != null) {
      RollbackEnvironment ri=vcs.getRollbackEnvironment();
      if (ri != null) {
        FilePath path=VcsContextFactory.SERVICE.getInstance().createFilePathOn(vf);
        ArrayList<VcsException> result=new ArrayList<VcsException>();
        ri.rollbackMissingFileDeletion(Collections.singletonList(path),result,RollbackProgressListener.EMPTY);
        for (        VcsException e : result) {
          LOG.error(e);
        }
        VcsDirtyScopeManager.getInstance(myProject).fileDirty(vf);
      }
    }
  }
}
