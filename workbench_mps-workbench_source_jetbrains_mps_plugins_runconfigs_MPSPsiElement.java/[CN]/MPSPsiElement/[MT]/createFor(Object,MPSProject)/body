{
  if (o instanceof SNode) {
    return new MPSPsiElement((SNode)o,mpsProject);
  }
  if (o instanceof SModel) {
    return new MPSPsiElement((SModel)o,mpsProject);
  }
  if (o instanceof SModule) {
    return new MPSPsiElement((SModule)o,mpsProject);
  }
  if (o instanceof MPSProject) {
    if (o != mpsProject) {
      throw new IllegalArgumentException("MPSProject must be the same : " + o + " ; mpsProject : "+ mpsProject);
    }
    return new MPSPsiElement(mpsProject);
  }
  if (MPSPsiElement.isListOf(o,SNode.class)) {
    return new MPSPsiElement(((List<SNode>)o),mpsProject);
  }
  throw new IllegalArgumentException(o.getClass().getName());
}
