{
  Map<Edge,Edge> modifiedEdges=MapSequence.fromMap(new HashMap<Edge,Edge>());
  for (  Node node : Sequence.fromIterable(nodesToProcess)) {
    MapSequence.fromMap(myCornerNodes).put(node,new Node[4]);
    makeRectangleForSingleNode(node,modifiedEdges);
    if (SHOW_LOG > 0) {
      System.out.println("corner nodes for node " + node + ":");
      for (      Direction2D dir : Direction2D.values()) {
        System.out.println(dir + " = " + MapSequence.fromMap(myCornerNodes).get(node)[dir.ordinal()]);
      }
    }
  }
  return modifiedEdges;
}
