{
  Color bgColor=UIUtil.getListBackground();
  Color color=list.getForeground();
  boolean isProblemFile=false;
  if (!(value instanceof NavigationItem))   return;
  NavigationItem item=(NavigationItem)value;
  TextAttributes attributes=null;
  if (value instanceof NavigationItem) {
    TextAttributesKey attributesKey=null;
    final ItemPresentation presentation=((NavigationItem)value).getPresentation();
    if (presentation != null)     attributesKey=presentation.getTextAttributesKey();
    if (attributesKey != null) {
      attributes=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(attributesKey);
    }
  }
  SimpleTextAttributes nameAttributes;
  if (isProblemFile) {
    attributes=TextAttributes.merge(new TextAttributes(color,null,Color.red,EffectType.WAVE_UNDERSCORE,Font.PLAIN),attributes);
  }
  nameAttributes=attributes != null ? SimpleTextAttributes.fromTextAttributes(attributes) : null;
  if (nameAttributes == null)   nameAttributes=new SimpleTextAttributes(Font.PLAIN,color);
  append(item + " ",nameAttributes);
  setIcon(item.getPresentation().getIcon(true));
  append(item.getPresentation().getLocationString(),new SimpleTextAttributes(Font.PLAIN,Color.GRAY));
  setPaintFocusBorder(false);
  setBackground(selected ? UIUtil.getListSelectionBackground() : bgColor);
}
