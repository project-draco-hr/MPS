{
  final Language language=StubSolutionCreateHelper.getCurrentLanguage(node);
  String solutionName=JOptionPane.showInputDialog(ProjectHelper.toMainFrame(context.getProject()),"NewSolution");
  final StubSolution stubSolution=new StubSolution();
  stubSolution.setId(ModuleId.generate());
  stubSolution.setName(solutionName);
  SPropertyOperations.set(node,"moduleName",solutionName);
  SPropertyOperations.set(node,"moduleId",stubSolution.getId().toString());
  SModelRepository.getInstance().saveAll();
  ModelAccess.instance().runWriteInEDT(new Runnable(){
    public void run(){
      LanguageDescriptor descriptor=language.getModuleDescriptor();
      descriptor.getStubSolutions().add(stubSolution);
      language.setLanguageDescriptor(descriptor,true);
    }
  }
);
  context.getIdeaProject().save();
}
