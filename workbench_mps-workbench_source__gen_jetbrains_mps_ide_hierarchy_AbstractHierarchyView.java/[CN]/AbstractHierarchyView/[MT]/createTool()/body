{
  myHierarchyTree=createHierarchyTree(false);
  myOccurenceNavigator=new OccurenceNavigatorSupport(myHierarchyTree){
    @Nullable @Override protected Navigatable createDescriptorForNode(    DefaultMutableTreeNode node){
      if (!(node instanceof HierarchyTreeNode)) {
        return null;
      }
      final HierarchyTreeNode treeNode=(HierarchyTreeNode)node;
      final Wrappers._T<SNodeReference> ptr=new Wrappers._T<SNodeReference>(null);
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          SNode node=treeNode.getNode();
          if (node == null || !(SNodeUtil.isAccessible(node,MPSModuleRepository.getInstance()))) {
            return;
          }
          ptr.value=new SNodePointer(node);
        }
      }
);
      if (ptr.value == null) {
        return null;
      }
      Navigatable n=new NodeNavigatable(ProjectHelper.toMPSProject(getProject()),ptr.value);
      return (n.canNavigate() ? n : null);
    }
    @Override public String getPreviousOccurenceActionName(){
      return UsageViewBundle.message("action.previous.occurrence");
    }
    @Override public String getNextOccurenceActionName(){
      return UsageViewBundle.message("action.next.occurrence");
    }
  }
;
  myHierarchyTree.setRootVisible(true);
  final JPanel panel=new JPanel(new BorderLayout());
  this.myComponent=new AbstractHierarchyView.RootPanel();
  myComponent.add(panel,BorderLayout.NORTH);
  myScrollPane=ScrollPaneFactory.createScrollPane(myHierarchyTree);
  myComponent.add(myScrollPane,BorderLayout.CENTER);
  showItemInHierarchy(null,null);
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      JComponent buttonsPanel=ActionManager.getInstance().createActionToolbar(ActionPlaces.TYPE_HIERARCHY_VIEW_TOOLBAR,createButtonsGroup(),true).getComponent();
      panel.add(buttonsPanel,BorderLayout.WEST);
    }
  }
);
}
