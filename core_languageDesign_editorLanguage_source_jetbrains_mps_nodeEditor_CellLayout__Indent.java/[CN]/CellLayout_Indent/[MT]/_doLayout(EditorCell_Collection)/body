{
  EditorCell[] cells=editorCells.getCells();
  final int x=editorCells.getX();
  final int y=editorCells.getY();
  int currentLineWidth=0;
  int cellsWidth=0;
  int cellsHeight=0;
  int currentLineHeight=0;
  for (  EditorCell editorCell : cells) {
    if (editorCell.getStyle().get(StyleAttributes.INDENTED)) {
      currentLineWidth=INDENT;
      cellsHeight+=currentLineHeight;
      currentLineHeight=0;
    }
 else     if (editorCell.getStyle().get(StyleAttributes.NEXT_LINE)) {
      currentLineWidth=0;
      cellsHeight+=currentLineHeight;
      currentLineHeight=0;
    }
    editorCell.setX(x + currentLineWidth);
    editorCell.setY(y + cellsHeight);
    editorCell.relayout();
    currentLineHeight=Math.max(currentLineHeight,editorCell.getHeight());
    currentLineWidth+=editorCell.getWidth();
    cellsWidth=Math.max(cellsWidth,currentLineWidth);
  }
  editorCells.setWidth(cellsWidth);
  editorCells.setHeight(cellsHeight + currentLineHeight);
}
