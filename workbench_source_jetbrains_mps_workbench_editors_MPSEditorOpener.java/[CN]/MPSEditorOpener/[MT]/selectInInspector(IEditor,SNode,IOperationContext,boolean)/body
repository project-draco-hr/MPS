{
  final NodeEditorComponent nec=(NodeEditorComponent)nodeEditor.getCurrentEditorComponent();
  final InspectorEditorComponent inspector=nec.getInspector();
  if (inspector == null)   return;
  if (nec.getLastInspectedNode() == null)   return;
  inspector.inspectNode(nec.getLastInspectedNode(),context,new Runnable(){
    public void run(){
      SNode currentTargetNode=node;
      while (currentTargetNode != null) {
        EditorCell cellInInspector=inspector.findNodeCell(currentTargetNode);
        if (cellInInspector != null) {
          boolean hasInspector=!(inspector.getRootCell() instanceof DefaultInspectorCell);
          if (hasInspector) {
            nec.getInspectorTool().openTool(focus);
          }
          inspector.selectNode(node);
          doFocus(focus,nodeEditor,hasInspector);
          return;
        }
        currentTargetNode=currentTargetNode.getParent();
      }
    }
  }
);
}
