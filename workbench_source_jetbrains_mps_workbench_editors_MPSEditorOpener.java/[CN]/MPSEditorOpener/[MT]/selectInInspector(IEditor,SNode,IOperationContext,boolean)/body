{
  final NodeEditorComponent nec=(NodeEditorComponent)nodeEditor.getCurrentEditorComponent();
  if (nec == null)   return;
  final InspectorTool inspectorTool=nec.getInspectorTool();
  if (inspectorTool == null)   return;
  if (nec.getLastInspectedNode() == null)   return;
  FileEditor fileEditor=(FileEditor)DataManager.getInstance().getDataContext(nodeEditor.getComponent()).getData(MPSDataKeys.FILE_EDITOR.getName());
  final EditorComponent inspector=inspectorTool.getInspector();
  inspectorTool.inspect(nec.getLastInspectedNode(),context,fileEditor);
  SNode currentTargetNode=node;
  while (currentTargetNode != null) {
    EditorCell cellInInspector=inspector.findNodeCell(currentTargetNode);
    if (cellInInspector != null) {
      inspector.selectNode(node);
      if (focus) {
        doFocus(nodeEditor,currentTargetNode != node);
      }
      return;
    }
    currentTargetNode=currentTargetNode.getParent();
  }
}
