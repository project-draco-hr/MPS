{
  SNode baseNode=getBaseNode(context,root);
  if (baseNode == null) {
    baseNode=root;
  }
  MPSNodeVirtualFile file=MPSNodesVirtualFileSystem.getInstance().getFileFor(baseNode);
  FileEditorManager editorManager=FileEditorManager.getInstance(myProject);
  FileEditor fileEditor=editorManager.openFile(file,false)[0];
  MPSFileNodeEditor fileNodeEditor=(MPSFileNodeEditor)fileEditor;
  IEditor nodeEditor=fileNodeEditor.getNodeEditor();
  if (nodeEditor instanceof TabbedEditor) {
    ((TabbedEditor)nodeEditor).selectLinkedEditor(root);
  }
  return nodeEditor;
}
