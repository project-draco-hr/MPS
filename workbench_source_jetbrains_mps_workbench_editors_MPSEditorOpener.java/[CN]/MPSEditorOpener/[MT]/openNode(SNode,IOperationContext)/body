{
  return CommandProcessor.instance().executeLightweightCommand(new Calculable<IEditor>(){
    public IEditor calculate(){
      final IEditor[] result=new IEditor[1];
      final Project ideaProject=context.getComponent(Project.class);
      com.intellij.openapi.command.CommandProcessor.getInstance().executeCommand(ideaProject,new Runnable(){
        public void run(){
          ideaProject.getComponent(IdeDocumentHistory.class).includeCurrentCommandAsNavigation();
          result[0]=doOpenNode(node,context);
        }
      }
,"navigate","");
      return result[0];
    }
  }
);
}
