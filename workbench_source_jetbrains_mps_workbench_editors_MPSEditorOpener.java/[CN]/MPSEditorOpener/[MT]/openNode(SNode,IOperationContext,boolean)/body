{
  return ModelAccess.instance().runReadAction(new Computable<IEditor>(){
    public IEditor compute(){
      final IEditor[] result=new IEditor[1];
      final Project ideaProject=context.getComponent(Project.class);
      com.intellij.openapi.command.CommandProcessor.getInstance().executeCommand(ideaProject,new Runnable(){
        public void run(){
          ideaProject.getComponent(IdeDocumentHistory.class).includeCurrentCommandAsNavigation();
          result[0]=doOpenNode(node,context,focus);
        }
      }
,"navigate","");
      return result[0];
    }
  }
);
}
