{
  Object userObject=treeNode.getUserObject();
  Object o=null;
  if (userObject instanceof SNode) {
    o=new jetbrains.mps.smodel.SNodePointer((SNode)userObject);
  }
 else   if (userObject instanceof SModelDescriptor) {
    o=((SModelDescriptor)userObject).getSModelReference();
  }
 else   if (userObject instanceof IModule) {
    o=((IModule)userObject).getModuleReference();
  }
  if (o != null)   return createForValue(o);
  return null;
}
