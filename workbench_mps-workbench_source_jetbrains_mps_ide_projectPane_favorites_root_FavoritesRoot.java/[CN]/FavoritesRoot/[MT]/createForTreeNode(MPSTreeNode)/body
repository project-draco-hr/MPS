{
  Object userObject=treeNode.getUserObject();
  Object o=null;
  if (userObject instanceof SNode) {
    o=new jetbrains.mps.smodel.SNodePointer((SNode)userObject);
  }
 else   if (userObject instanceof SModel) {
    o=((SModel)userObject).getReference();
  }
 else   if (userObject instanceof SModule) {
    o=((SModule)userObject).getModuleReference();
  }
  if (o != null)   return createForValue(o);
  return null;
}
