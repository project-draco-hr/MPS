{
  myTracer.start(HANDLING_ERRORS_MSG,11);
  try {
    ClassesErrorsTracker errorsTracker=new ClassesErrorsTracker();
    for (    CompilationResult result : results) {
      CategorizedProblem[] errors=result.getErrors();
      if (errors != null && errors.length > 0) {
        errorsTracker=myErrorsHandler.handle(result);
      }
    }
    myTracer.advance(1);
    myTracer.push(WRITING_CLASSES_MSG);
    Set<SModule> changedModules=myWriter.write(results,errorsTracker);
    myTracer.pop(10);
    return changedModules;
  }
  finally {
    myTracer.done();
  }
}
