{
  ClassesErrorsTracker errorsTracker=new ClassesErrorsTracker();
  for (  CompilationResult result : results) {
    CategorizedProblem[] errors=result.getErrors();
    if (errors != null && errors.length > 0) {
      myTracer.push(HANDLING_ERRORS_MSG);
      errorsTracker=myErrorsHandler.handle(result);
      myTracer.pop();
    }
  }
  myTracer.push(WRITING_CLASSES_MSG);
  Set<SModule> changedModules=writer.write(results,errorsTracker);
  myTracer.pop();
  return changedModules;
}
