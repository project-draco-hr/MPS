{
  NodeRuleFactory factory=new NodeRuleFactory(reporter);
  SNode newNode=factory.createNodeFromRuleMsg(reference);
  if (SNodeOperations.isInstanceOf(newNode,"jetbrains.mps.lang.test.structure.IReferenceAttachable")) {
    SNode node=SNodeOperations.cast(newNode,"jetbrains.mps.lang.test.structure.IReferenceAttachable");
    if (BehaviorReflection.invokeVirtual(Boolean.TYPE,node,"virtual_canAttachReference_2893471348147804024",new Object[]{reference})) {
      BehaviorReflection.invokeVirtual(Void.class,node,"virtual_attachReference_2893471348147987863",new Object[]{reference});
    }
  }
  ListSequence.fromList(SLinkOperations.getChildren(thisNode,MetaAdapterFactory.getContainmentLink(new UUID(-8825571760360698496l,-7431307307277756308l),1215603922101l,1215604436604l,"nodeOperations"))).addElement(newNode);
}
