{
  NodeRuleFactory factory=new NodeRuleFactory(reporter);
  SNode newNode=factory.createNodeFromRuleMsg(reference);
  if (SNodeOperations.isInstanceOf(newNode,"jetbrains.mps.lang.test.structure.IReferenceAttachable")) {
    SNode node=SNodeOperations.cast(newNode,"jetbrains.mps.lang.test.structure.IReferenceAttachable");
    if (BehaviorReflection.invokeVirtual(Boolean.TYPE,node,"virtual_canAttachReference_2893471348147804024",new Object[]{reference})) {
      BehaviorReflection.invokeVirtual(Void.class,node,"virtual_attachReference_2893471348147987863",new Object[]{reference});
    }
  }
  ListSequence.fromList(SLinkOperations.getTargets(thisNode,"nodeOperations",true)).addElement(newNode);
}
