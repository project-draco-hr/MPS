{
  if (myModule.canLoadFromSelf()) {
    Class c=findLoadedClass(name);
    if (c != null)     return c;
    byte[] bytes=myModule.findClassBytes(name);
    if (bytes != null) {
      definePackageIfNecessary(name);
      return defineClass(name,bytes,0,bytes.length,ProtectionDomainUtil.loadedClassDomain());
    }
  }
  if (dependencies) {
    Set<IClassLoadingModule> mayContainNonOwned=new HashSet<IClassLoadingModule>();
    for (    IClassLoadingModule m : myModule.getClassLoadingDependencies()) {
      if (m.equals(myModule))       continue;
      if (m.canLoad() && m.canLoadFromSelf() && m.canFindClass(name)) {
        try {
          return m.getClassLoader().loadClass(name,false,false,false);
        }
 catch (        ClassNotFoundException e) {
        }
      }
 else {
        mayContainNonOwned.add(m);
      }
    }
    for (    IClassLoadingModule m : mayContainNonOwned) {
      try {
        return m.getClassLoader().loadClass(name,false,false,false);
      }
 catch (      ClassNotFoundException e) {
      }
    }
  }
  if (!loadFromApp && getParent() == ModuleClassLoader.class.getClassLoader())   throw new ClassNotFoundException(name);
  return getParent().loadClass(name);
}
