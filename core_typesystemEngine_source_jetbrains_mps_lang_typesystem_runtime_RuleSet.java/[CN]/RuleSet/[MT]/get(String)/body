{
  Set<T> cachedResult=myRulesCache.get(key);
  if (cachedResult != null) {
    return Collections.unmodifiableSet(cachedResult);
  }
  Set<T> result=computeRuleSet(key);
  myRulesCache.put(key,result);
  return Collections.unmodifiableSet(result);
}
