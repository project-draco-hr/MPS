{
  Map<FastFindSupport,Set<SModelDescriptor>> result=new THashMap<FastFindSupport,Set<SModelDescriptor>>();
  result.put(null,new THashSet<SModelDescriptor>());
  for (  SModelDescriptor model : models) {
    if (!(model instanceof BaseSModelDescriptorWithSource)) {
      result.get(null).add(model);
      continue;
    }
    BaseSModelDescriptorWithSource mws=((BaseSModelDescriptorWithSource)model);
    if (!(mws.getSource() instanceof FastFindSupportProvider)) {
      result.get(null).add(model);
      continue;
    }
    FastFindSupportProvider ffsp=((FastFindSupportProvider)mws.getSource());
    FastFindSupport ffs=ffsp.getFastFindSupport();
    if (ffs == null) {
      result.get(null).add(model);
      continue;
    }
    Set<SModelDescriptor> descs=result.get(ffs);
    if (descs == null) {
      descs=new THashSet<SModelDescriptor>();
      result.put(ffs,descs);
    }
    descs.add(model);
  }
  return result;
}
