{
  myUsedDevkits=new HashSet<DevKit>();
  for (  SModule m : initialModules) {
    if (m instanceof DevKit) {
      DevKit dk=(DevKit)m;
      myUsedDevkits.add(dk);
      myUsedDevkits.addAll(dk.getAllExtendedDevkits());
    }
    ModuleDescriptor moduleDescriptor=((AbstractModule)m).getModuleDescriptor();
    if (moduleDescriptor != null && moduleDescriptor.getUsedDevkits() != null) {
      for (      DevKit dk : ModuleUtil.refsToDevkits(moduleDescriptor.getUsedDevkits())) {
        myUsedDevkits.add(dk);
        myUsedDevkits.addAll(dk.getAllExtendedDevkits());
      }
    }
  }
}
