{
  myUsedDevkits=new HashSet<DevKit>();
  for (  SModule m : initialModules) {
    if (m instanceof DevKit) {
      DevKit dk=(DevKit)m;
      myUsedDevkits.add(dk);
      myUsedDevkits.addAll(dk.getAllExtendedDevkits());
    }
    ModuleDescriptor moduleDescriptor=((AbstractModule)m).getModuleDescriptor();
    if (moduleDescriptor != null && moduleDescriptor.getUsedDevkits() != null) {
      for (      SModuleReference ref : moduleDescriptor.getUsedDevkits()) {
        DevKit dk=ModuleRepositoryFacade.getInstance().getModule(ref,DevKit.class);
        if (dk == null)         continue;
        myUsedDevkits.add(dk);
        myUsedDevkits.addAll(dk.getAllExtendedDevkits());
      }
    }
  }
}
