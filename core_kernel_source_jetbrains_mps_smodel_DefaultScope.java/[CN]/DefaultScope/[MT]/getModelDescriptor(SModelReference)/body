{
  if (modelReference == null)   return null;
  SModelDescriptor model=SModelRepository.getInstance().getModelDescriptor(modelReference);
  if (model == null) {
    for (    SModelDescriptor md : getHiddenModelDescriptors()) {
      if (md.getSModelReference().equals(modelReference))       return md;
    }
    return null;
  }
  Collection<SModelDescriptor> models=Arrays.asList(model);
  if (modelReference.getSModelId() == null) {
    models=SModelRepository.getInstance().getModelDescriptors(modelReference.getSModelFqName());
  }
synchronized (LOCK) {
    initialize();
    for (    SModelDescriptor md : models) {
      if (myVisibleModules.contains(md.getModule()))       return md;
      for (      Language l : myUsedLanguages) {
        if (l.getAccessoryModels().contains(md))         return md;
      }
    }
  }
  return null;
}
