{
  File outputDir=FileGenerationUtil.getDefaultOutputDir(inputModel,outputRootDir);
  String filename=getFileName(outputRootNode);
  if (filename == null) {
    return null;
  }
  File file=new File(outputDir,filename);
  if (!file.getParentFile().exists()) {
    file.getParentFile().mkdirs();
  }
  if (file.exists()) {
    try {
      String existingContents=FileUtil.read(file);
      if (existingContents != null && existingContents.equals(content)) {
        return file;
      }
    }
 catch (    RuntimeException ex) {
    }
    file.delete();
  }
  boolean fileCreated=false;
  IOException lastExc=null;
  for (int i=1; i <= 20; i++) {
    try {
      file.createNewFile();
      fileCreated=true;
      break;
    }
 catch (    IOException ex) {
      lastExc=ex;
    }
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException ie) {
    }
  }
  if (fileCreated) {
    FileUtil.write(file,content);
  }
 else {
    throw lastExc == null ? new IOException("Can't create " + file.getPath()) : lastExc;
  }
  return file;
}
