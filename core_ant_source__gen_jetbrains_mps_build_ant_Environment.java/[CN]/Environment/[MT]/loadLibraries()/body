{
  if (myLibraryContibutor == null) {
    Set<String> libraryPaths=new HashSet<String>();
    if (myLoadBootstrapLibraries) {
      libraryPaths.addAll(PathManager.getBootstrapPaths());
      libraryPaths.add(PathManager.getLanguagesPath());
      libraryPaths.addAll(PathManager.getExtensionsPaths());
    }
    for (    String libName : myLibraries.keySet()) {
      libraryPaths.add(myLibraries.get(libName).getAbsolutePath());
    }
    this.myLibraryContibutor=new SetLibraryContributor(libraryPaths);
    LibraryInitializer.getInstance().addContributor(myLibraryContibutor);
  }
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      LibraryInitializer.getInstance().update();
    }
  }
);
}
