{
  if (myLibraryContibutor == null) {
    Set<String> libraryPaths=new HashSet<String>();
    if (myWhatToDo.isLoadBootstrapLibraries()) {
      libraryPaths.addAll(PathManager.getBootstrapPaths());
      libraryPaths.add(PathManager.getLanguagesPath());
    }
    for (    String libName : myWhatToDo.getLibraries().keySet()) {
      libraryPaths.add(myWhatToDo.getLibraries().get(libName).getAbsolutePath());
    }
    this.myLibraryContibutor=new SetLibraryContributor(libraryPaths);
    LibraryInitializer.getInstance().addContributor(myLibraryContibutor);
  }
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      LibraryInitializer.getInstance().update();
    }
  }
);
}
