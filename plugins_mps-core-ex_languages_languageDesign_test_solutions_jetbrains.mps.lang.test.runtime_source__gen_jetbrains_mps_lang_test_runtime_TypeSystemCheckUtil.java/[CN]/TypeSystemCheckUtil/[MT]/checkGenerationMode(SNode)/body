{
  TypeCheckingContext typeCheckingContext=TypeContextManager.getInstance().createTypeCheckingContext(node.getTopmostAncestor());
  typeCheckingContext.checkRoot(true);
  for (  SNode child : SNodeOperations.getDescendants(node,"jetbrains.mps.lang.core.structure.BaseConcept",false,new String[]{})) {
    TypeCheckingContext typeCheckingContext2=TypeContextManager.getInstance().createTracingTypeCheckingContext(node.getTopmostAncestor());
    SNode type1=typeCheckingContext.getTypeDontCheck(child);
    if (type1 == null) {
      continue;
    }
    SNode type2=typeCheckingContext2.getTypeInGenerationMode(child);
    Assert.assertTrue(TypesUtil.match(type1,type2));
  }
}
