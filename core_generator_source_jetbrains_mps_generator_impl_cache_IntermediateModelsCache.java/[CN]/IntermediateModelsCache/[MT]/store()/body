{
  long start=System.nanoTime();
  try {
    ModelOutputStream os=new ModelOutputStream(myCacheContainer.createStream(STEPS));
    try {
      os.writeInt(mySteps.size());
      for (      Integer i : mySteps) {
        os.writeInt(i);
      }
    }
  finally {
      os.close();
    }
    OutputStreamWriter writer=new OutputStreamWriter(myCacheContainer.createStream(SIGNATURE));
    try {
      writer.write(mySignature);
    }
  finally {
      writer.close();
    }
    if (isOk) {
      myCacheContainer.commit();
    }
 else {
      myCacheContainer.revert();
    }
  }
 catch (  IOException e) {
    myCacheContainer.revert();
  }
 finally {
    timeSpent+=System.nanoTime() - start;
  }
}
