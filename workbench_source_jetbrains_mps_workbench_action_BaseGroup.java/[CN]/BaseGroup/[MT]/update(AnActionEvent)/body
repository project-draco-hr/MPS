{
  super.update(e);
  enable(e.getPresentation());
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      doUpdate(e);
    }
  }
);
  if (myIsInternal && !InternalFlag.isInternalModel()) {
    e.getPresentation().setEnabled(false);
    e.getPresentation().setVisible(false);
  }
}
