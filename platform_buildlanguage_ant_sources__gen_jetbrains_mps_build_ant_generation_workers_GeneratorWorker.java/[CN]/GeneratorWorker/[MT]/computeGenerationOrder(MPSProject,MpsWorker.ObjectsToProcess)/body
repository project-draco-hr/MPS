{
  final Map<IModule,List<SModelDescriptor>> moduleToModels=new LinkedHashMap<IModule,List<SModelDescriptor>>();
  extractModels(go.getProjects(),go.getModules(),go.getModels(),moduleToModels);
  List<Set<IModule>> modulesOrder=ModelAccess.instance().runReadAction(new Computable<List<Set<IModule>>>(){
    public List<Set<IModule>> compute(){
      return StronglyConnectedModules.getInstance().getStronglyConnectedComponents(moduleToModels.keySet(),new StronglyConnectedModules.IModuleDecoratorBuilder<IModule,StronglyConnectedModules.IModuleDecorator<IModule>>(){
        public StronglyConnectedModules.IModuleDecorator<IModule> decorate(        IModule module){
          return new GeneratorWorker.ModuleDecorator(module);
        }
      }
);
    }
  }
);
  List<GeneratorWorker.Cycle> cycles=new ArrayList<GeneratorWorker.Cycle>();
  for (  Set<IModule> modulesSet : modulesOrder) {
    GeneratorWorker.SimpleModuleCycle cycle=new GeneratorWorker.SimpleModuleCycle(project,modulesSet,moduleToModels);
    cycles.add(cycle);
  }
  return cycles;
}
