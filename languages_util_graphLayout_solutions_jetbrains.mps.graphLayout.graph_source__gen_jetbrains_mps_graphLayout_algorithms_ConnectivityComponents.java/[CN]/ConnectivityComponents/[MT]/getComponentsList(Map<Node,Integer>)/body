{
  int componentsNum=ConnectivityComponents.getComponentsNum(components);
  List<List<Node>> componentsList=ListSequence.<List<Node>>fromList(new ArrayList<List<Node>>(componentsNum));
  for (int i=0; i < componentsNum; i++) {
    ListSequence.<List<Node>>fromList(componentsList).addElement(LinkedListSequence.<Node>fromLinkedList(new LinkedList<Node>()));
  }
  for (  Node node : SetSequence.<Node>fromSet(MapSequence.fromMap(components).keySet())) {
    ListSequence.<Node>fromList(ListSequence.<List<Node>>fromList(componentsList).getElement(MapSequence.<Node,Integer>fromMap(components).get(node))).addElement(node);
  }
  return componentsList;
}
