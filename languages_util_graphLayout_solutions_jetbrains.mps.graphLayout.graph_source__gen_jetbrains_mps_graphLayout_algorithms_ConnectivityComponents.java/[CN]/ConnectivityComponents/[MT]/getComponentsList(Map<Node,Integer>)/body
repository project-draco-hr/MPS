{
  int componentsNum=ConnectivityComponents.getComponentsNum(components);
  List<List<Node>> componentsList=ListSequence.fromList(new ArrayList<List<Node>>(componentsNum));
  for (int i=0; i < componentsNum; i++) {
    ListSequence.fromList(componentsList).addElement(LinkedListSequence.fromLinkedList(new LinkedList<Node>()));
  }
  for (  Node node : SetSequence.fromSet(MapSequence.fromMap(components).keySet())) {
    ListSequence.fromList(ListSequence.fromList(componentsList).getElement(MapSequence.fromMap(components).get(node))).addElement(node);
  }
  return componentsList;
}
