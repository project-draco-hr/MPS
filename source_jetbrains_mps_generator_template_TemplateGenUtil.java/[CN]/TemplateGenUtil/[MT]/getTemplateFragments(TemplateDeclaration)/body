{
  List<TemplateFragment> templateFragments=new LinkedList<TemplateFragment>();
  Iterator<? extends SNode> iterator=template.getNode().depthFirstChildren();
  while (iterator.hasNext()) {
    SNode templateFragment=iterator.next();
    if (BaseAdapter.fromNode(templateFragment) instanceof TemplateFragment) {
      templateFragments.add((TemplateFragment)templateFragment.getAdapter());
    }
  }
  return templateFragments;
}
