{
  INodeBuilder nodeBuilder=((AbstractTemplateModelGenerator)generator).getNodeBuilderManager().tryReduceByReductionRule(sourceNode);
  if (nodeBuilder != null) {
    nodeBuilder.setRoleInParent(sourceNode.getRole_());
    return nodeBuilder;
  }
  nodeBuilder=createDefaultNodeBuilder(sourceNode,sourceNode,null,generator);
  List<SNode> children=sourceNode.getChildren();
  for (  SNode child : children) {
    INodeBuilder childBuilder=createCopyingNodeBuilder(child,generator);
    nodeBuilder.addChildBuilder(childBuilder);
  }
  return nodeBuilder;
}
