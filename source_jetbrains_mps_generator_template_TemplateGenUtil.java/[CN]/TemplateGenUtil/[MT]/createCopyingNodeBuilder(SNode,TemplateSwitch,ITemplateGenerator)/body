{
  if (templateSwitch != null) {
    INodeBuilder nodeBuilder=createNodeBuilderForSwitch(sourceNode,templateSwitch,null,generator);
    if (nodeBuilder != null) {
      nodeBuilder.setRoleInParent(sourceNode.getRole_());
      return nodeBuilder;
    }
  }
{
    INodeBuilder nodeBuilder=((AbstractTemplateModelGenerator)generator).getNodeBuilderManager().tryReduceByReductionRule(sourceNode);
    if (nodeBuilder != null) {
      nodeBuilder.setRoleInParent(sourceNode.getRole_());
      return nodeBuilder;
    }
  }
  INodeBuilder nodeBuilder=createDefaultNodeBuilder(sourceNode,sourceNode,null,generator);
  List<SNode> children=sourceNode.getChildren();
  for (  SNode child : children) {
    INodeBuilder childBuilder=createCopyingNodeBuilder(child,templateSwitch,generator);
    nodeBuilder.addChildBuilder(childBuilder);
  }
  return nodeBuilder;
}
