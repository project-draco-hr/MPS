{
  TemplateDeclaration templateDeclaration=weavingRule.getTemplate();
  List<SNode> sourceNodes=createSourceNodeListForWeavingRule(weavingRule,generator);
  for (  SNode sourceNode : sourceNodes) {
    INodeBuilder contextBuilder=getContextNodeBuilderForWeavingingRule(sourceNode,weavingRule,generator);
    if (contextBuilder == null) {
      generator.showErrorMessage(sourceNode,weavingRule,"couldn't create context node builder");
      continue;
    }
    weaveTemplateDeclaration(sourceNode,templateDeclaration,contextBuilder,generator,weavingRule);
  }
}
