{
  TemplateDeclaration templateForSwitchCase=(TemplateDeclaration)BaseAdapter.fromNode(generator.getTemplateForSwitchCase(sourceNode,(jetbrains.mps.transformation.TLBase.TemplateSwitch)templateSwitch.getNode()));
  if (templateForSwitchCase == null) {
    return null;
  }
  List<TemplateFragment> templateFragments=getTemplateFragments(templateForSwitchCase);
  if (templateFragments.isEmpty()) {
    generator.showErrorMessage(sourceNode,BaseAdapter.fromAdapter(templateForSwitchCase),BaseAdapter.fromAdapter(templateSwitch),"couldn't create builder for switch: no template fragments found");
    return new Void_NodeBuilder(sourceNode,templateForSwitchCase.getNode(),null,generator);
  }
  if (templateFragments.size() > 1) {
    generator.showErrorMessage(sourceNode,BaseAdapter.fromAdapter(templateForSwitchCase),BaseAdapter.fromAdapter(templateSwitch),"couldn't create builder for switch: more than one (" + templateFragments.size() + ") fragments found");
    return new Void_NodeBuilder(sourceNode,templateForSwitchCase.getNode(),null,generator);
  }
  TemplateFragment templateFragment=templateFragments.get(0);
  SNode templateNodeForCase=BaseAdapter.fromAdapter(templateFragment.getParent());
  List<SNode> sourceNodes2=createSourceNodeListForTemplateNode(sourceNode,templateNodeForCase,0,generator);
  if (sourceNodes2.size() == 1) {
    return createNodeBuilder(sourceNodes2.get(0),templateNodeForCase,mappingName,0,generator);
  }
  if (sourceNodes2.size() > 1) {
    generator.showErrorMessage(sourceNode,BaseAdapter.fromAdapter(templateForSwitchCase),BaseAdapter.fromAdapter(templateSwitch),"couldn't create builder for switch case: more than one (" + sourceNodes2.size() + ") source nodes are returned by query");
  }
  return new Void_NodeBuilder(sourceNode,templateForSwitchCase.getNode(),null,generator);
}
