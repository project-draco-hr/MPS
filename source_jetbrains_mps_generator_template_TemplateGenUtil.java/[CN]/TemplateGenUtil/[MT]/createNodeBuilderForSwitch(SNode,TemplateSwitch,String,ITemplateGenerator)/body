{
  ConditionalTemplate templateSwitchCase=generator.getTemplateSwitchCase(sourceNode,templateSwitch);
  if (templateSwitchCase == null)   return null;
  TemplateDeclaration templateDeclarationForCase=templateSwitchCase.getTemplate();
  if (templateDeclarationForCase == null) {
    return new Void_NodeBuilder(sourceNode,templateSwitchCase,null,generator);
  }
  List<TemplateFragment> templateFragments=getTemplateFragments(templateDeclarationForCase);
  if (templateFragments.isEmpty()) {
    LOG.error("WARN: no template fragments found in " + templateDeclarationForCase.getDebugText());
    return null;
  }
  if (templateFragments.size() > 1) {
    LOG.error("WARN: more when one fragments found in " + templateDeclarationForCase.getDebugText());
    return null;
  }
  TemplateFragment templateFragment=templateFragments.get(0);
  SNode templateNodeForCase=templateFragment.getParent();
  return createNodeBuilder(sourceNode,templateNodeForCase,mappingName,generator);
}
