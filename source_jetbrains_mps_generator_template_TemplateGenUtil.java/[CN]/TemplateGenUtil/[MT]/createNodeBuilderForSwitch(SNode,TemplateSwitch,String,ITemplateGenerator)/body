{
  ConditionalTemplate templateSwitchCase=generator.getTemplateSwitchCase(sourceNode,templateSwitch);
  if (templateSwitchCase == null)   return null;
  TemplateDeclaration templateDeclarationForCase=templateSwitchCase.getTemplate();
  if (templateDeclarationForCase == null) {
    return new Void_NodeBuilder(sourceNode,templateSwitchCase,null,generator);
  }
  List<TemplateFragment> templateFragments=getTemplateFragments(templateDeclarationForCase);
  if (templateFragments.isEmpty()) {
    generator.showErrorMessage(sourceNode,templateDeclarationForCase,templateSwitch,"Couldn't create builder for switch: no template fragments found");
    return null;
  }
  if (templateFragments.size() > 1) {
    generator.showErrorMessage(sourceNode,templateDeclarationForCase,templateSwitch,"Couldn't create builder for switch: more than one (" + templateFragments.size() + ") fragments found");
    return null;
  }
  TemplateFragment templateFragment=templateFragments.get(0);
  SNode templateNodeForCase=templateFragment.getParent();
  List<SNode> sourceNodes2=createSourceNodeListForTemplateNode(sourceNode,templateNodeForCase,generator);
  if (sourceNodes2.size() > 1) {
    generator.showErrorMessage(sourceNode,templateDeclarationForCase,templateSwitch,"Couldn't create builder for switch case: more than one (" + sourceNodes2.size() + ") source nodes are returned by query");
    return null;
  }
  if (sourceNodes2.isEmpty()) {
    return null;
  }
  return createNodeBuilder(sourceNodes2.get(0),templateNodeForCase,mappingName,generator);
}
