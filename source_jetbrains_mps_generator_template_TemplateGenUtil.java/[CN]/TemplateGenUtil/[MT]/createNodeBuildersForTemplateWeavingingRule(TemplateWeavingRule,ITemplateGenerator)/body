{
  TemplateDeclaration templateDeclaration=templateWeavingRule.getTemplate();
  List<SemanticNode> sourceNodes=createSourceNodeListForTemplateWeavingRule(templateWeavingRule,generator);
  for (  SemanticNode sourceNode : sourceNodes) {
    INodeBuilder ruleContextBuilder=getContextNodeBuilderForTemplateWeavingingRule(sourceNode,templateWeavingRule,generator);
    if (ruleContextBuilder == null) {
      System.err.println("Context Builder is NULL. Couldn't create node builder." + "\nWeaving rule: " + templateWeavingRule.getDebugText() + "\nSource node : "+ sourceNode.getDebugText());
      SModelUtil.dumpNodePath(sourceNode,0,System.err);
      continue;
    }
    createNodeBuildersForTemplateDeclaration(sourceNode,templateDeclaration,ruleContextBuilder,generator);
  }
}
