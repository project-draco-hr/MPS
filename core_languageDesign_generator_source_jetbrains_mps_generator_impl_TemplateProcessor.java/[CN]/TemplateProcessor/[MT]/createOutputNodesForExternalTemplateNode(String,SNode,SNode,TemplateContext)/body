{
  TemplateProcessor templateProcessor=new TemplateProcessor(myGenerator,context);
  Map<String,SNode> old=myGenerator.setPreviousInputNodesByMappingName(templateProcessor.myInputNodesByMappingName);
  try {
    return templateProcessor.createOutputNodesForTemplateNode(mappingName,templateNode,inputNode,0);
  }
  finally {
    myGenerator.setPreviousInputNodesByMappingName(old);
  }
}
