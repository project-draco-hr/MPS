{
  SNode referenceMacro=SNodeOperations.getNodeAncestor(__thisNode__,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0xfd7f44d616L,"jetbrains.mps.lang.generator.structure.ReferenceMacro"),false,false);
  SNode attributedNode=SNodeOperations.getParent(referenceMacro);
  String linkRole=AttributeOperations.getLink(referenceMacro).getName();
  ConceptAndSuperConceptsScope linkSearchScope=new ConceptAndSuperConceptsScope(SNodeOperations.asNode(SNodeOperations.getConcept(attributedNode)));
  SNode link=SNodeOperations.cast(linkSearchScope.getMostSpecificLinkDeclarationByRole(linkRole),MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979bd086aL,"jetbrains.mps.lang.structure.structure.LinkDeclaration"));
  SAbstractConcept targetConcept=SNodeOperations.asSConcept(SLinkOperations.getTarget(link,MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979bd086aL,0xf98055fef0L,"target")));
  SNode expectedNodeType=_quotation_createNode_mxwyp3_a0h0a(targetConcept.getDeclarationNode());
  if (SConceptOperations.isSubConceptOf(SNodeOperations.asSConcept(targetConcept),MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x116b17c6e46L,"jetbrains.mps.lang.core.structure.IResolveInfo"))) {
    return _quotation_createNode_mxwyp3_a0a9a0(targetConcept.getDeclarationNode());
  }
  return expectedNodeType;
}
