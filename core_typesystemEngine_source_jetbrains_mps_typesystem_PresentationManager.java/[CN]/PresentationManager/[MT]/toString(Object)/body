{
  if (type == null)   return null;
  SNode typeNode=null;
  if (type instanceof NodeWrapper) {
    typeNode=((NodeWrapper)type).getNode();
  }
  if (type instanceof SNode) {
    typeNode=((SNode)type);
  }
  if (HUtil.isRuntimeErrorType(typeNode)) {
    return "ERROR(" + HUtil.getErrorText(typeNode) + ")";
  }
  if (HUtil.isRuntimeTypeVariable(typeNode)) {
    return (typeNode).getName();
  }
  return null;
}
