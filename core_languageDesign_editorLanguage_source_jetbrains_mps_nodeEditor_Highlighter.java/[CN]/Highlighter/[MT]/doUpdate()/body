{
  if (myProjects == null)   return;
  MPSProjects projects=myProjects;
  for (  MPSProject project : projects.getProjects()) {
    IDEProjectFrame projectFrame=project.getComponent(IDEProjectFrame.class);
    if (projectFrame == null)     continue;
    EditorsPane editorsPane=project.getComponentSafe(AbstractProjectFrame.class).getEditorsPane();
    boolean isUpdated=false;
    List<SModelEvent> events=new ArrayList<SModelEvent>();
synchronized (EVENTS_LOCK) {
      events.addAll(myLastEvents);
      myLastEvents.clear();
    }
    for (    IEditor editor : editorsPane.getEditors()) {
      AbstractEditorComponent component=editor.getCurrentEditorComponent();
      if (component != null) {
        if (updateEditorComponent(component,events)) {
          isUpdated=true;
        }
        if (component instanceof NodeEditorComponent) {
          updateEditorComponent(((NodeEditorComponent)component).getInspector(),events);
        }
      }
    }
    if (isUpdated) {
      IEditor currentEditor=editorsPane.getCurrentEditor();
      if (currentEditor != null) {
        currentEditor.repaint();
        AbstractEditorComponent component=currentEditor.getCurrentEditorComponent();
        if (component != null) {
          component.getMessagesGutter().repaint();
        }
      }
    }
  }
}
