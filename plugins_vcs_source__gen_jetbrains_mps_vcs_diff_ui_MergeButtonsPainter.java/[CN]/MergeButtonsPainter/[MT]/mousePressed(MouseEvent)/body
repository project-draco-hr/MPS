{
  if (event.getButton() != MouseEvent.BUTTON1) {
    return;
  }
  if (myCurrentGroup == null || myCurrentAction == null) {
    return;
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      MergeContext mergeContext=myChangeGroupBuilder.getMergeContext();
      if (myCurrentAction == MergeButtonsPainter.Action.APPLY) {
        mergeContext.applyChanges(myCurrentGroup.getChanges());
      }
 else       if (myCurrentAction == MergeButtonsPainter.Action.EXCLUDE) {
        mergeContext.excludeChanges(myCurrentGroup.getChanges());
      }
      myDialog.rehighlight();
    }
  }
);
}
