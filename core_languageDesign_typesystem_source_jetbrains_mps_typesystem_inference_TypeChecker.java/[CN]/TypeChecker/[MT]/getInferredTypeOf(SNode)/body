{
  if (node == null)   return null;
  SNode containingRoot=node.getContainingRoot();
  if (containingRoot == null)   return null;
  TypeCheckingContext typeCheckingContext=NodeTypesComponentsRepository.getInstance().createTypeCheckingContext(containingRoot);
  SNode resultType=typeCheckingContext.computeTypeInferenceMode(node);
  return resultType;
}
