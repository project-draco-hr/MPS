{
  if (node == null)   return null;
  SNode containingRoot=node.getContainingRoot();
  if (containingRoot == null)   return null;
  NodeTypesComponent component=NodeTypesComponentsRepository.getInstance().getNodeTypesComponent(node.getContainingRoot());
  if (!isCheckedRoot(containingRoot) || component == null) {
    final NodeTypesComponent component1=NodeTypesComponentsRepository.getInstance().createNodeTypesComponent(containingRoot);
    SNode computedType=component1.computeTypesForNodeDuringGeneration(node);
    return computedType;
  }
  SNode resultType=getTypeDontCheck(node);
  return resultType;
}
