{
  FileEditor[] editors=FileEditorManager.getInstance(project).getEditors(file);
  if (editors.length <= 0)   return null;
  FileEditor editor=editors[0];
  if (!(editor instanceof MPSFileNodeEditor))   return null;
  IEditor nodeEditor=((MPSFileNodeEditor)editor).getNodeEditor();
  if (!(nodeEditor instanceof TabbedEditor))   return null;
  TabbedEditor tabbedEditor=(TabbedEditor)nodeEditor;
  EditorComponent tabEditor=tabbedEditor.getCurrentEditorComponent();
  if (!(tabEditor instanceof NodeEditorComponent))   return null;
  return tabEditor.getEditedNode();
}
