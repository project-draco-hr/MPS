{
  try {
    Set<SNode> nodes=SetSequence.fromSet(new HashSet<SNode>());
    SetSequence.fromSet(nodes).addElement(node);
    for (    SNode child : ListSequence.fromList(SNodeOperations.getNodeDescendants(node,null,false,new SConcept[]{}))) {
      SetSequence.fromSet(nodes).addElement(child);
    }
    Set<SReference> resRefs=FindUsagesFacade.getInstance().findUsages(scope,nodes,monitor);
    for (    SReference reference : resRefs) {
      SNode snode=((SNode)reference.getSourceNode());
      if (!(SetSequence.fromSet(nodes).contains(snode))) {
        ListSequence.fromList(_results).addElement(snode);
      }
    }
  }
  finally {
    monitor.done();
  }
}
