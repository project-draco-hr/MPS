{
  assertCanChange();
  myDescriptor=descriptor;
  if (myDescriptor.getNamespace() != null) {
    SModuleReference mp=new jetbrains.mps.project.structure.modules.ModuleReference(myDescriptor.getNamespace(),myDescriptor.getId());
    setModuleReference(mp);
  }
  setChanged();
  reloadAfterDescriptorChange();
  fireChanged();
  if (reloadClasses) {
    ClassLoaderManager.getInstance().reloadAll(new EmptyProgressMonitor());
  }
  dependenciesChanged();
}
