{
  this.myTool=tool;
  this.myUsagesView=new UsagesView(project,new ViewOptions()){
    public void close(){
      ReplacementView.this.myTool.closeTab(ReplacementView.this);
    }
  }
;
  this.myButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent p0){
      final List<SNode> replaceNodes=ReplacementView.this.getExecuteResult(results);
      ModelAccess.instance().runWriteActionInCommand(new Runnable(){
        public void run(){
          for (          SNode node : replaceNodes) {
            query.doReplace(node);
          }
        }
      }
);
    }
  }
);
  this.myUsagesView.setRunOptions(provider,searchQuery,new UsagesView.ButtonConfiguration(true,true,true),results);
  this.myMainPanel.add(this.myButton,BorderLayout.SOUTH);
  this.myMainPanel.add(this.myUsagesView.getComponent(),BorderLayout.CENTER);
}
