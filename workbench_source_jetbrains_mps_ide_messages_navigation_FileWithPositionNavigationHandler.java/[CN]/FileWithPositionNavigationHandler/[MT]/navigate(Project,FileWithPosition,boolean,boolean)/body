{
  VirtualFile vf=LocalFileSystem.getInstance().findFileByIoFile(pos.getFile());
  if (vf == null)   return;
  FileEditor[] result=FileEditorManager.getInstance(project).openFile(vf,true);
  if (result.length == 1 && result[0] instanceof TextEditor) {
    TextEditor te=(TextEditor)result[0];
    int offset=pos.getOffset();
    int maxOff=te.getEditor().getDocument().getTextLength();
    te.getEditor().getCaretModel().moveToOffset(Math.min(offset,maxOff));
    te.getEditor().getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  }
}
