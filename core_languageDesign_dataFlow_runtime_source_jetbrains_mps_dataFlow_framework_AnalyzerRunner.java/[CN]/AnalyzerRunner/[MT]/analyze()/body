{
  Map<ProgramState,E> stateValues=doAnalyze();
  Map<Instruction,Set<E>> possibleValues=new HashMap<Instruction,Set<E>>();
  for (  Map.Entry<ProgramState,E> entry : stateValues.entrySet()) {
    if (!possibleValues.containsKey(entry.getKey().instruction())) {
      possibleValues.put(entry.getKey().instruction(),new HashSet<E>());
    }
    possibleValues.get(entry.getKey().instruction()).add(entry.getValue());
  }
  Map<Instruction,E> result=new HashMap<Instruction,E>();
  for (  Entry<Instruction,Set<E>> entry : possibleValues.entrySet()) {
    result.put(entry.getKey(),myAnalyzer.merge(entry.getValue()));
  }
  return new AnalysisResult<E>(myProgram,result);
}
