{
  if (attributes.isEmpty()) {
    return;
  }
  Set<StyleAttribute> changedAttributes=new StyleAttributeSet();
  for (  StyleAttribute attribute : attributes) {
    Map<Integer,Object> parentValues=getParentStyle() == null ? new TreeMap<Integer,Object>() : getParentStyle().getAll(attribute);
    Map<Integer,Object> currentValues=getAttribute(attribute).getAll();
    Object cachedValue=getAttribute(attribute).cached;
    if (parentValues != null || currentValues != null || cachedValue != null) {
      for (      Integer priority : parentValues.keySet()) {
        if (currentValues.containsKey(priority)) {
          Object parentValue=parentValues.get(priority);
          Object currentValue=currentValues.get(priority);
          Object newValue=attribute.combine(parentValue,currentValue);
          getAttribute(attribute).setValue(priority,newValue);
          if (!EqualUtil.equals(newValue,currentValue)) {
            changedAttributes.add(attribute);
          }
        }
 else {
          getAttribute(attribute).setValue(priority,parentValues.get(priority));
          changedAttributes.add(attribute);
        }
      }
      getAttribute(attribute).cached=getAttribute(attribute).getTop();
      if (!EqualUtil.equals(getAttribute(attribute).cached,cachedValue)) {
        changedAttributes.add(attribute);
      }
    }
  }
  if (!changedAttributes.isEmpty()) {
    if (myChildren != null) {
      for (      Style style : myChildren) {
        style.setParent(this,changedAttributes);
      }
    }
    fireStyleChanged(new StyleChangeEvent(this,changedAttributes));
  }
}
