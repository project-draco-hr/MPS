{
  Set<StyleAttribute> addedSimple=new StyleAttributeSet();
  Set<StyleAttribute> addedNotSimple=new StyleAttributeSet();
  for (  StyleAttribute attribute : style.getSpecifiedAttributes()) {
    myAttributeValues[attribute.getIndex()]=style.rawGet(attribute);
    if (StyleAttributes.isSimple(attribute)) {
      myCachedAttributeValues[attribute.getIndex()]=null;
      addedSimple.add(attribute);
    }
 else {
      addedNotSimple.add(attribute);
    }
  }
  for (  Pair<Integer,Style> priorityGroup : style.getPriorityGroups()) {
    Style priorityGroupStyle=priorityGroup.o2;
    Integer priority=priorityGroup.o1;
    for (    StyleAttribute attribute : priorityGroupStyle.getSpecifiedAttributes()) {
      myAttributeValues[attribute.getIndex()]=priorityGroupStyle.rawGet(attribute);
      if (StyleAttributes.isSimple(attribute)) {
        myCachedAttributeValues[attribute.getIndex()]=null;
        addedSimple.add(attribute);
      }
 else {
        addedNotSimple.add(attribute);
      }
    }
  }
  updateCache(addedNotSimple);
  fireStyleChanged(new StyleChangeEvent(this,addedSimple));
}
