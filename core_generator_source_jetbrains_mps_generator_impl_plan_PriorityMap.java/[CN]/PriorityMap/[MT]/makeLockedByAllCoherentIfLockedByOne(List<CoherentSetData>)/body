{
  for (  CoherentSetData coherentSetData : coherentMappings) {
    Set<TemplateMappingConfiguration> coherentMappingSet=coherentSetData.myMappings;
    for (    TemplateMappingConfiguration mapping : myPriorityMap.keySet()) {
      if (coherentMappingSet.contains(mapping))       continue;
      PriorityDataMap locks=myPriorityMap.get(mapping);
      List<TemplateMappingConfiguration> lockingCoherentMappings=CollectionUtil.intersect(coherentMappingSet,locks.keys());
      if (lockingCoherentMappings.isEmpty())       continue;
      boolean isStrict=false;
      for (      TemplateMappingConfiguration mapping1 : lockingCoherentMappings) {
        if (locks.priorityData(mapping1).isStrict()) {
          isStrict=true;
          break;
        }
      }
      for (      TemplateMappingConfiguration coherentMapping : coherentMappingSet) {
        locks.update(coherentMapping,new PriorityData(isStrict,coherentSetData.myCauseRules));
      }
    }
  }
}
