{
  SNode dotExpression=SNodeOperations.cast(SNodeOperations.getParent(nodeUsage),"jetbrains.mps.baseLanguage.structure.DotExpression");
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.AssignmentExpression")) {
    if (SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.AssignmentExpression"),"rValue",true) == dotExpression) {
      SNode lValue=SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.AssignmentExpression"),"lValue",true);
      return TypeChecker.getInstance().getTypeOf(lValue);
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.IMethodCall")) {
    int index=ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.IMethodCall"),"actualArgument",true)).indexOf(dotExpression);
    if (index != -1) {
      return SLinkOperations.getTarget(ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.IMethodCall"),"baseMethodDeclaration",false),"parameter",true)).getElement(index),"type",true);
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration")) {
    if (SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"),"initializer",true) == dotExpression) {
      return SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration"),"type",true);
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.lang.textGen.structure.OperationCall")) {
    int index=ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.lang.textGen.structure.OperationCall"),"parameter",true)).indexOf(dotExpression);
    if (index != -1) {
      return SLinkOperations.getTarget(ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.lang.textGen.structure.OperationCall"),"function",false),"parameter",true)).getElement(index),"type",true);
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.ReturnStatement")) {
    SNode method=SNodeOperations.getAncestor(dotExpression,"jetbrains.mps.baseLanguage.structure.IMethodLike",false,false);
    if ((method != null)) {
      return BehaviorReflection.invokeVirtual((Class<SNode>)(((Class)(Object.class))),method,"virtual_getExpectedRetType_1239354342632",new Object[]{});
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.ExpressionStatement")) {
    SNode method=SNodeOperations.getAncestor(dotExpression,"jetbrains.mps.baseLanguage.structure.IMethodLike",false,false);
    if ((method != null)) {
      if (BehaviorReflection.invokeVirtual((Class<SNode>)(((Class)(Object.class))),method,"virtual_getLastStatement_1239354409446",new Object[]{}) == SNodeOperations.getParent(dotExpression)) {
        return BehaviorReflection.invokeVirtual((Class<SNode>)(((Class)(Object.class))),method,"virtual_getExpectedRetType_1239354342632",new Object[]{});
      }
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.CastExpression")) {
    return SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(dotExpression),"jetbrains.mps.baseLanguage.structure.CastExpression"),"type",true);
  }
  return null;
}
