{
  Iterable<SNode> linkUsages=FindUtils.executeFinder("jetbrains.mps.lang.structure.findUsages.NodeUsages_Finder",linkDeclaration,GlobalScope.getInstance(),new EmptyProgressMonitor());
  List<SNode> result=ListSequence.fromList(new ArrayList<SNode>());
  for (  SNode nodeUsage : Sequence.fromIterable(linkUsages)) {
    if (SNodeOperations.isInstanceOf(nodeUsage,"jetbrains.mps.lang.smodel.structure.SLinkListAccess")) {
      if (isSequenceNeeded(SNodeOperations.cast(nodeUsage,"jetbrains.mps.lang.smodel.structure.SLinkListAccess"))) {
        continue;
      }
      if (isListNeeded(SNodeOperations.cast(nodeUsage,"jetbrains.mps.lang.smodel.structure.SLinkListAccess"))) {
        continue;
      }
    }
    ListSequence.fromList(result).addElement(nodeUsage);
  }
  return result;
}
