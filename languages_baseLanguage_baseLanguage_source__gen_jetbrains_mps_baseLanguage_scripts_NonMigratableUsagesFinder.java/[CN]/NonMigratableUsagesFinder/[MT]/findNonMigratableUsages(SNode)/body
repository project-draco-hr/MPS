{
  Iterable<SNode> linkUsages=FindUtils.executeFinder("jetbrains.mps.lang.structure.findUsages.NodeUsages_Finder",linkDeclaration,GlobalScope.getInstance(),new EmptyProgressMonitor());
  List<SNode> result=ListSequence.fromList(new ArrayList<SNode>());
  for (  SNode nodeUsage : Sequence.fromIterable(linkUsages)) {
    if (isExcluded(nodeUsage)) {
      continue;
    }
    if (SNodeOperations.isInstanceOf(nodeUsage,MetaAdapterFactory.getConcept(new UUID(8675788371017092295l,-9098312342032910879l),1138056282393l,"jetbrains.mps.lang.smodel.structure.SLinkListAccess"))) {
      if (isSequenceNeeded(SNodeOperations.cast(nodeUsage,MetaAdapterFactory.getConcept(new UUID(8675788371017092295l,-9098312342032910879l),1138056282393l,"jetbrains.mps.lang.smodel.structure.SLinkListAccess")))) {
        continue;
      }
      if (isListNeeded(SNodeOperations.cast(nodeUsage,MetaAdapterFactory.getConcept(new UUID(8675788371017092295l,-9098312342032910879l),1138056282393l,"jetbrains.mps.lang.smodel.structure.SLinkListAccess")))) {
        continue;
      }
    }
    ListSequence.fromList(result).addElement(nodeUsage);
  }
  return result;
}
