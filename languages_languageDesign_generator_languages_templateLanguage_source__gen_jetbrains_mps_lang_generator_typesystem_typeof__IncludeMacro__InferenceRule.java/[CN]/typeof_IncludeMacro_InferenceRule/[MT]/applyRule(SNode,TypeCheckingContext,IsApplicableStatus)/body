{
  SNode containingTemplate=SNodeOperations.getNodeAncestor(macro,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1092059087312l,"jetbrains.mps.lang.generator.structure.TemplateDeclaration"),false,false);
  SNode includedTemplate=SLinkOperations.getTarget(macro,MetaAdapterFactory.getReferenceLink(new UUID(-5475912601019530992l,-8082971551085732881l),1194565793557l,1194566366375l,"includeTemplate"));
  if ((includedTemplate == null)) {
{
      MessageTarget errorTarget=new NodeMessageTarget();
      IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(macro,"No template","r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","933643154465925404",null,errorTarget);
    }
  }
 else   if ((containingTemplate == null)) {
    if (!(ListSequence.fromList(SLinkOperations.getChildren(includedTemplate,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),982871510064032177l,982871510064032342l,"parameter"))).isEmpty())) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(macro,"Cannot include template with arguments","r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","933643154466064615",null,errorTarget);
      }
    }
  }
 else {
    Map<String,SNode> available=MapSequence.fromMap(new HashMap<String,SNode>());
    for (    SNode param : ListSequence.fromList(SLinkOperations.getChildren(containingTemplate,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),982871510064032177l,982871510064032342l,"parameter")))) {
      MapSequence.fromMap(available).put(SPropertyOperations.getString(param,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")),SLinkOperations.getTarget(param,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1805153994415891174l,1805153994415893199l,"type")));
    }
    for (    SNode p : ListSequence.fromList(SLinkOperations.getChildren(includedTemplate,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),982871510064032177l,982871510064032342l,"parameter")))) {
      if (!(MapSequence.fromMap(available).containsKey(SPropertyOperations.getString(p,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"))))) {
{
          MessageTarget errorTarget=new NodeMessageTarget();
          IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(macro,"no `" + SPropertyOperations.getString(p,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")) + "' parameter","r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","933643154466207801",null,errorTarget);
        }
      }
 else       if (!(TypeChecker.getInstance().getSubtypingManager().isSubtype(MapSequence.fromMap(available).get(SPropertyOperations.getString(p,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"))),SLinkOperations.getTarget(p,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1805153994415891174l,1805153994415893199l,"type"))))) {
{
          MessageTarget errorTarget=new NodeMessageTarget();
          IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(macro,"bad type of `" + SPropertyOperations.getString(p,MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")) + "' parameter","r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)","933643154466207820",null,errorTarget);
        }
      }
    }
  }
}
