{
  setModal(true);
  myReferences.addAll(options);
  if (nonProjectLanguages != null) {
    myNonProjectReferences.addAll(nonProjectLanguages);
  }
  DataContext dataContext=DataManager.getInstance().getDataContext();
  final Project project=MPSDataKeys.PROJECT.getData(dataContext);
  BaseMPSChooseModel<T> goToModuleModel=getMPSChooseModel(project,entityString);
  myChooser=MpsPopupFactory.createPanelForPackage(goToModuleModel,!myNonProjectReferences.isEmpty());
  myChooser.invoke(new Callback(){
    public void elementChosen(    Object element){
      if (!myOkDone) {
        myOkDone=true;
        doOKAction();
      }
    }
  }
,ModalityState.current(),myIsMultipleSelection);
}
