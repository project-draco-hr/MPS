{
  if (!(myMigrationManager.isMigrationRequired())) {
    return;
  }
  final boolean showTipsOnStartup=GeneralSettings.getInstance().showTipsOnStartup();
  GeneralSettings.getInstance().setShowTipsOnStartup(false);
  StartupManager.getInstance(myProject).registerPostStartupActivity(new Runnable(){
    public void run(){
      if (!(myState.reloadFinished)) {
        ApplicationManager.getApplication().runWriteAction(new Runnable(){
          @Override public void run(){
            VirtualFileManager.getInstance().syncRefresh();
            myState.reloadFinished=true;
            ProjectManagerEx.getInstance().reloadProject(myProject);
          }
        }
);
      }
 else {
        executeWizard();
      }
      GeneralSettings.getInstance().setShowTipsOnStartup(showTipsOnStartup);
    }
  }
);
}
