{
  PsiElement element=e.getData(LangDataKeys.PSI_ELEMENT);
  Module module=e.getData(LangDataKeys.MODULE);
  if (element == null || !(element instanceof PsiDirectory) || element instanceof MPSPsiModel || module == null || FacetManager.getInstance(module).getFacetByType(MPSFacetType.ID) == null || !containsJavaFiles((PsiDirectory)element)) {
    e.getPresentation().setVisible(false);
    e.getPresentation().setEnabled(false);
  }
}
