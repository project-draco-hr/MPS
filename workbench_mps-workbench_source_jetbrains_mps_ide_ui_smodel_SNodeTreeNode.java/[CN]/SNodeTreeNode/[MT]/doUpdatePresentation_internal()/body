{
  if (jetbrains.mps.util.SNodeOperations.isDisposed(myNode)) {
    return;
  }
  if (hasErrors()) {
    setColor(Color.RED);
  }
 else {
    setColor(Color.BLACK);
  }
  if (myNode != null) {
    setIcon(IconManager.getIconFor(myNode));
  }
  if (SNodeOperations.isUnknown(myNode)) {
    setErrorState(ErrorState.ERROR);
  }
  if (AttributeOperations.getNodeAttribute(myNode,"deprecatedNode") != null) {
    addFontAttribute(TextAttribute.STRIKETHROUGH,TextAttribute.STRIKETHROUGH_ON);
  }
  setText(caclulateNodeTextPresentation());
  setAutoExpandable(myNode != null && !(myNode.getModel() != null && myNode.getModel().isRoot(myNode)));
}
