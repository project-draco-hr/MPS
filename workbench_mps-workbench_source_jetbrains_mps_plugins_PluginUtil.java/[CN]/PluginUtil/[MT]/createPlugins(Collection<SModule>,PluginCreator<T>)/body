{
  List<SModule> sortedModules=PluginSorter.sortByDependencies(modules);
  final ArrayList<T> plugins=new ArrayList<T>();
  for (  SModule module : sortedModules) {
    if (ClassLoaderManager.getInstance().canLoad(module)) {
      String pluginClassName=creator.getPlugin(module);
      if (pluginClassName == null)       continue;
      T plugin=(T)createPlugin(module,pluginClassName);
      if (plugin == null)       continue;
      plugins.add(plugin);
    }
  }
  return plugins;
}
