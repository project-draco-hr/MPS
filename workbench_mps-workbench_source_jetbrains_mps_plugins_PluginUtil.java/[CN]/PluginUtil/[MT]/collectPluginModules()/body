{
  Set<IModule> modules=new HashSet<IModule>();
  modules.addAll(ModuleRepositoryFacade.getInstance().getAllModules(Language.class));
  for (  Solution s : (List<Solution>)ModuleRepositoryFacade.getInstance().getAllModules(Solution.class)) {
    if (s.getModuleDescriptor().getKind() == SolutionKind.NONE)     continue;
    if (s.getModuleDescriptor().getKind() == SolutionKind.PLUGIN_OTHER && MPSCore.getInstance().isTestMode())     continue;
    modules.add(s);
  }
  return modules;
}
