{
  List<IModule> sortedModules=PluginSorter.sortByDependencies(modules);
  final ArrayList<T> plugins=new ArrayList<T>();
  for (  IModule module : sortedModules) {
    if (module instanceof IClassLoadingModule) {
      String pluginClassName=creator.getPlugin(module);
      if (pluginClassName == null)       continue;
      T plugin=(T)createPlugin((IClassLoadingModule)module,pluginClassName);
      if (plugin == null)       continue;
      plugins.add(plugin);
    }
  }
  return plugins;
}
