{
  if (myGlobalClassPathIndex.isExcluded(file))   return true;
  for (  VirtualFile excludedFile : myGlobalClassPathIndex.getExcludedClassPath()) {
    if (VfsUtil.isAncestor(excludedFile,file,false)) {
      return true;
    }
  }
  String filePath=file.getPath();
  for (  String regexp : myExcludedRegexps) {
    if (filePath.matches(regexp)) {
      return true;
    }
  }
  return FileTypeManager.getInstance().isFileIgnored(file.getPath());
}
