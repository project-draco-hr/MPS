{
  Set<VirtualFile> files=getExcludedFilesCopy();
  if (files.contains(file))   return true;
  for (  VirtualFile excludedFile : files) {
    if (VfsUtil.isAncestor(excludedFile,file,false)) {
      return true;
    }
  }
  String filePath=file.getPath();
  for (  String regexp : myExcludedRegexps) {
    if (filePath.matches(regexp)) {
      return true;
    }
  }
  return FileTypeManager.getInstance().isFileIgnored(file.getPath());
}
