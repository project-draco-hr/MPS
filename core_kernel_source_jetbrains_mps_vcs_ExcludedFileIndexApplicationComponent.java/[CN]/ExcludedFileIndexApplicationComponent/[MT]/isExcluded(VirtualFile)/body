{
  if (myGlobalClassPathIndex.isExcluded(file))   return true;
  String filePath=file.getPath();
  for (  String regexp : myExcludedRegexps) {
    if (filePath.matches(regexp)) {
      return true;
    }
  }
  if (FileTypeManager.getInstance().isFileIgnored(file.getPath())) {
    return true;
  }
  VirtualFile parent=file.getParent();
  while (true) {
    if (parent == null)     return false;
    if (myGlobalClassPathIndex.isExcluded(parent))     return true;
    parent=parent.getParent();
  }
}
