{
  if (myGlobalClassPathIndex.isExcluded(file))   return true;
  Set<FilePath> excludedPaths=myGlobalClassPathIndex.getExcludedClassPath();
  for (  FilePath excludedFile : excludedPaths) {
    if (VfsUtil.isAncestor(excludedFile.getIOFile(),VFileSystem.toFile(file),false)) {
      return true;
    }
  }
  String filePath=file.getPath();
  for (  String regexp : myExcludedRegexps) {
    if (filePath.matches(regexp)) {
      return true;
    }
  }
  return FileTypeManager.getInstance().isFileIgnored(file.getPath());
}
