{
  if (Sequence.fromIterable(myInitialModules).count() != 1) {
    throw new IllegalStateException("cannot build runtime dependencies for several modules");
  }
  SNode initial=Sequence.fromIterable(myInitialModules).first();
  Set<SNode> langs=SetSequence.fromSet(new HashSet<SNode>());
  Set<SNode> runtimes=SetSequence.fromSet(new HashSet<SNode>());
  fillUsedLanguageRuntimes(initial,langs,runtimes);
  myModules.addAll(runtimes);
  myLanguagesWithRuntime.addAll(langs);
  return this;
}
