{
  Iterable<SNode> reexportedFromModuleDependencies=Sequence.fromIterable(getModules()).concat(Sequence.fromIterable(initialModules)).translate(new ITranslator2<SNode,SNode>(){
    public Iterable<SNode> translate(    SNode mod){
      return ListSequence.fromList(SLinkOperations.getChildren(mod,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies"))).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnJavaModule")) && SPropertyOperations.getBoolean(SNodeOperations.cast(it,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnJavaModule")),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,3189788309731928316l,"reexport"));
        }
      }
).select(new ISelector<SNode,SNode>(){
        public SNode select(        SNode it){
          return SLinkOperations.getTarget(SNodeOperations.cast(it,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnJavaModule")),MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,3189788309731928317l,"module"));
        }
      }
);
    }
  }
);
  Set<SNode> reexportMods=SetSequence.fromSet(new HashSet<SNode>());
  for (  SNode mod : reexportedFromModuleDependencies) {
    SetSequence.fromSet(reexportMods).addElement(mod);
  }
  Iterable<SNode> directDeps=Sequence.fromIterable(SNodeOperations.ofConcept(Sequence.fromIterable(initialModules).translate(new ITranslator2<SNode,SNode>(){
    public Iterable<SNode> translate(    SNode it){
      return SLinkOperations.getChildren(it,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies"));
    }
  }
),MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnJavaModule"))).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode it){
      return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),3189788309731928315l,3189788309731928317l,"module"));
    }
  }
);
  return new MPSModulesClosure.RequiredJavaModules(Sequence.fromIterable(reexportedFromModuleDependencies).concat(Sequence.fromIterable(directDeps)),reexportMods);
}
