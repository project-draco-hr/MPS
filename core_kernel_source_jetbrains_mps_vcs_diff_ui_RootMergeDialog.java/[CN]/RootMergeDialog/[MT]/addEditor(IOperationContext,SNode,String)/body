{
  final DiffEditorComponent result=new DiffEditorComponent(context,node){
    @Override public void configureBlock(    ChangesBlock block){
      JComponent panel=new JPanel();
      panel.setLayout(new GridLayout(1,2));
      panel.setSize(20,10);
      panel.add(new ApplyMenu(block.getChanges()));
      panel.add(new ExcludeMenu(block.getChanges()));
      block.addMenu(panel);
    }
  }
;
  result.editNode(node,context);
  result.setEditable(false);
  JPanel panel=new JPanel(new BorderLayout());
  panel.add(new JLabel(revisionName),BorderLayout.NORTH);
  panel.add(result.getExternalComponent(),BorderLayout.CENTER);
  myTopComponent.add(panel);
  myBottomComponent.add(result.getInspector().getExternalComponent());
  result.addCellSelectionListener(myCellSelectionListener);
  result.getViewport().addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      if (veiwportSetInPorgress) {
        return;
      }
      veiwportSetInPorgress=true;
      result.synchronizeViewWith(myChange1EditorComponent);
      result.synchronizeViewWith(myResultEditorComponent);
      result.synchronizeViewWith(myChange2EditorComponent);
      veiwportSetInPorgress=false;
    }
  }
);
  return result;
}
