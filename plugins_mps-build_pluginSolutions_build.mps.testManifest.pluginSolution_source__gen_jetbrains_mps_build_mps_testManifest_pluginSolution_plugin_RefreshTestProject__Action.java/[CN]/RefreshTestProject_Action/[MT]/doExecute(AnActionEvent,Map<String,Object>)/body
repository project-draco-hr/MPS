{
  String action="Refresh Test Project";
  final Wrappers._boolean done=new Wrappers._boolean(false);
  IdeEventQueue.getInstance().flushQueue();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      ProgressIndicator proInd=ProgressManager.getInstance().getProgressIndicator();
      proInd.pushState();
      try {
        done.value=RefreshTestProject_Action.this.doExecute(proInd,event);
      }
 catch (      RuntimeException ex) {
        if (LOG.isEnabledFor(Level.ERROR)) {
          LOG.error("error processing test project",ex);
        }
      }
 finally {
        proInd.popState();
      }
    }
  }
,action,true,event.getData(CommonDataKeys.PROJECT));
  if (!(done.value)) {
    RefreshTestProject_Action.this.displayInfo(action + " action cancelled",event);
  }
}
