{
  SNode resType=SNodeOperations.copyNode(type);
  if (SNodeOperations.isInstanceOf(resType,"jetbrains.mps.baseLanguage.structure.TypeVariableReference")) {
    final SNode tvar_typevar_1203439588896=TypeChecker.getInstance().getRuntimeSupport().createNewRuntimeTypesVariable(false);
    SNode tvd=SLinkOperations.getTarget(resType,"typeVariableDeclaration",false);
    RulesFunctions_BaseLanguage.inference_mapTypeVariable(tvd,TypeChecker.getInstance().getEquationManager().getRepresentator(tvar_typevar_1203439588896),mmap);
    resType=TypeChecker.getInstance().getEquationManager().getRepresentator(tvar_typevar_1203439588896);
  }
 else {
    RulesFunctions_BaseLanguage.inference_mapTypeVariables(resType,mmap);
  }
  return resType;
}
