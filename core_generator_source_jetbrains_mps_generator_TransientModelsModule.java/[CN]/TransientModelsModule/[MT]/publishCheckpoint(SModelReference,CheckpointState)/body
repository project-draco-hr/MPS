{
  List<CheckpointState> checkpoints=myCheckpoints.get(originalModel);
  if (checkpoints == null) {
    myCheckpoints.put(originalModel,checkpoints=new ArrayList<CheckpointState>(3));
  }
 else {
    for (Iterator<CheckpointState> it=checkpoints.iterator(); it.hasNext(); ) {
      if (it.next().getCheckpoint().equals(cpState.getCheckpoint())) {
        it.remove();
        break;
      }
    }
  }
  checkpoints.add(cpState);
}
