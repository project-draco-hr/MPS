{
  Set<SModule> result=new HashSet<>();
  for (  SLanguage usedLang : myModule.getUsedLanguages()) {
    if (usedLang.getSourceModule() == null) {
      if (!(myModule instanceof TempModule)) {
        myErrorHandler.langSourceModuleCannotBeResolved(usedLang);
      }
      continue;
    }
    if (!myLanguageRuntimesCache.containsKey(usedLang)) {
      List<SModule> runtimes=new ArrayList<>();
      myLanguageRuntimesCache.put(usedLang,runtimes);
      for (      SModuleReference runtimeRef : usedLang.getLanguageRuntimes()) {
        SModule runtime=ModuleRepositoryFacade.getInstance().getModule(runtimeRef);
        if (runtime != null) {
          runtimes.add(runtime);
        }
 else {
          myErrorHandler.runtimeDependencyCannotBeFound(usedLang,runtimeRef);
        }
      }
    }
    result.addAll(myLanguageRuntimesCache.get(usedLang));
  }
  return result;
}
