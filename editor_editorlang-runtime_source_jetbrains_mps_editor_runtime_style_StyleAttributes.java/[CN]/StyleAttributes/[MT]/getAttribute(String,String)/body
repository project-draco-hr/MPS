{
  LanguageRuntime language=LanguageRegistry.getInstance().getLanguage(languageName);
  if (language == null) {
    throw new IllegalArgumentException("language not found: " + languageName);
  }
  if (!ourLanguageAttributes.containsKey(language)) {
    ourLanguageAttributes.put(language,new HashMap<String,StyleAttribute>());
  }
  if (ourLanguageAttributes.get(language).containsKey(attributeName)) {
    return ourLanguageAttributes.get(language).get(attributeName);
  }
 else {
    EditorAspectDescriptor editorAspectDescriptor=language.getAspectDescriptor(EditorAspectDescriptor.class);
    if (!(editorAspectDescriptor instanceof StyleAttributeProvider)) {
      throw new IllegalArgumentException("language does not contain editor descriptor: " + languageName);
    }
    StyleAttribute attribute=((StyleAttributeProvider)editorAspectDescriptor).getStyleAttribute(attributeName);
    if (attribute == null) {
      throw new IllegalArgumentException("language " + languageName + "does not contain style attribute"+ attributeName);
    }
    ourLanguageAttributes.get(language).put(attributeName,attribute);
    attribute.register();
    return attribute;
  }
}
