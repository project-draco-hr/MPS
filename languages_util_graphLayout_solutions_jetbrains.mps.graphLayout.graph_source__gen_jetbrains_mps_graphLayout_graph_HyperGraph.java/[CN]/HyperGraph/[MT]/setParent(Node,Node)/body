{
  Node oldParent=MapSequence.<Node,Node>fromMap(myParent).get(node);
  if (oldParent != null) {
    ListSequence.<Node>fromList(MapSequence.<Node,List<Node>>fromMap(myChildren).get(oldParent)).removeElement(node);
  }
  MapSequence.<Node,Node>fromMap(myParent).put(node,parent);
  ListSequence.<Node>fromList(MapSequence.<Node,List<Node>>fromMap(myChildren).get(parent)).addElement(node);
}
