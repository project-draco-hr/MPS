{
  final AttachRepoListener l1=new AttachRepoListener();
  SRepositoryRegistry.getInstance().addGlobalListener(l1);
  l1.checkStarted(1);
  l1.checkStopped(0);
  createProject();
  l1.checkStarted(2);
  l1.checkStopped(0);
  final AttachRepoListener l2=new AttachRepoListener();
  SRepositoryRegistry.getInstance().addGlobalListener(l2);
  l1.checkStarted(2);
  l1.checkStopped(0);
  l2.checkStarted(2);
  l2.checkStopped(0);
  SRepositoryRegistry.getInstance().removeGlobalListener(l2);
  l1.checkStarted(2);
  l1.checkStopped(0);
  l2.checkStarted(2);
  l2.checkStopped(2);
  closeProject();
  l1.checkStarted(2);
  l1.checkStopped(1);
  l2.checkStarted(2);
  l2.checkStopped(2);
  SRepositoryRegistry.getInstance().removeGlobalListener(l1);
  l1.checkStarted(2);
  l1.checkStopped(2);
  l2.checkStarted(2);
  l2.checkStopped(2);
}
