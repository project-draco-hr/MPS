{
  final Project project=createProject();
  final ContentAdapter l=new ContentAdapter();
  final SRepositoryExt repository=(SRepositoryExt)project.getRepository();
  attach(project.getRepository(),l);
  final BaseMPSModuleOwner moduleOwner=new BaseMPSModuleOwner();
  final Solution solution=new CreateSolution(repository,moduleOwner).execute();
  project.getModelAccess().runWriteAction(new Runnable(){
    @Override public void run(){
      solution.registerModel(createModel(solution.getModuleReference(),"m1"));
      solution.registerModel(createModel(solution.getModuleReference(),"m2"));
    }
  }
);
  l.checkModelEvents(2,0,0);
  project.getModelAccess().runWriteAction(new Runnable(){
    @Override public void run(){
      solution.unregisterModel((SModelBase)solution.getModels().get(0));
    }
  }
);
  l.checkModelEvents(2,1,1);
  new RemoveModule(repository,solution,moduleOwner).execute();
  l.checkModelEvents(2,1,1);
  closeProject();
}
