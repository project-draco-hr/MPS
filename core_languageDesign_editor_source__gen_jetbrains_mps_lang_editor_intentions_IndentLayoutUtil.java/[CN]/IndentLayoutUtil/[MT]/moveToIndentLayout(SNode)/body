{
  if (SLinkOperations.getTarget(node,"cellLayout",true) == null || !(SNodeOperations.isInstanceOf(SLinkOperations.getTarget(node,"cellLayout",true),"jetbrains.mps.lang.editor.structure.CellLayout_Indent"))) {
    List<SNode> children=new ArrayList<SNode>();
    for (    SNode cellModel : ListSequence.<SNode>fromList(SLinkOperations.getTargets(node,"childCellModel",true))) {
      ListSequence.<SNode>fromList(children).addSequence(ListSequence.<SNode>fromList(moveToIndentLayoutChildren(cellModel,CellModel_Collection_Behavior.call_isVertical_1237380214915(node))));
    }
    ListSequence.<SNode>fromList(SLinkOperations.getTargets(node,"childCellModel",true)).clear();
    ListSequence.<SNode>fromList(SLinkOperations.getTargets(node,"childCellModel",true)).addSequence(ListSequence.<SNode>fromList(children));
    SLinkOperations.setTarget(node,"cellLayout",SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.editor.structure.CellLayout_Indent",null),true);
  }
}
