{
  final boolean[] b=new boolean[]{false};
synchronized (myTreeMessagesLock) {
    if (myTreeMessages != null) {
      b[0]=myTreeMessages.remove(message);
    }
  }
  if (b[0]) {
    treeMessagesChanged(updatePresentation);
  }
}
