{
  TemplateMappingConfiguration tmcA=new MockMapConfig("A");
  TemplateMappingConfiguration tmcB=new MockMapConfig("B");
  TemplateMappingConfiguration tmcC=new MockMapConfig("C");
  final List<TemplateMappingConfiguration> allConfigs=Arrays.asList(tmcA,tmcB,tmcC);
  pmap.prepare(allConfigs);
  pmap.updateLock(tmcB,tmcA,new PriorityData(false,Collections.<MappingPriorityRule>emptySet()));
  pmap.updateLock(tmcC,tmcB,new PriorityData(true,Collections.<MappingPriorityRule>emptySet()));
  MappingPriorityRule strictRule=new MappingPriorityRule();
  strictRule.setType(RuleType.STRICTLY_AFTER);
  MappingPriorityRule weakRule=new MappingPriorityRule();
  weakRule.setType(RuleType.AFTER_OR_TOGETHER);
  pgraph.addEdge(tmcB,Collections.singleton(tmcA),weakRule);
  pgraph.addEdge(tmcC,Collections.singleton(tmcB),strictRule);
  pgraph.finalizeEdges(allConfigs);
}
