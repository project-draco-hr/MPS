{
  String moduleRef=options.get(OPTION_MODULEREF);
  String relPath=options.get(OPTION_RELPATH);
  String modelName=options.get(OPTION_MODELNAME);
  if (relPath == null || moduleRef == null || modelName == null) {
    if (dataSource instanceof FileDataSource) {
      LOG.error("cannot load " + dataSource.getLocation());
    }
    return null;
  }
  SModelId id=PersistenceFacade.getInstance().createModelId("path:" + relPath);
  SModuleReference mref=ModuleReference.fromString(moduleRef);
  if (mref == null) {
    return null;
  }
  SModelReference ref=PersistenceFacade.getInstance().createModelReference(mref,id,modelName);
  return new CustomPersistenceSModel(ref,dataSource,this);
}
