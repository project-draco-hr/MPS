{
  for (  SNode child : ListSequence.fromList(SNodeOperations.getChildren(node)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return !(SNodeOperations.isAttribute(it));
    }
  }
)) {
    SNode link=SNodeOperations.getContainingLinkDeclaration(child);
    if (link != null && SPropertyOperations.hasValue(link,"metaClass","aggregation","reference")) {
      if (!(SConceptOperations.isSuperConceptOf(SLinkOperations.getTarget(link,"target",false),NameUtil.nodeFQName(SNodeOperations.getConceptDeclaration(child))))) {
{
          BaseQuickFixProvider intentionProvider=null;
          IErrorTarget errorTarget=new NodeErrorTarget();
          IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"incompatible target concept in role \"" + SNodeOperations.getContainingLinkRole(child) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","7815324287109263484",intentionProvider,errorTarget);
        }
      }
    }
  }
  for (  SReference reference : Sequence.fromIterable(SNodeOperations.getReferences(node))) {
    SNode link=SLinkOperations.findLinkDeclaration(reference);
    if (link != null && SPropertyOperations.hasValue(link,"metaClass","reference","reference")) {
      SNode target=SLinkOperations.getTargetNode(reference);
      if (!(SConceptOperations.isSuperConceptOf(SLinkOperations.getTarget(link,"target",false),NameUtil.nodeFQName(SNodeOperations.getConceptDeclaration(target))))) {
{
          BaseQuickFixProvider intentionProvider=null;
          IErrorTarget errorTarget=new NodeErrorTarget();
          IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"incompatible target concept in role \"" + SLinkOperations.getRole(reference) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","7815324287109290223",intentionProvider,errorTarget);
        }
      }
    }
  }
}
