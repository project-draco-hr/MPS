{
  Map<Node,Integer> components=ConnectivityComponents.getComponents(graph);
  for (  Node node : ListSequence.<Node>fromList(graph.getNodes())) {
    if (MapSequence.<Node,Integer>fromMap(components).get(node) != 0) {
      throw new RuntimeException("graph isn't connected!!!");
    }
  }
  myGraph=graph;
  BiconnectedComponent componentsTree=BiconnectedComponent.createTree(graph);
  if (SHOW_LOG > 0) {
    System.out.println(componentsTree.toString(""));
  }
  return createEmbedding(componentsTree);
}
