{
  final Checker cachesPathChecker=new CachesPathChecker(System.getProperty(PROPERTY_CONFIG_PATH),System.getProperty(PROPERTY_SYSTEM_PATH));
  final Checker reusableCachesChecker=new MPSReusableCachesChecker(MPS_TEST_DIR);
  final Checker oneTimeCachesChecker=new MPSOneTimeCachesChecker();
  Checker[] checkers={cachesPathChecker,reusableCachesChecker,oneTimeCachesChecker};
  Result result=null;
  for (  Checker checker : checkers) {
    result=checker.check();
    if (result.isSuccessful())     break;
  }
  if (result.isSuccessful()) {
    System.out.println("Saving ''config'' caches in the " + result.getConfigPath() + " directory");
    System.out.println("Saving ''system'' caches in the " + result.getSystemPath() + " directory");
    System.setProperty(PROPERTY_CONFIG_PATH,result.getConfigPath());
    System.setProperty(PROPERTY_SYSTEM_PATH,result.getSystemPath());
  }
 else {
    throw new IOError(new Throwable("Cannot find a place to write caches"));
  }
}
