{
  IconResource cached=MapSequence.fromMap(ourConceptToIcon).get(concept);
  if (cached != null && cached.isAlreadyReloaded()) {
    MapSequence.fromMap(ourConceptToIcon).removeKey(concept);
  }
  if (!(MapSequence.fromMap(ourConceptToIcon).containsKey(concept))) {
    IconResource ir=getIconForConceptNoCache(concept);
    MapSequence.fromMap(ourConceptToIcon).put(concept,ir);
  }
  IconResource actual=MapSequence.fromMap(ourConceptToIcon).get(concept);
  if (actual == null) {
    return IdeIcons.DEFAULT_CONCEPT_ICON;
  }
  Icon icon=getIconForResource(actual);
  if (icon == null) {
    return IdeIcons.DEFAULT_CONCEPT_ICON;
  }
  return icon;
}
