{
  if (model == null) {
    return IdeIcons.UNKNOWN_ICON;
  }
  LanguageAspect oldAspect=LanguageAspectSupport.getOldAspect(model);
  if (oldAspect != null) {
    return getIconForAspect(LanguageAspectSupport.getOldAspect(model));
  }
  LanguageAspectDescriptor newAspect=LanguageAspectSupport.getNewAspect(model);
  if (newAspect != null) {
    return newAspect.getIcon();
  }
  if (SModelStereotype.isGeneratorModel(model)) {
    return IdeIcons.TEMPLATES_MODEL_ICON;
  }
  if (Language.isLanguageOwnedAccessoryModel(model)) {
    return IdeIcons.ACCESSORY_MODEL_ICON;
  }
  if (SModelStereotype.isTestModel(model)) {
    return IdeIcons.TEST_MODEL_ICON;
  }
  return IdeIcons.MODEL_ICON;
}
