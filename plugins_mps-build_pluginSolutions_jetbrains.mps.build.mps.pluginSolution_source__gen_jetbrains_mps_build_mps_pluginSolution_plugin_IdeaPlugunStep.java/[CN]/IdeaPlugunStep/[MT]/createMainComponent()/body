{
  JPanel panel=new JPanel(new GridBagLayout());
  myPackAsIdeaPlugin=new JCheckBox("Pack modules as IDEA plugin",myGenerator.isPackAsIdeaPlugin());
  myPackAsIdeaPlugin.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myGenerator.setPackAsIdeaPlugin(myPackAsIdeaPlugin.isSelected());
      updatePluginXmlChooser();
    }
  }
);
  myPluginXmlChooser=new FieldWithPathChooseDialog(new FileChooserDescriptor(true,false,false,false,false,false){
    @Override public boolean isFileVisible(    VirtualFile file,    boolean b){
      if (!(super.isFileVisible(file,b))) {
        return false;
      }
      return file.isDirectory() || eq_h4a1qd_a0a1a0a0a0a0e0a(file.getName(),IdeaPlugunStep.PLUGIN_XML);
    }
  }
);
  myPluginXmlChooser.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent p0){
      updatePluginXmlChooser();
    }
  }
);
  updatePluginXmlChooser();
  panel.add(myPackAsIdeaPlugin,LayoutUtil.createLabelConstraints(0));
  panel.add(new JLabel("Select plugin.xml location:"),LayoutUtil.createLabelConstraints(1));
  panel.add(myPluginXmlChooser,LayoutUtil.createPanelConstraints(2));
  return panel;
}
