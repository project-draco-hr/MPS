{
  StructuralWrapperSet result=new StructuralWrapperSet();
  if (term == null)   return result;
  if (term instanceof JoinWrapper) {
    for (    IWrapper wrapper : ((JoinWrapper)term).getArguments()) {
      result.addStructurally(wrapper);
    }
  }
  if (term.isConcrete()) {
    SNode node=term.getNode();
    Set<SupertypingRule_Runtime> supertypingRule_runtimes=myTypeChecker.getRulesManager().getSupertypingRules(node,isWeak);
    if (supertypingRule_runtimes != null) {
      for (      SupertypingRule_Runtime supertypingRule : supertypingRule_runtimes) {
        List<SNode> subtypes=supertypingRule.getSubOrSuperTypes(node);
        result.addAll(toWrappers(new HashSet<SNode>(subtypes)));
      }
    }
  }
  return result;
}
