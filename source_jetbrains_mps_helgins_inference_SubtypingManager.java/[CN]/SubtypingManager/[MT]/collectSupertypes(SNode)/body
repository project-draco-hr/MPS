{
  Set<SNode> result=new HashSet<SNode>();
  if (term == null) {
    return result;
  }
  Set<SubtypingRule> subtypingRules=myConceptsToSubtypingRulesCache.get(term.getNodeConceptAdapter());
  if (subtypingRules != null) {
    for (    SubtypingRule rule : subtypingRules) {
      AnalyzedTermDeclaration applicableNode=rule.getApplicableNode();
      if (applicableNode == null)       continue;
      Expression expression=rule.getSupertype();
      if (expression == null)       continue;
      List<SNode> supertypes=getSupertypesOrSubtypes(term,applicableNode,expression);
      if (supertypes != null) {
        result.addAll(supertypes);
      }
    }
  }
  return result;
}
