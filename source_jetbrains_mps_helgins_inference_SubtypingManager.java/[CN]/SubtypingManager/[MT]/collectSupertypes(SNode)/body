{
  Set<SNode> result=new HashSet<SNode>();
  Set<SubtypingRule> subtypingRules=myConceptsToSubtypingRulesCache.get(term.getNodeConcept());
  if (subtypingRules == null)   return result;
  for (  SubtypingRule rule : subtypingRules) {
    AnalyzedTermDeclaration applicableNode=rule.getApplicableNode();
    if (applicableNode == null)     continue;
    Expression expression=rule.getSupertype();
    if (expression == null)     continue;
    List<SNode> supertypes=getSupertypesOrSubtypes(term,applicableNode,expression);
    if (supertypes != null) {
      result.addAll(supertypes);
    }
  }
  return result;
}
