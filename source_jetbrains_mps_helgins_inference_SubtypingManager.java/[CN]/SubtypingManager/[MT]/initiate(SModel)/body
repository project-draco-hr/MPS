{
  for (  SubtypingRule rule : typesModel.getRootsAdapters(SubtypingRule.class)) {
    VariableCondition condition=rule.getApplicableNode().getCondition();
    AbstractConceptDeclaration ruleConcept=ConditionMatcher.getConcept(condition);
    myConceptsToSubtypingRulesCache.putRule(ruleConcept,rule);
  }
  for (  SupertypingRule rule : typesModel.getRootsAdapters(SupertypingRule.class)) {
    VariableCondition condition=rule.getApplicableNode().getCondition();
    AbstractConceptDeclaration ruleConcept=ConditionMatcher.getConcept(condition);
    myConceptsToSupertypingRulesCache.putRule(ruleConcept,rule);
  }
  myConceptsToSubtypingRulesCache.makeConsistent();
  myConceptsToSupertypingRulesCache.makeConsistent();
}
