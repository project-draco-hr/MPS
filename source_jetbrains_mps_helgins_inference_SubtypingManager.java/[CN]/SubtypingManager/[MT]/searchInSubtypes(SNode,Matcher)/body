{
  StructuralNodeSet frontier=new StructuralNodeSet();
  StructuralNodeSet newFrontier=new StructuralNodeSet();
  StructuralNodeSet yetPassed=new StructuralNodeSet();
  frontier.add(superRepresentator);
  while (!frontier.isEmpty()) {
    for (    SNode node : frontier) {
      StructuralNodeSet descendants=collectImmediateSubtypes(node);
      if (descendants == null)       continue;
      for (      SNode passedNode : yetPassed) {
        descendants.removeStructurally(passedNode);
      }
      descendants.removeStructurally(node);
      for (      SNode descendant : descendants) {
        if (m.matches(descendant)) {
          return true;
        }
      }
      newFrontier.addAllStructurally(descendants);
      yetPassed.addAllStructurally(descendants);
    }
    frontier=newFrontier;
    newFrontier=new StructuralNodeSet();
  }
  return false;
}
