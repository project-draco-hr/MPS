{
  final MPSProject p=TestMain.loadProject(new File(System.getProperty("user.dir") + "/core/languageDesign/generator/generator.mpr"));
  SModelDescriptor descr=findModel(p,"test_Closure");
  doTestIncrementalGeneration(p,descr,new ModelChangeRunnable(){
    public void run(    SModelDescriptor descr){
      SModel model=descr.getSModel();
      SNode root=SModelOperations.getRootByName(model,"User");
      Assert.assertNotNull("No root in model",root);
      InstanceMethodDeclaration found=null;
      for (      InstanceMethodDeclaration md : ((ClassConcept)root.getAdapter()).getMethods()) {
        if (md.getName().equals("testRename2")) {
          found=md;
        }
      }
      Assert.assertNotNull("no method in class",found);
      found.setName("testRename3");
    }
  }
);
  cleanup(p);
}
