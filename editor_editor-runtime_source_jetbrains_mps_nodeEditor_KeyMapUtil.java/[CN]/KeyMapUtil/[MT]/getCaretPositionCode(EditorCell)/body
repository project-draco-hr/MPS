{
  int actualCaretPosition=EditorCellKeyMapAction.CARET_AT_ANY_POSITION;
  if (selectedCell instanceof EditorCell_Label) {
    EditorCell_Label label=(EditorCell_Label)selectedCell;
    if (isStrictlyFirstCaretPosition(label)) {
      actualCaretPosition=EditorCellKeyMapAction.CARET_AT_FIRST_POSITION;
    }
 else     if (isStrictlyLastCaretPosition(label)) {
      actualCaretPosition=EditorCellKeyMapAction.CARET_AT_LAST_POSITION;
    }
 else {
      actualCaretPosition=EditorCellKeyMapAction.CARET_AT_INTERMEDIATE_POSITION;
    }
  }
  return actualCaretPosition;
}
