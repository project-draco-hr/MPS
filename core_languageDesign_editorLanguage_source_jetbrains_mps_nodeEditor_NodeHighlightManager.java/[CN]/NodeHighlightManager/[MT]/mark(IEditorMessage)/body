{
  IEditorMessageOwner owner=message.getOwner();
  SNode node=message.getNode();
  for (  IEditorMessage msg : myMessages()) {
    if (msg.getNode() == node && msg.getOwner() == owner)     return;
  }
synchronized (myMessagesLock) {
    Set<IEditorMessage> messages=myMessages.get(owner);
    if (messages == null) {
      messages=new HashSet<IEditorMessage>();
      myMessages.put(owner,messages);
    }
    messages.add(message);
  }
  myEditor.getMessagesGutter().add(message);
  myEditor.updateMessages();
}
