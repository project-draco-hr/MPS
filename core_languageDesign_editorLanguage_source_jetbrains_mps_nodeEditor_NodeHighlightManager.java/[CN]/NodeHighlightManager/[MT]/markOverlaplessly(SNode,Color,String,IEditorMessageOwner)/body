{
  if (nodeToHighlight == null)   return;
  SNode node=nodeToHighlight;
  while (node != null) {
    if (color.equals(this.getColorFor(node)))     return;
    node=node.getParent();
  }
  Set<DefaultEditorMessage> messagesToRemove=new HashSet<DefaultEditorMessage>();
  for (  SNode childNode : nodeToHighlight.getSubnodes()) {
    for (    DefaultEditorMessage msg : myMessages()) {
      if (msg.getNode() == childNode && msg.getColor().equals(color))       messagesToRemove.add(msg);
    }
  }
  for (  DefaultEditorMessage msg : messagesToRemove) {
    Set<DefaultEditorMessage> msgs=this.myMessages.get(msg.getOwner());
    if (msgs != null) {
      msgs.remove(msg);
    }
  }
  for (  DefaultEditorMessage msg : messagesToRemove) {
    myEditor.getMessagesGutter().remove(msg);
  }
  this.mark(nodeToHighlight,color,messageText,owner);
}
