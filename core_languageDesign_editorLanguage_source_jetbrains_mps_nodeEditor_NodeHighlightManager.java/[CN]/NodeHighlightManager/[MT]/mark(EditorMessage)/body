{
  EditorMessageOwner owner=message.getOwner();
  SNode node=message.getNode();
  for (  EditorMessage msg : myMessages()) {
    if (msg.getOwner() == owner && msg.getCell(myEditor) == message.getCell(myEditor))     return;
  }
synchronized (myMessagesLock) {
    Set<EditorMessage> messages=myMessages.get(owner);
    if (messages == null) {
      messages=new HashSet<EditorMessage>();
      myMessages.put(owner,messages);
    }
    messages.add(message);
  }
  myEditor.getMessagesGutter().add(message);
  myEditor.updateMessages();
}
