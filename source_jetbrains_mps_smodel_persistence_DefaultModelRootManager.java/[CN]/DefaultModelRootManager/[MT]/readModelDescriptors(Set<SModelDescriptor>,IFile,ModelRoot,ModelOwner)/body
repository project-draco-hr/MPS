{
  if (!dir.isDirectory()) {
    return;
  }
  List<IFile> files=dir.list(new IFileNameFilter(){
    public boolean accept(    IFile d,    String name){
      return name.endsWith(".mps");
    }
  }
);
  for (  IFile file : files) {
    SModelUID modelUID=PathManager.getModelUID(file,FileSystem.getFile(modelRoot.getPath()),modelRoot.getPrefix());
    SModelDescriptor modelDescriptor=getInstance(this,modelRoot,file.getAbsolutePath(),modelUID,owner);
    LOG.debug("I've read model descriptor " + modelDescriptor.getModelUID() + "\n"+ "Model root is "+ modelRoot.getPath()+ " "+ modelRoot.getPrefix());
    modelDescriptors.add(modelDescriptor);
  }
  List<IFile> dirs=dir.list();
  for (  IFile childDir : dirs) {
    if (childDir.isDirectory()) {
      readModelDescriptors(modelDescriptors,childDir,modelRoot,owner);
    }
  }
}
