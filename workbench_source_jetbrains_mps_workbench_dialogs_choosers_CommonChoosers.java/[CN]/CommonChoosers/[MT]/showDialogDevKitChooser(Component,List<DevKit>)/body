{
  Window window=SwingUtilities.getWindowAncestor(parent);
  final DevKitChooserDialog dialog;
  if (window instanceof Frame) {
    dialog=new DevKitChooserDialog((Frame)window,devKits);
  }
 else {
    dialog=new DevKitChooserDialog((Dialog)window,devKits);
  }
  dialog.showDialog();
  return ModelAccess.instance().runReadAction(new Computable<DevKit>(){
    public DevKit compute(){
      return dialog.getResult();
    }
  }
);
}
