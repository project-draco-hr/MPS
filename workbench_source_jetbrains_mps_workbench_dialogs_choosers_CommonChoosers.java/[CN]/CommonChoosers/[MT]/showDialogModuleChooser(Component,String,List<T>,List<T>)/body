{
  Window window=parent instanceof Window ? (Window)parent : SwingUtilities.getWindowAncestor(parent);
  ModuleChooserDialog<T> dialog;
  if (window instanceof Frame) {
    dialog=new ModuleChooserDialog<T>((Frame)window,modules,nonProjectModules,entityString);
  }
 else {
    dialog=new ModuleChooserDialog<T>((Dialog)window,modules,nonProjectModules,entityString);
  }
  dialog.showDialog();
  return dialog.getResult();
}
