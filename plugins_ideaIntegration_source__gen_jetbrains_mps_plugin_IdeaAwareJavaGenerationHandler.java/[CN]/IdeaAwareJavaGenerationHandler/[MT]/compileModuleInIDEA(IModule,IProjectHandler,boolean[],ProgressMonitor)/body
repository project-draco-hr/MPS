{
  boolean compiledSuccessfully=true;
  if (module != null) {
    if (!(isIDEAPresent(projectHandler))) {
      error("Module is compiled in IntelliJ IDEA but IntelliJ IDEA isn't present.");
      error("Can't compile it.");
      compiledSuccessfully=false;
    }
 else {
      checkMonitorCanceled(monitor);
      String info="compiling in IntelliJ IDEA...";
      CompilationResult compilationResult=null;
      try {
        monitor.start(info,4);
        monitor.step("refreshing filesystem..");
        projectHandler.refreshFS();
        ideaIsFresh[0]=true;
        monitor.advance(1);
        monitor.step("compiling..");
        info(info);
        compilationResult=projectHandler.buildModules(new String[]{module.getGeneratorOutputPath()});
      }
  finally {
        monitor.done();
      }
      if (compilationResult == null || compilationResult.getErrors() > 0) {
        compiledSuccessfully=false;
      }
      if (compilationResult != null) {
        if (compilationResult.getErrors() > 0) {
          error("" + compilationResult);
        }
 else         if (compilationResult.getWarnings() > 0) {
          warning("" + compilationResult);
        }
 else {
          info("" + compilationResult);
        }
      }
    }
    checkMonitorCanceled(monitor);
  }
  return compiledSuccessfully;
}
