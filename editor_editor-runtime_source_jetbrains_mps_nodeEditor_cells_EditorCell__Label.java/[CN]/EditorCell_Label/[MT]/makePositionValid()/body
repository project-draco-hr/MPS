{
  if (myTextLine.getCaretPosition() == 0 && !StyleAttributesUtil.isFirstPositionAllowed(getStyle()) && isCaretPositionAllowed(1)) {
    setCaretPosition(1);
  }
  if (myTextLine.getCaretPosition() == getText().length() && !StyleAttributesUtil.isLastPositionAllowed(getStyle()) && isCaretPositionAllowed(getText().length() - 1)) {
    setCaretPosition(getText().length() - 1);
  }
  getEditor().getBracesHighlighter().updateBracesSelection(this);
}
