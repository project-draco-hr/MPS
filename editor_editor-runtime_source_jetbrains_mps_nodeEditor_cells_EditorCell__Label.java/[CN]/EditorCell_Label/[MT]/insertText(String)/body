{
  int startSelectionPosition=myTextLine.getStartTextSelectionPosition();
  int endSelectionPosition=myTextLine.getEndTextSelectionPosition();
  if (startSelectionPosition >= endSelectionPosition) {
    startSelectionPosition=myTextLine.getCaretPosition();
    endSelectionPosition=myTextLine.getCaretPosition();
  }
  String oldText=getText();
  changeText(oldText.substring(0,startSelectionPosition) + text + oldText.substring(endSelectionPosition));
  myTextLine.setCaretPosition(startSelectionPosition + text.length());
  myTextLine.resetSelection();
  addChangeTextUndoableAction();
}
