{
  EditorComponent editor=getEditor();
  CellInfo cellInfo=getCellInfo();
  SNode node=getSNode();
  if (node == null)   return;
  if (CommandProcessor.getInstance().getCurrentCommand() == null)   return;
  if (EqualUtil.equals(oldText,text))   return;
  if (isValidText(text))   return;
  UndoHelper.getInstance().addUndoableAction(new MySNodeUndoableAction(node,cellInfo,editor,oldText,text));
  if (node.getModel() == null)   return;
  MPSNodesVirtualFileSystem.getInstance().getFileFor(node.getContainingRoot()).setModificationStamp(LocalTimeCounter.currentTime());
}
