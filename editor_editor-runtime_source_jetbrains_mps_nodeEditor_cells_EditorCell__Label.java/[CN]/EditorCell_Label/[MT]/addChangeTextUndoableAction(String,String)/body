{
  SNode node=getSNode();
  if (node == null)   return;
  if (CommandProcessor.getInstance().getCurrentCommand() == null)   return;
  if (EqualUtil.equals(oldText,text))   return;
  if (isValidText(text))   return;
  if (node.getModel() == null)   return;
  MPSNodesVirtualFileSystem.getInstance().getFileFor(node.getContainingRoot()).setModificationStamp(LocalTimeCounter.currentTime());
}
