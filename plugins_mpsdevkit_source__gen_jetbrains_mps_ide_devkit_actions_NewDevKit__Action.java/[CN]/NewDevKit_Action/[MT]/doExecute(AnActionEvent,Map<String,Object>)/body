{
  NewDevKitDialog dialog=new NewDevKitDialog(((MPSProject)MapSequence.fromMap(_params).get("project")).getProject());
  dialog.show();
  final DevKit devkit=dialog.getResult();
  if (devkit == null) {
    return;
  }
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      ((StandaloneMPSProject)((MPSProject)MapSequence.fromMap(_params).get("project"))).setFolderFor(devkit,(((String)MapSequence.fromMap(_params).get("namespace")) == null ? "" : ((String)MapSequence.fromMap(_params).get("namespace"))));
    }
  }
);
  ProjectPane projectPane=ProjectPane.getInstance(((Project)MapSequence.fromMap(_params).get("ideaProject")));
  projectPane.rebuildTree();
  projectPane.selectModule(devkit,false);
}
