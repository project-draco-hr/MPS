{
  Element module=(Element)JDOMUtil.loadDocument(moduleFile).getRootElement();
  Element cfg=ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(module,"component")).findFirst(new IWhereFilter<Element>(){
    public boolean accept(    Element ch){
      return "FacetManager".equals(ch.getAttributeValue("name"));
    }
  }
),"facet")).findFirst(new IWhereFilter<Element>(){
    public boolean accept(    Element fct){
      return "MPS".equals(fct.getAttributeValue("name"));
    }
  }
),"configuration")).first();
  IdeaModuleConfiguration imc=new IdeaModuleConfiguration(moduleFile);
  if (cfg != null) {
    MPSFacetConfiguration mpsFacet=new MPSFacetConfiguration();
    mpsFacet.readFromXml(cfg);
    imc.setMPSFacetConfiguration(mpsFacet);
  }
  return imc;
}
