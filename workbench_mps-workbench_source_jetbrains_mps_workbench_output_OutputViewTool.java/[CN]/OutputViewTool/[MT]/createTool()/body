{
  this.myComponent=new JPanel(new BorderLayout());
  this.myTextArea=new JTextArea();
  myTextArea.setEditable(false);
  myFindAction=new AbstractActionWithEmptyIcon("Find"){
{
      putValue(Action.ACCELERATOR_KEY,KeyStroke.getKeyStroke("control F"));
    }
    public void actionPerformed(    ActionEvent e){
      String pattern=JOptionPane.showInputDialog(WindowManager.getInstance().getFrame(getProject()),"Enter pattern to find",myLastSearchPattern);
      if (pattern == null)       return;
      find(pattern);
    }
  }
;
  myFindNextAction=new AbstractActionWithEmptyIcon("Find Next"){
{
      putValue(Action.ACCELERATOR_KEY,KeyStroke.getKeyStroke("F3"));
    }
    public void actionPerformed(    ActionEvent e){
      if (myLastSearchPattern != null) {
        find(myLastSearchPattern);
      }
    }
  }
;
  JPanel panel=new JPanel();
  updateComponent();
  myTextArea.addMouseListener(new MouseAdapter(){
    public void mouseReleased(    MouseEvent e){
      processMouseEvent(e);
    }
    public void mousePressed(    MouseEvent e){
      processMouseEvent(e);
    }
    private void processMouseEvent(    MouseEvent e){
      if (e.isPopupTrigger()) {
        JPopupMenu menu=new JPopupMenu();
        menu.add(new AbstractActionWithEmptyIcon("Clear"){
          public void actionPerformed(          ActionEvent event){
            clear();
          }
        }
);
        menu.addSeparator();
        menu.add(myFindAction);
        menu.add(myFindNextAction);
        menu.show(myTextArea,e.getX(),e.getY());
      }
    }
  }
);
  panel.setLayout(new BorderLayout());
  panel.add(ScrollPaneFactory.createScrollPane(myTextArea),BorderLayout.CENTER);
  myComponent.registerKeyboardAction(myFindAction,KeyStroke.getKeyStroke("control F"),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  myComponent.registerKeyboardAction(myFindNextAction,KeyStroke.getKeyStroke("F3"),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  myComponent.add(panel,BorderLayout.CENTER);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      DefaultActionGroup group=ActionUtils.groupFromActions(createCloseAction());
      JComponent toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,false).getComponent();
      myComponent.add(toolbar,BorderLayout.WEST);
    }
  }
);
}
