{
  if (INSTANCE != null) {
    throw new IllegalStateException("double initialization");
  }
  INSTANCE=this;
  MPSModuleRepository.getInstance().addModuleRepositoryListener(new ModuleRepositoryAdapter(){
    @Override public void repositoryChanged(){
      invalidateDescriptors();
    }
  }
);
  GlobalSModelEventsManager.getInstance().addGlobalCommandListener(new SModelCommandListener(){
    @Override public void eventsHappenedInCommand(    List<SModelEvent> events){
      for (      SModelEvent e : events) {
        if (!LanguageAspect.STRUCTURE.is(e.getModelDescriptor()))         continue;
        invalidateDescriptors();
      }
    }
  }
);
}
