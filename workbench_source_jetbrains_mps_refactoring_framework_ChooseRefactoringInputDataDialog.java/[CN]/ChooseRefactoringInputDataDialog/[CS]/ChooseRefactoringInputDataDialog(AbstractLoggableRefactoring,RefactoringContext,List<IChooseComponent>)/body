{
  super(refactoringContext.getCurrentOperationContext().getMainFrame(),"Input Data for " + refactoring.getUserFriendlyName());
  myRefactoring=refactoring;
  myRefactoringContext=refactoringContext;
  myComponents=new ArrayList<IChooseComponent>(components);
  myInnerPanel=new JPanel();
  GridBagLayout layout=new GridBagLayout();
  GridBagConstraints constraints=new GridBagConstraints();
  constraints.gridx=0;
  constraints.gridy=GridBagConstraints.RELATIVE;
  constraints.gridwidth=1;
  constraints.fill=GridBagConstraints.BOTH;
  constraints.weightx=1;
  constraints.weighty=0;
  myInnerPanel.setLayout(layout);
  for (  IChooseComponent component : myComponents) {
    if (myFirstComponent == null && component instanceof JComponent) {
      myFirstComponent=component;
    }
    if (component instanceof JComponent) {
      myLastComponent=component;
    }
    myInnerPanel.add(component.getMainComponent(),constraints);
  }
  constraints.weighty=1;
  myInnerPanel.add(new JPanel(),constraints);
}
