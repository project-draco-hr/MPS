{
  Document doc=JDOMUtil.loadDocument(genSourcesIml);
  Element rootManager=Utils.getComponentWithName(doc,MODULE_ROOT_MANAGER);
  rootManager.removeChildren(CONTENT);
  for (  File dir : sourceDirs) {
    Element contentRoot=new Element(CONTENT);
    contentRoot.setAttribute(URL,PATH_START_MODULE + dir);
    for (    File module : Utils.collectGeneratedInMPSModules(dir)) {
      Element sourceFolder=new Element(SOURCE_FOLDER);
      sourceFolder.setAttribute(URL,PATH_START_MODULE + Utils.getRelativeProjectPath(module) + "/"+ SOURCE_GEN_FOLDER);
      sourceFolder.setAttribute("isTestSource","false");
      contentRoot.addContent(sourceFolder);
      Element excludeFolder=new Element(EXCLUDE_FOLDER);
      excludeFolder.setAttribute(URL,PATH_START_MODULE + Utils.getRelativeProjectPath(module) + "/"+ CLASSES_GEN_FOLDER);
      contentRoot.addContent(excludeFolder);
    }
    rootManager.addContent(contentRoot);
  }
  JDOMUtil.writeDocument(doc,genSourcesIml);
}
