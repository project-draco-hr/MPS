{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      String fontName=myFontsComboBox.getSelectedItem().toString();
      int fontSize=Integer.parseInt(myFontSizesComboBox.getSelectedItem().toString());
      Font newFont=new Font(fontName,Font.PLAIN,fontSize);
      setDefaultEditorFont(newFont);
      setVerticalBound(Integer.parseInt(myVerticalBoundComboBox.getSelectedItem().toString()));
      setIndentSize(Integer.parseInt(myIndentSizeComboBox.getSelectedItem().toString()));
      int blinkingPeriod=getBlinkingPeriod();
      CaretBlinker.getInstance().setCaretBlinkingRateTimeMillis(blinkingPeriod);
      setUseAntialiasing(myAntialiasingCheckBox.isSelected());
      setUseBraces(myUseBraces.isSelected());
      setPowerSaveMode(myPowerSaveModeCheckBox.isSelected());
      setHighlightChanges(myHighlightChangesCheckBox.isSelected());
      try {
        myState.myLineSpacing=Double.parseDouble(myLineSpacingField.getText());
      }
 catch (      NumberFormatException e) {
        myState.myLineSpacing=1.0;
      }
      myState.mySelectionBackground=mySelectionBackgroundColorComponent.getColor();
      myState.mySelectionForeground=mySelectionForegroundColorComponent.getColor();
      updateCachedValue();
      fireEditorSettingsChanged();
    }
  }
);
}
