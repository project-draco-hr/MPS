{
  final List<SNode> nodesList=new ArrayList<SNode>();
  MPSProject project=MPSDataKeys.MPS_PROJECT.getData(DataManager.getInstance().getDataContext());
  for (  final IModule module : project.getModules()) {
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        ListSequence.fromList(nodesList).addSequence(ListSequence.fromList(TestRunUtil.getModuleTests(module)));
      }
    }
);
  }
  if (this.isTestMethods) {
    final List<SNode> methodsList=new ArrayList<SNode>();
    for (    final SNode testCase : nodesList) {
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          ListSequence.fromList(methodsList).addSequence(ListSequence.fromList(ITestCase_Behavior.call_getTestMethods_2148145109766218395(SNodeOperations.cast(testCase,"jetbrains.mps.baseLanguage.unitTest.structure.ITestCase"))));
        }
      }
);
    }
    this.candidates=methodsList;
  }
 else {
    this.candidates=nodesList;
  }
}
