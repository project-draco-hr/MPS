{
  final List<SNode> nodesList=new ArrayList<SNode>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      IModule module : GlobalScope.getInstance().getVisibleModules()) {
        for (        SModelDescriptor descriptor : module.getOwnModelDescriptors()) {
          if (SModelStereotype.isStubModelStereotype(descriptor.getStereotype())) {
            continue;
          }
          ListSequence.fromList(nodesList).addSequence(ListSequence.fromList(TestRunUtil.getModelTests(descriptor.getSModel())));
        }
      }
    }
  }
);
  if (this.isTestMethods) {
    final List<SNode> methodsList=new ArrayList<SNode>();
    for (    final SNode testCase : nodesList) {
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          ListSequence.fromList(methodsList).addSequence(ListSequence.fromList(ITestCase_Behavior.call_getTestMethods_2148145109766218395(SNodeOperations.cast(testCase,"jetbrains.mps.baseLanguage.unitTest.structure.ITestCase"))));
        }
      }
);
    }
    this.candidates=methodsList;
  }
 else {
    this.candidates=nodesList;
  }
}
