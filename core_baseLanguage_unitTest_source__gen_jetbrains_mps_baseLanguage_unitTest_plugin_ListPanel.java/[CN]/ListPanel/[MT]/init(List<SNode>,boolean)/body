{
  this.isTestMethods=isTestMethods;
  this.setLayout(new BorderLayout());
  this.values=nodes;
  this.list=new JList(new AbstractListModel(){
    public Object getElementAt(    int p0){
      return ListPanel.this.getPresentation(ListSequence.fromList(ListPanel.this.values).getElement(p0));
    }
    public int getSize(){
      return ListSequence.fromList(ListPanel.this.values).count();
    }
  }
);
  AnAction add=new ListAddAction(this.list){
    protected int doAdd(    AnActionEvent p0){
      if (ListPanel.this.candidates == null) {
        ListPanel.this.collectCandidates();
      }
      ListSequence.fromList(ListPanel.this.candidates).removeSequence(ListSequence.fromList(ListPanel.this.values));
      final SNode resultNode=(SNode)CommonChoosers.showDialogNodeChooser(ListPanel.this,ListPanel.this.candidates);
      if (resultNode == null) {
        return -1;
      }
      ListSequence.fromList(ListPanel.this.values).addElement(resultNode);
      if (ListPanel.this.listener != null) {
        ListPanel.this.listener.actionPerformed(null);
      }
      ListPanel.this.list.updateUI();
      return ListSequence.fromList(ListPanel.this.values).indexOf(resultNode);
    }
  }
;
  AnAction remove=new ListRemoveAction(this.list){
    protected void doRemove(    AnActionEvent p0){
      for (      Object value : ListPanel.this.list.getSelectedValues()) {
        for (        SNode node : ListPanel.this.values) {
          if (ListPanel.this.getPresentation(node).equals(value)) {
            ListSequence.fromList(ListPanel.this.values).removeElement(node);
            break;
          }
        }
      }
      if (ListPanel.this.listener != null) {
        ListPanel.this.listener.actionPerformed(null);
      }
      ListPanel.this.list.updateUI();
    }
  }
;
  this.setBorder(new TitledBorder("Test"));
  DefaultActionGroup group=ActionUtils.groupFromActions(add,remove);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,false);
  this.add(toolbar.getComponent(),BorderLayout.WEST);
  JScrollPane comp=new JScrollPane(this.list);
  comp.doLayout();
  this.add(comp,BorderLayout.CENTER);
  this.add(new JLabel((this.isTestMethods ? "Methods" : "Classes")),BorderLayout.PAGE_START);
  this.list.updateUI();
}
