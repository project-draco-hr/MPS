{
  return new SModelEventProcessor(new ModelProvider(){
    @Override public ReloadableModel lookupModel(    SModelReference modelReference){
      final MPSPsiModel psiModel=models.get(modelReference);
      if (psiModel == null)       return null;
      return new ReloadableModel(){
        @Override public void reload(        SNodeId sNodeId){
          MPSPsiNode psiNode=psiModel.reload(sNodeId);
          notifyPsiChanged(psiModel,psiNode);
        }
        @Override public void reloadAll(){
          psiModel.reloadAll();
          notifyPsiChanged(psiModel,null);
        }
      }
;
    }
  }
);
}
