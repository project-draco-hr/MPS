{
  if (snodeVFile instanceof MPSNodeVirtualFile) {
    final MPSNodeVirtualFile mpsFile=(MPSNodeVirtualFile)snodeVFile;
    SNodeReference sNodePointer=mpsFile.getSNodePointer();
    MPSPsiModel mpsPsiModel=models.get(sNodePointer.getModelReference());
    if (mpsPsiModel == null)     return null;
    VirtualFile sourceVFile=mpsPsiModel.getSourceVirtualFile();
    FileManager fileManager=((PsiManagerEx)PsiManagerEx.getInstance(myProject)).getFileManager();
    PsiFile sourceFile=fileManager.findFile(sourceVFile);
    for (    PsiElement psiElement : sourceFile.getChildren()) {
      if (sNodePointer.equals(psiElement.getUserData(MPSKeys.NODE_REFERENCE))) {
        return psiElement;
      }
    }
  }
  return null;
}
