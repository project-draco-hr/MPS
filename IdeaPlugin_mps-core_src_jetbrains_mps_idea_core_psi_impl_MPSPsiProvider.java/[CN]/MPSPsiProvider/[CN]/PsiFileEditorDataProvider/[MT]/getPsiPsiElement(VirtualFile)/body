{
  if (snodeVFile instanceof MPSNodeVirtualFile) {
    final MPSNodeVirtualFile mpsFile=(MPSNodeVirtualFile)snodeVFile;
    final SNodeReference sNodePointer=mpsFile.getSNodePointer();
    MPSPsiModel psiModel=models.get(sNodePointer.getModelReference());
    if (psiModel == null)     return null;
    PsiElement psiElement=ModelAccess.instance().runReadAction(new Computable<PsiElement>(){
      @Override public PsiElement compute(){
        return getPsi(sNodePointer);
      }
    }
);
    if (psiElement != null)     return psiElement;
    for (    MPSPsiRootNode rootNode : psiModel.getChildren(MPSPsiRootNode.class)) {
      if (rootNode.getSNodeReference().equals(mpsFile.getSNodePointer())) {
        return rootNode;
      }
    }
  }
  return null;
}
