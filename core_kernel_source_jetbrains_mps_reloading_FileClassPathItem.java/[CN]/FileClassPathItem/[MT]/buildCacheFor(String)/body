{
  Set<String> subpacks=new HashSet<String>(0);
  Set<String> classes=new HashSet<String>(0);
  IFile dir=getModelDir(namespace);
  long lastModified=dir.lastModified();
  List<IFile> files=dir.list();
  if (files != null) {
    for (    IFile file : files) {
      String name=file.getName();
      long fileLastModified=file.lastModified();
      lastModified=Math.max(lastModified,fileLastModified);
      if (!name.endsWith(MPSExtentions.DOT_CLASSFILE)) {
        if (file.isDirectory()) {
          if (namespace.length() > 0) {
            subpacks.add(namespace + "." + name);
          }
 else {
            subpacks.add(namespace + name);
          }
        }
 else {
          processResource(namespace,file,name);
        }
      }
      if (name.endsWith(".class")) {
        String className=name.substring(0,name.length() - ".class".length());
        if (namespace.length() > 0) {
          myLastModifiedCache.put(namespace + "." + className,fileLastModified);
        }
 else {
          myLastModifiedCache.put(className,fileLastModified);
        }
        classes.add(className);
      }
    }
  }
  mySubpackagesCache.put(namespace,subpacks);
  myAvailableClassesCache.put(namespace,classes);
}
