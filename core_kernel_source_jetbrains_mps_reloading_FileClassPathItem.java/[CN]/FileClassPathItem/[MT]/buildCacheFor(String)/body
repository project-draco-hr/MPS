{
  namespace=InternUtil.intern(namespace);
  Set<String> subpacks=null;
  Set<String> classes=null;
  File dir=getModelDir(namespace);
  String[] files=dir.list();
  if (files != null) {
    for (    String name : files) {
      if (name.endsWith(MPSExtentions.DOT_CLASSFILE)) {
        if (classes == null) {
          classes=new THashSet<String>(files.length);
        }
        String classname=name.substring(0,name.length() - MPSExtentions.DOT_CLASSFILE.length());
        classes.add(InternUtil.intern(classname));
      }
 else {
        File file=new File(dir,name);
        if (file.isDirectory()) {
          if (subpacks == null) {
            subpacks=new THashSet<String>();
          }
          String fqName=namespace.length() > 0 ? namespace + "." + name : name;
          subpacks.add(InternUtil.intern(fqName));
        }
      }
    }
  }
  mySubpackagesCache.put(namespace,subpacks);
  myAvailableClassesCache.put(namespace,classes);
}
