{
  if (FREEZE_CHECKS_ENABLED && node.isFrozen()) {
    throw new IllegalModelChangeError("can't modify a frozen node" + node.getDebugText());
  }
  if (!(node.getModel().isLoading())) {
    boolean condition=!node.isRegistered() || isInsideUndoableCommand();
    if (!condition) {
      throw new IllegalModelChangeError("registered node can only be modified inside undoable command or in 'loading' model " + node.getDebugText());
    }
  }
}
