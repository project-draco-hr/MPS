{
  final boolean reuseCaches=myJUnitSettings.getReuseCaches() && RunCachesManager.acquireLock();
  ProcessHandler commandProcess=new JUnit_Command().setDebuggerSettings_String(myDebuggerSettings.getCommandLine(true)).createProcess(myTestNodes,this.prepareJavaParamsForTests(reuseCaches,myJUnitSettings.getCachesDir()));
  commandProcess.addProcessListener(new ProcessAdapter(){
    @Override public void processTerminated(    ProcessEvent p0){
      if (reuseCaches) {
        RunCachesManager.releaseLock();
      }
    }
  }
);
  return commandProcess;
}
