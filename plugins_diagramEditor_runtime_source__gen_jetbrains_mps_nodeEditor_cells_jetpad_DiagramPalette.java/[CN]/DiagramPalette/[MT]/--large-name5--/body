{
  return new SubstituteInfoPartExt(){
    public List<SubstituteAction> createActions(    CellContext cellContext,    final EditorContext editorContext){
      AbstractNodeSubstituteAction action=new AbstractNodeSubstituteAction(childNodeConcept,childNodeConcept,container){
        @Override public boolean canSubstitute(        String string){
          if (!(super.canSubstitute(string))) {
            return false;
          }
          DiagramCell.ConnectionInfo connectionInfo=myDiagramCell.getConnectionInfo();
          return connectionInfo.isValid() && canCreateConnector.invoke(connectionInfo.getFromNode(),connectionInfo.getFromId(),connectionInfo.getToNode(),connectionInfo.getToId()) && myDiagramCell.hasConnectionDragFeedback();
        }
        @Override protected SNode doSubstitute(        @Nullable EditorContext context,        String string){
          SNode result=NodeFactoryManager.createNode(childNodeConcept,null,container,SNodeOperations.getModel(container));
          ListSequence.fromList(SNodeOperations.getChildren(container,containingLink)).addElement(result);
          DiagramCell.ConnectionInfo connectionInfo=myDiagramCell.getConnectionInfo();
          setConnectorCallback.invoke(result,connectionInfo.getFromNode(),connectionInfo.getFromId(),connectionInfo.getToNode(),connectionInfo.getToId());
          return result;
        }
      }
;
      return Collections.<SubstituteAction>singletonList(new DiagramPalette.DiagramSubstituteActionWraper(action,DiagramPalette.ActionType.CONNECTOR){
        @Override public boolean canSubstitute(        String string){
          return isActionEnabled(this) && super.canSubstitute(string);
        }
      }
);
    }
  }
;
}
