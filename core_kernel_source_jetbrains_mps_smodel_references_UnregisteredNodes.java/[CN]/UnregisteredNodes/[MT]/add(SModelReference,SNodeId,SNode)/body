{
  boolean showError=false;
synchronized (myLock) {
    if (myMap.contains(reference,id) && myMap.get(reference,id) != node) {
      showError=true;
    }
    myMap.put(reference,id,node);
  }
  if (showError) {
    IllegalStateException ex=new IllegalStateException("attempt to put another node with same key: " + reference + "#"+ id);
    LOG.error(ex,ex);
  }
}
