{
  Set<IModule> modules=new HashSet<IModule>();
  modules.addAll(MPSModuleRepository.getInstance().getAllLanguages());
  for (  Solution s : MPSModuleRepository.getInstance().getAllSolutions()) {
    if (s.getModuleDescriptor().getKind() == SolutionKind.NONE)     continue;
    if (s.getModuleDescriptor().getKind() == SolutionKind.PLUGIN_OTHER && MPSCore.getInstance().isTestMode())     continue;
    modules.add(s);
  }
  return modules;
}
