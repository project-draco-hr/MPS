{
  StartupManager.getInstance(myProject).registerPostStartupActivity(new Runnable(){
    public void run(){
      LaterInvocator.invokeLater(new Runnable(){
        @Override public void run(){
          MigrationAssistantWizard wizard=new MigrationAssistantWizard(myProject);
          AsyncResult<Boolean> result=wizard.showAndGetOk();
          result.doWhenDone(new Handler<Boolean>(){
            @Override public void run(            Boolean ok){
              if (ok) {
                myMigrationState.migrationFinished();
              }
 else {
                myMigrationState.migrationAborted();
                forceCloseProject();
              }
            }
          }
);
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
}
