{
  List<SNode> result=ListSequence.fromList(new ArrayList<SNode>());
  for (  SNode component : ListSequence.fromList(SLinkOperations.getTargets(thisNode,"component",true))) {
    if (SNodeOperations.isInstanceOf(component,"jetbrains.mps.build.packaging.structure.ICompositeComponent")) {
      ListSequence.fromList(result).addSequence(ListSequence.fromList(MPSLayout_Behavior.call_getModules_1213877228389(thisNode,SNodeOperations.cast(component,"jetbrains.mps.build.packaging.structure.ICompositeComponent"))));
    }
 else     if (SNodeOperations.isInstanceOf(component,"jetbrains.mps.build.packaging.structure.Module")) {
      ListSequence.fromList(result).addElement(SNodeOperations.cast(component,"jetbrains.mps.build.packaging.structure.Module"));
    }
  }
  return result;
}
