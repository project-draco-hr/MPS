{
  super(defaultOptions,node,data);
  myPanel=new JPanel();
  myPanel.setLayout(new BoxLayout(myPanel,BoxLayout.Y_AXIS));
  myPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder("Scope"),BorderFactory.createEmptyBorder(7,3,3,3)));
  myGlobalScopeButton=new JRadioButton(new AbstractAction(GLOBAL_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,false);
    }
  }
);
  myProjectScopeButton=new JRadioButton(new AbstractAction(PROJECT_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,false);
    }
  }
);
  myModuleScopeButton=new JRadioButton(new AbstractAction(MODULE_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(true,false);
    }
  }
);
  myModelScopeButton=new JRadioButton(new AbstractAction(MODEL_SCOPE){
    public void actionPerformed(    ActionEvent e){
      setCompletionFieldsState(false,true);
    }
  }
);
  myButtonGroup=new ButtonGroup();
  myButtonGroup.add(myGlobalScopeButton);
  myButtonGroup.add(myProjectScopeButton);
  myButtonGroup.add(myModuleScopeButton);
  myButtonGroup.add(myModelScopeButton);
  List<IModule> moduleList=MPSModuleRepository.getInstance().getAllModules();
  List<String> moduleNameList=CollectionUtil.map(moduleList,new Mapper<IModule,String>(){
    public String map(    IModule iModule){
      return iModule.getModuleUID();
    }
  }
);
  myModuleNameList=moduleNameList;
  myModuleNameList.add(0,QueryOptions.DEFAULT_VALUE);
  myModuleField=new DefaultCompletionTextField(moduleNameList);
  myModuleField.setText(QueryOptions.DEFAULT_VALUE);
  List<SModelDescriptor> modelList=SModelRepository.getInstance().getAllModelDescriptors();
  myModelNameList=CollectionUtil.map(modelList,new Mapper<SModelDescriptor,String>(){
    public String map(    SModelDescriptor sModelDescriptor){
      return sModelDescriptor.getLongName();
    }
  }
);
  myModelNameList.add(0,QueryOptions.DEFAULT_VALUE);
  myModelField=new DefaultCompletionTextField(myModelNameList);
  myModelField.setText(QueryOptions.DEFAULT_VALUE);
  JPanel row;
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myModelScopeButton,BorderLayout.WEST);
  row.add(myModelField,BorderLayout.CENTER);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myModuleScopeButton,BorderLayout.WEST);
  row.add(myModuleField,BorderLayout.CENTER);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myProjectScopeButton,BorderLayout.WEST);
  myPanel.add(row);
  row=new JPanel();
  row.setLayout(new BorderLayout());
  row.add(myGlobalScopeButton,BorderLayout.WEST);
  myPanel.add(row);
  setDefaults(defaultOptions);
}
