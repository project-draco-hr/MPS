{
  List<SNode> newCandidates=ListOperations.createList(new SNode[]{});
{
    ICursor<SNode> _zCursor=CursorFactory.createCursor(SLinkOperations.getTargets(node,"candidates",true));
    try {
      while (_zCursor.moveToNext()) {
        SNode foo=_zCursor.getCurrent();
        if (SNodeOperations.isInstanceOf(foo,"jetbrains.mps.ypath.structure.StatementAggregator")) {
          ListOperations.addAllElements(newCandidates,SLinkOperations.getTargets(foo,"candidates",true));
        }
 else {
          ListOperations.addElement(newCandidates,foo);
        }
      }
    }
  finally {
      _zCursor.release();
    }
  }
  return newCandidates;
}
