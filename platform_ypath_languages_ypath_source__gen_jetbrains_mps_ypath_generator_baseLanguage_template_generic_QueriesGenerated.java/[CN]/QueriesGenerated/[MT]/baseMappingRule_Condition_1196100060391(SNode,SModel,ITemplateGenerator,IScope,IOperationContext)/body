{
  SNode tpoe=SNodeOperations.getAncestor(node,"jetbrains.mps.ypath.structure.TreePathOperationExpression",false,false);
  if ((tpoe != null)) {
    if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(tpoe,"operation",true),"jetbrains.mps.ypath.structure.IterateOperation")) {
      return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(SLinkOperations.getTarget(tpoe,"operation",true),"usedFeature",false),"jetbrains.mps.ypath.structure.IGenericFeature");
    }
  }
  List<SNode> features=SLinkOperations.getTargets(SLinkOperations.getTarget(node,"treepathAspect",false),"features",true);
  return SequenceOperations.isEmpty(SequenceOperations.where(features,new zPredicate(null,null))) && !(SequenceOperations.isEmpty(features));
}
