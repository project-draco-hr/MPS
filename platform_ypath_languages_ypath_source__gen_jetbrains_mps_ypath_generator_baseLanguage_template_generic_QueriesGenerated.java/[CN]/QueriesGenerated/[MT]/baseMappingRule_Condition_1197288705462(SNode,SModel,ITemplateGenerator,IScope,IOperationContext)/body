{
  String tokenKey="aggregate_insertBefore" + ((SNode)node).getId();
  Object token=generator.getGeneratorSessionContext().getTransientObject(tokenKey);
  if (Boolean.TRUE.equals(token)) {
    return false;
  }
  SNode wrp=SNodeOperations.getAncestor(node,"jetbrains.mps.ypath.structure.StatementWrapper",false,false);
  return (wrp == null) || SPropertyOperations.getInteger(wrp,"priority") < -20 || (SPropertyOperations.getInteger(wrp,"priority") > 0 && SPropertyOperations.getInteger(wrp,"priority") < 20);
}
