{
  SModuleReference oldRef=getModuleReference();
  renameModels(getModuleName(),newName,true);
  save();
  ModuleDescriptor descriptor=getModuleDescriptor();
  if (myDescriptorFile != null) {
    myFileSystem.removeListener(this);
    myDescriptorFile.rename(newName + "." + FileUtil.getExtension(myDescriptorFile.getName()));
    myFileSystem.addListener(this);
  }
  if (descriptor != null) {
    descriptor.setNamespace(newName);
    setModuleDescriptor(descriptor);
  }
  fireModuleRenamed(oldRef);
}
