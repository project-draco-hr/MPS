{
  for (  SModel m : getModels()) {
    if (m.isReadOnly())     continue;
    if (!m.getModelName().startsWith(getModuleName() + "."))     continue;
    if (!(m instanceof EditableSModel))     continue;
    ((EditableSModel)m).rename(newName + m.getModelName().substring(getModuleName().length()),true);
  }
  getRepository().saveAll();
  ModuleDescriptor descriptor=getModuleDescriptor();
  if (myDescriptorFile != null) {
    myDescriptorFile.rename(newName + MPSExtentions.DOT_LANGUAGE);
  }
  descriptor.setNamespace(newName);
  setModuleDescriptor(descriptor);
}
