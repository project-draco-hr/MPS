{
  checkNotRegistered();
  contentRoot=FileUtil.stripLastSlashes(memento.get("contentPath"));
  for (  String kind : getSupportedFileKinds()) {
    List<String> files=filesForKind.get(kind);
    files.clear();
    for (    Memento root : memento.getChildren(kind)) {
      String relPath=root.get("location");
      if (relPath != null) {
        if (relPath.equals(".")) {
          files.add(contentRoot);
        }
 else {
          files.add(contentRoot + "/" + relPath);
        }
      }
 else {
        files.add(root.get("path"));
      }
    }
  }
}
