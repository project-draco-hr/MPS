{
  Collection<Pair<IntentionExecutable,SNode>> intentions=getAvailableIntentionsForNode(node);
  List<Pair<IntentionExecutable,SNode>> matches=CollectionSequence.fromCollection(intentions).where(new IWhereFilter<Pair<IntentionExecutable,SNode>>(){
    public boolean accept(    Pair<IntentionExecutable,SNode> it){
      return intentionCondition.met(it.o1);
    }
  }
).toListSequence();
  if (ListSequence.fromList(matches).count() != 1) {
    throw new RuntimeException("Found " + ListSequence.fromList(matches).count() + " intentions matching "+ intentionCondition);
  }
  return ListSequence.fromList(matches).getElement(0);
}
