{
  final Component eventTargetComponent=getKeyEventTargetComponent(editorComponent);
  final Method processKeyEventMethod=getProcessKeyEventMethod(eventTargetComponent);
  final boolean[] eventsWerePassed=new boolean[]{true};
  SwingUtilities.invokeAndWait(new Runnable(){
    @Override public void run(){
      if (eventTargetComponent == null) {
        Sequence.fromIterable(events).visitAll(new IVisitor<KeyEvent>(){
          public void visit(          KeyEvent it){
            if (it.getID() == KeyEvent.KEY_TYPED) {
              editorComponent.processKeyTyped(it);
            }
 else             if (it.getID() == KeyEvent.KEY_PRESSED) {
              editorComponent.processKeyPressed(it);
            }
 else {
              editorComponent.processKeyReleased(it);
            }
          }
        }
);
      }
 else {
        for (        KeyEvent event : Sequence.fromIterable(events)) {
          try {
            processKeyEventMethod.invoke(eventTargetComponent,event);
          }
 catch (          InvocationTargetException e) {
            eventsWerePassed[0]=false;
          }
catch (          IllegalAccessException e) {
            eventsWerePassed[0]=false;
          }
        }
      }
    }
  }
);
  Assert.assertTrue("Keyboard events were not passed to corresponding component",eventsWerePassed[0]);
}
