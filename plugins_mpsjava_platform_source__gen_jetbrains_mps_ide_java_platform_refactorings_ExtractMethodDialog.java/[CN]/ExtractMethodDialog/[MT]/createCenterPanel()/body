{
  myPanel=new JPanel(new GridBagLayout());
  GridBagConstraints c=new GridBagConstraints();
  c.fill=GridBagConstraints.BOTH;
  c.anchor=GridBagConstraints.NORTHWEST;
  c.insets=new Insets(3,5,3,5);
  c.gridx=0;
  c.gridy=0;
  c.weightx=1;
  c.weighty=0;
  c.gridwidth=2;
  myPanel.add(createMethodPanel(),c);
  c.gridx=0;
  c.gridy=1;
  c.weightx=1;
  c.weighty=1;
  c.gridwidth=1;
  myPanel.add(createParametersPanel(),c);
  c.gridx=1;
  c.gridy=1;
  c.weightx=0;
  c.weighty=1;
  c.gridwidth=1;
  myVisibilityPanel=new VisibilityPanel();
  myVisibilityPanel.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      ExtractMethodDialog.this.myParameters.setVisibilityLevel(ExtractMethodDialog.this.myVisibilityPanel.getResult());
      ExtractMethodDialog.this.update();
    }
  }
);
  myPanel.add(myVisibilityPanel,c);
  c.gridx=0;
  c.gridy=2;
  c.weightx=1;
  c.weighty=0;
  c.gridwidth=2;
  myPanel.add(createPreviewPanel(),c);
  c.gridx=0;
  c.gridy=3;
  c.weightx=1;
  c.weighty=0;
  c.gridwidth=2;
  myChooseContainerPanel=new ExtractMethodDialog.ChooseContainerPanel();
  myChooseContainerPanel.setBorder(this.createBorder("Choose container"));
  myPanel.add(myChooseContainerPanel,c);
  c.gridx=0;
  c.gridy=4;
  c.weightx=1;
  c.weighty=0;
  c.gridwidth=2;
  myPanel.add(createMessagesComponent(),c);
  return myPanel;
}
