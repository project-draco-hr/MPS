{
  myProject=project;
  myDebugSession=session;
  myContainerModule=containerModule;
  updateState();
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      BaseSModelDescriptor descriptor=ProjectModels.createDescriptorFor(true);
      SModule containerModule=myContainerModule.resolve(myDebuggerRepository);
      SModelRepository.getInstance().registerModelDescriptor(descriptor,containerModule);
      myContainerModel=descriptor.getModelReference();
      myContext=new ModuleContext(containerModule,ProjectHelper.toMPSProject(myProject));
    }
  }
);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      ModelAccess.instance().runWriteActionInCommand(new Runnable(){
        public void run(){
          setUpNode(nodesToImport);
        }
      }
);
    }
  }
);
}
