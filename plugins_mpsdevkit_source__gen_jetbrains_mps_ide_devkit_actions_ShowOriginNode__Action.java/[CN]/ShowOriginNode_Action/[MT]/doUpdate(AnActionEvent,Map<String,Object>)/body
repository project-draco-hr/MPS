{
  if (SNodeOperations.getModel(event.getData(MPSCommonDataKeys.NODE)) instanceof TransientSModel) {
    SNodeReference originRef=TracingUtil.getInput(event.getData(MPSCommonDataKeys.NODE));
    SNode origin=(originRef == null ? null : originRef.resolve(event.getData(MPSCommonDataKeys.MPS_PROJECT).getRepository()));
    event.getPresentation().setVisible(true);
    event.getPresentation().setEnabled(origin != null);
  }
 else {
    disable(event.getPresentation());
  }
}
