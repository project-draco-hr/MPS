{
  SModel model=SNodeOperations.getModel(expression);
  if (model == null) {
    return;
  }
  SModule module=model.getModule();
  if (!(module instanceof Generator)) {
    return;
  }
  if ((SLinkOperations.getTarget(expression,"classConcept",false) != null)) {
    return;
  }
  boolean expressionInTemplate=ListSequence.fromList(SNodeOperations.getAncestors(expression,null,true)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return AttributeOperations.getAttribute(it,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.generator.structure.TemplateFragment")) != null;
    }
  }
).isNotEmpty() || (SNodeOperations.getAncestor(expression,"jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence",false,false) != null);
  boolean classifierInTemplate=ListSequence.fromList(SNodeOperations.getAncestors(SLinkOperations.getTarget(expression,"classConcept",false),null,true)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return AttributeOperations.getAttribute(it,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.generator.structure.TemplateFragment")) != null;
    }
  }
).isNotEmpty() || (SNodeOperations.getAncestor(SLinkOperations.getTarget(expression,"classConcept",false),"jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence",false,false) != null);
  if (expressionInTemplate && !(classifierInTemplate)) {
{
      MessageTarget errorTarget=new NodeMessageTarget();
      IErrorReporter _reporter_2309309498=typeCheckingContext.reportWarning(expression,"Classifier is not specified for ThisExpression that is not within the same template with corresponding classifier. This may lead to incorrect code generated in some cases.","r:00000000-0000-4000-0000-011c895902c5(jetbrains.mps.baseLanguage.typesystem)","6495695326613151358",null,errorTarget);
    }
  }
}
