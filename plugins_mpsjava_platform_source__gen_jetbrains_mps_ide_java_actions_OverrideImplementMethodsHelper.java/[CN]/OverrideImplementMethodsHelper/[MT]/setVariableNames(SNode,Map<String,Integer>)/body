{
  if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.baseLanguage.structure.VariableDeclaration")) {
    SNode variable=SNodeOperations.cast(node,"jetbrains.mps.baseLanguage.structure.VariableDeclaration");
    SNode nodeType=SLinkOperations.getTarget(variable,"type",true);
    if (nodeType != null) {
      String name=ListSequence.fromList(BehaviorReflection.invokeVirtual((Class<List<String>>)((Class)Object.class),nodeType,"virtual_getVariableSuffixes_1213877337304",new Object[]{})).first();
      if (IdentifierConstraintsUtil.isJavaReserved(name)) {
        name="a" + NameUtil.capitalize(NameUtil.toValidIdentifier(name));
      }
      if (MapSequence.fromMap(usedNames).containsKey(name)) {
        int i=MapSequence.fromMap(usedNames).get(name);
        i=i + 1;
        MapSequence.fromMap(usedNames).put(name,i);
        name=name + i;
      }
 else {
        MapSequence.fromMap(usedNames).put(name,0);
      }
      String prefix=BehaviorReflection.invokeVirtual(String.class,variable,"virtual_getPrefix_3012473318495495520",new Object[]{myProject});
      String suffix=BehaviorReflection.invokeVirtual(String.class,variable,"virtual_getSuffix_3012473318495499856",new Object[]{myProject});
      String mainName=((prefix == null || prefix.length() == 0) ? name : NameUtil.capitalize(name));
      SPropertyOperations.set(variable,"name",prefix + mainName + suffix);
    }
  }
  for (  SNode child : SNodeOperations.getChildren(node)) {
    setVariableNames(child,usedNames);
  }
}
