{
  Iterable<SModel> seq=Sequence.fromIterable(((Iterable<SModelDescriptor>)SModelRepository.getInstance().getModelDescriptors())).where(new IWhereFilter<SModelDescriptor>(){
    public boolean accept(    SModelDescriptor md){
      return SModelStereotype.isUserModel(md);
    }
  }
).where(new IWhereFilter<SModelDescriptor>(){
    public boolean accept(    SModelDescriptor md){
      return LanguageAspect.STRUCTURE.is(md);
    }
  }
).select(new ISelector<SModelDescriptor,SModel>(){
    public SModel select(    SModelDescriptor it){
      return it.getSModel();
    }
  }
);
  for (  SModel model : Sequence.fromIterable(seq)) {
    for (    SNode cd : ListSequence.fromList(SModelOperations.getRoots(model,"jetbrains.mps.lang.structure.structure.ConceptDeclaration"))) {
      SNode c=cd;
      if (ListSequence.fromList(SConceptOperations.getConceptHierarchy(c)).contains(node)) {
        SPropertyOperations.set(cd,"incomingRefs","forbidden");
      }
    }
  }
}
