{
  myLanguageDescriptor=newDescriptor;
  ModuleReference reference=new ModuleReference(myLanguageDescriptor.getNamespace(),myLanguageDescriptor.getId());
  setModuleReference(reference);
  reloadAfterDescriptorChange();
  MPSModuleRepository.getInstance().fireModuleChanged(this);
  if (reloadClasses) {
    ClassLoaderManager.getInstance().reloadAll(new EmptyProgressMonitor());
  }
  MPSModuleRepository.getInstance().invalidateCaches();
  if (getStructureModelDescriptor() != null && myCachesInvalidator == null) {
    getStructureModelDescriptor().addModelListener(myCachesInvalidator=new CachesInvalidator());
  }
}
