{
  return ModelAccess.instance().runWriteActionInCommand(new Computable<ModuleDescriptor>(){
    public ModuleDescriptor compute(){
      LanguageDescriptor ld=getLanguageDescriptor();
      if (ld == null)       return null;
      for (      LanguageReference r : ld.getExtendedLanguages()) {
        if (oldLanguageNamespace.equals(r.getName())) {
          ld.removeChild(r);
        }
      }
      LanguageReference ref=LanguageReference.newInstance(ld.getModel());
      ref.setName(newLanguageNamespace);
      ld.addExtendedLanguage(ref);
      if (setModuleDescriptor) {
        setModuleDescriptor(ld);
        save();
      }
      return ld;
    }
  }
);
}
