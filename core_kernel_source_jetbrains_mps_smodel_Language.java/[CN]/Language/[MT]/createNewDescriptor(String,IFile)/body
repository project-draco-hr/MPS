{
  LanguageDescriptor languageDescriptor=new LanguageDescriptor();
  languageDescriptor.setNamespace(languageNamespace);
  languageDescriptor.setId(ModuleId.regular());
  IFile languageModels=descriptorFile.getParent().getDescendant(LANGUAGE_MODELS);
  if (languageModels.exists()) {
    throw new IllegalStateException("Trying to create a language in an existing language's directory");
  }
  jetbrains.mps.project.structure.model.ModelRoot modelRoot=new jetbrains.mps.project.structure.model.ModelRoot();
  modelRoot.setPath(languageModels.getPath());
  languageDescriptor.getModelRoots().add(modelRoot);
  return languageDescriptor;
}
