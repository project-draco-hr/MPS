{
  List<T> result=ListSequence.fromList(new ArrayList<T>());
  Queue<SNode> editorComponents=QueueSequence.fromQueue(new LinkedList<SNode>());
  QueueSequence.fromQueue(editorComponents).addLastElement(getEditorDeclaration());
  while (QueueSequence.fromQueue(editorComponents).isNotEmpty()) {
    SNode nextComponent=QueueSequence.fromQueue(editorComponents).removeFirstElement();
    for (    SNode nextCell : ListSequence.fromList(SNodeOperations.getNodeDescendants(SLinkOperations.getTarget(nextComponent,MetaAdapterFactory.getContainmentLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xfba0eb7c50L,0xfba0ec5415L,"cellModel")),MetaAdapterFactory.getConcept(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xf9eafb9a39L,"jetbrains.mps.lang.editor.structure.EditorCellModel"),true,new SAbstractConcept[]{}))) {
      T value=valueCalculator.invoke(nextCell);
      if (value != null) {
        ListSequence.fromList(result).addElement(value);
      }
    }
    QueueSequence.fromQueue(editorComponents).addSequence(ListSequence.fromList(SNodeOperations.getNodeDescendants(SLinkOperations.getTarget(nextComponent,MetaAdapterFactory.getContainmentLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xfba0eb7c50L,0xfba0ec5415L,"cellModel")),MetaAdapterFactory.getConcept(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xfb35c96896L,"jetbrains.mps.lang.editor.structure.CellModel_Component"),true,new SAbstractConcept[]{})).select(new ISelector<SNode,SNode>(){
      public SNode select(      SNode it){
        return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(0x18bc659203a64e29L,0xa83a7ff23bde13baL,0xfb35c96896L,0xfb35c96897L,"editorComponent"));
      }
    }
));
  }
  return result;
}
