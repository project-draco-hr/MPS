{
  if (getSNode() == null || !isBigCell())   return false;
  if (ModelAccess.instance().runReadAction(new Computable<Boolean>(){
    public Boolean compute(){
      return getSNode().isRoot();
    }
  }
))   return false;
  if (!UIUtil.isReallyTypedEvent(e))   return false;
  getEditorContext().executeCommand(new Runnable(){
    public void run(){
      EditorComponent editor=getEditorContext().getNodeEditorComponent();
      SNode oldNode=getSNode();
      SNode newNode=replaceWithDefault();
      if (newNode == null) {
        EditorCell_Label editable=findChild(CellFinders.FIRST_EDITABLE);
        if (editable != null) {
          editor.changeSelection(editable);
          editor.processKeyTyped(e);
        }
        return;
      }
      newNode.putUserObject(EditorManager.OLD_NODE_FOR_SUBSTITUTION,oldNode);
      EditorCell nodeCell=editor.findNodeCell(newNode);
      if (nodeCell == null)       return;
      EditorCell_Label editable=nodeCell.findChild(CellFinders.FIRST_EDITABLE);
      if (editable != null) {
        editor.changeSelection(editable);
        editor.processKeyTyped(e);
      }
 else {
        editor.changeSelection(nodeCell);
        editor.processKeyTyped(e);
      }
    }
  }
);
  return true;
}
