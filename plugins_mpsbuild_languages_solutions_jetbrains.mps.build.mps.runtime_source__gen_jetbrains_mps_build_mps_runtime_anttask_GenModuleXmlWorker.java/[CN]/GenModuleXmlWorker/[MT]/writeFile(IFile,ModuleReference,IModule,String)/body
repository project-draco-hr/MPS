{
  try {
    PrintWriter wr=new PrintWriter(new PrintStream(file.openOutputStream()));
    wr.println("<module namespace=\"" + moduleRef.getModuleFqName() + "\" uuid=\""+ moduleRef.getModuleId()+ "\" type=\""+ ((module instanceof Solution ? "solution" : (module instanceof Language ? "language" : "unknown")))+ "\">");
    wr.println(INDENT_WITH + "<dependencies>");
    Collection<IModule> dependencies=getDepenencies(module);
    if (dependencies == null) {
      error("module " + moduleRef + " was not found in repository");
      return;
    }
    for (    IModule m : dependencies) {
      wr.println(INDENT_WITH + INDENT_WITH + "<module ref=\""+ m.getModuleReference().toString()+ "\" />");
    }
    wr.println(INDENT_WITH + "</dependencies>");
    wr.println(extraText);
    wr.println("</module>");
    wr.close();
  }
 catch (  IOException e) {
    error("Error writing to " + file.getPath());
  }
}
