{
  try {
    PrintWriter wr=new PrintWriter(new PrintStream(file.openOutputStream()));
    wr.println("<module namespace=\"" + moduleRef.getModuleFqName() + "\" uuid=\""+ moduleRef.getModuleId()+ "\" type=\""+ ((module instanceof Solution ? "solution" : (module instanceof Language ? "language" : "unknown")))+ "\">");
    wr.println("<dependencies>");
    Collection<IModule> dependencies=getDepenencies(module);
    if (dependencies == null) {
      System.out.println("module " + moduleRef + " was not found in repository");
      return;
    }
    for (    IModule m : dependencies) {
      wr.println("<module ref=\"" + m.getModuleReference().toString() + "\" />");
    }
    wr.println("</dependencies>");
    StringBuilder sb=new StringBuilder();
    for (    String line : extraText) {
      sb.append(line).append("\n");
    }
    wr.println(sb.toString());
    wr.println("</module>");
    wr.close();
  }
 catch (  IOException e) {
    error("Error writing to " + file.getPath());
  }
}
