{
  if (SNodeOperations.getParent(expr) == null) {
    return;
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(expr),"jetbrains.mps.query.structure.MqlBinaryExpr")) {
    SNode parent=SNodeOperations.cast(SNodeOperations.getParent(expr),"jetbrains.mps.query.structure.MqlBinaryExpr");
    if (needsRotate(parent,expr)) {
      rotate(parent,expr);
      checkOperationParentWRTPriority(expr);
    }
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(expr),"jetbrains.mps.query.structure.MqlUnary")) {
    SNode parent=SNodeOperations.cast(SNodeOperations.getParent(expr),"jetbrains.mps.query.structure.MqlUnary");
    SLinkOperations.setTarget(parent,"expr",SLinkOperations.getTarget(expr,"left",true),true);
    SNodeOperations.replaceWithAnother(parent,expr);
    SLinkOperations.setTarget(expr,"left",parent,true);
  }
}
