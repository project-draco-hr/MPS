{
  return new Iterable<SNode>(){
    @Override public Iterator<SNode> iterator(){
      return new Iterator<SNode>(){
        SNode previous;
        TemplateContext current;
{
          current=TemplateContext.this;
          while (current != null && current.inputNode == null) {
            current=current.parent;
          }
          previous=current != null ? current.inputNode : null;
        }
        @Override public boolean hasNext(){
          skipOdd();
          return current != null;
        }
        @Override public SNode next(){
          skipOdd();
          if (current != null) {
            previous=current.inputNode;
            current=current.parent;
            return previous;
          }
          return null;
        }
        private void skipOdd(){
          while (current != null && (current.inputNode == null || current.inputNode == previous)) {
            current=current.parent;
          }
        }
        @Override public void remove(){
          throw new UnsupportedOperationException();
        }
      }
;
    }
  }
;
}
