{
  char c=currentChar();
  Long token=null;
  if (Character.isDigit(c)) {
    token=readToken();
    c=currentChar();
  }
  myOffset++;
  if (c == '*' || c == '+' || c == '=') {
    String asyncClass=readClass();
    RecordValue value=readResultList();
    readEOL();
    AsyncAnswer asyncAnswer=new AsyncAnswer(c,asyncClass,value);
    asyncAnswer.setDigitalToken(token);
    return asyncAnswer;
  }
 else   if (c == '~' || c == '@' || c == '&') {
    StringValue value=readString();
    readEOL();
    return new StreamAnswer(c,value.getString());
  }
 else   if (c == '^') {
    String resultClass=readClass();
    RecordValue value=readResultList();
    readEOL();
    ResultAnswer resultAnswer=new ResultAnswer(c,resultClass,value);
    resultAnswer.setDigitalToken(token);
    return resultAnswer;
  }
 else {
    error("");
    return null;
  }
}
