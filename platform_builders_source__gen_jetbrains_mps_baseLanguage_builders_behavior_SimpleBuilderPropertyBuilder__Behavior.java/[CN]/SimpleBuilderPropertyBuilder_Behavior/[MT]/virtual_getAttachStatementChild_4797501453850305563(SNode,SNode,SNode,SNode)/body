{
  SNode result=SNodeOperations.copyNode(SLinkOperations.getTarget(SLinkOperations.getTarget(thisNode,"declaration",false),"set",true));
  for (  SNode p : SNodeOperations.getDescendants(result,"jetbrains.mps.baseLanguage.builders.structure.SimpleBuilderPropertyParent",false,new String[]{})) {
    SNodeOperations.replaceWithAnother(p,SNodeOperations.copyNode(parentRef));
  }
  for (  SNode v : SNodeOperations.getDescendants(result,"jetbrains.mps.baseLanguage.builders.structure.SimpleBuilderPropertyValue",false,new String[]{})) {
    SNodeOperations.replaceWithAnother(v,SNodeOperations.copyNode(childRef));
  }
  return result;
}
