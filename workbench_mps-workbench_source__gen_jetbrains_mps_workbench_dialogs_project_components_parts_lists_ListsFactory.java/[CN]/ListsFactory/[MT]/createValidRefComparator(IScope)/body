{
  return new ListsFactory.ListComparator<SModelReference>(){
    @Override public int compare(    SModelReference o1,    SModelReference o2){
      int result=0;
      if (scope != null) {
        result=StateUtil.compare(o1,o2,scope);
      }
      if (result != 0) {
        return result;
      }
      return ListsFactory.MODEL_REF_COMPARATOR.compare(o1,o2);
    }
    @Override public boolean isEqual(    SModelReference o1,    SModelReference o2){
      return ListsFactory.MODEL_REF_COMPARATOR.isEqual(o1,o2);
    }
  }
;
}
