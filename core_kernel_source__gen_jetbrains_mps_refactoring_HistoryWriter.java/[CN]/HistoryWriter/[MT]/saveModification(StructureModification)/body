{
  myHelper=new WriteHelper(null);
  final Element elem=new Element(MODIFICATION_ELEMENT);
  Element dependencies=new Element(DEPENDENCIES);
  elem.addContent(dependencies);
  for (  IMapping<SModelReference,Integer> dependency : MapSequence.fromMap(modification.getDependencies())) {
    myHelper.addModelReference(dependency.key());
    Element model=new Element(DEPEND_MODEL);
    model.setAttribute(MODEL_INDEX,myHelper.getImportIndex(dependency.key()));
    model.setAttribute(MODEL_UID,dependency.key().toString());
    model.setAttribute(MODEL_VERSION,Integer.toString(dependency.value()));
    dependencies.addContent(model);
  }
  ListSequence.fromList(modification.getData()).visitAll(new IVisitor<StructureModification.Entry>(){
    public void visit(    StructureModification.Entry it){
      elem.addContent(saveData(it));
    }
  }
);
  return elem;
}
