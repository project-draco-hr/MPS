{
  myHierarchyTree.myHierarchyNode=node;
  final jetbrains.mps.project.Project mpsProject=ProjectHelper.toMPSProject(getProject());
  if (mpsProject == null) {
    return;
  }
  mpsProject.getModelAccess().runReadInEDT(new Runnable(){
    @Override public void run(){
      Project project=getProject();
      if (project == null || project.isDisposed()) {
        return;
      }
      myHierarchyTree.rebuildNow();
      if (myTreeNode != null) {
        myHierarchyTree.selectNode(myTreeNode);
      }
      if (!(isTreeInfinite())) {
        myHierarchyTree.expandAll();
      }
    }
  }
);
}
