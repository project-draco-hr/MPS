{
  FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.goto.model");
  final MPSProject mpsProject=((MPSProject)MapSequence.fromMap(_params).get("project"));
  Condition<SModel> filter=new Condition<SModel>(){
    public boolean met(    SModel m){
      return SModelStereotype.isUserModel(m) || SModelStereotype.isStubModel(m);
    }
  }
;
  ConditionalScope localScope=new ConditionalScope(mpsProject.getScope(),null,filter);
  ConditionalScope globalScope=new ConditionalScope(new FilteredGlobalScope(),null,filter);
  SRepository repo=mpsProject.getRepository();
  ChooseByNameData<SModelReference> gotoData=new ChooseByNameData<SModelReference>(new ModelsPresentation(repo));
  gotoData.derivePrompts("model").setScope(new ModelScopeIterable(localScope,repo),new ModelScopeIterable(globalScope,repo));
  ChooseByNamePopup popup=MpsPopupFactory.createPackagePopup(mpsProject.getProject(),gotoData,GoToModel_Action.this);
  popup.setShowListForEmptyPattern(true);
  popup.invoke(new ChooseByNamePopupComponent.Callback(){
    public void elementChosen(    Object p0){
      if (p0 instanceof SModelReference) {
        new ProjectPaneNavigator(mpsProject).shallFocus(true).select((SModelReference)p0);
      }
    }
  }
,ModalityState.current(),false);
}
