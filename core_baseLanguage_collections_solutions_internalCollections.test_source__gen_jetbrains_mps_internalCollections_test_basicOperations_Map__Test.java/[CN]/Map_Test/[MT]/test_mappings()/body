{
  Map<Integer,String> test=MapSequence.<Integer,String>fromMapAndKeysArray(new HashMap<Integer,String>(),1,2,3).withValues("a","b","c");
  List<Integer> nums=ListSequence.<Integer>fromListAndArray(new ArrayList<Integer>(),1,2,3);
  Set<IMapping<Integer,String>> ms=MapSequence.fromMap(test).mappingsSet();
  Assert.assertSame(3,SetSequence.<IMapping<Integer,String>>fromSet(ms).count());
  Iterator<IMapping<Integer,String>> itr=SetSequence.<IMapping<Integer,String>>fromSet(ms).iterator();
  Assert.assertTrue(itr.hasNext());
  while (itr.hasNext()) {
    IMapping<Integer,String> m=itr.next();
    int key=m.key();
    Assert.assertTrue(ListSequence.<Integer>fromList(nums).contains(key));
    ListSequence.<Integer>fromList(nums).removeElement(key);
    String val=m.value();
    Assert.assertEquals(MapSequence.<Integer,String>fromMap(test).get(key),val);
    itr.remove();
    Assert.assertFalse(MapSequence.fromMap(test).containsKey(key));
    Assert.assertFalse(MapSequence.fromMap(test).containsValue(val));
  }
  Assert.assertTrue(SetSequence.<Integer>fromSet(MapSequence.fromMap(test).keySet()).isEmpty());
  Assert.assertTrue(ListSequence.<Integer>fromList(nums).isEmpty());
}
