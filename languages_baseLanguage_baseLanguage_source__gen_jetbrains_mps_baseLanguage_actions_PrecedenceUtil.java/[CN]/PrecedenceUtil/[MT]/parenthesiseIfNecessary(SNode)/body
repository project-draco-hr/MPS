{
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(contextNode),"jetbrains.mps.baseLanguage.structure.BinaryOperation")) {
    SNode parentBinaryOperation=SNodeOperations.cast(SNodeOperations.getParent(contextNode),"jetbrains.mps.baseLanguage.structure.BinaryOperation");
    if (SNodeOperations.getContainingLinkDeclaration(contextNode) == SLinkOperations.findLinkDeclaration("jetbrains.mps.baseLanguage.structure.BinaryOperation","rightExpression") && isHigherPriority(parentBinaryOperation,contextNode)) {
      SNode result=SNodeFactoryOperations.replaceWithNewChild(contextNode,"jetbrains.mps.baseLanguage.structure.ParenthesizedExpression");
      SLinkOperations.setTarget(result,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1079359253375l,1079359253376l,"expression"),contextNode);
      return result;
    }
  }
 else   if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(contextNode),"jetbrains.mps.baseLanguage.structure.CastExpression")) {
    SNode parentCastExpression=SNodeOperations.cast(SNodeOperations.getParent(contextNode),"jetbrains.mps.baseLanguage.structure.CastExpression");
    if (PrecedenceUtil.needsParensAroundCastExpression(parentCastExpression)) {
      SNode result=SNodeFactoryOperations.replaceWithNewChild(contextNode,"jetbrains.mps.baseLanguage.structure.ParenthesizedExpression");
      SLinkOperations.setTarget(result,MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1079359253375l,1079359253376l,"expression"),contextNode);
      return result;
    }
  }
  return contextNode;
}
