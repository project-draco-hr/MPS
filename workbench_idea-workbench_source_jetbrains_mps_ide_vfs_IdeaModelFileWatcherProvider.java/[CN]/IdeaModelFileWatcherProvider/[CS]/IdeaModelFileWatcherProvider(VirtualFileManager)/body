{
  VirtualFileManager.getInstance().addVirtualFileListener(new VirtualFileAdapter(){
    public void contentsChanged(    VirtualFileEvent event){
      VirtualFile file=event.getFile();
      while (file != null) {
        invalidate(file.getPath());
        file=file.getParent();
      }
    }
    public void fileDeleted(    VirtualFileEvent event){
      VirtualFile file=event.getFile();
      while (file != null) {
        invalidate(file.getPath());
        file=file.getParent();
      }
    }
  }
);
}
