{
  SNode templateNode=ruleNode.getReferent(Root_MappingRule.TEMPLATE);
  if (templateNode != null) {
    SNode labelDeclaration=ruleNode.getReferent(Root_MappingRule.LABEL_DECLARATION);
    String ruleMappingName=labelDeclaration != null ? labelDeclaration.getProperty(MappingLabelDeclaration.NAME) : null;
    return new TemplateProcessor(environment.getGenerator(),environment.getReductionContext()).processTemplateNode(ruleMappingName,templateNode,context);
  }
 else {
    environment.getGenerator().showErrorMessage(context.getInput(),null,ruleNode,"no template is defined for the rule");
  }
  return null;
}
