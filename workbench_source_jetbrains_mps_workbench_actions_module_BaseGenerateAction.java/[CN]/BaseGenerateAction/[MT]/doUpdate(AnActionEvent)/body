{
  for (  IModule module : myModules) {
    if ((!(module instanceof Solution)) && (!(module instanceof Language)) && (!(module instanceof Generator))) {
      disable(e.getPresentation());
      return;
    }
  }
  enable(e.getPresentation());
  TreeNode treeNode=MPSDataKeys.LOGICAL_VIEW_NODE.getData(e.getDataContext());
  String obj=null;
  if (treeNode instanceof ProjectTreeNode) {
    obj="Project";
  }
 else {
    obj=myModules.size() == 1 ? NameUtil.shortNameFromLongName(myModules.iterator().next().getClass().getName()) : "Modules";
  }
  String newText=(myRegenerate ? "Regenerate" : "Generate") + " " + obj;
  e.getPresentation().setText(newText);
}
