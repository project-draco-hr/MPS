{
  EditorCell result=createCell_internal(myEditorContext);
  if (result.getRole() == null && ((jetbrains.mps.nodeEditor.cells.EditorCell)result).getLinkDeclaration() == null) {
    result.setRole(myGenuineRole);
    if (myGenuineLinkDeclaration != null) {
      ((jetbrains.mps.nodeEditor.cells.EditorCell)result).setLinkDeclaration(myGenuineLinkDeclaration);
    }
 else {
      LOG.error("Can't find link declaration " + myGenuineRole);
    }
  }
  return result;
}
