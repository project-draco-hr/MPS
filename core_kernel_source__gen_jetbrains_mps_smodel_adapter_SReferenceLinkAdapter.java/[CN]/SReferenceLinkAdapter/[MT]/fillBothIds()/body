{
  if (myRoleId != null && role != null) {
    return;
  }
  if (myRoleId == null) {
    SNode concept=SModelUtil.findConceptDeclaration(conceptName);
    SConceptId cid=IdHelper.getConceptId((jetbrains.mps.smodel.SNode)concept);
    final ConceptAndSuperConceptsScope scope=new ConceptAndSuperConceptsScope(concept);
    SNode linkNode=scope.getLinkDeclarationByRole(role);
    myRoleId=new SReferenceLinkId(cid,IdHelper.getNodeId((jetbrains.mps.smodel.SNode)linkNode));
  }
 else {
    SAbstractConceptAdapter adapter=new SAbstractConceptAdapter(myRoleId.getConceptId());
    conceptName=adapter.getQualifiedName();
    SModel model=adapter.getConceptDeclarationNode().getModel();
    role=model.getNode(new SNodeId.Regular(myRoleId.getReferenceLinkId())).getProperty("role");
  }
}
