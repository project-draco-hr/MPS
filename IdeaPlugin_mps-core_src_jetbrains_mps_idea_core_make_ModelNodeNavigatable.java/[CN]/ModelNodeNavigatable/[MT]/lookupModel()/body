{
  ModelAccess.assertLegalRead();
  SModel model=null;
  if (module != null) {
    MPSFacet facet=FacetManager.getInstance(module).getFacetByType(MPSFacetType.ID);
    SModelRepository smrepo=SModelRepository.getInstance();
    for (    SModel smd : smrepo.getModelDescriptors(facet.getSolution())) {
      if (smd.getSModelReference().getLongName().equals(modelName)) {
        model=smd.getSModel();
      }
    }
  }
 else {
    model=SModelRepository.getInstance().getModelDescriptor(SModelFqName.fromString(modelName)).getSModel();
  }
  return model;
}
