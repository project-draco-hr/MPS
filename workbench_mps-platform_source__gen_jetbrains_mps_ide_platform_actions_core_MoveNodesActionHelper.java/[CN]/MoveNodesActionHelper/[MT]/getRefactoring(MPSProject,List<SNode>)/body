{
  Iterable<MoveNodesAction> specialRefactorings=new ExtensionPoint<MoveNodesAction>("jetbrains.mps.ide.platform.MoveNodesAction").getObjects();
  Iterable<MoveNodesAction> applicableRefactorings=Sequence.fromIterable(specialRefactorings).where(new IWhereFilter<MoveNodesAction>(){
    public boolean accept(    MoveNodesAction it){
      return it.isApplicable(project,nodesToMove);
    }
  }
);
  if (Sequence.fromIterable(applicableRefactorings).isEmpty()) {
    return new MoveNodesActionBase();
  }
 else {
    if (Sequence.fromIterable(applicableRefactorings).count() > 1) {
      if (LOG.isEnabledFor(Level.ERROR)) {
        LOG.error("More than one MoveNodes refactoring applicable: " + Sequence.fromIterable(applicableRefactorings).select(new ISelector<MoveNodesAction,String>(){
          public String select(          MoveNodesAction it){
            return "\"" + it.getName() + "\"";
          }
        }
).foldLeft("",new ILeftCombinator<String,String>(){
          public String combine(          String s,          String it){
            return s + ", " + it;
          }
        }
));
      }
    }
    return Sequence.fromIterable(applicableRefactorings).first();
  }
}
