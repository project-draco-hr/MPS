{
  if (!(dataSource instanceof StreamDataSource)) {
    throw new UnsupportedDataSourceException(dataSource);
  }
  StreamDataSource source=(StreamDataSource)dataSource;
  try {
    DefaultSModel model=ModelPersistence.readModel(source,false);
    ModelPersistence.saveModel(model,source,ModelPersistence.LAST_VERSION);
  }
 catch (  ModelReadException ex) {
    throw new IOException(ex.getMessage(),ex);
  }
}
