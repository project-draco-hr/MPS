{
  if (!(dataSource instanceof StreamDataSource)) {
    throw new UnsupportedDataSourceException(dataSource);
  }
  StreamDataSource source=(StreamDataSource)dataSource;
  SModelHeader header;
  try {
    header=ModelPersistence.loadDescriptor(source);
  }
 catch (  ModelReadException ignored) {
    LOG.error("Can't read model: ",ignored);
    throw new IOException("Can't read model: ",ignored);
  }
  LOG.debug("Getting model " + header.getModelReference() + " from "+ dataSource.getLocation());
  return new DefaultSModelDescriptor(source,header);
}
