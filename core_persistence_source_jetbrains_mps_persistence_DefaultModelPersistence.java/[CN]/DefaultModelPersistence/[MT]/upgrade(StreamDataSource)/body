{
  if (!(dataSource instanceof FileDataSource)) {
    throw new IOException("cannot upgrade `" + dataSource.getLocation() + "', file is expected");
  }
  FileDataSource source=(FileDataSource)dataSource;
  IFile file=source.getFile();
  try {
    DefaultSModel model=ModelPersistence.readModel(file,false);
    ModelPersistence.saveModel(model,file,ModelPersistence.LAST_VERSION);
  }
 catch (  ModelReadException ex) {
    throw new IOException(ex.getMessage(),ex);
  }
}
