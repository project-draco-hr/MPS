{
synchronized (myLock) {
    myEditors.clear();
    myCurrentEditor=null;
    FileEditorManager fileEditorManager=FileEditorManager.getInstance(myProject);
    for (    FileEditor fileEditor : fileEditorManager.getAllEditors()) {
      if (fileEditor instanceof MPSFileNodeEditor) {
        MPSFileNodeEditor mpsFileNodeEditor=(MPSFileNodeEditor)fileEditor;
        IEditor nodeEditor=mpsFileNodeEditor.getNodeEditor();
        if (nodeEditor != null) {
          myEditors.add(mpsFileNodeEditor);
        }
      }
    }
    FileEditor[] selectedEditors=fileEditorManager.getSelectedEditors();
    if (selectedEditors.length > 0) {
      FileEditor fileEditor=selectedEditors[0];
      if (fileEditor instanceof MPSFileNodeEditor) {
        MPSFileNodeEditor mpsFileNodeEditor=(MPSFileNodeEditor)fileEditor;
        myCurrentEditor=mpsFileNodeEditor;
      }
    }
  }
}
