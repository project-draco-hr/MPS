{
  Program p=new SimpleProgramBuilder().emitIfJump(3).emitWrite("x",NullableVariableState.NULL).emitJump(4).emitWrite("x",NullableVariableState.UNKNOWN).emitNop().buildProgram();
  AnalysisResult<Map<String,NullableVariableState>> result=p.analyze(new NullableAnalyzer<String>());
  Assert.assertEquals(NullableVariableState.NOT_INIT,result.get(p.get(0)).get("x"));
  Assert.assertEquals(NullableVariableState.NULL,result.get(p.get(1)).get("x"));
  Assert.assertEquals(NullableVariableState.NULL,result.get(p.get(2)).get("x"));
  Assert.assertEquals(NullableVariableState.UNKNOWN,result.get(p.get(3)).get("x"));
  Assert.assertEquals(NullableVariableState.NULLABLE,result.get(p.get(4)).get("x"));
}
