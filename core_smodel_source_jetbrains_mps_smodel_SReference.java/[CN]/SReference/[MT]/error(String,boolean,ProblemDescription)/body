{
  if (!ourLoggingOff.get()) {
    SModel model=getSourceNode().getModel();
    if (model != null && SModelStereotype.isStubModel(model)) {
      return;
    }
synchronized (ourErrorReportedRefs) {
      if (!ourErrorReportedRefs.contains(this)) {
        ourErrorReportedRefs.add(this);
        String msg=String.format("Could not resolve reference '%s' from %s.",getRole(),getSourceNode());
        msg+="\n" + getSourceNode().getReference();
        if (message != null) {
          msg+="\n" + " -- " + message;
        }
        Logger log=Logger.wrap(LogManager.getLogger(this.getClass()));
        if (onlyWarn)         log.warning(msg);
 else         log.error(msg);
        if (problems != null) {
          for (          ProblemDescription pd : problems) {
            if (onlyWarn)             log.warning(pd.getMessage(),pd.getNode());
 else             log.error(pd.getMessage(),pd.getNode());
          }
        }
      }
    }
  }
}
