{
  final MergeModelsDialog.ModelTreeNode modelNode=new MergeModelsDialog.ModelTreeNode();
  SetSequence.fromSet(myMergeContext.getAffectedRoots()).<MergeModelsDialog.RootTreeNode>select(new ISelector<SNodeId,MergeModelsDialog.RootTreeNode>(){
    public MergeModelsDialog.RootTreeNode select(    SNodeId r){
      return new MergeModelsDialog.RootTreeNode(r);
    }
  }
).sort(new ISelector<MergeModelsDialog.RootTreeNode,Comparable<?>>(){
    public Comparable<?> select(    MergeModelsDialog.RootTreeNode rtn){
      return rtn.myPresentations;
    }
  }
,true).visitAll(new IVisitor<MergeModelsDialog.RootTreeNode>(){
    public void visit(    MergeModelsDialog.RootTreeNode rtn){
      modelNode.add(rtn);
    }
  }
);
  return modelNode;
}
