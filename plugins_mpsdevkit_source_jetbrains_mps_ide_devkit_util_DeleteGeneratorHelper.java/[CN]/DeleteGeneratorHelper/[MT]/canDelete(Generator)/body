{
  if (mySafeDelete) {
    final SModuleReference generatorModule=generator.getModuleReference();
    List<Generator> dependant=new ArrayList<Generator>();
    for (    Generator gen : ModuleRepositoryFacade.getInstance().getAllModules(Generator.class)) {
      if (gen.getReferencedGeneratorUIDs().contains(generatorModule)) {
        dependant.add(gen);
      }
    }
    if (!dependant.isEmpty()) {
      final StringBuilder report=new StringBuilder();
      report.append("Can't delete generator ").append(generator.getModuleName()).append(".\n");
      report.append("The following generators depend on it:\n\n");
      for (      Generator gen : dependant) {
        report.append(gen.getModuleName()).append("\n");
      }
      return new Status.ERROR(report.toString());
    }
  }
  return new Status.OK();
}
