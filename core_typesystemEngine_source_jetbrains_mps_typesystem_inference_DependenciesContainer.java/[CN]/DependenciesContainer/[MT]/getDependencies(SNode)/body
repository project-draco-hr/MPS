{
  if (node == null)   return new HashSet<SNode>();
  Set<IDependency_Runtime> dependencies;
synchronized (RulesManager.RULES_LOCK) {
    SNode conceptDeclaration=node.getConceptDeclarationNode();
    dependencies=get(conceptDeclaration);
  }
  Set<SNode> result=new HashSet<SNode>();
  for (  IDependency_Runtime dependency_runtime : dependencies) {
    Set<SNode> sourceNodes=dependency_runtime.getSourceNodes(node);
    for (    SNode sourceNode : sourceNodes) {
      if (sourceNode == null)       continue;
      if (SModelUtil.isAssignableConcept(sourceNode.getConceptFqName(),dependency_runtime.getSourceConceptFQName())) {
        result.add(sourceNode);
      }
    }
  }
  return result;
}
