{
  final ConsoleTool.MyState result=new ConsoleTool.MyState();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      try {
        result.state=(myModel == null ? null : PersistenceUtil.saveModel(myModel,MPSExtentions.MODEL));
      }
 catch (      Exception e) {
        if (LOG.isEnabledFor(Priority.WARN)) {
          LOG.warn("Error on console model saving",e);
        }
      }
    }
  }
);
  return (result.state == null ? null : result);
}
