{
  jetbrains.mps.project.Project project=ProjectHelper.toMPSProject(getProject());
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      if (myModel == null) {
        if (LOG.isEnabledFor(Priority.ERROR)) {
          LOG.error("Error on loading history: model does not exist");
        }
        return;
      }
      loadHistory();
      ConsoleTool.this.myEditor=new UIEditorComponent(ProjectHelper.toMPSProject(getProject()).getRepository(),null){
        @Nullable @Override public Object getData(        @NonNls String key){
          if (PlatformDataKeys.FILE_EDITOR.is(key)) {
            return myFileEditor;
          }
          if (PlatformDataKeys.PASTE_PROVIDER.is(key)) {
            return new ConsoleTool.MyPasteProvider((PasteProvider)super.getData(key));
          }
          return super.getData(key);
        }
      }
;
      myFileEditor=new ConsoleFileEditor(myEditor);
      addBuiltInImports();
      myEditor.editNode(myRoot);
    }
  }
);
  myMainComponent=new JPanel();
  myMainComponent.setLayout(new BorderLayout());
  myMainComponent.add(initToolbarComponent(project),BorderLayout.WEST);
  JPanel editorPanel=new JPanel(new BorderLayout());
  editorPanel.add(myEditor);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(editorPanel);
  scrollPane.getVerticalScrollBar().setBlockIncrement(10);
  myMainComponent.add(scrollPane,BorderLayout.CENTER);
  myMainComponent.add(myEditor.getUpperPanel(),BorderLayout.NORTH);
  myHighlighter=check_xg3v07_a0n0y(getProject(),this);
  myHighlighter.addAdditionalEditorComponent(myEditor);
}
