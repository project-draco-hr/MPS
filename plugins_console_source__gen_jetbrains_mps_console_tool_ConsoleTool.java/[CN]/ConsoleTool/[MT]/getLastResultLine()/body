{
  SNode last=SNodeOperations.as(ListSequence.fromList(SLinkOperations.getTargets(myHistRoot,"item",true)).last(),"jetbrains.mps.console.base.structure.CommandResult");
  if (last == null) {
    last=SLinkOperations.addNewChild(myHistRoot,"item","jetbrains.mps.console.base.structure.CommandResult");
  }
  SNode lastLine=ListSequence.fromList(SLinkOperations.getTargets(last,"line",true)).last();
  if (lastLine == null) {
    lastLine=SLinkOperations.addNewChild(last,"line","jetbrains.mps.console.base.structure.CommandResultLine");
  }
  return lastLine;
}
