{
  if (getPatternEditor().processKeyTyped(keyEvent)) {
    if (myPopupActivated) {
      rebuildMenuEntries();
      if (!(IdeMain.getTestMode() == TestMode.CORE_TEST)) {
        relayoutPopupMenu();
      }
      tryToApplyIntelligentInput();
    }
    return true;
  }
  return false;
}
