{
  removeAllChildren();
  VirtualFile[] files=myFile.getChildren();
  ArrayList<VirtualFile> sortedFiles=new ArrayList<VirtualFile>();
  sortedFiles.addAll(Arrays.asList(files));
  Collections.sort(sortedFiles,new Comparator<VirtualFile>(){
    public int compare(    VirtualFile o1,    VirtualFile o2){
      return o1.getPath().compareTo(o2.getPath());
    }
  }
);
  for (  VirtualFile f : sortedFiles) {
    if (f.exists()) {
      if (!FileTypeManager.getInstance().isFileIgnored(f.getName()) && !ExcludedFileIndex.getInstance(myProject).isExcludedFile(f) && f.isDirectory()) {
        this.add(createNode(myProject,f));
      }
    }
  }
  for (  VirtualFile f : sortedFiles) {
    if (f.exists()) {
      if (!FileTypeManager.getInstance().isFileIgnored(f.getName()) && !ExcludedFileIndex.getInstance(myProject).isExcludedFile(f) && !f.isDirectory()) {
        this.add(createNode(myProject,f));
      }
    }
  }
  updatePresentation();
  myInitialized=true;
}
