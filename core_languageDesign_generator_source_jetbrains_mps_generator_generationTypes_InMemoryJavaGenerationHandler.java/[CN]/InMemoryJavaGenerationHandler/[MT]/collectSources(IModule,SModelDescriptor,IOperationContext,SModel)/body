{
  boolean wereErrors=false;
  myContextModules.add(context.getModule());
  for (  SNode root : outputModel.getRoots()) {
    if (root.getName() == null) {
      continue;
    }
    INodeAdapter outputNode=BaseAdapter.fromNode(root);
    TextGenerationResult genResult=TextGenerationUtil.generateText(context,root);
    wereErrors|=genResult.hasErrors();
    String key=getKey(outputModel.getSModelReference(),root);
    mySources.put(key,genResult.getText());
    if (isJavaSource(outputNode)) {
      myJavaSources.add(key);
    }
  }
  return !wereErrors;
}
