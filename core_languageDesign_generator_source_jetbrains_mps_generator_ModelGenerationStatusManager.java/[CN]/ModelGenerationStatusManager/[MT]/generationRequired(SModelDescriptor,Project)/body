{
  if (sm.isPackaged()) {
    return false;
  }
  if (SModelStereotype.JAVA_STUB.equals(sm.getStereotype())) {
    return false;
  }
  if (sm.getModelFile() == null) {
    return false;
  }
  if (isDoNotGenerate(sm)) {
    return false;
  }
  if (SModelRepository.getInstance().isChanged(sm))   return true;
  if (isEmpty(sm)) {
    return false;
  }
  String generatedHash=getGenerationHash(sm);
  if (generatedHash == null)   return true;
  return checkGenerationRequired(project,generatedHash);
}
