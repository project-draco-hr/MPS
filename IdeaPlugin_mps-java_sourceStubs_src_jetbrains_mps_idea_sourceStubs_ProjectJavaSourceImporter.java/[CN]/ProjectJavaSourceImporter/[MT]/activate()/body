{
synchronized (LOCK) {
    for (    final Module mod : myModuleManager.getModules()) {
      if (!hasMPSFacet(mod))       continue;
      trackModule(mod,false);
    }
    workerConnection=myProject.getMessageBus().connect();
    workerConnection.subscribe(ProjectTopics.MODULES,new ModuleWatcher(myProject));
    workerConnection.subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootListener(){
      @Override public void beforeRootsChange(      ModuleRootEvent moduleRootEvent){
      }
      @Override public void rootsChanged(      ModuleRootEvent moduleRootEvent){
        System.out.println("ROOTS DEBUG: event");
      }
    }
);
    VirtualFileManager.getInstance().addVirtualFileListener(new VirtualFileAdapter(){
      @Override public void fileCreated(      VirtualFileEvent event){
        System.out.println("VIRT FILE DEBUG: " + event.getFile().getName());
      }
      @Override public void fileDeleted(      VirtualFileEvent event){
synchronized (LOCK) {
        }
      }
    }
);
    myIsActivated=true;
  }
}
