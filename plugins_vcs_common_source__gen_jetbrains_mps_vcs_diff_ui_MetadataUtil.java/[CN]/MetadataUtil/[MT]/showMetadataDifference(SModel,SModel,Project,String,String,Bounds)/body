{
  final SModel oldMetaModel=new SModel(new SModelReference(SModelOperations.getModelName(oldModel),"metadata"));
  final SModel newMetaModel=new SModel(new SModelReference(SModelOperations.getModelName(oldModel),"metadata"));
  final Wrappers._T<ModelDifferenceDialog> modelDialog=new Wrappers._T<ModelDifferenceDialog>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      SModelOperations.addRootNode(oldMetaModel,createModelRoot(oldModel));
      SModelOperations.addRootNode(newMetaModel,createModelRoot(newModel));
      modelDialog.value=new ModelDifferenceDialog(oldMetaModel,newMetaModel,project,oldTitle,newTitle);
    }
  }
);
  modelDialog.value.invokeRootDifference(ListSequence.fromList(SModelOperations.getRoots(oldMetaModel,null)).first().getSNodeId(),scrollTo);
}
