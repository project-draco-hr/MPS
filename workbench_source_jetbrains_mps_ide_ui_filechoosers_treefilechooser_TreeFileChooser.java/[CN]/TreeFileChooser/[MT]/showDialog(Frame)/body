{
  if (owner == null)   owner=JOptionPane.getRootFrame();
  setAdditionalModeFilter(myMode);
  TreeFileChooserDialog dialog=new TreeFileChooserDialog(owner,myMode,myFileFilter,myContext,ourInitialSelectedFile);
  dialog.setVisible(true);
  IFile res=null;
  if (!dialog.isCancelled()) {
    res=dialog.getSelectedFile();
  }
  if (res != null)   ourInitialSelectedFile=res;
  return res;
}
