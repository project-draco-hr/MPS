{
  myRevisionsToNumbers=MapSequence.fromMap(new HashMap<VcsRevisionNumber,Integer>());
  List<VcsRevisionNumber> revisionNumbers=SetSequence.fromSet(SetSequence.fromSetWithValues(new HashSet<VcsRevisionNumber>(),Sequence.fromIterable(fileLines).select(new ISelector<Integer,VcsRevisionNumber>(){
    public VcsRevisionNumber select(    Integer fl){
      return myFileAnnotation.getLineRevisionNumber(fl);
    }
  }
))).toListSequence();
  ListSequence.fromList(revisionNumbers).sort(new Comparator<VcsRevisionNumber>(){
    public int compare(    VcsRevisionNumber a,    VcsRevisionNumber b){
      return a.compareTo(b);
    }
  }
,true);
  for (int i=0; i < ListSequence.fromList(revisionNumbers).count(); i++) {
    MapSequence.fromMap(myRevisionsToNumbers).put(ListSequence.fromList(revisionNumbers).getElement(i),i + 1);
  }
}
