{
  File outputDir=context.getOutputDir();
  SModelDescriptor descriptor=context.getOriginalInputModel();
  if (!(descriptor instanceof EditableSModelDescriptor))   return null;
  IFile file=((EditableSModelDescriptor)descriptor).getModelFile();
  if (file == null)   return null;
  byte[] content=new byte[(int)file.length()];
  InputStream is=null;
  try {
    is=file.openInputStream();
    ReadUtil.read(content,is);
  }
 catch (  IOException e) {
    LOG.error(e);
  }
 finally {
    if (is != null) {
      try {
        is.close();
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
  }
  String hash=ModelDigestHelper.hash(content);
  VirtualFile resultFile=null;
  try {
    resultFile=FileUtil.createVirtualFile(FileGenerationUtil.getDefaultOutputDir(context.getInputModel(),outputDir),ModelGenerationStatusManager.HASH_PREFIX + hash);
    FileUtil.write(resultFile,hash);
  }
 catch (  IOException e) {
    LOG.error(e,"Cant create hash file");
  }
  return resultFile;
}
