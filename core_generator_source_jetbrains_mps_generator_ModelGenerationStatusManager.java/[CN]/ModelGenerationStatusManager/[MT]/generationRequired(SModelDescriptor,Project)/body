{
  if (!(sm instanceof EditableSModelDescriptor))   return false;
  EditableSModelDescriptor esm=(EditableSModelDescriptor)sm;
  if (esm.isPackaged())   return false;
  if (SModelStereotype.isStubModelStereotype(sm.getStereotype()))   return false;
  if (GeneratorManager.isDoNotGenerate(sm))   return false;
  if (SModelRepository.getInstance().isChanged(esm))   return true;
  if (isEmpty(esm))   return false;
  String generatedHash=getGenerationHash(sm);
  if (generatedHash == null)   return true;
  IFile modelFile=esm.getModelFile();
  if (modelFile == null)   return true;
  VirtualFile file=modelFile.toVirtualFile();
  if (file == null)   return true;
  return checkGenerationRequired(project,file,generatedHash);
}
