{
  DevKit result=new DevKit();
  DevkitDescriptor devKitDescriptor;
  if (descriptorFile.exists()) {
    devKitDescriptor=DevkitDescriptorPersistence.loadDevKitDescriptor(descriptorFile);
    if (devKitDescriptor.getUUID() == null) {
      devKitDescriptor.setUUID(UUID.randomUUID().toString());
      DevkitDescriptorPersistence.saveDevKitDescriptor(devKitDescriptor,descriptorFile);
    }
  }
 else {
    devKitDescriptor=new DevkitDescriptor();
    devKitDescriptor.setUUID(UUID.randomUUID().toString());
  }
  result.myDescriptorFile=descriptorFile;
  MPSModuleRepository repository=MPSModuleRepository.getInstance();
  if (repository.existsModule(devKitDescriptor.getModuleReference())) {
    LOG.error("Loading module " + devKitDescriptor.getNamespace() + " for the second time");
    return repository.getDevKit(devKitDescriptor.getModuleReference());
  }
  result.setDevKitDescriptor(devKitDescriptor,false);
  repository.addModule(result,moduleOwner);
  return result;
}
