{
  DevKit result=new DevKit();
  DevkitDescriptor devKitDescriptor;
  if (handle.getDescriptor() != null) {
    devKitDescriptor=(DevkitDescriptor)handle.getDescriptor();
    if (devKitDescriptor.getId() == null) {
      devKitDescriptor.setId(ModuleId.regular());
      DevkitDescriptorPersistence.saveDevKitDescriptor(devKitDescriptor,handle.getFile());
    }
  }
 else {
    devKitDescriptor=new DevkitDescriptor();
    devKitDescriptor.setId(ModuleId.regular());
  }
  result.myDescriptorFile=handle.getFile();
  result.setDevKitDescriptor(devKitDescriptor,false);
  return registerInRepository(result,moduleOwner);
}
