{
  if (modelPersistenceVersion < getCurrentPersistenceVersion()) {
    if (getPersistenceSettings().isUserPersistenceVersionDefined()) {
      return true;
    }
 else {
      int option=JOptionPane.showConfirmDialog(null,"Do you want to upgrade your models persistence level from " + modelPersistenceVersion + " to persistence level "+ currentApplicationPersistenceVersion+ " ?","Upgrade Model Persistence",JOptionPane.YES_NO_OPTION);
      if (option == JOptionPane.YES_OPTION) {
        getPersistenceSettings().setMaxPersistenceVersion();
        return true;
      }
 else       if (option == JOptionPane.NO_OPTION) {
        getPersistenceSettings().setUserPersistenceVersion(modelPersistenceVersion);
        return false;
      }
    }
  }
  return false;
}
