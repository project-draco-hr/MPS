{
  InputSource source;
  try {
    source=JDOMUtil.loadSource(file);
  }
 catch (  Throwable t) {
    SModelReference ref=header.getModelReference();
    if (ref == null) {
      ref=SModelReference.fromPath(file.getPath());
    }
    LOG.error("Error while loading model from file: " + file.getPath(),t);
    StubModel model=new StubModel(ref);
    return new ModelLoadResult(model,ModelLoadingState.NOT_LOADED);
  }
  return readModel(header,source,state);
}
