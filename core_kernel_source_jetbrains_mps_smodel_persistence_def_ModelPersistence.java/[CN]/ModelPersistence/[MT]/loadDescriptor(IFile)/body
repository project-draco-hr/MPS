{
  final DescriptorLoadResult result=new DescriptorLoadResult();
  Map<String,String> metadata=loadMetadata(file);
  if (metadata != null) {
    result.setMetadata(metadata);
    if (metadata.containsKey(SModelHeader.VERSION)) {
      try {
        result.setVersion(Integer.parseInt(metadata.remove(SModelHeader.VERSION)));
      }
 catch (      NumberFormatException ignored) {
      }
    }
    if (metadata.containsKey(SModelHeader.DO_NOT_GENERATE)) {
      result.setDoNotGenerate(Boolean.parseBoolean(metadata.remove(SModelHeader.DO_NOT_GENERATE)));
    }
  }
  loadDescriptor(result,file);
  return result;
}
