{
  final SModelHeader header=loadDescriptor(new InputSource(new StringReader(content))).getHeader();
  if (header.getUID() == null) {
    return null;
  }
  final ModelLoadingState state=onlyRoots ? ModelLoadingState.ROOTS_LOADED : ModelLoadingState.FULLY_LOADED;
  ModelLoadResult result=ModelAccess.instance().runReadAction(new Computable<ModelLoadResult>(){
    @Override public ModelLoadResult compute(){
      return readModel(header,new InputSource(new StringReader(content)),state);
    }
  }
);
  return result.getState() != state ? null : result.getModel();
}
