{
  final char[] charsArray=CharArrayUtil.fromSequenceWithoutCopying(data);
  Reader reader=charsArray != null ? new CharArrayReader(charsArray,0,data.length()) : new CharSequenceReader(data);
  Document doc=JDOMUtil.loadDocument(reader);
  int modelPersistenceVersion=getModelPersistenceVersion(doc);
  Matcher matcher=myModelPattern.matcher(data);
  if (!matcher.find())   return null;
  SModelReference modelReference=SModelReference.fromString(matcher.group(1));
  String modelStereotype=modelReference.getStereotype();
  String modelShortName=modelReference.getShortName();
  IModelReader modelReader=modelReaders.get(modelPersistenceVersion);
  if (modelReader == null) {
    return handleNullReaderForPersistence(modelReference.getLongName());
  }
  return modelReader.readModel(doc,modelShortName,modelStereotype);
}
