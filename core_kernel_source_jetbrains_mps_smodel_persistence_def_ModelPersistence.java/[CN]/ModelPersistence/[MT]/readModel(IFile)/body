{
  String modelName=extractModelName(file.getName());
  String modelStereotype=extractModelStereotype(file.getName());
  int version=getModelPersistenceVersion(file);
  if (version == 5) {
    try {
      SAXParser parser=JDOMUtil.createSAXParser();
      ModelReader5Handler handler=new ModelReader5Handler();
      parser.parse(JDOMUtil.loadSource(file),handler);
      return handler.getResult();
    }
 catch (    SAXException e) {
      e.printStackTrace();
    }
catch (    ParserConfigurationException e) {
      e.printStackTrace();
    }
catch (    IOException e) {
      e.printStackTrace();
    }
  }
  Document document=loadModelDocument(file);
  int modelPersistenceVersion=getModelPersistenceVersion(document);
  IModelReader reader=modelReaders.get(modelPersistenceVersion);
  if (reader == null) {
    return handleNullReaderForPersistence(" file " + file.getPath());
  }
  return reader.readModel(document,modelName,modelStereotype);
}
