{
  LOG.debug("ModelPersistence readModel from :" + file.getAbsolutePath());
  Condition<Integer> needsUpgradeCondition=new Condition<Integer>(){
    @Override public boolean met(    Integer version){
      return needsUpgrade(version);
    }
  }
;
  SModel model=readModelUpgradeByCondition(file,needsUpgradeCondition,getCurrentPersistenceVersion());
  return model;
}
