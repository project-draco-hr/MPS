{
  String modelName=extractModelName(file.getName());
  String modelStereotype=extractModelStereotype(file.getName());
  int version=getModelPersistenceVersion(file);
  if (version == 5) {
    try {
      SAXParser parser=JDOMUtil.createSAXParser();
      ModelReader5Handler handler=new ModelReader5Handler();
      parser.parse(JDOMUtil.loadSource(file),handler);
      return handler.getResult();
    }
 catch (    Throwable t) {
      LOG.error(t);
    }
  }
  return readModel(loadModelDocument(file),modelName,modelStereotype);
}
