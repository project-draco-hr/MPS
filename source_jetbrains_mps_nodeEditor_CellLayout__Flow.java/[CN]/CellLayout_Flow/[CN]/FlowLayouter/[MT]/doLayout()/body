{
  for (  EditorCell cell : editorCells) {
    if (NOFLOW.equals(cell.getLayoutConstraint())) {
      if (!currentLine.isEmpty()) {
        nextLine();
      }
      maxAscent=0;
      maxDescent=0;
      cell.relayout();
      cell.moveTo(x,y);
      y+=cell.getHeight();
      maxRightX=Math.max(maxRightX,cell.getX() + cell.getWidth());
    }
 else     if (getFlowLayout(cell) != null) {
      CellLayout_Flow cellLayout_flow=getFlowLayout(cell);
      cellLayout_flow.maxAscent=maxAscent;
      cellLayout_flow.maxDescent=maxDescent;
      cellLayout_flow.setWStart(x - editorCells.getX());
      cellLayout_flow.currentLine.clear();
      cellLayout_flow.currentLine.addAll(currentLine);
      cell.setX(editorCells.getX());
      cell.setY(y);
      cell.relayout();
      maxRightX=Math.max(maxRightX,cell.getX() + cell.getWidth());
      maxAscent=Math.max(maxAscent,cellLayout_flow.maxAscent);
      maxDescent=Math.max(maxDescent,cellLayout_flow.maxDescent);
      currentLine.clear();
      currentLine.addAll(cellLayout_flow.currentLine);
      if (cellLayout_flow.myRowCount >= 2) {
        x=cell.getX() + cellLayout_flow.myWEnd;
        y=cell.getY() + cell.getHeight() - cellLayout_flow.maxAscent - cellLayout_flow.maxDescent;
        myRowCount+=cellLayout_flow.myRowCount - 1;
      }
 else {
        x+=cell.getWidth();
      }
    }
 else     if (cell.getWidth() + x >= getMaxX()) {
      nextLine();
      maxAscent=0;
      maxDescent=0;
      addCell(cell);
    }
 else {
      addCell(cell);
    }
  }
  editorCells.setHeight((y + maxAscent + maxDescent) - editorCells.getY());
  if (!currentLine.isEmpty())   nextLine();
  editorCells.setWidth(maxRightX - editorCells.getX());
  myWEnd=x - editorCells.getX();
  myHEnd=y - editorCells.getY();
}
