{
  final MPSProjectMigrationState migrationState=myProject.getComponent(MPSProjectMigrationState.class);
  if (migrationState.isMigrationRequired() && migrationState.hasMigrationAgent()) {
    migrationState.addMigrationListener(new MPSProjectMigrationListener.DEFAULT(){
      @Override public void migrationFinished(      Project mpsProject){
        proceed();
      }
      @Override public void migrationAborted(      Project project){
      }
      private void proceed(){
        migrationState.removeMigrationListener(this);
        initProject();
      }
    }
);
  }
 else {
    initProject();
  }
}
