{
  myThreadWatcher.waitUntilSettled(15000);
  myErrorCachingStream.reset();
  myCachingAppender.sealEvents();
  Logger.getRootLogger().removeAppender(myCachingAppender);
  Failure fail=null;
  if (!(myTestsToIgnore.containsKey(desc))) {
    if (myErrorCachingStream.isNotEmpty() || myCachingAppender.isNotEmpty() || myThreadWatcher.isNotEmpty()) {
      fail=new Failure(desc,new UncleanTestExecutionException(myErrorCachingStream,myCachingAppender,myThreadWatcher));
    }
  }
  myErrorCachingStream.clear();
  if (fail != null) {
    super.fireTestFailure(fail);
  }
}
