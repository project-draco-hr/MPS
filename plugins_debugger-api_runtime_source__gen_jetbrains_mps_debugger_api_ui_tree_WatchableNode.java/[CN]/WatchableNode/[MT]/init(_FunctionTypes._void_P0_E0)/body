{
  if (myInitialized) {
    callback.invoke();
    return;
  }
  if (!(isLeaf())) {
    myState.invokeEvaluation(new _FunctionTypes._void_P0_E0(){
      public void invoke(){
        if (myInitializationInProgress.compareAndSet(false,true)) {
          try {
            myWatchable.getValue().initSubvalues();
            ApplicationManager.getApplication().invokeLater(new Runnable(){
              @Override public void run(){
                try {
                  removeAllChildren();
                  for (                  IWatchable watchable : ListSequence.fromList(getValue().getSubvalues())) {
                    add(new WatchableNode(watchable,myState));
                  }
                  updatePresentation();
                  myInitialized=true;
                  callback.invoke();
                  nodeChanged();
                }
  finally {
                  myInitializationInProgress.set(false);
                }
              }
            }
);
          }
 catch (          Throwable t) {
            myInitializationInProgress.set(false);
          }
        }
      }
    }
);
  }
}
