{
  super(ProjectHelper.toIdeaProject(context.getProject()));
  this.setTitle("Find Instances by condition");
  this.myContext=context;
  this.myModelAccess=context.getProject().getRepository().getModelAccess();
  this.setModal(false);
  this.setOKButtonText("&Find");
  this.setCancelButtonText("&Cancel");
  myModelAccess.executeCommand(new Runnable(){
    public void run(){
      FindInstancesDialog.this.myNode=_quotation_createNode_vfh0rq_a0a0a0a8a9((concept == null ? SNodeOperations.getNode("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)","1133920641626") : concept));
      FindInstancesDialog.this.myEditor=new EmbeddableEditor(context.getProject(),new _FunctionTypes._void_P1_E0<SModel>(){
        public void invoke(        SModel m){
          m.addRootNode(myNode);
          ((SModelInternal)m).addLanguage(MPSModuleRepository.getInstance().getModuleById(ModuleId.fromString("d745e97c-8235-4470-b086-ba3da1f4c03c")).getModuleReference());
          ((SModelInternal)m).addDevKit(MPSModuleRepository.getInstance().getModuleById(ModuleId.fromString("fbc25dd2-5da4-483a-8b19-70928e1b62d7")).getModuleReference());
        }
      }
,true){
        @Override protected void processClassesData(        IClassesData cd){
          doProcessClassesData(cd);
        }
      }
;
      myEditor.editNode(myNode);
    }
  }
);
  if (module instanceof Language) {
    final Set<Language> languageList=SetSequence.fromSet(new HashSet<Language>());
    myModelAccess.runReadAction(new Runnable(){
      public void run(){
        new LanguageDependenciesManager((Language)module).collectAllExtendedLanguages(languageList);
      }
    }
);
    for (    Language extendedLanguage : languageList) {
      this.myEditor.addLanguageStructureModel(extendedLanguage);
    }
  }
  this.myPanel.add(this.myEditor.getComponenet(),BorderLayout.CENTER);
  this.myEditor.addLanguageStructureModel(BootstrapLanguages.collectionsLanguage());
  if (module instanceof Language) {
    this.myEditor.addLanguageStructureModel((Language)module);
  }
  myModelAccess.runReadAction(new Runnable(){
    public void run(){
      FindInstancesDialog.this.myScope=new ScopeEditor(new ScopeOptions());
      FindInstancesDialog.this.myPanel.add(FindInstancesDialog.this.myScope.getComponent(),BorderLayout.SOUTH);
    }
  }
);
  myPanel.setPreferredSize(new Dimension(500,500));
  init();
}
