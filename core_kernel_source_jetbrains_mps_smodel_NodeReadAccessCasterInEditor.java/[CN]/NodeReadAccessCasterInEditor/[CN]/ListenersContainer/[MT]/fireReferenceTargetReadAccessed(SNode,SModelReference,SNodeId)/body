{
  if (myEventsBlocked || myListenersStack.isEmpty() || !jetbrains.mps.util.SNodeOperations.isRegistered(sourceNode)|| !sourceNode.getModelInternal().canFireEvent()) {
    return;
  }
  myListenersStack.peek().addRefTargetToDependOn(new SNodePointer(targetModelReference,targetNodeId));
}
