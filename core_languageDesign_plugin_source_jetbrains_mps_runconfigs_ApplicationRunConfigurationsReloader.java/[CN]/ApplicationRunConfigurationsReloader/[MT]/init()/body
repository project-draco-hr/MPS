{
  if (myLoaded)   return;
  if (IdeMain.getTestMode() != TestMode.NO_TEST)   return;
synchronized (myConfigurationsLock) {
    ExtensionPoint<ConfigurationType> typesExtensionPoint=Extensions.getArea(null).getExtensionPoint(ConfigurationType.CONFIGURATION_TYPE_EP);
    myConfigurationTypes.clear();
    myConfigurationTypes.addAll(createConfigurationTypes());
    for (    ConfigurationType creators : myConfigurationTypes) {
      typesExtensionPoint.registerExtension(creators);
    }
    addForeignConfigurations();
    ExtensionPoint<RuntimeConfigurationProducer> creatorsExtensionPoint=Extensions.getArea(null).getExtensionPoint(RuntimeConfigurationProducer.RUNTIME_CONFIGURATION_PRODUCER);
    myRegisteredCreators.clear();
    myRegisteredCreators.addAll(createCreators());
    for (    BaseConfigCreator creator : myRegisteredCreators) {
      creatorsExtensionPoint.registerExtension(creator);
    }
  }
  for (  Project p : ProjectManager.getInstance().getOpenProjects()) {
    p.getComponent(RunConfigManager.class).initRunConfigurations();
  }
  myLoaded=true;
}
