{
  ThreadUtils.runInUIThreadNoWait(new Runnable(){
    public void run(){
      if (!isShowing()) {
        ToolWindow toolWindow=ToolWindowManager.getInstance(myProject).registerToolWindow(myId,myCanCloseContent,myAnchor);
        toolWindow.setIcon(myIcon);
        Content content=new ContentFactoryImpl().createContent(getComponent(),null,false);
        toolWindow.getContentManager().addContent(content);
        String keyStroke=getKeyStroke();
        if (!keyStroke.equals("")) {
          KeymapManager.getInstance().getActiveKeymap().addShortcut(ActivateToolWindowAction.getActionIdForToolWindow(myId),new KeyboardShortcut(KeyStroke.getKeyStroke(keyStroke),null));
        }
      }
      if (activate) {
        getToolWindow().activate(null);
      }
    }
  }
);
}
