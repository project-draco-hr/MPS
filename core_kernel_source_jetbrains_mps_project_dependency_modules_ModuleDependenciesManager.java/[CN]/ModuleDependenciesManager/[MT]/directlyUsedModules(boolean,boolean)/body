{
  Set<SModule> result=new HashSet<SModule>();
  for (  SDependency dependency : myModule.getDeclaredDependencies()) {
    SModule m=dependency.getTarget();
    if (m == null)     continue;
    if (includeNonReexport || dependency.isReexport()) {
      result.add(m);
    }
  }
  if (includeNonReexport) {
    for (    DevKit dk : ModuleUtil.refsToDevkits(((AbstractModule)myModule).getUsedDevkitReferences())) {
      result.addAll(dk.getAllExportedSolutions());
    }
    if (runtimes) {
      for (      SLanguage l : myModule.getUsedLanguages()) {
        for (        SModuleReference runtime : l.getLanguageRuntimes()) {
          result.add(ModuleRepositoryFacade.getInstance().getModule(runtime));
        }
      }
    }
  }
  return result;
}
