{
  if (subType == null || superType == null || subType == superType) {
    return;
  }
  if (TypesUtil.isVariable(subType) && TypesUtil.isVariable(superType)) {
    return;
  }
  if (processReplacementRules(subType,superType)) {
    return;
  }
  final SubTypingManagerNew subTyping=myState.getTypeCheckingContext().getSubTyping();
  myState.executeOperation(new jetbrains.mps.newTypesystem.operation.AddRemarkOperation("checking whether " + subType + " is subtype of "+ superType,new Runnable(){
    public void run(){
      if (!subTyping.isSubType(subType,superType,myEquationInfo,myState,myRelationKind.isWeak())) {
        myState.getNodeMaps().reportSubTypeError(subType,superType,myEquationInfo,myRelationKind.isWeak());
      }
    }
  }
));
}
