{
  final ModulesWatcher modulesWatcher=getModulesWatcher();
  final SRepository repository=getRepository();
  repository.getModelAccess().runWriteAction(new Runnable(){
    @Override public void run(){
      for (      SModuleReference module : modulesWatcher.getAllModules()) {
        if (modulesWatcher.isModuleInvalid(module,true)) {
          final String msg=String.format("Invalid dependencies (%s) for module %s",levelIndicator,module.getModuleName());
          myErrors.addError(new AssertionError(msg));
        }
      }
    }
  }
);
}
