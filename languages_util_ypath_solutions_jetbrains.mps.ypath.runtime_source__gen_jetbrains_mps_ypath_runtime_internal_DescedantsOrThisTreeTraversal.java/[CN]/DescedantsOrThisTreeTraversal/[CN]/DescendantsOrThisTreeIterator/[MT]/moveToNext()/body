{
  nextNode=null;
  hasNextNode=false;
  while (!(childrenIteratorsStack.isEmpty())) {
    Iterator<T> it=childrenIteratorsStack.pop();
    if (it.hasNext()) {
      childrenIteratorsStack.push(it);
      T node=it.next();
      Iterator<T> childIt=getDirectContents(node).iterator();
      if (childIt.hasNext()) {
        childrenIteratorsStack.push(childIt);
      }
      nextNode=node;
      hasNextNode=true;
      break;
    }
  }
}
