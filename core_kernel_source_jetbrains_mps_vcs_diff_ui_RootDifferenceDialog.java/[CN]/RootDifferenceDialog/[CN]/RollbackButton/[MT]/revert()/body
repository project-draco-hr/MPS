{
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      List<Change> notAppliedChanges=new ArrayList<Change>();
      notAppliedChanges.addAll(myChanges);
      MultiMap<SNodeId,Change> dependenciesMap=getChangeDependencies(notAppliedChanges);
      for (      ChangeEditorMessage m : myChangeMessages) {
        applyChange(dependenciesMap,notAppliedChanges,m.getChange());
      }
    }
  }
);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      rebuildChangeBlocks();
    }
  }
);
}
