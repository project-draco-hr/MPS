{
  for (  ChangeEditorMessage message : myNewChanges) {
    myNewEditorComponent.getHighlightManager().removeMessage(message);
  }
  for (  ChangeEditorMessage message : myOldChanges) {
    myOldEditorComponent.getHighlightManager().removeMessage(message);
  }
  myNewEditorComponent.removeAllChanges();
  myOldEditorComponent.removeAllChanges();
  myNewChanges.clear();
  myOldChanges.clear();
  List<Change> revertChanges=new DiffBuilder(myNewModel,myOldModel).getChanges();
  myNewChanges=myNewEditorComponent.hightlight(revertChanges,true);
  myOldChanges=myOldEditorComponent.hightlight(revertChanges,false);
  Runnable rebuild=new Runnable(){
    public void run(){
      rebuildChangeBlocks();
    }
  }
;
  myNewEditorComponent.makeChangeBlocks(rebuild);
  myOldEditorComponent.makeChangeBlocks(rebuild);
}
