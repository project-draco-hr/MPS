{
  return new ChangesBlock(){
    protected void revert(){
      ModelAccess.instance().runWriteActionInCommand(new Runnable(){
        public void run(){
          List<ChangeEditorMessage> notAppliedChanges=new ArrayList<ChangeEditorMessage>();
          notAppliedChanges.addAll(myNewChanges);
          notAppliedChanges.addAll(myOldChanges);
          for (          ChangeEditorMessage m : getChanges()) {
            applyMeassage(notAppliedChanges,m);
          }
        }
      }
);
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          rebuildChangeBlocks();
        }
      }
);
    }
  }
;
}
