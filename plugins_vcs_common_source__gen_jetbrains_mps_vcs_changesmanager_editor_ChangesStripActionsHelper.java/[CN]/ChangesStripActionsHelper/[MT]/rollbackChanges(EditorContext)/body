{
  final List<ModelChange> changes=check_ikrecr_a0a0i(getCurrentChangeGroup(editorContext));
  if (changes == null) {
    return;
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      final SModel model=ListSequence.fromList(changes).first().getChangeSet().getNewModel();
      final NodeCopier nc=new NodeCopier(model);
      Iterable<ModelChange> oppositeChanges=ListSequence.fromList(changes).select(new ISelector<ModelChange,ModelChange>(){
        public ModelChange select(        ModelChange ch){
          return ch.getOppositeChange();
        }
      }
);
      for (      ModelChange ch : Sequence.fromIterable(oppositeChanges)) {
        if (ch instanceof NodeGroupChange) {
          ((NodeGroupChange)ch).prepare();
        }
      }
      Sequence.fromIterable(oppositeChanges).visitAll(new IVisitor<ModelChange>(){
        public void visit(        ModelChange ch){
          ch.apply(model.getModelDescriptor(),nc);
        }
      }
);
      nc.restoreIds(true);
      check_ikrecr_a6a0c0i(getPainter(editorContext));
    }
  }
);
}
