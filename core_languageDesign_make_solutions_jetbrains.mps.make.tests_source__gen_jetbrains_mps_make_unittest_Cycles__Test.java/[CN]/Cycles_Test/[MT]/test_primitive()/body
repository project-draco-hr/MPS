{
  Graph<String> graph=new Graph<String>();
  GraphAnalyzer<String> cd=graph.getCycleDetector();
  graph.addEdges("A","B");
  Assert.assertTrue(ListSequence.<List<String>>fromList(cd.findCycles()).isEmpty());
  final Queue<String> q=QueueSequence.<String>fromQueueAndArray(new LinkedList<String>(),"A","B");
  Sequence.<String>fromIterable(cd.topologicalSort()).visitAll(new IVisitor<String>(){
    public void visit(    String v){
      Assert.assertEquals(QueueSequence.fromQueue(q).removeFirstElement(),v);
    }
  }
);
  graph.addEdges("B","A");
  List<List<String>> cycles=cd.findCycles();
  Assert.assertSame(1,ListSequence.<List<String>>fromList(cycles).count());
  Assert.assertEquals(ListSequence.<String>fromListAndArray(new ArrayList<String>(),"A","B"),ListSequence.<List<String>>fromList(cycles).getElement(0));
}
