{
  final String signature=SConceptQuery_Behavior.call_getSignature_270269450479785542(query);
  return traverse(SConceptMember_Behavior.call_getContainingConcept_4125821269968947769(query),new _FunctionTypes._return_P2_E0<SNode,SNode,Iterable<SNode>>(){
    public SNode invoke(    SNode concept,    Iterable<SNode> inherited){
      SNode result=SNodeOperations.as(ListSequence.fromList(SLinkOperations.getTargets(concept,"members",true)).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return it != query && SNodeOperations.isInstanceOf(it,"jetbrains.mps.core.smodel.structure.SConceptQuery") && SConceptQuery_Behavior.call_getSignature_270269450479785542(SNodeOperations.cast(it,"jetbrains.mps.core.smodel.structure.SConceptQuery")).equals(signature);
        }
      }
).first(),"jetbrains.mps.core.smodel.structure.SConceptQuery");
      if (result == null) {
        result=Sequence.fromIterable(inherited).first();
      }
      return result;
    }
  }
);
}
