{
  if (myCaches.containsKey(key)) {
    throw new RuntimeException("can't put another cache by key " + key);
  }
  myCaches.put(key,cache);
  myDependsOnModels.put(key,new ArrayList<SModelDescriptor>(dependsOnModels));
  ModelEventTransmitter eventTransmitter=new ModelEventTransmitter(cache);
  myEventTransmitters.put(cache,eventTransmitter);
  for (  SModelDescriptor dependsOnModel : dependsOnModels) {
    dependsOnModel.addModelListener(eventTransmitter);
  }
  cache.cacheAttached();
}
