{
  ensureChangeGroupsInitialized();
  for (  ChangeTrapeciumStrip.ChangeGroup group : ListSequence.fromList(myChangeGroups)) {
    int leftStart=group.myLeftStart;
    int leftEnd=group.myLeftEnd;
    int rightStart=group.myRightStart;
    int rightEnd=group.myRightEnd;
    int leftOffset=-myLeftEditorComponent.getViewport().getViewPosition().y + myLeftEditorComponent.getExternalComponent().getY();
    int rightOffset=-myRightEditorComponent.getViewport().getViewPosition().y + myRightEditorComponent.getExternalComponent().getY();
    leftStart+=leftOffset;
    leftEnd+=leftOffset;
    rightStart+=rightOffset;
    rightEnd+=rightOffset;
    int[] xx=new int[]{0,getWidth(),getWidth(),0};
    int[] yy=new int[]{leftStart,rightStart,rightEnd,leftEnd};
    g.setColor((group.myConflicted ? ChangeType.CONFLICT_COLOR : group.myChangeType.getColor()));
    g.fillPolygon(xx,yy,4);
    g.setColor(Color.GRAY);
    g.drawLine(0,leftStart,getWidth() - 1,rightStart);
    g.drawLine(0,leftEnd,getWidth() - 1,rightEnd);
  }
}
