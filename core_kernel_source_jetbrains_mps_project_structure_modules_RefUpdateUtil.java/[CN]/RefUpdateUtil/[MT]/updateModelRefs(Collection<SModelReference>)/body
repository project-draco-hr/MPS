{
  Set<SModelReference> remove=new HashSet<SModelReference>();
  Set<SModelReference> add=new LinkedHashSet<SModelReference>();
  for (  SModelReference ref : refs) {
    SModelReference newRef=ref.update();
    if (ref.differs(newRef)) {
      remove.add(ref);
      add.add(newRef);
    }
  }
  refs.removeAll(remove);
  refs.addAll(add);
  return !remove.isEmpty();
}
