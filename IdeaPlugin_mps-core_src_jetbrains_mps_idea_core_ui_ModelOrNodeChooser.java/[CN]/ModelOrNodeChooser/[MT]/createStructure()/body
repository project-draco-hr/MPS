{
  return new ProjectTreeStructure(myProject,ID){
    private VirtualFile baseDir=myProject.getBaseDir();
    public Object[] getChildElements(    Object element){
      ArrayList<Object> result=new ArrayList<Object>();
      for (      Object o : super.getChildElements(element)) {
        if (o instanceof PsiFileNode && ((PsiFileNode)o).getValue().getFileType() instanceof MPSFileType) {
          result.add(o);
        }
 else         if (o instanceof MPSProjectViewNode) {
          result.add(o);
        }
 else         if (o instanceof PsiDirectoryNode) {
          VirtualFile virtualFile=((PsiDirectoryNode)o).getVirtualFile();
          if (virtualFile == null)           continue;
          if (virtualFile.equals(baseDir) || isModelRootOrParent(virtualFile)) {
            result.add(o);
          }
        }
      }
      return result.toArray();
    }
  }
;
}
