{
  if (!(virtualFile.isDirectory()))   return false;
  Module module=ModuleUtil.findModuleForFile(virtualFile,myProject);
  if (module == null)   return false;
  MPSFacet mpsFacet=FacetManager.getInstance(module).getFacetByType(MPSFacetType.ID);
  if (mpsFacet == null || !(mpsFacet.wasInitialized()))   return false;
  MPSConfigurationBean configurationBean=mpsFacet.getConfiguration().getState();
  if (configurationBean == null)   return false;
  String url=virtualFile.getUrl();
  if (!LocalFileSystem.PROTOCOL.equals(VirtualFileManager.extractProtocol(url)))   return false;
  String path=VirtualFileManager.extractPath(url);
  for (  ModelRoot mr : configurationBean.getModelRoots()) {
    if (mr.getPath().startsWith(path))     return true;
  }
  return false;
}
