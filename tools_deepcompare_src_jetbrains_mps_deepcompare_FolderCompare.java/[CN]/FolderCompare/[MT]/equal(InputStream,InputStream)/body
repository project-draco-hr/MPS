{
  try {
    if (s1 == null || s2 == null) {
      return true;
    }
    byte[] b1=new byte[4096];
    byte[] b2=new byte[4096];
    int c1;
    int c2;
    while (true) {
      c1=s1.read(b1);
      c2=s2.read(b2);
      if (c1 != c2)       return false;
      if (c1 == -1)       break;
      for (int i=0; i < c1; i++) {
        if (b1[i] != b2[i])         return false;
      }
    }
  }
 catch (  IOException e) {
    System.err.println("cannot read: " + e.getMessage());
  }
 finally {
    try {
      if (s1 != null)       s1.close();
      if (s2 != null)       s2.close();
    }
 catch (    IOException ex) {
    }
  }
  return true;
}
