{
  Set<String> expList=new HashSet(Arrays.asList(expected.list()));
  Set<String> actList=new HashSet(Arrays.asList(actual.list()));
  List<String> intersection=new ArrayList<String>(Sets.intersection(expList,actList));
  Collections.sort(intersection);
  for (  String s : intersection) {
    compareItems(new File(expected,s),new File(actual,s),path(path,s));
  }
  expList.removeAll(intersection);
  actList.removeAll(intersection);
  ArrayList<String> strings=new ArrayList<String>(expList);
  Collections.sort(strings);
  for (  String s : strings) {
    absentFile(path(path,s),new File(expected,s).isDirectory());
  }
  strings=new ArrayList<String>(actList);
  Collections.sort(strings);
  for (  String s : strings) {
    createdFile(path(path,s),new File(actual,s).isDirectory());
  }
}
