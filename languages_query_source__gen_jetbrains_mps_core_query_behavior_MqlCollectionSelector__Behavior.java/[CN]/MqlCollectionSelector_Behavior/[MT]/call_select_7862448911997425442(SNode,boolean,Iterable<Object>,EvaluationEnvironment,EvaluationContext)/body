{
  String varname=SPropertyOperations.getString(SLinkOperations.getTarget(thisNode,"var",true),"name");
  Collection<Object> result=new ArrayList<Object>();
  for (  Object o : input) {
    EvaluationContext innerContext=new EvaluationContext(context.getThis(),context);
    innerContext.setValue(varname,o);
    Object val=env.evaluate(SLinkOperations.getTarget(thisNode,"expr",true),innerContext,true);
    boolean boolVal=((val instanceof Boolean) ? (Boolean)val : val != null);
    if (boolVal ^ isReject) {
      result.add(o);
    }
  }
  return result;
}
