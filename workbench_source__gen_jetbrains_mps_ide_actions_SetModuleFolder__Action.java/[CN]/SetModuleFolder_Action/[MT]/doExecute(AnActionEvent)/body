{
  try {
    ProjectPane pane=ProjectPane.getInstance(SetModuleFolder_Action.this.ideaProject);
    IModule module=SetModuleFolder_Action.this.context.getModule();
    String oldFolder=SetModuleFolder_Action.this.project.getFolderFor(module);
    String newFolder=JOptionPane.showInputDialog(SetModuleFolder_Action.this.frame,"Enter new folder",oldFolder);
    if (newFolder != null) {
      if (newFolder.equals("")) {
        newFolder=null;
      }
      for (      IModule m : pane.getSelectedModules()) {
        SetModuleFolder_Action.this.project.setFolderFor(m,newFolder);
      }
      pane.rebuild();
    }
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "SetModuleFolder",t);
    }
  }
}
