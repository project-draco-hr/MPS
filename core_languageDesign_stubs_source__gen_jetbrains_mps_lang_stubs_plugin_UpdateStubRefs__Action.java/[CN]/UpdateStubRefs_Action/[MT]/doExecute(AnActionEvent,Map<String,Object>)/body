{
  try {
    for (    SModelDescriptor d : SModelRepository.getInstance().getModelDescriptors()) {
      if (!(d instanceof DefaultSModelDescriptor)) {
        continue;
      }
      if (!(SModelStereotype.isUserModel(d))) {
        continue;
      }
      DefaultSModelDescriptor dsmd=(DefaultSModelDescriptor)d;
      List<SModel.ImportElement> toRemove=new ArrayList();
      for (      SModel.ImportElement elem : dsmd.getSModel().importedModels()) {
        SModelId id=elem.getModelReference().getSModelId();
        if (!(id instanceof SModelId.ForeignSModelId)) {
          continue;
        }
        String s=((SModelId.ForeignSModelId)id).getId();
        if (s.lastIndexOf("#") - s.indexOf("#") > 1) {
          continue;
        }
        toRemove.add(elem);
      }
      SModelRepository.getInstance().markChanged(dsmd,true);
    }
    SModelRepository.getInstance().saveAll();
  }
 catch (  Throwable t) {
    LOG.error("User's action execute method failed. Action:" + "UpdateStubRefs",t);
  }
}
