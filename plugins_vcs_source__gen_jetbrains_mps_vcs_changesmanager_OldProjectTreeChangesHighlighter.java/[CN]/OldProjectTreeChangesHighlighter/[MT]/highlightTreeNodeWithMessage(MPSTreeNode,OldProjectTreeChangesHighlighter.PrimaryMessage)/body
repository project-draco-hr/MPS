{
  if (MapSequence.fromMap(myPrimaryMessageForTreeNode).containsKey(treeNode)) {
    unhighlightTreeNode(treeNode);
  }
  treeNode.addTreeMessage(primaryMessage);
  MapSequence.fromMap(myPrimaryMessageForTreeNode).put(treeNode,primaryMessage);
  for (  MPSTreeNode descendant : Sequence.fromIterable(MPSTreeUtil.getDescendants(treeNode))) {
    descendant.addTreeMessage(primaryMessage.getDescendantSecondaryMessage());
  }
}
