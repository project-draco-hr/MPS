{
synchronized (this) {
    if (thread == null) {
      myContext=null;
      myThread=null;
      myStackFrame=null;
    }
 else {
      myThread=thread;
      LOG.assertLog(myContext != null);
      if (!myContext.suspends(thread)) {
        System.err.println(" my current context " + myContext + " does not suspends thread "+ thread);
        myContext=null;
        for (        SuspendContext context : getAllPausedContexts()) {
          System.err.println("checking context " + context);
          if (context.suspends(thread)) {
            System.err.println("context " + context + " suspends thread "+ thread);
            myContext=context;
            break;
          }
        }
        LOG.assertLog(myContext != null);
      }
      updateFrame();
    }
  }
  fireStateChanged();
}
