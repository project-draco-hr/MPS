{
  if (context == null) {
    myContext=null;
    myThread=null;
    myStackFrame=null;
  }
 else {
    myContext=context;
    myThread=myContext.getThread();
    if (myThread == null) {
      List<ThreadReference> threads=myEventsProcessor.getVirtualMachine().allThreads();
      myThread=threads.get(0);
      for (      ThreadReference t : threads) {
        if (!t.threadGroup().name().equals("system")) {
          myThread=t;
          break;
        }
      }
    }
    LOG.assertLog(myThread != null);
    try {
      myStackFrame=myThread.frame(0);
    }
 catch (    IncompatibleThreadStateException e) {
      LOG.error(e);
    }
  }
  fireStateChanged();
}
