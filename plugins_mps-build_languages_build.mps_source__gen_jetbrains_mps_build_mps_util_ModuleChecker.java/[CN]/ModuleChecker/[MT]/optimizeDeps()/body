{
  SNode module=SNodeOperations.cast(myModule,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,"jetbrains.mps.build.mps.structure.BuildMps_Module"));
  List<SNode> deps=ListSequence.fromListWithValues(new ArrayList<SNode>(),SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies")));
  Map<String,SNode> ndeps=MapSequence.fromMap(new HashMap<String,SNode>());
  Set<String> extendedLanguages=SetSequence.fromSet(new HashSet<String>());
  Set<String> usedLanguages=SetSequence.fromSet(new HashSet<String>());
  for (  SNode originalDep : deps) {
    SNode dep=(SNodeOperations.isInstanceOf(originalDep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency")) ? SLinkOperations.getTarget(SNodeOperations.cast(originalDep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency")),MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,7259033139236285167l,"dependency")) : originalDep);
    if (SNodeOperations.isInstanceOf(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnModule"))) {
      SNode depOnModule=SNodeOperations.cast(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnModule"));
      String uuid=SPropertyOperations.getString(SLinkOperations.getTarget(depOnModule,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,5253498789149547705l,"module")),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),322010710375871467l,322010710375892619l,"uuid"));
      if (MapSequence.fromMap(ndeps).containsKey(uuid)) {
        SPropertyOperations.set(MapSequence.fromMap(ndeps).get(uuid),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,5253498789149547713l,"reexport"),"" + (SPropertyOperations.getBoolean(MapSequence.fromMap(ndeps).get(uuid),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,5253498789149547713l,"reexport")) || SPropertyOperations.getBoolean(depOnModule,MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),5253498789149585690l,5253498789149547713l,"reexport"))));
        SNodeOperations.deleteNode(originalDep);
        continue;
      }
      MapSequence.fromMap(ndeps).put(uuid,depOnModule);
    }
 else     if (SNodeOperations.isInstanceOf(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),4278635856200794926l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyExtendLanguage"))) {
      SNode extLang=SNodeOperations.cast(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),4278635856200794926l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyExtendLanguage"));
      String uuid=SPropertyOperations.getString(SLinkOperations.getTarget(extLang,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),4278635856200794926l,4278635856200794928l,"language")),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),322010710375871467l,322010710375892619l,"uuid"));
      if (SetSequence.fromSet(extendedLanguages).contains(uuid)) {
        SNodeOperations.deleteNode(originalDep);
        continue;
      }
      SetSequence.fromSet(extendedLanguages).addElement(uuid);
    }
 else     if (SNodeOperations.isInstanceOf(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731922642l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyUseLanguage"))) {
      SNode extLang=SNodeOperations.cast(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731922642l,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyUseLanguage"));
      String uuid=SPropertyOperations.getString(SLinkOperations.getTarget(extLang,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),3189788309731922642l,3189788309731922643l,"language")),MetaAdapterFactory.getProperty(new UUID(934837630734519964l,-6831122735637083229l),322010710375871467l,322010710375892619l,"uuid"));
      if (SetSequence.fromSet(usedLanguages).contains(uuid)) {
        SNodeOperations.deleteNode(originalDep);
        continue;
      }
      SetSequence.fromSet(usedLanguages).addElement(uuid);
    }
  }
  for (  SNode dep : ListSequence.fromListWithValues(new ArrayList<SNode>(),SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies")))) {
    if (SNodeOperations.isInstanceOf(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency"))) {
      SNodeOperations.replaceWithAnother(dep,SLinkOperations.getTarget(SNodeOperations.cast(dep,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency")),MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),7259033139236285166l,7259033139236285167l,"dependency")));
    }
  }
}
