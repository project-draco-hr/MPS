{
  if (myModuleDescriptor == null) {
    report("module descriptor is null for " + SPropertyOperations.getString(myModule,"name"),myModule);
    return;
  }
  if (!(checkModuleReference(type))) {
    return;
  }
  if (SNodeOperations.isInstanceOf(myModule,"jetbrains.mps.build.mps.structure.BuildMps_Module")) {
    List<SNode> previous=ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(myModule,"jetbrains.mps.build.mps.structure.BuildMps_Module"),"dependencies",true)).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency");
      }
    }
).select(new ISelector<SNode,SNode>(){
      public SNode select(      SNode it){
        return SNodeOperations.cast(it,"jetbrains.mps.build.mps.structure.BuildMps_ExtractedModuleDependency");
      }
    }
).toListSequence();
    if (type.doCheck) {
      collectDependencies(true);
    }
    if (type.doPartialImport) {
      importDependencies(previous);
    }
    if (SNodeOperations.isInstanceOf(myModule,"jetbrains.mps.build.mps.structure.BuildMps_Language") && myModuleDescriptor instanceof LanguageDescriptor) {
      checkLanguage(type,previous);
    }
    if (type.doPartialImport) {
      collectSources(true,true);
    }
    if (type.doCheck) {
      collectSources(true,false);
    }
    if (type.doPartialImport) {
      ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(myModule,"jetbrains.mps.build.mps.structure.BuildMps_Module"),"dependencies",true)).removeSequence(ListSequence.fromList(previous));
    }
  }
  if (SNodeOperations.isInstanceOf(myModule,"jetbrains.mps.build.mps.structure.BuildMps_DevKit")) {
    checkDevkit(type);
  }
}
