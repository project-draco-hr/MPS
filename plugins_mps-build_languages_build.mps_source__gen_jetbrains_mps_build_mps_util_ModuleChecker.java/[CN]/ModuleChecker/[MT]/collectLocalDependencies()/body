{
  SNode module=SNodeOperations.cast(myModule,MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,"jetbrains.mps.build.mps.structure.BuildMps_Module"));
  Set<SLanguage> usedLanguages=myModuleDescriptor.getLanguageVersions().keySet();
  Iterable<SModuleReference> usedDevkits=myModuleDescriptor.getUsedDevkits();
  for (  SLanguage lang : usedLanguages) {
    SNode resolved=SNodeOperations.as(myVisibleModules.resolve(lang),MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x2c446791464290f8L,"jetbrains.mps.build.mps.structure.BuildMps_Language"));
    if (resolved == null) {
      report("cannot find used language in dependencies: " + lang.getQualifiedName());
      continue;
    }
    SNode ul=SModelOperations.createNewNode(SNodeOperations.getModel(module),null,SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x2c4467914643d2d2L,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyUseLanguage")));
    SLinkOperations.setTarget(ul,MetaAdapterFactory.getReferenceLink(0xcf935df46994e9cL,0xa132fa109541cba3L,0x2c4467914643d2d2L,0x2c4467914643d2d3L,"language"),resolved);
    ListSequence.fromList(SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,0x48e82d5083341cb8L,"dependencies"))).addElement(ul);
  }
  for (  SModuleReference devkit : usedDevkits) {
    SNode resolved=SNodeOperations.as(myVisibleModules.resolve(devkit),MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x4780308f5d2060eL,"jetbrains.mps.build.mps.structure.BuildMps_DevKit"));
    if (resolved == null) {
      report("cannot find used devkit in dependencies: " + devkit.getModuleName());
      continue;
    }
    SNode ud=SModelOperations.createNewNode(SNodeOperations.getModel(module),null,SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xcf935df46994e9cL,0xa132fa109541cba3L,0x4780308f5d5bc49L,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnDevKit")));
    SLinkOperations.setTarget(ud,MetaAdapterFactory.getReferenceLink(0xcf935df46994e9cL,0xa132fa109541cba3L,0x4780308f5d5bc49L,0x4780308f5d5bc4aL,"devkit"),resolved);
    ListSequence.fromList(SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(0xcf935df46994e9cL,0xa132fa109541cba3L,0x48e82d508331930cL,0x48e82d5083341cb8L,"dependencies"))).addElement(ud);
  }
}
