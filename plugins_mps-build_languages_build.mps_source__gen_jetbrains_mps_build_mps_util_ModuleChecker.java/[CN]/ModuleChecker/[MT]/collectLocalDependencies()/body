{
  SNode module=SNodeOperations.cast(myModule,MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,"jetbrains.mps.build.mps.structure.BuildMps_Module"));
  Iterable<SModuleReference> usedLanguages=myModuleDescriptor.getUsedLanguages();
  Iterable<SModuleReference> usedDevkits=myModuleDescriptor.getUsedDevkits();
  for (  SModuleReference lang : usedLanguages) {
    SNode resolved=SNodeOperations.as(myVisibleModules.resolve(lang),MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),3189788309731840248l,"jetbrains.mps.build.mps.structure.BuildMps_Language"));
    if (resolved == null) {
      report("cannot find used language in dependencies: " + lang.getModuleName(),myModule);
      continue;
    }
    SNode ul=SModelOperations.createNewNode(SNodeOperations.getModel(module),null,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyUseLanguage");
    SLinkOperations.setTarget(ul,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),3189788309731922642l,3189788309731922643l,"language"),resolved);
    ListSequence.fromList(SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies"))).addElement(ul);
  }
  for (  SModuleReference devkit : usedDevkits) {
    SNode resolved=SNodeOperations.as(myVisibleModules.resolve(devkit),MetaAdapterFactory.getConcept(new UUID(934837630734519964l,-6831122735637083229l),322010710375794190l,"jetbrains.mps.build.mps.structure.BuildMps_DevKit"));
    if (resolved == null) {
      report("cannot find used devkit in dependencies: " + devkit.getModuleName(),myModule);
      continue;
    }
    SNode ud=SModelOperations.createNewNode(SNodeOperations.getModel(module),null,"jetbrains.mps.build.mps.structure.BuildMps_ModuleDependencyOnDevKit");
    SLinkOperations.setTarget(ud,MetaAdapterFactory.getReferenceLink(new UUID(934837630734519964l,-6831122735637083229l),322010710376037449l,322010710376037450l,"devkit"),resolved);
    ListSequence.fromList(SLinkOperations.getChildren(module,MetaAdapterFactory.getContainmentLink(new UUID(934837630734519964l,-6831122735637083229l),5253498789149381388l,5253498789149547704l,"dependencies"))).addElement(ud);
  }
}
