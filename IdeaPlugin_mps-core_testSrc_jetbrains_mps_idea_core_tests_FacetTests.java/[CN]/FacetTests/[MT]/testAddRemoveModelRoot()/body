{
  @NonNls final File modelRootDir=new File(getModuleHome(),"modelRoot");
  assertTrue(modelRootDir.mkdir());
  ModuleReference solutionReference=myFacet.getSolution().getModuleReference();
  String[] modelRootPaths=new String[]{modelRootDir.getPath()};
  MPSConfigurationBean configurationBean=myFacet.getConfiguration().getState();
  configurationBean.setModelRootPaths(modelRootPaths);
  myFacet.setConfiguration(configurationBean);
  flushEDT();
  Solution repositorySolution=MPSModuleRepository.getInstance().getSolution(solutionReference);
  assertEquals(myFacet.getSolution(),repositorySolution);
  List<SModelRoot> modelRoots=repositorySolution.getSModelRoots();
  assertEquals(1,modelRoots.size());
  SModelRoot theModelRoot=modelRoots.get(0);
  assertEquals(modelRootDir.getPath(),theModelRoot.getPath());
  configurationBean=myFacet.getConfiguration().getState();
  configurationBean.setModelRootPaths(new String[0]);
  myFacet.setConfiguration(configurationBean);
  flushEDT();
  assertEmpty(repositorySolution.getSModelRoots());
}
