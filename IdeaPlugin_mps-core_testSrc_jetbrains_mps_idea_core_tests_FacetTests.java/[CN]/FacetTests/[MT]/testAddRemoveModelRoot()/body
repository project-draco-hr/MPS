{
  @NonNls final File modelRootDir=new File(getModuleHome(),"modelRoot");
  assertTrue(modelRootDir.mkdir());
  ModuleReference solutionReference=myFacet.getSolution().getModuleReference();
  String modelRootPath=modelRootDir.getPath();
  MPSConfigurationBean configurationBean=myFacet.getConfiguration().getState();
  configurationBean.setModelRootPaths(modelRootPath);
  myFacet.setConfiguration(configurationBean);
  flushEDT();
  Solution repositorySolution=MPSModuleRepository.getInstance().getSolution(solutionReference);
  assertEquals(myFacet.getSolution(),repositorySolution);
  Collection<SModelRoot> modelRoots=repositorySolution.getSModelRoots();
  assertEquals(1,modelRoots.size());
  SModelRoot theModelRoot=modelRoots.iterator().next();
  assertEquals(modelRootDir.getPath(),theModelRoot.getPath());
  configurationBean=myFacet.getConfiguration().getState();
  configurationBean.setModelRootPaths();
  myFacet.setConfiguration(configurationBean);
  flushEDT();
  assertEmpty(repositorySolution.getSModelRoots());
}
