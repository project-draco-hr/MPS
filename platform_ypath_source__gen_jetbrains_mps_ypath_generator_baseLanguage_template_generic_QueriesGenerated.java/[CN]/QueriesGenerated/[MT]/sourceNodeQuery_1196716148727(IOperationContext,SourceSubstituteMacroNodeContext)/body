{
  SNode cand=ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(),"candidates",true)).sort(new ISelector<SNode,Comparable<?>>(){
    public Comparable<?> select(    SNode it){
      return SPropertyOperations.getInteger(it,"priority") * ((ListSequence.fromList(SNodeOperations.getDescendants(it,null,false)).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return SNodeOperations.isInstanceOf(it,"jetbrains.mps.ypath.structure.NotAStatement");
        }
      }
).isNotEmpty() ? 0 : 1));
    }
  }
,false).first();
  if (SPropertyOperations.getInteger(cand,"priority") > 0) {
    return SLinkOperations.getTarget(cand,"statement",true);
  }
  return new _Quotations.QuotationClass_2().createNode();
}
