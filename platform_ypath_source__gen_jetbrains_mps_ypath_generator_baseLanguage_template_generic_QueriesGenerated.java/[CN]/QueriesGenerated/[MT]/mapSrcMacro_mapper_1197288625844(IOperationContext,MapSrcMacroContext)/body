{
  SNode protoRange=SNodeOperations.cast(SLinkOperations.getTarget(_context.getNode(),"range",true),"jetbrains.mps.ypath.structure.ElementRange");
  SNode removeRange=SConceptOperations.createNewNode("jetbrains.mps.ypath.structure.IndexRange",null);
  SPropertyOperations.set(removeRange,"has_start","" + (SPropertyOperations.getBoolean(protoRange,"has_start")));
  SPropertyOperations.set(removeRange,"has_end","" + (SPropertyOperations.getBoolean(protoRange,"has_end")));
  SPropertyOperations.set(removeRange,"includes_start","" + (SPropertyOperations.getBoolean(protoRange,"includes_start")));
  SPropertyOperations.set(removeRange,"includes_end","" + (SPropertyOperations.getBoolean(protoRange,"includes_end")));
  if (SPropertyOperations.getBoolean(removeRange,"has_start")) {
    SLinkOperations.setNewChild(removeRange,"start","jetbrains.mps.baseLanguageInternal.structure.InternalVariableReference");
    SPropertyOperations.set(SNodeOperations.cast(SLinkOperations.getTarget(removeRange,"end",true),"jetbrains.mps.baseLanguageInternal.structure.InternalVariableReference"),"name","startIdx");
  }
  if (SPropertyOperations.getBoolean(removeRange,"has_end")) {
    SLinkOperations.setNewChild(removeRange,"end","jetbrains.mps.baseLanguageInternal.structure.InternalVariableReference");
    SPropertyOperations.set(SNodeOperations.cast(SLinkOperations.getTarget(removeRange,"end",true),"jetbrains.mps.baseLanguageInternal.structure.InternalVariableReference"),"name","endIdx");
  }
  return removeRange;
}
