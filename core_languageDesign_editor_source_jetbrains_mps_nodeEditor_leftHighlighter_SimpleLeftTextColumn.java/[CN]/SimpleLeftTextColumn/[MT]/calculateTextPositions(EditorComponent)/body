{
  this.myRows.clear();
  for (  NodeTextElement textElement : myText) {
    int yCoordinate=getYCoordinate(textElement.getNode(),editorComponent);
    if (yCoordinate < 0) {
      continue;
    }
    NodeTextElement element=myRows.get(yCoordinate);
    if (element == null) {
      myRows.put(yCoordinate,textElement);
    }
 else {
      if (textElement.compareTo(element) > 0) {
        myRows.put(yCoordinate,textElement);
      }
    }
  }
  for (  int y : myRows.keySet()) {
    NodeTextElement element=myRows.get(y);
    int width=charWidth() * element.getText().length();
    myWidth=Math.max(myWidth,width);
  }
}
