{
  SNode result=null;
  for (  SModel model : myModels) {
    if (model == null) {
      continue;
    }
    Iterable<SNode> nodes;
    String conceptToCheck;
    if (myRootsOnly) {
      nodes=model.getRootNodes();
      conceptToCheck=myTargetConcept;
    }
 else     if (myTargetConcept != null) {
      nodes=SModelOperations.getNodes(model,myTargetConcept);
      conceptToCheck=null;
    }
 else {
      nodes=SNodeUtil.getDescendants(model);
      conceptToCheck=null;
    }
    for (    SNode node : nodes) {
      if (conceptToCheck != null && !(SNodeUtil.isInstanceOf(node,SConceptRepository.getInstance().getConcept(conceptToCheck)))) {
        continue;
      }
      String nodeRefText=getReferenceText(null,node);
      if (nodeRefText == null || !(nodeRefText.equals(refText))) {
        continue;
      }
      if (result == null) {
        result=node;
      }
 else {
        return null;
      }
    }
  }
  return result;
}
