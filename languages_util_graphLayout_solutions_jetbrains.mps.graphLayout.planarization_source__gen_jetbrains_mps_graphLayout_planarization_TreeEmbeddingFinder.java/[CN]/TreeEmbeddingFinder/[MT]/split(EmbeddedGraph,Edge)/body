{
  Graph originalGraph=embeddedGraph.getGraph();
  Node newNode=originalGraph.createDummyNode();
  originalGraph.removeEdge(edge);
  List<Edge> newEdges=ListSequence.<Edge>fromList(new ArrayList<Edge>());
  ListSequence.<Edge>fromList(newEdges).addElement(originalGraph.connect(edge.getSource(),newNode));
  ListSequence.<Edge>fromList(newEdges).addElement(originalGraph.connect(newNode,edge.getTarget()));
  MapSequence.<Edge,List<Edge>>fromMap(mySplittedEdges).put(edge,newEdges);
  List<Face> facesToProcess=ListSequence.<Face>fromList(new ArrayList<Face>());
  ListSequence.<Face>fromList(facesToProcess).addSequence(ListSequence.<Face>fromList(embeddedGraph.getAdjacentFaces(edge)));
  for (  Face face : ListSequence.<Face>fromList(facesToProcess)) {
    List<Dart> darts=face.getDarts();
    int pos=0;
    while (ListSequence.<Dart>fromList(darts).getElement(pos).getEdge() != edge) {
      pos++;
    }
    Dart dartToReplace=ListSequence.<Dart>fromList(darts).getElement(pos);
    for (    Edge newEdge : ListSequence.<Edge>fromList(newEdges)) {
      if (ListSequence.<Node>fromList(newEdge.getAdjacentNodes()).contains(dartToReplace.getSource())) {
        embeddedGraph.setDart(face,pos,new Dart(newEdge,dartToReplace.getSource()));
      }
    }
    for (    Edge newEdge : ListSequence.<Edge>fromList(newEdges)) {
      if (ListSequence.<Node>fromList(newEdge.getAdjacentNodes()).contains(dartToReplace.getTarget())) {
        embeddedGraph.insertDart(face,pos + 1,new Dart(newEdge,newNode));
      }
    }
  }
  return newNode;
}
