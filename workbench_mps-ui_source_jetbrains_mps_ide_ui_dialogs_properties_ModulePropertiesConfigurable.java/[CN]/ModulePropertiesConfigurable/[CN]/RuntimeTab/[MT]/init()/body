{
  JPanel usedLangsTab=new JPanel();
  usedLangsTab.setLayout(new GridLayoutManager(1,1,INSETS,-1,-1));
  final JBTable runtimeTable=new JBTable();
  runtimeTable.setShowHorizontalLines(false);
  runtimeTable.setShowVerticalLines(false);
  runtimeTable.setAutoCreateRowSorter(false);
  runtimeTable.setAutoscrolls(true);
  runtimeTable.setTableHeader(null);
  myRuntimeTableModel=new RuntimeTableModel();
  runtimeTable.setModel(myRuntimeTableModel);
  runtimeTable.setDefaultRenderer(DependenciesTableItem.class,new DependencyTableCellRender(MPSModuleRepository.getInstance().getModuleById(myModuleDescriptor.getId()).getScope()));
  runtimeTable.getSelectionModel().setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
  ToolbarDecorator decorator=ToolbarDecorator.createDecorator(runtimeTable);
  decorator.setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      final JBPopup popup=JBPopupFactory.getInstance().createListPopup(new BaseListPopupStep<AnActionButton>(null,getAnActions()){
        @Override public Icon getIconFor(        AnActionButton aValue){
          return aValue.getTemplatePresentation().getIcon();
        }
        @Override public boolean hasSubstep(        AnActionButton selectedValue){
          return false;
        }
        @Override public boolean isMnemonicsNavigationEnabled(){
          return true;
        }
        @Override public PopupStep onChosen(        final AnActionButton selectedValue,        final boolean finalChoice){
          return doFinalStep(new Runnable(){
            public void run(){
              selectedValue.actionPerformed(null);
            }
          }
);
        }
        @Override @NotNull public String getTextFor(        AnActionButton value){
          return value.getTemplatePresentation().getText();
        }
      }
);
      popup.show(button.getPreferredPopupPoint());
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton anActionButton){
      TableUtil.removeSelectedItems(runtimeTable);
      myRuntimeTableModel.fireTableDataChanged();
    }
  }
).addExtraAction(new FindAnActionButton(runtimeTable){
    @Override public void actionPerformed(    AnActionEvent e){
      findUsages(myRuntimeTableModel.getValueAt(runtimeTable.getSelectionModel().getMinSelectionIndex(),0));
    }
  }
);
  decorator.setPreferredSize(new Dimension(500,300));
  JPanel table=decorator.createPanel();
  table.setBorder(IdeBorderFactory.createBorder());
  usedLangsTab.add(table,new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,null,null,null,0,false));
  setTabComponent(usedLangsTab);
}
