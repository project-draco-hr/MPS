{
  return new IJob(){
    public IResult execute(    final Iterable<IResource> input,    final IMonitor monitor,    final IVariablesPool pool){
      Iterable<IResource> _output_21gswx_a0a=null;
switch (0) {
case 0:
        if (pool.<TextGen_Facet.Target_21gswx_a.Variables>variables(Target_21gswx_a.this.getName(),TextGen_Facet.Target_21gswx_a.Variables.class).invocationContext() == null) {
          return new IResult.FAILURE(_output_21gswx_a0a);
        }
      FileProcessor fileProc=new FileProcessor();
    for (    IResource resource : input) {
      GResource gr=(GResource)resource;
      if (!(gr.data.status().isOk())) {
        return new IResult.FAILURE(_output_21gswx_a0a);
      }
      IFile targetDir=FileSystem.getInstance().getFileByPath(gr.data.module().getOutputFor(gr.data.model()));
      JavaStreamHandler javaStreamHandler=new JavaStreamHandler(gr.data.model(),targetDir,fileProc);
      try {
        if (!(new TextGenerator(javaStreamHandler,ModelGenerationStatusManager.getInstance().getCacheGenerator(),BLDependenciesCache.getInstance().getGenerator(),TraceInfoCache.getInstance().getGenerator(),GenerationDependenciesCache.getInstance().getGenerator()).handleOutput(pool.<TextGen_Facet.Target_21gswx_a.Variables>variables(Target_21gswx_a.this.getName(),TextGen_Facet.Target_21gswx_a.Variables.class).invocationContext(),gr.data.status()))) {
          return new IResult.FAILURE(_output_21gswx_a0a);
        }
        _output_21gswx_a0a=Sequence.fromIterable(_output_21gswx_a0a).concat(Sequence.fromIterable(Sequence.<IResource>singleton(gr)));
      }
  finally {
        javaStreamHandler.dispose();
      }
    }
  fileProc.saveGeneratedFiles();
default :
return new IResult.SUCCESS(_output_21gswx_a0a);
}
}
}
;
}
