{
  if (getOperationContext() != null) {
    notifyDisposal();
  }
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      clearModelDisposedTrace();
      myNode=node;
      myNodePointer=myNode != null ? new jetbrains.mps.smodel.SNodePointer(myNode) : null;
      myRoot=myNode == null ? null : myNode.getContainingRoot();
      setReadOnly(node == null || node.getModel() == null || jetbrains.mps.util.SNodeOperations.isModelDisposed(node.getModel()) || SModelOperations.isReadOnly(node.getModel()));
      if (node == null) {
        setOperationContext(null);
      }
 else {
        setOperationContext(context);
      }
      reinitEditor();
      repaint();
    }
  }
);
}
