{
  int effectiveWidth=myNextIsPunctuation ? getWidth() - getRightInternalInset() : getWidth();
  g.setColor(c);
  g.fillRect(getX(),getY() + getTopInternalInset(),effectiveWidth,getHeight() - getTopInternalInset() - getBottomInternalInset());
  if (getEditor().hasFocus()) {
    g.setColor(c.darker());
    g.drawRect(getX(),getY(),effectiveWidth,getHeight());
  }
}
