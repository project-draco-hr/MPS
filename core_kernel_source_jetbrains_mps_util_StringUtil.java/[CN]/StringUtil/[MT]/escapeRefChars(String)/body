{
  if (text == null || text.isEmpty()) {
    return text;
  }
  StringBuilder sb=new StringBuilder();
  int len=text.length();
  for (int i=0; i < len; i++) {
    char c=text.charAt(i);
switch (c) {
case '%':
case '(':
case ')':
case '/':
      sb.append('%');
    sb.append(HEX_DIGITS[(c >> 4) & 0x0f]);
  sb.append(HEX_DIGITS[(c) & 0x0f]);
break;
default :
sb.append(c);
break;
}
}
return sb.toString();
}
