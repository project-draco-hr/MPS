{
  super(null);
  setAssociatedFile(file);
  String filename=file.getName();
  boolean isDisk=isDiskNode();
  if (isDisk) {
    filename=file.getAbsolutePath();
  }
  setNodeIdentifier(filename);
  FileSystemView fsView=FileSystemView.getFileSystemView();
  Icon icon=fsView.getSystemIcon(file.toFile());
  String caption=filename;
  if (!isDisk) {
    if (file.toFile().isHidden()) {
      caption="<html><font color='gray'>" + caption + "</font></html>";
    }
  }
  setText(caption);
  setIcon(icon);
}
