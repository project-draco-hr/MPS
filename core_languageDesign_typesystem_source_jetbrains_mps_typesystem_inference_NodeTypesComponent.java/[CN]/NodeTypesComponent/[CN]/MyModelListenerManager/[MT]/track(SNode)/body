{
  SModelDescriptor sm=node.getModel().getModelDescriptor();
  if (sm == null)   return;
  if (!myNodesCount.containsKey(sm)) {
    sm.addModelCommandListener(myListener);
    myNodesCount.put(sm,1);
  }
 else {
    Integer oldValue=myNodesCount.get(sm);
    myNodesCount.put(sm,oldValue + 1);
  }
  WeakReference<SNode> ref=new WeakReference<SNode>(node,myReferenceQueue);
  myDescriptors.put(ref,sm);
}
