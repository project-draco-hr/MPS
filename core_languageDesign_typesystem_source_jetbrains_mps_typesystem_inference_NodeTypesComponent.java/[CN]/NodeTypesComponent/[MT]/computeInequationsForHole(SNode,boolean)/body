{
  List<SNode> additionalNodes=new ArrayList<SNode>(1);
  additionalNodes.add(hole);
  try {
    myIsSmartCompletion=true;
    myHole=hole;
    myHoleIsAType=holeIsAType;
    computeTypesForNode_special(hole.getParent(),false,additionalNodes,false);
    return myHoleTypeWrapper.getInequationSystem();
  }
  finally {
    myIsSmartCompletion=false;
    myHoleTypeWrapper=null;
    myHole=null;
    myHoleIsAType=false;
  }
}
