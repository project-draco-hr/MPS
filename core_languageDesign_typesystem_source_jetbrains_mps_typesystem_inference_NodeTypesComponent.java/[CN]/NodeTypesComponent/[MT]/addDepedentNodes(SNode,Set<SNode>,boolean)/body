{
  WeakHashMap<SNode,WeakSet<SNode>> nodesToDependentNodes=nonTypesystem ? myNodesToDependentNodesNonTypesystem : myNodesToDependentNodes;
  for (  SNode nodeToDependOn : nodesToDependOn) {
    if (nodeToDependOn == null)     continue;
    WeakSet<SNode> dependentNodes=nodesToDependentNodes.get(nodeToDependOn);
    if (dependentNodes == null) {
      dependentNodes=new WeakSet<SNode>();
      nodesToDependentNodes.put(nodeToDependOn,dependentNodes);
    }
    dependentNodes.add(sNode);
  }
}
