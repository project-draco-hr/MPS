{
  removeBadMessages();
  super.paintComponent(graphics);
  Graphics2D g=(Graphics2D)graphics;
  List<EditorMessage> editorMessages=new ArrayList<EditorMessage>(myMessages);
  Collections.sort(editorMessages,new Comparator<EditorMessage>(){
    public int compare(    EditorMessage o1,    EditorMessage o2){
      if (o1 == o2)       return 0;
      if (o1 == null)       return -1;
      if (o2 == null)       return 1;
      return o1.getStatus().ordinal() - o2.getStatus().ordinal();
    }
  }
);
  for (  EditorMessage msg : editorMessages) {
    if (msg == null || !msg.isValid(myEditorComponent)) {
      continue;
    }
    int start=getMessageStart(msg);
    int length=getMessageHeight(msg);
    int messageY=start + (length / 2);
    g.setColor(new Color(80,80,80,70));
    g.fillRect(1,messageY,getWidth() - 2,2);
    g.setColor(msg.getColor());
    g.fillRect(0,messageY - 1,getWidth() - 2,2);
  }
}
