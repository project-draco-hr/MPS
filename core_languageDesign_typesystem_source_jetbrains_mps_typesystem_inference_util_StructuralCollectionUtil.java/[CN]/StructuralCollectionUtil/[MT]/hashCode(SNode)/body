{
  Integer result=ourHashCodeCash.tryKey(node);
  if (result != null) {
    return result;
  }
  StringBuilder sb=new StringBuilder();
  toString(sb,node,node);
  result=sb.toString().hashCode();
  ourHashCodeCash.cacheObject(node,result);
  SModel model=node.getModel();
  Set<SNode> nodeSet=ourModelsToNodes.get(model);
  if (nodeSet == null) {
    nodeSet=new HashSet<SNode>();
    ourModelsToNodes.put(model,nodeSet);
    model.getModelDescriptor().addModelListener(ourModelListener);
  }
  nodeSet.add(node);
  return result;
}
