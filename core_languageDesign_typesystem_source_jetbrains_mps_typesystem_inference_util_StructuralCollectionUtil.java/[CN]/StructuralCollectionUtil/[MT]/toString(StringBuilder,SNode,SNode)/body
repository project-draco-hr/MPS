{
  result.append(node.getConceptFqName());
  result.append("(");
  Set<String> roles=new TreeSet<String>(node.getChildRoles(false));
  for (  String role : roles) {
    for (    SNode child : node.getChildren(role)) {
      toString(result,root,child);
      result.append(";");
    }
  }
  for (  SReference ref : node.getReferences()) {
    SNode target=ref.getTargetNode();
    if (target != null && !target.isDescendantOf(root,true)) {
      result.append(target.getSNodeId());
    }
  }
  result.append(")");
}
