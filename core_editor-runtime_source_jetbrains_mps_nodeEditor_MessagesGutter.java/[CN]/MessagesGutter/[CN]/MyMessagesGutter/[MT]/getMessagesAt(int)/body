{
  List<EditorMessage> result=new ArrayList<EditorMessage>();
  Set<EditorMessage> messagesToRemove=new HashSet<EditorMessage>();
  for (  EditorMessage msg : myMessages) {
    if (!msg.isValid(myEditorComponent))     continue;
    if (msg.isLongInGutter()) {
      int messageY=getMessageStart(msg);
      int messageHeight=getMessageHeight(msg) + 1;
      if (y >= messageY - 5 && y <= messageY + messageHeight + 5) {
        result.add(msg);
      }
    }
 else {
      int position=getMessagePosition(msg);
      if (y >= position - 5 && y <= position + 5) {
        result.add(msg);
      }
    }
  }
  removeLater(messagesToRemove);
  return result;
}
