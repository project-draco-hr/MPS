{
  final Object selection=myTree.getSelectionPath().getLastPathComponent();
  final Wrappers._T<Object> result=new Wrappers._T<Object>(null);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (selection instanceof SNodeTreeNode) {
        result.value=((SNodeTreeNode)selection).getSNode();
      }
 else       if (selection instanceof SModelTreeNode) {
        result.value=((SModelTreeNode)selection).getModel();
      }
    }
  }
);
  return result.value;
}
