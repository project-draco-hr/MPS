{
  List<Dart> darts=ListSequence.<Edge>fromList(node.getEdges()).<Dart>select(new ISelector<Edge,Dart>(){
    public Dart select(    Edge edge){
      return ListSequence.<Dart>fromList(myEmbeddedGraph.getDarts(edge)).findFirst(new IWhereFilter<Dart>(){
        public boolean accept(        Dart dart){
          return dart.getSource() == node;
        }
      }
);
    }
  }
).toListSequence();
  Dart first=ListSequence.<Dart>fromList(darts).findFirst(new IWhereFilter<Dart>(){
    public boolean accept(    Dart dart){
      return MapSequence.fromMap(myDirections).containsKey(dart);
    }
  }
);
  List<Dart> orderedDarts=ListSequence.<Dart>fromList(new ArrayList<Dart>());
  ListSequence.<Dart>fromList(orderedDarts).addElement(first);
  Dart cur=first;
  do {
    Dart next=myEmbeddedGraph.getNextSourceDart(cur);
    MapSequence.<Dart,Direction2D>fromMap(myDirections).put(next,MapSequence.<Dart,Direction2D>fromMap(myDirections).get(cur).turnClockwise(MapSequence.<Dart,Integer>fromMap(myAngles).get(cur)));
    MapSequence.<Dart,Direction2D>fromMap(myDirections).put(myEmbeddedGraph.getOpposite(next),MapSequence.<Dart,Direction2D>fromMap(myDirections).get(next).opposite());
    cur=next;
  }
 while (cur != first);
}
