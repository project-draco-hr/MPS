{
  List<Dart> darts=ListSequence.fromList(node.getEdges()).<Dart>select(new ISelector<Edge,Dart>(){
    public Dart select(    Edge edge){
      return ListSequence.fromList(myEmbeddedGraph.getDarts(edge)).findFirst(new IWhereFilter<Dart>(){
        public boolean accept(        Dart dart){
          return dart.getSource() == node;
        }
      }
);
    }
  }
).toListSequence();
  Dart first=ListSequence.fromList(darts).findFirst(new IWhereFilter<Dart>(){
    public boolean accept(    Dart dart){
      return MapSequence.fromMap(myDirections).containsKey(dart);
    }
  }
);
  List<Dart> orderedDarts=ListSequence.fromList(new ArrayList<Dart>());
  ListSequence.fromList(orderedDarts).addElement(first);
  Dart cur=first;
  do {
    Dart next=myEmbeddedGraph.getNextSourceDart(cur);
    MapSequence.fromMap(myDirections).put(next,MapSequence.fromMap(myDirections).get(cur).turnClockwise(MapSequence.fromMap(myAngles).get(cur)));
    MapSequence.fromMap(myDirections).put(myEmbeddedGraph.getOpposite(next),MapSequence.fromMap(myDirections).get(next).opposite());
    cur=next;
  }
 while (cur != first);
}
