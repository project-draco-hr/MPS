{
  TByteArrayList buf=new TByteArrayList();
  int baseSize=4096;
  byte[] tmp=new byte[baseSize];
  int off=0;
  while (true) {
    int res=is.read(tmp,off,baseSize);
    if (res == -1)     break;
    buf.add(tmp,0,res);
  }
  return buf.toNativeArray();
}
