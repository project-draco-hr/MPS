{
  if (contextNode != null) {
    SNode topmostNamed=null;
    SNode node_=contextNode;
    while (node_ != null) {
      if (node_.isInstanceOfConcept(INamedConcept.concept)) {
        topmostNamed=node_;
      }
      node_=node_.getParent();
    }
    if (topmostNamed != null) {
      String name=topmostNamed.getName();
      if (name != null) {
        String contextSuffix=String.valueOf(name.hashCode());
        if (contextSuffix.length() > 4) {
          contextSuffix=contextSuffix.substring(contextSuffix.length() - 4);
        }
        roughName=roughName + contextSuffix + "_";
      }
    }
  }
  String uniqueName;
  int count=0;
  while (true) {
    uniqueName=roughName + (count++);
    if (!myUsedNames.contains(uniqueName))     break;
  }
  myUsedNames.add(uniqueName);
  return uniqueName;
}
