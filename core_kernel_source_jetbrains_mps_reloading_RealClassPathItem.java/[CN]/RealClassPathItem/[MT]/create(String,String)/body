{
  IFile file=FS.getFile(path);
  UniPath uniPath=file.toPath().toNormal();
  if (!file.exists()) {
    notifyNonExistentCP(caller,file,uniPath);
    return new NonExistingClassPathItem(uniPath.toString());
  }
 else   if (file.isArchive()) {
    return new JarFileClassPathItem(FS,uniPath.toString());
  }
 else   if (file.isDirectory()) {
    return new FileClassPathItem(uniPath.toString());
  }
 else   if (file.isInArchive()) {
    throw new IllegalArgumentException("Path variable `" + uniPath + "' points to the location inside the jar which is not supported");
  }
 else {
    throw new IllegalArgumentException("Path variable `" + uniPath + "' does not point to a directory or to a jar/zip location");
  }
}
