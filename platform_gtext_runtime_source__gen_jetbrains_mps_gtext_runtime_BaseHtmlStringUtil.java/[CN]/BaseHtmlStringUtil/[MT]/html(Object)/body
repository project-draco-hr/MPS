{
  if (object == null) {
    return EMPTY_STRING;
  }
  final String str=object.toString();
  final int capacity=str.length();
  StringBuilder builder=null;
  for (int i=0; i < capacity; i++) {
    final char c=str.charAt(i);
    if (_charsToEntities[c] != null) {
      if (builder == null) {
        builder=new StringBuilder(capacity + 100);
        builder.append(str.substring(0,i));
      }
      builder.append(_charsToEntities[c]);
    }
 else     if (builder != null) {
      builder.append(c);
    }
  }
  if (builder != null) {
    return builder.toString();
  }
  return str;
}
