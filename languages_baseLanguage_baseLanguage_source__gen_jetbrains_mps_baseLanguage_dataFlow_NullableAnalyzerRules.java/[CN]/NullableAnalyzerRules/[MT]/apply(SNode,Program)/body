{
  for (  SLanguage language : CollectionSequence.fromCollection(((SModelInternal)nodeToApply.getModel()).importedLanguageIds())) {
    LanguageRuntime languageRuntime=LanguageRegistry.getInstance().getLanguage(language.getQualifiedName());
    for (    jetbrains.mps.lang.dataFlow.framework.DataFlowConstructor rule : CollectionSequence.fromCollection(languageRuntime.getAspect(DataFlowAspectDescriptor.class).getConstructors(myAnalyzer.getClass()))) {
      myConceptRules.add(rule);
    }
  }
  for (  SNode descendant : SNodeOperations.getNodeDescendants(((SNode)nodeToApply),null,false,new SAbstractConcept[]{})) {
    String key=descendant.getConcept().getQualifiedName();
    if (myApplicableMap.containsKey(key)) {
      for (      DataFlowConstructor rule : myApplicableMap.get(key)) {
        if (rule.isApplicable(descendant)) {
          rule.performActions(program,descendant);
        }
      }
    }
    for (    jetbrains.mps.lang.dataFlow.framework.DataFlowConstructor rule : getRules(descendant)) {
      rule.performActions(program,descendant);
    }
  }
}
