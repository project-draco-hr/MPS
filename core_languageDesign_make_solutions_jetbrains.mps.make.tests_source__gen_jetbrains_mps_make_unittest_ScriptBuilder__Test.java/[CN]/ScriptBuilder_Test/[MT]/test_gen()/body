{
  ScriptBuilder scb=new ScriptBuilder();
  scb.withFacets(Sequence.fromIterable(Sequence.fromArray(facets)).select(new ISelector<IFacet,IFacet.Name>(){
    public IFacet.Name select(    IFacet f){
      return f.getName();
    }
  }
));
  scb.withTarget(new ITarget.Name("gen"));
  IScript sc=scb.toScript();
  Assert.assertNotNull(sc);
  Assert.assertTrue(sc.isValid());
  List<ITarget.Name> expected=ListSequence.fromListAndArray(new ArrayList<ITarget.Name>(),new ITarget.Name("cfg"),new ITarget.Name("gen"),new ITarget.Name("textgen"),new ITarget.Name("make"));
  Utils.assertSameSequence(expected,Sequence.fromIterable(sc.allTargets()).select(new ISelector<ITarget,ITarget.Name>(){
    public ITarget.Name select(    ITarget t){
      return t.getName();
    }
  }
));
}
