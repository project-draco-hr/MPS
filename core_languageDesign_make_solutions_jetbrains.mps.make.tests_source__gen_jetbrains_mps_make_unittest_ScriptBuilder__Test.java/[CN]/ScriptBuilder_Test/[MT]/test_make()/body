{
  ScriptBuilder scb=new ScriptBuilder();
  scb.withFacetNames(Sequence.fromIterable(Sequence.fromArray(facets)).<IFacet.Name>select(new ISelector<IFacet,IFacet.Name>(){
    public IFacet.Name select(    IFacet f){
      return f.getName();
    }
  }
));
  scb.withFinalTarget(new ITarget.Name("make"));
  IScript sc=scb.toScript();
  Assert.assertNotNull(sc);
  Assert.assertTrue(sc.isValid());
  List<ITarget.Name> expected=ListSequence.fromListAndArray(new ArrayList<ITarget.Name>(),new ITarget.Name("cfg"),new ITarget.Name("gen"),new ITarget.Name("textgen"),new ITarget.Name("make"));
  Utils.assertSameSequence(expected,Sequence.fromIterable(sc.allTargets()).<ITarget.Name>select(new ISelector<ITarget,ITarget.Name>(){
    public ITarget.Name select(    ITarget t){
      return t.getName();
    }
  }
));
}
