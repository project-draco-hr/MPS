{
  if (SNodeOperations.getContainingRoot(thisNode) == SNodeOperations.getContainingRoot(SLinkOperations.getTarget(thisNode,"library",false))) {
    return null;
  }
  SNode target=SNodeOperations.as(artifacts.toOriginalNode(SLinkOperations.getTarget(thisNode,"library",false)),"jetbrains.mps.buildScript.structure.BuildSource_JavaLibrary");
  for (  SNode artifact : artifacts.getArtifacts()) {
    if (BuildLayout_Node_Behavior.call_exports_6547494638219603457(artifact,target)) {
      artifacts.registerEntity(target,artifact);
      artifacts.needsFetch(SNodeOperations.getParent(thisNode));
      if (SNodeOperations.isInstanceOf(artifact,"jetbrains.mps.buildScript.structure.BuildLayout_JavaLibrary")) {
        return SLinkOperations.getTargets(SNodeOperations.cast(artifact,"jetbrains.mps.buildScript.structure.BuildLayout_JavaLibrary"),"children",true);
      }
 else {
        return Sequence.<SNode>singleton(artifact);
      }
    }
  }
  return null;
}
