{
  try {
    IFinder finder;
    if (SNodeOperations.isInstanceOf(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.Interface")) {
      finder=new ImplementingClasses_Finder();
    }
 else     if (SNodeOperations.isInstanceOf(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.ClassConcept") && SPropertyOperations.getBoolean(SNodeOperations.cast(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.ClassConcept"),"abstractClass")) {
      finder=new DerivedClasses_Finder();
    }
 else     if (SNodeOperations.isInstanceOf(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration") && SNodeOperations.isInstanceOf(SNodeOperations.getParent(ShowImplementations_Action.this.node),"jetbrains.mps.baseLanguage.structure.Interface") && SNodeOperations.hasRole(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.Interface","method")) {
      finder=new InterfaceMethodImplementations_Finder();
    }
 else     if (SNodeOperations.isInstanceOf(ShowImplementations_Action.this.node,"jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration") && SNodeOperations.isInstanceOf(SNodeOperations.getParent(ShowImplementations_Action.this.node),"jetbrains.mps.baseLanguage.structure.Classifier")) {
      finder=new DerivedMethods_Finder();
    }
 else {
      return;
    }
    final List<SNode> nodes=new ArrayList<SNode>();
    ListSequence.fromList(nodes).addElement(ShowImplementations_Action.this.node);
    SearchResults<SNode> searchResults=finder.find(new SearchQuery(ShowImplementations_Action.this.node,GlobalScope.getInstance()),new EmptyProgressIndicator());
    for (    SearchResult<SNode> searchResult : searchResults.getSearchResults()) {
      SNode foundNode=searchResult.getObject();
      if ((foundNode != null)) {
        ListSequence.fromList(nodes).addElement(foundNode);
      }
    }
    ModelAccess.instance().runWriteActionInCommandAsync(new Runnable(){
      public void run(){
        String title="Definition of " + ShowImplementations_Action.this.node.getPresentation();
        ShowImplementationComponent component=new ShowImplementationComponent(nodes,ShowImplementations_Action.this.context);
        JBPopup popup=JBPopupFactory.getInstance().createComponentPopupBuilder(component,component.getPrefferedFocusableComponent()).setRequestFocus(true).setProject(ShowImplementations_Action.this.project).setMovable(true).setResizable(true).setTitle(title).createPopup();
        popup.show(new RelativePoint(ShowImplementations_Action.this.cell.getEditor(),new Point(ShowImplementations_Action.this.cell.getX(),ShowImplementations_Action.this.cell.getY())));
        component.getPrefferedFocusableComponent().setRequestFocusEnabled(true);
        component.setPopup(popup);
      }
    }
,ShowImplementations_Action.this.project);
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "ShowImplementations",t);
    }
  }
}
