{
  final DiffEditorComponent result=new DiffEditorComponent(myContext,node){
    @Override public void configureBlock(    ChangesBlock block){
      JComponent panel=new JPanel();
      panel.setLayout(new GridLayout(1,2));
      panel.setSize(20,10);
      panel.add(new RootMergeDialog.ApplyMenu(block.getChanges()));
      panel.add(new RootMergeDialog.ExcludeMenu(block.getChanges()));
      block.setRollbackButton(panel);
    }
  }
;
  result.editNode(node,myContext);
  result.setReadOnly(true);
  JPanel panel=new JPanel(new BorderLayout());
  panel.add(new JLabel(revisionName),BorderLayout.NORTH);
  panel.add(result.getExternalComponent(),BorderLayout.CENTER);
  myTopComponent.add(panel);
  myBottomComponent.add(result.getInspector().getExternalComponent());
  result.addCellSelectionListener(myCellSelectionListener);
  result.getViewport().addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      if (myVeiwportSetInProgress) {
        return;
      }
      myVeiwportSetInProgress=true;
      result.synchronizeViewWith(myChange1EditorComponent);
      result.synchronizeViewWith(myResultEditorComponent);
      result.synchronizeViewWith(myChange2EditorComponent);
      myVeiwportSetInProgress=false;
    }
  }
);
  return result;
}
