{
  if (state.ordinal() <= myState.ordinal())   return;
  myState=state;
  ModelLoadResult res=NodeReadAccessCasterInEditor.runReadTransparentAction(new Computable<ModelLoadResult>(){
    public ModelLoadResult compute(){
      return UndoHelper.getInstance().runNonUndoableAction(new Computable<ModelLoadResult>(){
        public ModelLoadResult compute(){
          return doLoad(state,myModel);
        }
      }
);
    }
  }
);
  if (myModel != null) {
    myModel.setModelDescriptor(null);
  }
  myModel=res.getModel();
  myModel.setModelDescriptor(myDescriptor);
  myState=res.getState();
}
