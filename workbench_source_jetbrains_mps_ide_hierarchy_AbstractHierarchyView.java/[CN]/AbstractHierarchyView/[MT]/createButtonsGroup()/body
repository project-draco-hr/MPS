{
  GroupedToggleAction childrenAction=new GroupedToggleAction("Children Hierarchy","Show children hierarchy",Icons.CHILDREN_ICON,true){
    public void select(){
      myHierarchyTree.setParentHierarchy(false);
      myHierarchyTree.rebuildNow();
    }
  }
;
  GroupedToggleAction parentAction=new GroupedToggleAction("Parent Hierarchy","Show parent hierarchy",Icons.PARENT_ICON,false){
    public void select(){
      myHierarchyTree.setParentHierarchy(true);
      myHierarchyTree.rebuildNow();
    }
  }
;
  ToggleActionGroup toggleGroup=new ToggleActionGroup();
  toggleGroup.add(childrenAction);
  toggleGroup.add(parentAction);
  ToggleAction thisModelAction=new ToggleAction("Only This Model","Show hierarchy only for model",Icons.THIS_MODEL_ICON){
    private boolean mySelected=false;
    public boolean isSelected(    AnActionEvent e){
      return mySelected;
    }
    public void setSelected(    AnActionEvent e,    boolean state){
      mySelected=state;
      myHierarchyTree.setIsOnlyInOneModel(mySelected);
    }
  }
;
  BaseAction expandAllAction=new BaseAction("Expand all","Expand all nodes",jetbrains.mps.ide.findusages.view.icons.Icons.EXPAND_ICON){
    protected void doExecute(    AnActionEvent e){
      myHierarchyTree.expandAll();
    }
  }
;
  BaseAction collapseAllAction=new BaseAction("Collapse all","Collapse all nodes",jetbrains.mps.ide.findusages.view.icons.Icons.COLLAPSE_ICON){
    protected void doExecute(    AnActionEvent e){
      myHierarchyTree.collapseAll();
    }
  }
;
  BaseAction refreshAction=new BaseAction("Refresh","Refresh",Icons.REFRESH_ICON){
    protected void doExecute(    AnActionEvent e){
      myHierarchyTree.rebuildNow();
    }
  }
;
  return ActionUtils.groupFromActions(childrenAction,parentAction,thisModelAction,expandAllAction,collapseAllAction,refreshAction,createCloseAction());
}
