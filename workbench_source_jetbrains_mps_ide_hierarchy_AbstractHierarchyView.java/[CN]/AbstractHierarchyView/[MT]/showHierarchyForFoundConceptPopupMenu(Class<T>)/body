{
  JPopupMenu result=new JPopupMenu();
  result.add(new AbstractActionWithEmptyIcon("Show Hierarchy For Concept"){
    public void actionPerformed(    ActionEvent e){
      java.util.List<SNode> nodes=new ArrayList<SNode>();
      for (      SModelDescriptor modelDescriptor : myContext.getScope().getModelDescriptors()) {
        if (modelDescriptor.getStereotype().equals(SModelStereotype.JAVA_STUB))         continue;
        for (        INodeAdapter node : modelDescriptor.getSModel().getRootsAdapters()) {
          if (aClass.isInstance(node))           nodes.add(node.getNode());
        }
      }
      new ChooseItemWindow(getMPSProject().getComponent(Frame.class),nodes.toArray(new SNode[0]),new GoToNodeComponent(myContext){
        public void doChoose(        final SNode node){
          MPSProject project=getMPSProject();
          if (project != null) {
            final IOperationContext operationContext=project.createOperationContext();
            showConceptInHierarchy((T)node.getAdapter(),operationContext);
          }
        }
      }
);
    }
  }
).setBorder(null);
  return result;
}
