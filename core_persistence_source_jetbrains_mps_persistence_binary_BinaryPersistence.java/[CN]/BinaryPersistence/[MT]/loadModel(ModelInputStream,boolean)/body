{
  SModelHeader modelHeader=loadHeader(is);
  LazySModel model=new DefaultSModel(modelHeader.getModelReference(),modelHeader);
  BinaryPersistence bp=new BinaryPersistence(new RegularMetaModelInfo(),model);
  bp.loadModelProperties(is);
  NodesReader reader=new NodesReader(modelHeader.getModelReference(),interfaceOnly);
  List<Pair<SContainmentLink,jetbrains.mps.smodel.SNode>> roots=reader.readNodes(is);
  for (  Pair<SContainmentLink,jetbrains.mps.smodel.SNode> r : roots) {
    model.addRootNode(r.o2);
  }
  return new ModelLoadResult(model,reader.hasSkippedNodes() ? ModelLoadingState.INTERFACE_LOADED : ModelLoadingState.FULLY_LOADED);
}
