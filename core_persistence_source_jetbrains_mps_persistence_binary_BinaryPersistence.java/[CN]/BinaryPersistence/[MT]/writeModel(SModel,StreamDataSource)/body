{
  if (source.isReadOnly()) {
    throw new IOException("`" + source.getLocation() + "' is read-only");
  }
  ModelOutputStream os=null;
  try {
    os=new ModelOutputStream(source.openOutputStream());
    saveModel(model,os);
  }
  finally {
    FileUtil.closeFileSafe(os);
  }
}
