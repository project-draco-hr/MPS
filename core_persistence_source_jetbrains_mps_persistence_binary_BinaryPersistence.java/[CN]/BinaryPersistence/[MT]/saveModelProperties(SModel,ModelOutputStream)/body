{
  os.writeInt(HEADER);
  os.writeInt(STREAM_ID);
  os.writeModelReference(model.getReference());
  os.writeInt(model.getVersion());
  org.jetbrains.mps.openapi.model.SModel md=model.getModelDescriptor();
  os.writeBoolean((md instanceof GeneratableSModel) && ((GeneratableSModel)md).isDoNotGenerate());
  os.writeInt(0xabab);
  saveModuleRefList(model.importedLanguages(),os);
  saveModuleRefList(model.engagedOnGenerationLanguages(),os);
  saveModuleRefList(model.importedDevkits(),os);
  saveImports(model.importedModels(),os);
  saveImports(model.getAdditionalModelVersions(),os);
  os.writeInt(0xbaba);
}
