{
  if (is.readInt() != HEADER) {
    throw new IOException("bad stream, no header");
  }
  int streamId=is.readInt();
  if (streamId != STREAM_ID) {
    throw new IOException("bad stream, unknown version: " + Integer.toHexString(streamId));
  }
  SModelReference modelRef=is.readModelReference();
  BinaryModelHeader result=new BinaryModelHeader(modelRef);
  result.setVersion(is.readInt());
  result.setDoNotGenerate(is.readBoolean());
  if (is.readInt() != 0xabab) {
    throw new IOException("bad stream, no sync token");
  }
  return result;
}
