{
  String resolveInfo=targetNode == null ? null : targetNode.getName();
  SModel sourceModel=sourceNode.getModel();
  SModel targetModel=targetNode == null ? null : targetNode.getModel();
  String id=targetNode == null ? null : targetNode.getId();
  if (sourceModel == targetModel || targetModel == null) {
    return new SReference_old(role,sourceNode,id,resolveInfo,null,sourceModel.getUID());
  }
 else {
    String extResolveInfo=null;
    if (targetModel.isExternallyResolvable()) {
      extResolveInfo=ExternalResolver.getExternalResolveInfoFromTarget(targetNode);
    }
    return new SReference_old(role,sourceNode,id,resolveInfo,extResolveInfo,targetModel.getUID());
  }
}
