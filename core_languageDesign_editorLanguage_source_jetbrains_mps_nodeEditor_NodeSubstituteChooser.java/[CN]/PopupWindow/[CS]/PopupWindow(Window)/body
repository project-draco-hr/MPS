{
  super(owner);
  owner.addComponentListener(myComponentListener);
  myList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  myList.setFont(new TextLine("",null).getFont());
  myList.setBackground(UIManager.getColor("TextArea.selectionBackground").brighter());
  myList.addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent e){
      repaintPopupMenu();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          updatePatternEditor();
        }
      }
);
    }
    public void mouseClicked(    MouseEvent e){
      if (e.getClickCount() == 2) {
        ModelAccess.instance().runWriteActionInCommand(new Runnable(){
          public void run(){
            doSubstituteSelection();
          }
        }
);
      }
    }
  }
);
  myList.setCellRenderer(new NodeItemCellRenderer());
  add(myScroller);
  myScroller.getHorizontalScrollBar().setFocusable(false);
  myScroller.getVerticalScrollBar().setFocusable(false);
  myList.setFocusable(false);
  setSize(PREFERRED_WIDTH,PREFERRED_HEIGHT);
}
