{
  ensureNoConcurrentAccess();
  if (myReadAccessListenerStack.isEmpty()) {
    myReadAccessListener=null;
    myThread=null;
synchronized (READ_LOCK) {
      READ_LOCK.notifyAll();
    }
  }
 else {
    Set<SNode> nodesWhichChildCellDependsOn=myReadAccessListener.getNodesToDependOn();
    Set<SNodeProxy> refTargetsWhichCellDependsOn=myReadAccessListener.getRefTargetsToDependOn();
    myReadAccessListener=myReadAccessListenerStack.pop();
    myReadAccessListener.addNodesToDependOn(nodesWhichChildCellDependsOn);
    myReadAccessListener.addRefTargetsToDependOn(refTargetsWhichCellDependsOn);
  }
}
