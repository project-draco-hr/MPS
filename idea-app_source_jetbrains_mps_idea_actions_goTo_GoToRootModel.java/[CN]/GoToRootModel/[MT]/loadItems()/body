{
  final List<SNode> nodes=new ArrayList<SNode>();
  CommandProcessor.instance().executeLightweightCommand(new Runnable(){
    public void run(){
      List<SModelDescriptor> modelDescriptors=GlobalScope.getInstance().getModelDescriptors();
      for (      SModelDescriptor modelDescriptor : modelDescriptors) {
        if (SModelStereotype.JAVA_STUB.equals(modelDescriptor.getStereotype()))         continue;
        for (        SNode node : modelDescriptor.getSModel().getRoots()) {
          nodes.add(node);
        }
      }
    }
  }
);
  return nodes.toArray(new SNode[0]);
}
