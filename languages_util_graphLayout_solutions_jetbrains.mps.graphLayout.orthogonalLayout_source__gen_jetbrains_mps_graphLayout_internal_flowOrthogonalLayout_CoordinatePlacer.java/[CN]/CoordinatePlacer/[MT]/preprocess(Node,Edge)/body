{
  if (from == null) {
    return;
  }
  final Node source=from.getOpposite(node);
  int x=MapSequence.<Node,Point>fromMap(myCoordinates).get(source).x;
  int y=MapSequence.<Node,Point>fromMap(myCoordinates).get(source).y;
  Dart dart=ListSequence.<Dart>fromList(myEmbeddedGraph.getDarts(from)).findFirst(new IWhereFilter<Dart>(){
    public boolean accept(    Dart dart){
      return dart.getSource() == source;
    }
  }
);
  if (MapSequence.<Dart,Direction2D>fromMap(myDirections).get(dart) == Direction2D.RIGHT) {
    x+=MapSequence.<Edge,Integer>fromMap(myLenghts).get(from);
  }
  if (MapSequence.<Dart,Direction2D>fromMap(myDirections).get(dart) == Direction2D.LEFT) {
    x-=MapSequence.<Edge,Integer>fromMap(myLenghts).get(from);
  }
  if (MapSequence.<Dart,Direction2D>fromMap(myDirections).get(dart) == Direction2D.UP) {
    y+=MapSequence.<Edge,Integer>fromMap(myLenghts).get(from);
  }
  if (MapSequence.<Dart,Direction2D>fromMap(myDirections).get(dart) == Direction2D.DOWN) {
    y-=MapSequence.<Edge,Integer>fromMap(myLenghts).get(from);
  }
  MapSequence.<Node,Point>fromMap(myCoordinates).put(node,new Point(x,y));
}
