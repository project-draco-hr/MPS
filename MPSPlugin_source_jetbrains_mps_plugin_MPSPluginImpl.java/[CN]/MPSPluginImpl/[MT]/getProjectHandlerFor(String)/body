{
  if (projectPath == null) {
    return null;
  }
  checkAccess();
  ProjectManager projectManager=ProjectManager.getInstance();
  for (  Project project : projectManager.getOpenProjects()) {
    ProjectHandler handler=project.getComponent(ProjectHandler.class);
    if (handler != null && FileUtil.pathsEqual(projectPath,project.getBasePath())) {
      return handler;
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Handler for " + projectPath + " not found. Open projects:");
    for (    Project project : projectManager.getOpenProjects()) {
      String ideaProjectPath=project.getBasePath();
      ProjectHandler handler=project.getComponent(ProjectHandler.class);
      LOG.debug("  " + ideaProjectPath + (handler != null ? " (has handler)" : " (no handler)"));
    }
  }
  return null;
}
