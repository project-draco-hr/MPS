{
  Map<String,String> metadata=modelDescriptor.getMetaData();
  if (metadata.isEmpty())   return;
  IFile metadataFile=getMetadataFile(modelDescriptor.getModelFile());
  if (!metadataFile.exists()) {
    metadataFile.createNewFile();
    IOperationContext operationContext=modelDescriptor.getOperationContext();
    if (operationContext != null) {
      MPSVCSManager manager=operationContext.getProject().getComponent(MPSVCSManager.class);
      manager.addFilesToVCS(CollectionUtil.asList(metadataFile.toFile()));
    }
 else {
      LOG.warning("can't find an operation context for a model " + modelDescriptor);
    }
  }
  System.err.println("saving metadata");
  DefaultMetadataPersistence.save(metadataFile,metadata);
}
