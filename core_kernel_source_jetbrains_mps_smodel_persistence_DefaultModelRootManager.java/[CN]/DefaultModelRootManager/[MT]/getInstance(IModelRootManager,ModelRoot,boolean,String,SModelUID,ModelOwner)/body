{
  LOG.debug("Getting model " + modelUID + " from "+ fileName+ " with owner "+ owner);
  SModelRepository modelRepository=SModelRepository.getInstance();
  SModelDescriptor modelDescriptor=modelRepository.getModelDescriptor(modelUID);
  if (modelDescriptor != null) {
    modelRepository.addOwnerForDescriptor(modelDescriptor,owner);
    return modelDescriptor;
  }
 else {
    if (createStub) {
      modelDescriptor=new StubModelDescriptor(manager,FileSystem.getFile(fileName),modelUID);
    }
 else {
      modelDescriptor=new DefaultSModelDescriptor(manager,FileSystem.getFile(fileName),modelUID);
    }
    modelRepository.registerModelDescriptor(modelDescriptor,owner);
    return modelDescriptor;
  }
}
