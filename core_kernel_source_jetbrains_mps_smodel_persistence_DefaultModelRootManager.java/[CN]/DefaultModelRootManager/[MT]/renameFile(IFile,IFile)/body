{
  Project[] projects=ProjectManagerEx.getInstance().getOpenProjects();
  if (projects.length == 0) {
    MPSVCSManager.addFileLater(newFile.toFile());
    MPSVCSManager.removeFileLater(modelFile.toFile());
  }
 else {
    for (    Project project : projects) {
      MPSVCSManager mpsvcsManager=MPSVCSManager.getInstance(project);
      if (mpsvcsManager != null) {
        mpsvcsManager.deleteFilesAndRemoveFromVcs(Collections.singletonList(modelFile.toFile()));
        mpsvcsManager.addFilesToVcs(Collections.singletonList(newFile.toFile()));
      }
    }
  }
}
