{
  String pathPrefix=root.getPrefix();
  String path=root.getPath();
  if (pathPrefix == null)   pathPrefix="";
  if (pathPrefix.length() > 0 && !uid.getLongName().startsWith(pathPrefix)) {
    LOG.error("Model uid \"" + uid + "\" doesn't match name prefix \""+ pathPrefix+ "\"");
  }
  String filenameSuffix=uid.getLongName().substring(pathPrefix.length());
  if (uid.hasStereotype()) {
    filenameSuffix=filenameSuffix + '@' + uid.getStereotype();
  }
  IFile modelFile=FileSystem.getFile(path + File.separator + filenameSuffix.replace('.',File.separatorChar)+ MPSExtentions.DOT_MODEL);
  return modelFile;
}
