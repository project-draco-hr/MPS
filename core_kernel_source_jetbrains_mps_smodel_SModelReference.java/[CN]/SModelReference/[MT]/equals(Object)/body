{
  if (this == o)   return true;
  if (o == null || getClass() != o.getClass())   return false;
  SModelReference that=(SModelReference)o;
  if (!myModelId.equals(that.myModelId))   return false;
  if (getModuleReference() != null && that.getModuleReference() != null && !getModuleReference().equals(that.getModuleReference()))   return false;
  if (getModuleReference() == null || that.getModuleReference() == null)   return myModelId.isGloballyUnique() && that.myModelId.isGloballyUnique();
  return true;
}
