{
  ModelAccess.assertLegalWrite();
  if (!(module instanceof Solution || module instanceof Language || module instanceof DevKit)) {
    return;
  }
  SModelFqName fq=getModelFqName(module);
  if (isDeleted) {
    ProjectStructureSModelDescriptor descriptor=myModels.get(fq);
    if (descriptor != null) {
      removeModel(descriptor);
    }
  }
 else   if (myModels.containsKey(fq)) {
    ProjectStructureSModelDescriptor descriptor=myModels.get(fq);
    descriptor.dropModel();
  }
 else {
    createModel(module);
  }
}
