{
  ModelAccess.assertLegalWrite();
  Set<SModelFqName> old=new HashSet<SModelFqName>(myModels.keySet());
  for (  IModule module : MPSModuleRepository.getInstance().getAllModules()) {
    SModelFqName fq=getModelFqName(module);
    if (myModels.containsKey(fq)) {
      old.remove(fq);
      ProjectStructureSModelDescriptor descriptor=myModels.get(fq);
      descriptor.dropModel();
    }
 else {
      createModel(module);
    }
  }
}
