{
  AnnotationInstance annotationInstance=prepareAnnotationInstance(x);
  MemberValuePair[] pairs=x.memberValuePairs();
  if (pairs != null) {
    for (    MemberValuePair pair : pairs) {
      AnnotationInstanceValue value=AnnotationInstanceValue.newInstance(myCurrentModel);
      value.setValue(processExpressionRefl(pair.value));
      SNode valueNode=value.getNode();
      if (pair.binding == null) {
        valueNode.addReference(myTypesProvider.createErrorReference(AnnotationInstanceValue.KEY,new String(pair.name),valueNode));
      }
 else {
        valueNode.addReference(myTypesProvider.createMethodReference(pair.binding,AnnotationInstanceValue.KEY,valueNode));
      }
      annotationInstance.addValue(value);
    }
  }
  return annotationInstance;
}
