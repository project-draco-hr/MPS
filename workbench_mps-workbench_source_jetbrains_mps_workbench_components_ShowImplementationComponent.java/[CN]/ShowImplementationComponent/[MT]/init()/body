{
  setLayout(new BorderLayout());
  myEditorPanel=myEditor.getComponenet();
  add(myEditorPanel,BorderLayout.CENTER);
  JPanel northPanel=new JPanel(new BorderLayout());
  add(northPanel,BorderLayout.NORTH);
  JPanel toolbarPanel=new JPanel(new FlowLayout());
  toolbarPanel.add(createToolbar().getComponent());
  this.myNodeChooser=new JComboBox(myItemToNode.keySet().toArray());
  myNodeChooser.setRenderer(new DefaultListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    final Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      updateControls();
      ModelAccess.instance().runReadAction(new Runnable(){
        @Override public void run(){
          SNode root=myItemToNode.get((String)value).getContainingRoot();
          setIcon(IconManager.getIconFor(root,true));
          setText(root.getPresentation());
        }
      }
);
      return this;
    }
  }
);
  toolbarPanel.add(myNodeChooser);
  toolbarPanel.add(myCountLanel);
  northPanel.add(toolbarPanel,BorderLayout.LINE_START);
  northPanel.add(myLocationLabel,BorderLayout.LINE_END);
  setPreferredSize(new Dimension(600,400));
}
