{
  ModelAccess.instance().runWriteInEDT(new Runnable(){
    @Override public void run(){
      int selectedIndex=myNodeChooser.getSelectedIndex();
      if (selectedIndex < 0) {
        return;
      }
      IOperationContext operationContext=myEditor.getEditor().getOperationContext();
      SNode selectedNode=myOriginalNodePointers.get(selectedIndex).resolve(MPSModuleRepository.getInstance());
      if (selectedNode == null) {
        return;
      }
      NavigationSupport.getInstance().openNode(operationContext,selectedNode,true,true);
      NavigationSupport.getInstance().selectInTree(operationContext,selectedNode,false);
      if (myClosePopup) {
        myPopup.cancel();
      }
    }
  }
);
}
