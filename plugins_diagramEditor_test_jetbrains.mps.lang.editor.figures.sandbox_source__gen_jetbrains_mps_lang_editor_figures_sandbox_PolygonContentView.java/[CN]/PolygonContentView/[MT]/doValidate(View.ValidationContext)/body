{
  super.doValidate(context);
  Vector prefSize=prop(PREFERRED_SIZE).get();
  int width=prefSize.x;
  int height=FOLDING_SIZE;
  for (  View nextChild : ListSequence.fromList(children())) {
    if (nextChild == myPolyLine || !((nextChild.visible().get()))) {
      continue;
    }
    Rectangle childBounds=nextChild.bounds().get();
    width=Math.max(width,childBounds.dimension.x + FOLDING_SIZE);
    height+=childBounds.dimension.y;
  }
  if (height < prefSize.y) {
    height=prefSize.y;
  }
  int yOffset=bounds().get().origin.y + FOLDING_SIZE / 2;
  int xOrigin=bounds().get().origin.x;
  for (  View nextChild : ListSequence.fromList(children())) {
    if (nextChild == myPolyLine || !((nextChild.visible().get()))) {
      continue;
    }
    Rectangle childBounds=nextChild.bounds().get();
    nextChild.moveTo(new Vector(xOrigin + (width - childBounds.dimension.x) / 2,yOffset));
    yOffset+=childBounds.dimension.y;
  }
  myWidth.set(width);
  myHeight.set(height);
  if (!(myPolyLine.valid().get())) {
    super.validate();
  }
}
