{
  if (myLoggingHandler == null) {
    myLoggingHandler=new MpsAppenderSkeleton(){
      @Override protected void append(      @NotNull Priority level,      @NotNull String categoryName,      @NotNull String message,      @Nullable Throwable t,      @Nullable Object hintObject){
        if (mySessionContext == null)         return;
        if (hintObject instanceof SNode) {
          mySessionContext.keepTransientModel(((SNode)hintObject).getModel(),false);
        }
 else         if (hintObject instanceof NodeWithContext) {
          SNode node=((NodeWithContext)hintObject).getNode().resolve(MPSModuleRepository.getInstance());
          if (node != null) {
            mySessionContext.keepTransientModel(node.getModel(),false);
          }
        }
      }
    }
;
  }
  return myLoggingHandler;
}
