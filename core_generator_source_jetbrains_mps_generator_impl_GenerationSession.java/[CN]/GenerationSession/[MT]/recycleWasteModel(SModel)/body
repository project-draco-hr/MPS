{
  SModel md=model.getModelDescriptor();
  if (model instanceof TransientSModel) {
    ttrace.push("recycling",false);
    ((jetbrains.mps.smodel.SModelInternal)model).disposeFastNodeFinder();
    if (myDiscardTransients && !mySessionContext.isTransientModelToKeep(model)) {
      mySessionContext.getModule().removeModel(md);
    }
    ttrace.pop();
  }
}
