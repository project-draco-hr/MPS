{
  final SModel model;
  if (enclosingNode != null) {
    model=enclosingNode.getModel();
  }
 else   if (referenceNode != null) {
    model=referenceNode.getModel();
    enclosingNode=referenceNode.getParent();
  }
 else {
    model=null;
  }
  final SNode enclosingNode_=enclosingNode;
  final SearchScopeStatus[] status=new SearchScopeStatus[1];
  CommandProcessor.instance().executeLightweightCommand(new Runnable(){
    public void run(){
      status[0]=getReferentSearchScope_intern(model,enclosingNode_,referenceNode,referenceNodeConcept,linkRole,linkTarget,scope);
    }
  }
);
  return status[0];
}
