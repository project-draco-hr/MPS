{
  Map<Node,Integer> layers=new NodeMap<Integer>(g);
  int cur=0;
  for (int i=0; i < numInLayer.length; i++) {
    for (int j=0; j < numInLayer[i]; j++) {
      MapSequence.<Node,Integer>fromMap(layers).put(g.getNode(cur),i);
      cur++;
    }
  }
  return layers;
}
