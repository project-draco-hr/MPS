{
  SNode currentNode=node;
  ConceptRegistry registry=ConceptRegistry.getInstance();
  while (currentNode != null) {
    jetbrains.mps.smodel.runtime.ConstraintsDescriptor descriptor=registry.getConstraintsDescriptor(currentNode.getConceptFqName());
    if (!descriptor.canBeAncestor(currentNode,childNode,childConcept,context,checkingNodeContext)) {
      return false;
    }
    currentNode=currentNode.getParent();
  }
  return true;
}
