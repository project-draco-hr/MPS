{
  for (  SReference reference : ListSequence.fromList(SNodeOperations.getReferences(node))) {
    SModel targetModel=SNodeOperations.getModel(SLinkOperations.getTargetNode(reference));
    if (neq_5vd2f2_a0b0a0d(targetModel,containerModel)) {
      SModel scopeModel=GlobalScope.getInstance().getModelDescriptor(targetModel.getReference());
      if (scopeModel != null && neq_5vd2f2_a0a1a1a0a3(scopeModel.getSModel(),targetModel)) {
        String resolveInfo=SLinkOperations.getResolveInfo(reference);
        if ((resolveInfo == null || resolveInfo.length() == 0)) {
          resolveInfo=jetbrains.mps.util.SNodeOperations.getResolveInfo(SLinkOperations.getTargetNode(reference));
        }
        node.setReference(SLinkOperations.getRole(reference),new DynamicReference(SLinkOperations.getRole(reference),node,scopeModel.getReference(),resolveInfo));
      }
    }
  }
}
