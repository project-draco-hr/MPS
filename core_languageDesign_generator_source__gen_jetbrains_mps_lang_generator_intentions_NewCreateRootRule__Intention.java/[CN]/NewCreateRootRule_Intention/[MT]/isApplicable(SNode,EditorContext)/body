{
  SNode annotation=SLinkOperations.getTarget(node,AttributesRolesUtil.childRoleFromAttributeRole("rootTemplateAnnotation"),true);
  if (annotation == null) {
    return false;
  }
  if (SLinkOperations.getTarget(annotation,"applicableConcept",false) != null) {
    return false;
  }
  List<SNode> configs=SModelOperations.getRoots(SNodeOperations.getModel(node),"jetbrains.mps.lang.generator.structure.MappingConfiguration");
  if (ListSequence.fromList(configs).isEmpty()) {
    return false;
  }
  SNode usage=ListSequence.fromList(configs).findFirst(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return ListSequence.fromList(SLinkOperations.getTargets(it,"createRootRule",true)).findFirst(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return SLinkOperations.getTarget(it,"templateNode",false) == node;
        }
      }
) != null;
    }
  }
);
  return usage == null;
}
