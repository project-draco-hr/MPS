{
  if (binding instanceof ProblemBinding) {
    SNode varReference=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.UnresolvedNameReference");
    SPropertyOperations.set(varReference,"resolveName",new String(((ProblemBinding)binding).name));
    return varReference;
  }
  SNode target=myTypesProvider.getRaw(binding);
  if (!(SNodeOperations.isInstanceOf(target,"jetbrains.mps.baseLanguage.structure.VariableDeclaration"))) {
    return null;
  }
  SNode variable=SNodeOperations.cast(target,"jetbrains.mps.baseLanguage.structure.VariableDeclaration");
  SNode result;
  if (SNodeOperations.isInstanceOf(variable,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration")) {
    SNode reference=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.VariableReference");
    reference.setReference(SReference.create("variableDeclaration",reference,variable,SPropertyOperations.getString(variable,"name")).getRole(),SReference.create("variableDeclaration",reference,variable,SPropertyOperations.getString(variable,"name")));
    result=reference;
  }
 else   if (SNodeOperations.isInstanceOf(variable,"jetbrains.mps.baseLanguage.structure.ParameterDeclaration")) {
    SNode parameterReference=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.VariableReference");
    SLinkOperations.setTarget(parameterReference,"variableDeclaration",SNodeOperations.cast(variable,"jetbrains.mps.baseLanguage.structure.ParameterDeclaration"),false);
    SNodeOperations.getReference(parameterReference,SLinkOperations.findLinkDeclaration("jetbrains.mps.baseLanguage.structure.VariableReference","variableDeclaration")).setResolveInfo(SPropertyOperations.getString(variable,"name"));
    result=parameterReference;
  }
 else {
    throw new JavaConverterException("Unknown VariableDeclaration subclass.");
  }
  return result;
}
