{
  SNode result=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.CastExpression");
  SLinkOperations.setTarget(result,"expression",processExpressionRefl(x.expression),true);
  if (x.type != null) {
    if (x.type.resolvedType != null) {
      SLinkOperations.setTarget(result,"type",createType(x.type.resolvedType),true);
    }
 else     if (x.type instanceof NameReference && ((NameReference)x.type).binding instanceof TypeBinding) {
      SLinkOperations.setTarget(result,"type",createType((TypeBinding)((NameReference)x.type).binding),true);
    }
  }
  return result;
}
