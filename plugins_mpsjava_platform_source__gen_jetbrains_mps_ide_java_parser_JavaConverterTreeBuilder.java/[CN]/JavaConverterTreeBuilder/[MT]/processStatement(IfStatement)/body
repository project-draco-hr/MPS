{
  SNode expr=processExpressionRefl(x.condition);
  SNode thenStmt=processStatementRefl(x.thenStatement);
  SNode elseStmt=processStatementRefl(x.elseStatement);
  SNode result=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.IfStatement");
  SLinkOperations.setTarget(result,"condition",expr,true);
  if ((elseStmt != null)) {
    SLinkOperations.setTarget(result,"ifFalseStatement",elseStmt,true);
  }
  SNode ifTrue=getStatementListFromStatement(thenStmt,x.thenStatement);
  getBlock(ifTrue)._2(x.sourceStart);
  SLinkOperations.setTarget(result,"ifTrue",ifTrue,true);
  return result;
}
