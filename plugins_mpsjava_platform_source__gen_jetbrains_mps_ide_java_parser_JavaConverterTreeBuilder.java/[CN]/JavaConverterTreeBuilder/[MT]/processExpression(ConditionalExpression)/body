{
  SNode ifTest=processExpressionRefl(x.condition);
  SNode thenExpr=processExpressionRefl(x.valueIfTrue);
  SNode elseExpr=processExpressionRefl(x.valueIfFalse);
  SNode tOp=SModelOperations.createNewNode(myCurrentModel,null,"jetbrains.mps.baseLanguage.structure.TernaryOperatorExpression");
  SLinkOperations.setTarget(tOp,"condition",ifTest,true);
  SLinkOperations.setTarget(tOp,"ifTrue",thenExpr,true);
  SLinkOperations.setTarget(tOp,"ifFalse",elseExpr,true);
  return tOp;
}
