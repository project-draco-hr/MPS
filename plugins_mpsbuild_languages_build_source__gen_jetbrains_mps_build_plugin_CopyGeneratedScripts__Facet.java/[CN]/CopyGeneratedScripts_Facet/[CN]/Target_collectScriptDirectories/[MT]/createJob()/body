{
  return new IJob.Stub(){
    public IResult execute(    final Iterable<IResource> input,    final IJobMonitor monitor,    final IPropertiesAccessor pa){
      Iterable<IResource> _output_ixa0pj_a0b=null;
switch (0) {
case 0:
        pa.global().properties(Target_collectScriptDirectories.this.getName(),CopyGeneratedScripts_Facet.Target_collectScriptDirectories.Parameters.class).fileNameToDestination(MapSequence.fromMap(new HashMap<SModelReference,Map<String,String>>()));
      for (      IResource resource : Sequence.fromIterable(input)) {
        final GResource gres=(GResource)resource;
        ModelAccess.instance().runReadAction(new Runnable(){
          public void run(){
            MapSequence.fromMap(pa.global().properties(Target_collectScriptDirectories.this.getName(),CopyGeneratedScripts_Facet.Target_collectScriptDirectories.Parameters.class).fileNameToDestination()).put(gres.model().getSModelReference(),MapSequence.fromMap(new HashMap<String,String>()));
            Iterable<SNode> buildScriptDescendants=ListSequence.fromList(SModelOperations.getRoots(gres.status().getOutputModel(),null)).where(new IWhereFilter<SNode>(){
              public boolean accept(              SNode it){
                Object userObject=it.getUserObject(GenerationUtil.SCRIPTS_TARGET_PROPERTY);
                return userObject != null && userObject instanceof String;
              }
            }
);
            for (            SNode descendant : Sequence.fromIterable(buildScriptDescendants)) {
              String fileName=TextGenerator.getFileName(descendant);
              MapSequence.fromMap(MapSequence.fromMap(pa.global().properties(Target_collectScriptDirectories.this.getName(),CopyGeneratedScripts_Facet.Target_collectScriptDirectories.Parameters.class).fileNameToDestination()).get(gres.model().getSModelReference())).put(fileName,((String)descendant.getUserObject(GenerationUtil.SCRIPTS_TARGET_PROPERTY)));
            }
          }
        }
);
        _output_ixa0pj_a0b=Sequence.fromIterable(_output_ixa0pj_a0b).concat(Sequence.fromIterable(Sequence.<IResource>singleton(resource)));
      }
default :
    return new IResult.SUCCESS(_output_ixa0pj_a0b);
}
}
}
;
}
