{
  JavaModuleFacet facet=module.getFacet(JavaModuleFacet.class);
  if (facet == null) {
    return null;
  }
  IClassPathItem classPathItem;
  ModuleDescriptor descriptor=module.getModuleDescriptor();
  if (facet.isCompileInMPS() || descriptor != null && !(descriptor.getAdditionalJavaStubPaths().isEmpty())) {
    classPathItem=JavaModuleOperations.createClassPathItem(facet.getClassPath(),JavaTraceInfoResourceProvider.class.getName());
  }
 else {
    classPathItem=CommonPaths.getMPSClassPath();
  }
  if (classPathItem == null) {
    return null;
  }
  return classPathItem.getResource(resourceName);
}
