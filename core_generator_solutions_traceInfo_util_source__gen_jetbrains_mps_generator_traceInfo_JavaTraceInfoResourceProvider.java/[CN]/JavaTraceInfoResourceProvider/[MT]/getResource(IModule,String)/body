{
  IClassPathItem classPathItem;
  ModuleDescriptor descriptor=module.getModuleDescriptor();
  if (module.isCompileInMPS() || descriptor != null && !(descriptor.getStubModelEntries().isEmpty())) {
    classPathItem=module.getClassPathItem();
  }
 else {
    classPathItem=CommonPaths.getMPSClassPath();
  }
  if (classPathItem == null) {
    return null;
  }
  return classPathItem.getResource(resourceName);
}
