{
  boolean enabled=false;
  if (myRefactoring.isApplicableToModel()) {
    SModelDescriptor modelDescriptor=context.getModel();
    if (modelDescriptor != null) {
      enabled=myRefactoring.isApplicableToModel(modelDescriptor);
    }
  }
 else {
    SNode node=context.getNode();
    if (node != null) {
      enabled=myRefactoring.isApplicable(node);
    }
  }
  setEnabled(enabled);
  setVisible(enabled);
}
