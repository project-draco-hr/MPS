{
  boolean enabled=false;
  if (myRefactoring.getRefactoringTarget() == RefactoringTarget.MODEL) {
    SModelDescriptor modelDescriptor=context.getModel();
    if (modelDescriptor != null) {
      enabled=myRefactoring.isApplicableToModel(modelDescriptor);
    }
  }
 else {
    SNode node=context.getNode();
    if (node != null) {
      enabled=myRefactoring.isApplicableWRTConcept(node);
    }
  }
  setEnabled(enabled);
  setVisible(enabled);
}
