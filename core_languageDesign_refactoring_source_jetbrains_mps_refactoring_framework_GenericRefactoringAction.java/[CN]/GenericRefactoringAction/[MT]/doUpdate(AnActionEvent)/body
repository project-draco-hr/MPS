{
  ActionEventData data=new ActionEventData(e);
  boolean enabled=false;
  if (myRefactoring.getRefactoringTarget() == RefactoringTarget.MODEL) {
    SModelDescriptor modelDescriptor=data.getModelDescriptor();
    if (modelDescriptor != null) {
      enabled=myRefactoring.isApplicableToModel(modelDescriptor);
    }
  }
 else {
    SNode node=data.getNode();
    if (node != null) {
      enabled=myRefactoring.isApplicableWRTConcept(node);
    }
  }
  setEnabled(e.getPresentation(),enabled);
}
