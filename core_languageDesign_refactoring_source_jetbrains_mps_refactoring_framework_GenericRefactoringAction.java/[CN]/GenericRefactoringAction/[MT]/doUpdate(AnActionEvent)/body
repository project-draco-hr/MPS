{
  ActionEventData data=new ActionEventData(e);
  boolean enabled=true;
  if (myRefactoring.getRefactoringTarget() == RefactoringTarget.NODE) {
    SNode node=getNode(data);
    if (node != null) {
      enabled=myRefactoring.isApplicableWRTConcept(node);
    }
  }
 else   if (myRefactoring.getRefactoringTarget() == RefactoringTarget.MODEL) {
    SModelDescriptor modelDescriptor=data.getModelDescriptor();
    if (modelDescriptor != null) {
      enabled=myRefactoring.isApplicableToModel(modelDescriptor);
    }
  }
  setEnabledState(e.getPresentation(),enabled);
}
