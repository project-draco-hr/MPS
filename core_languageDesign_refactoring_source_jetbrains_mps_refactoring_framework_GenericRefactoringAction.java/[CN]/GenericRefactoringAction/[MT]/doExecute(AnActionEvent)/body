{
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      SModelRepository.getInstance().saveAll();
    }
  }
);
  RefactoringContext context=new RefactoringContext(myRefactoring);
  context.setCurrentOperationContext(e.getData(MPSDataKeys.OPERATION_CONTEXT));
  context.setSelectedModel(e.getData(MPSDataKeys.MODEL_DESCRIPTOR));
  context.setSelectedNode(e.getData(MPSDataKeys.SNODE));
  context.setSelectedNodes(e.getData(MPSDataKeys.SNODES));
  context.setSelectedModule(e.getData(MPSDataKeys.MODULE));
  context.setSelectedMPSProject(e.getData(MPSDataKeys.MPS_PROJECT));
  context.setCurrentScope(e.getData(MPSDataKeys.SCOPE));
  context.setCurrentOperationContext(e.getData(MPSDataKeys.OPERATION_CONTEXT));
  new RefactoringProcessor().execute(myRefactoring,context);
}
