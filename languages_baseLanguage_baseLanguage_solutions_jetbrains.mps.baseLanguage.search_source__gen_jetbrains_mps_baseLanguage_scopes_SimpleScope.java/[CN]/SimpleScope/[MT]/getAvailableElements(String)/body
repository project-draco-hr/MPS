{
  boolean isEverything=isEmpty(prefix);
  List<SNode> result=new ArrayList<SNode>();
  for (  SNode node : nodes) {
    if ((node != null)) {
      if (isEverything) {
        result.add(node);
      }
 else {
        String presentation=getReferenceText(null,node);
        if (presentation != null && presentation.startsWith(prefix)) {
          ListSequence.fromList(result).addElement(node);
        }
      }
    }
  }
  return result;
}
