{
  super(role,sourceNode);
  myMature=false;
  myNodeRef=new WeakReference<SNode>(targetNode);
  CommandProcessor.instance().addCommandListener(new CommandAdapter(){
    public void commandFinished(    @NotNull CommandEvent event){
      CommandProcessor.instance().removeCommandListener(this);
      SNode node=myNodeRef.get();
      if (node != null && node.isRegistered()) {
        myMature=true;
        setTargetModelUID(node.getModel().getUID());
        setTargetNodeId(node.getSNodeId().toString());
      }
    }
  }
);
}
