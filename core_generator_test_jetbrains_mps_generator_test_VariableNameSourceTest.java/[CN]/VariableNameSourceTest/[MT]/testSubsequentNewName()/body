{
  VariableNameSource ns=new VariableNameSource("ctx",new AtomicInteger(0));
  myErrors.checkThat(ns.getActualName(),CoreMatchers.equalTo("ctx"));
  myErrors.checkThat(ns.getNewName(),CoreMatchers.equalTo("ctx"));
  myErrors.checkThat(ns.newName(),CoreMatchers.equalTo("ctx1"));
  myErrors.checkThat(ns.newName(),CoreMatchers.equalTo("ctx2"));
  myErrors.checkThat(ns.hasNewName(),CoreMatchers.equalTo(true));
  VariableNameSource ns2=ns.next();
  myErrors.checkThat(ns2.getActualName(),CoreMatchers.equalTo("ctx2"));
  myErrors.checkThat(ns2.hasNewName(),CoreMatchers.equalTo(false));
  myErrors.checkThat(ns2.newName(),CoreMatchers.equalTo("ctx3"));
}
