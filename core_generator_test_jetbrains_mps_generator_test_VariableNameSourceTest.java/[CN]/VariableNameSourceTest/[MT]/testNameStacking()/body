{
  VariableNameSource ns=new VariableNameSource("x",new AtomicInteger(0));
  ArrayList<String> names=new ArrayList<>();
  nestedUse(3,ns.next(),names);
  myErrors.checkThat(ns.hasNewName(),CoreMatchers.equalTo(false));
  myErrors.checkThat(ns.getActualName(),CoreMatchers.equalTo("x"));
  myErrors.checkThat(names,CoreMatchers.equalTo(Arrays.asList("x","x1","x1","x2","x2","x3","x2","x1","x")));
}
