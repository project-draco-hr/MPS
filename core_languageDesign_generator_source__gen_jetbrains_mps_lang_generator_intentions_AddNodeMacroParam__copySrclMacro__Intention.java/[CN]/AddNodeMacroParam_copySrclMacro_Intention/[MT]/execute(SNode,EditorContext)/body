{
  SNode nodeMacro=QueriesUtil.addNodeMacro(node);
  SNode copySrcListMacro=SConceptOperations.createNewNode("jetbrains.mps.lang.generator.structure.CopySrcListMacro",null);
  SNodeOperations.replaceWithAnother(nodeMacro,copySrcListMacro);
  SNode referentValue=SConceptOperations.createNewNode("jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodesQuery",null);
  SNode dotExpression=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.DotExpression",null);
  SNode linkAccess=SConceptOperations.createNewNode("jetbrains.mps.lang.smodel.structure.SLinkListAccess",null);
  SLinkOperations.setTarget(linkAccess,"link",this.myParameter,false);
  SLinkOperations.setTarget(dotExpression,"operation",linkAccess,true);
  SLinkOperations.setTarget(dotExpression,"operand",SConceptOperations.createNewNode("jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode",null),true);
  SNode expressionStatement=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement",null);
  SLinkOperations.setTarget(expressionStatement,"expression",dotExpression,true);
  SLinkOperations.addChild(SLinkOperations.getTarget(referentValue,"body",true),"statement",expressionStatement);
  SLinkOperations.setTarget(copySrcListMacro,"sourceNodesQuery",referentValue,true);
  editorContext.selectAndSetCaret(copySrcListMacro,1);
}
