{
  if (!(a.getConcept().getQualifiedName().equals(b.getConcept().getQualifiedName()))) {
    return;
  }
  HashSet<String> roles=new HashSet<String>();
  roles.addAll(SNodeOperations.getChildRoles(a));
  roles.addAll(SNodeOperations.getChildRoles(b));
  for (  String role : roles) {
    Iterator<? extends SNode> iterator1=a.getChildren(role).iterator();
    Iterator<? extends SNode> iterator2=b.getChildren(role).iterator();
    while (iterator1.hasNext() && iterator2.hasNext()) {
      NodesMatcher.match(iterator1.next(),iterator2.next(),map);
    }
  }
  map.put(a,b);
}
