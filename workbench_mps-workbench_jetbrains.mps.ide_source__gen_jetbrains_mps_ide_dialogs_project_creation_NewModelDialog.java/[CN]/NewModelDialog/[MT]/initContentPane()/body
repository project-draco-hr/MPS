{
  JPanel mainPanel=new JPanel(new GridLayoutManager(6,1));
  mainPanel.setPreferredSize(new Dimension(200,50));
  GridConstraints constraints=new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_NORTHWEST,GridConstraints.FILL_HORIZONTAL,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null);
  mainPanel.add(new JLabel("Model root:"),constraints);
  constraints.setRow(constraints.getRow() + 1);
  mainPanel.add(myModelRoots,constraints);
  DefaultComboBoxModel model=new DefaultComboBoxModel();
  for (  ModelRoot root : myModule.getModelRoots()) {
    if (root.canCreateModels()) {
      model.addElement(root);
    }
 else     if (myModule instanceof Language && root instanceof FileBasedModelRoot) {
      model.addElement(root);
    }
  }
  if (model.getSize() == 0) {
    model.addElement("<NO MODEL ROOTS FOR SELECTED NAMESPACE>");
  }
  myModelRoots.setRenderer(new DefaultListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    Object object,    int i,    boolean b,    boolean b1){
      if (object instanceof ModelRoot) {
        object=((ModelRoot)object).getPresentation();
      }
      return super.getListCellRendererComponent(list,object,i,b,b1);
    }
  }
);
  myModelRoots.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      check();
      myModelStorageFormat.setVisible(myModelRoots.getSelectedItem() instanceof DefaultModelRoot);
    }
  }
);
  myModelRoots.setModel(model);
  myModelName.setText((myNamespace.length() == 0 ? myNamespace : myNamespace + "."));
  constraints.setRow(constraints.getRow() + 1);
  mainPanel.add(new JLabel("Model name:"),constraints);
  JPanel nameAndStereotype=new JPanel(new GridLayoutManager(1,3,new Insets(0,0,0,0),-1,-1));
  GridConstraints nameConstraints=new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_NORTHWEST,GridConstraints.FILL_HORIZONTAL,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null);
  nameAndStereotype.add(myModelName,nameConstraints);
  myModelName.addKeyListener(new KeyAdapter(){
    @Override public void keyReleased(    KeyEvent event){
      check();
    }
  }
);
  final JLabel atSign=new JLabel();
  nameConstraints.setColumn(nameConstraints.getColumn() + 1);
  nameConstraints.setHSizePolicy(GridConstraints.SIZEPOLICY_FIXED);
  nameAndStereotype.add(atSign,nameConstraints);
  List<String> stereotypes=new LinkedList<String>(Arrays.asList(SModelStereotype.values));
  if (!(myModule instanceof Generator)) {
    stereotypes.remove(SModelStereotype.GENERATOR);
  }
  myModelStereotype.setEditable(true);
  myModelStereotype.setModel(new DefaultComboBoxModel(stereotypes.toArray(new String[stereotypes.size()])));
  myModelStereotype.addKeyListener(new KeyAdapter(){
    @Override public void keyReleased(    KeyEvent event){
      check();
    }
  }
);
  myModelStereotype.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent p0){
      check();
      atSign.setText((myModelStereotype.getSelectedItem().equals(SModelStereotype.NONE) ? "" : "@"));
    }
  }
);
  nameConstraints.setColumn(nameConstraints.getColumn() + 1);
  nameAndStereotype.add(myModelStereotype,nameConstraints);
  constraints.setRow(constraints.getRow() + 1);
  mainPanel.add(nameAndStereotype,constraints);
  constraints.setRow(constraints.getRow() + 1);
  mainPanel.add(new JLabel("Storage format:"),constraints);
  constraints.setRow(constraints.getRow() + 1);
  myModelStorageFormat.setModel(new DefaultComboBoxModel(getStorageFormats()));
  myModelStorageFormat.setRenderer(new ColoredListCellRenderer(){
    protected void customizeCellRenderer(    JList p0,    Object p1,    int p2,    boolean p3,    boolean p4){
      if (!(p1 instanceof ModelFactory)) {
        return;
      }
      append(((ModelFactory)p1).getFormatTitle());
    }
  }
);
  myModelStorageFormat.setSelectedItem(PersistenceFacade.getInstance().getDefaultModelFactory());
  new DefaultComboBoxModel(getStorageFormats());
  mainPanel.add(myModelStorageFormat,constraints);
  myContentPane.add(mainPanel,BorderLayout.CENTER);
}
