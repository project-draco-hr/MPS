{
  Iterable<ModelChange> changes=Sequence.fromIterable(Sequence.fromArray(getRoots())).translate(new ITranslator2<SNodeId,ModelChange>(){
    public Iterable<ModelChange> translate(    SNodeId r){
      return (r == null ? myModelDifferenceDialog.getMetadataChanges() : myModelDifferenceDialog.getChangesForRoot(r));
    }
  }
);
  ModelChange.rollbackChanges(changes);
  after();
}
