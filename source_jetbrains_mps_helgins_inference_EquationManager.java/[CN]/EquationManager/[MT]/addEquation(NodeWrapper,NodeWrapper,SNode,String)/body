{
  SNode rhsRepresentator=getRepresentator(fromWrapper(lhs));
  SNode lhsRepresentator=getRepresentator(fromWrapper(rhs));
  if (rhsRepresentator == lhsRepresentator)   return;
  RuntimeTypeVariable varRhs=RuntimeSupport.getTypeVar(rhsRepresentator);
  RuntimeTypeVariable varLhs=RuntimeSupport.getTypeVar(lhsRepresentator);
  if (varRhs != null) {
    processEquation(fromNode(rhsRepresentator),lhsRepresentator,nodeToCheck);
    return;
  }
 else {
    if (varLhs != null) {
      processEquation(fromNode(lhsRepresentator),rhsRepresentator,nodeToCheck);
      return;
    }
  }
  if (!compareNodes(rhsRepresentator,lhsRepresentator)) {
    IErrorReporter errorReporter;
    if (errorString != null) {
      errorReporter=new SimpleErrorReporter(errorString);
    }
 else {
      errorReporter=new EquationErrorReporter(this,"incompatible types: ",rhsRepresentator," and ",lhsRepresentator,"");
    }
    processErrorEquation(lhsRepresentator,rhsRepresentator,errorReporter,nodeToCheck);
    return;
  }
  Set<Pair<SNode,SNode>> childEQs=createChildEquations(rhsRepresentator,lhsRepresentator);
  for (  Pair<SNode,SNode> eq : childEQs) {
    addEquation(fromNode(eq.o2),fromNode(eq.o1),nodeToCheck,errorString);
  }
}
