{
  if (ourRefsFixingMode)   return null;
  int li=fid.lastIndexOf('#');
  int fi=fid.indexOf('#');
  if (fi != li)   return null;
  ModuleReference module=null;
  String mid=fid.substring(fi + 1);
  String stereo=fid.substring(0,fi);
  for (  SModelDescriptor m : GlobalScope.getInstance().getModelDescriptors(mid)) {
    if (m.getStereotype().equals(stereo)) {
      module=m.getModule().getModuleReference();
    }
  }
  if (module == null)   return null;
  return SModelId.foreign(stereo,module.getModuleId().toString(),mid);
}
