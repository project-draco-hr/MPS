{
  Project[] projects=ProjectManager.getInstance().getOpenProjects();
  if (projects.length != 0)   return projects[0];
  final Project[] result=new Project[]{null};
  final ProjectManager manager=ProjectManager.getInstance();
  manager.addProjectManagerListener(new ProjectManagerAdapter(){
    @Override public void projectOpened(    Project project){
      manager.removeProjectManagerListener(this);
      result[0]=project;
    }
  }
);
  while (result[0] == null)   flushAWT();
  return result[0];
}
