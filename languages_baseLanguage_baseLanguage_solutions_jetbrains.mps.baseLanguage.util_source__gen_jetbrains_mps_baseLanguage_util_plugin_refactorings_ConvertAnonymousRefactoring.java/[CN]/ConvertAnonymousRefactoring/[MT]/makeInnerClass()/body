{
  SNode innerClass=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ClassConcept",null);
  ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.getAncestor(this.myClassToRefactor,"jetbrains.mps.baseLanguage.structure.Classifier",false,false),"member",true)).addElement(innerClass);
  SPropertyOperations.set(innerClass,"name",this.myNameForInnerClass);
  SLinkOperations.setTarget(innerClass,"visibility",SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.PrivateVisibility",null),true);
  this.chooseNonStaticForInnerClass(innerClass);
  this.copyChildren(this.myClassToRefactor,innerClass);
  this.addSuperToInnerClass(innerClass);
  this.makeInnerConstructor(innerClass);
  this.addFieldsToInnerClass(innerClass);
  this.addTypeVariablesToInnerClass(innerClass);
  return innerClass;
}
