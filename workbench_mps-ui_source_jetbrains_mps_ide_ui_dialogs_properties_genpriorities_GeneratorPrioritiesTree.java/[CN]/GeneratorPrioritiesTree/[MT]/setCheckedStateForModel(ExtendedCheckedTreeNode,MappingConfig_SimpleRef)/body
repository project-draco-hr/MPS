{
  SModelReference modRef=PersistenceFacade.getInstance().createModelReference(mapping.getModelUID());
  ((jetbrains.mps.smodel.SModelReference)modRef).update();
  Enumeration children=node.children();
  while (children.hasMoreElements()) {
    ExtendedCheckedTreeNode child=(ExtendedCheckedTreeNode)children.nextElement();
    if (child.getUserObject().equals(modRef)) {
      if (mapping.getNodeID().equals("*")) {
        child.setChecked(true);
      }
 else {
        setCheckedStateForNode(child,mapping);
      }
    }
  }
}
