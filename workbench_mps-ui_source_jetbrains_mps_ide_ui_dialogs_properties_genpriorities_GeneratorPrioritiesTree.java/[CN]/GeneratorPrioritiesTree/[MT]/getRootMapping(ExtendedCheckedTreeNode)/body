{
  if (!(node.isChecksUnder())) {
    return new MappingConfig_AbstractRef();
  }
  if (node.isChecked()) {
    return new MappingConfig_RefAllGlobal();
  }
  List<ExtendedCheckedTreeNode> chChildren=getChildrenWithChecks(node);
  if (chChildren.size() == 1) {
    return getGeneratorMappingRef(chChildren.get(0));
  }
 else {
    MappingConfig_RefSet result=new MappingConfig_RefSet();
    for (    ExtendedCheckedTreeNode child : chChildren) {
      result.getMappingConfigs().add(getGeneratorMappingRef(child));
    }
    return result;
  }
}
