{
  myRootNode=new RootCheckedTreeNode("Generators");
  final boolean isRight=!isLeft;
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      initTree(descriptor);
      if (isRight) {
        for (        SModuleReference ref : descriptor.getDepGenerators()) {
          Generator gen=(Generator)MPSModuleRepository.getInstance().getModule(ref.getModuleId());
          if (gen != null)           initTree(gen.getModuleDescriptor());
        }
      }
    }
  }
);
  if (mapping != null)   setCheckedStateForRoot(myRootNode,mapping);
  myCheckboxTree=new CheckboxTree(getCheckboxTreeCellRenderer(),myRootNode,new CheckPolicy(true,true,false,true));
  myCheckboxTree.addFocusListener(new FocusListener(){
    @Override public void focusGained(    FocusEvent e){
      if (myCheckboxTree.getSelectionCount() == 0)       myCheckboxTree.setSelectionRow(0);
    }
    @Override public void focusLost(    FocusEvent e){
    }
  }
);
  myCheckboxTree.setRootVisible(isRight);
  expandAllRows(myCheckboxTree);
  checkChildren(myCheckboxTree);
  setCheckedUnder(myRootNode);
}
