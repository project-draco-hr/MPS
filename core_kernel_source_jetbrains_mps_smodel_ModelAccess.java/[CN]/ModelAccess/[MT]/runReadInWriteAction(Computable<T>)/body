{
  checkWriteAccess();
  mySharedReadInWriteLock.writeLock().lock();
  mySharedReadInWriteMode=true;
  mySharedReadInWriteLock.writeLock().unlock();
  try {
    return c.compute();
  }
  finally {
    mySharedReadInWriteLock.writeLock().lock();
    mySharedReadInWriteMode=false;
    mySharedReadInWriteLock.writeLock().unlock();
  }
}
