{
  assertLegalRead();
  if (canWrite()) {
    return null;
  }
  ConcurrentMap<K,V> cache=(ConcurrentMap<K,V>)myRepositoryStateCaches.get(clazz);
  if (cache != null) {
    return cache;
  }
  cache=new ConcurrentHashMap<K,V>();
  ConcurrentHashMap<K,V> existingCache=(ConcurrentHashMap<K,V>)myRepositoryStateCaches.putIfAbsent(clazz,(ConcurrentMap<Object,Object>)cache);
  return existingCache != null ? existingCache : cache;
}
