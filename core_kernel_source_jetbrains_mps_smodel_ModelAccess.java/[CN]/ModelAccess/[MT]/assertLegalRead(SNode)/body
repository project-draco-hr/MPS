{
  if (node.isDisposed()) {
    if (!ourErroredModels.contains(node.getModelName_internal())) {
      ourErroredModels.add(node.getModelName_internal());
      System.err.println("CRITICAL: INVALID OPERATION DETECTED");
      System.err.println("model: " + node.getModelName_internal());
      new IllegalModelAccessError("Accessing disposed node").printStackTrace(System.err);
    }
  }
  ModelAccess modelAccess=ModelAccess.instance();
  if (!modelAccess.canRead() && !modelAccess.myIndexingThreads.contains(Thread.currentThread())) {
    throw new IllegalModelAccessError("You can read model only inside read actions");
  }
}
