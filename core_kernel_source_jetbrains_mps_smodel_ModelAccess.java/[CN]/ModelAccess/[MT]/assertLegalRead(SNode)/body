{
  ModelAccess modelAccess=ModelAccess.instance();
  if (!modelAccess.canRead() && !modelAccess.myIndexingThreads.contains(Thread.currentThread())) {
    throw new IllegalModelAccessError("You can read model only inside read actions");
  }
}
