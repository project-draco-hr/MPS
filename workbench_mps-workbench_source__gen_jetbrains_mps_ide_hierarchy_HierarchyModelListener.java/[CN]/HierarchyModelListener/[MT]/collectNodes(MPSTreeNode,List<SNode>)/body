{
  for (  MPSTreeNode child : target) {
    if (child.getUserObject() instanceof INodeAdapter) {
      INodeAdapter nodeAdapter=(INodeAdapter)child.getUserObject();
      list.add(nodeAdapter.getNode());
    }
    collectNodes(child,list);
  }
}
