{
  List<FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight> elements=new ArrayList<FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight>();
  s=s.trim();
  final ListIterator<Object> it=getElementIterator(0);
  while (it.hasNext()) {
    final FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight o=new FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight(it.next(),s,getComparator());
    if (!(o.weights.isEmpty())) {
      elements.add(o);
    }
  }
  FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight cur=null;
  ArrayList<FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight> current=new ArrayList<FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight>();
  for (  FileStructurePopup.MyTreeSpeedSearch.ObjectWithWeight element : elements) {
    if (cur == null) {
      cur=element;
      current.add(cur);
      continue;
    }
    final int i=element.compareWith(cur);
    if (i == 0) {
      current.add(element);
    }
 else     if (i < 0) {
      cur=element;
      current.clear();
      current.add(cur);
    }
  }
  return (current.isEmpty() ? null : findClosestTo(myInitialPsiElement,current));
}
