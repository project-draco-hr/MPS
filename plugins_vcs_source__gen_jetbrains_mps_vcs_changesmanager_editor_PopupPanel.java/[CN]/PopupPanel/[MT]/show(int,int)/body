{
  JLayeredPane layeredPane=myEditor.getRootPane().getLayeredPane();
  setLocation(SwingUtilities.convertPoint(myEditor,x,y,layeredPane));
  setVisible(true);
  layeredPane.add(this,JLayeredPane.POPUP_LAYER);
  myPainter.setGroupHighlighted(myChangeGroup,true);
  myToolbar.updateActionsImmediately();
  setSize(getPreferredSize());
  int overflow=((int)getBounds().getMaxX()) - layeredPane.getWidth();
  if (overflow > 0) {
    setLocation(Math.max(0,getX() - overflow),getY());
  }
  layeredPane.validate();
  layeredPane.repaint(getBounds());
  addListeners();
}
