{
  TabColorProvider provider=Extensions.getRootArea().getExtensionPoint(TabColorProvider.EP_NAME).getExtension();
  if (provider != null) {
    provider.tabClosed(this);
  }
  SModelRepository.getInstance().removeModelRepositoryListener(myModelRemovedListener);
  SModelRepository.getInstance().removeModelRepositoryListener(myModelAddedListener);
  for (  SModelReference r : myImportantNodes.keySet()) {
    SModelDescriptor d=SModelRepository.getInstance().getModelDescriptor(r);
    if (d == null)     continue;
    d.removeModelListener(myRootRemovedListener);
  }
  myImportantNodes.clear();
  for (  SModelReference modelRef : myModelAdditionListeners.keySet()) {
    for (    SModelListener listener : myModelAdditionListeners.get(modelRef)) {
      SModelDescriptor model=SModelRepository.getInstance().getModelDescriptor(modelRef);
      if (model == null)       continue;
      model.removeModelListener(listener);
    }
  }
  myModelAdditionListeners.clear();
}
