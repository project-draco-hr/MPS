{
  for (  FilePath filePath : myFilePathsToDelete) {
    AbstractVcs vcs=myManager.getVcsFor(filePath);
    if (vcs != null) {
      CheckinEnvironment ci=vcs.getCheckinEnvironment();
      if (ci != null) {
        ci.scheduleMissingFileForDeletion(Collections.singletonList(filePath));
      }
    }
 else {
      final VirtualFile file=filePath.getVirtualFile();
      if (file != null) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            ApplicationManager.getApplication().runWriteAction(new Runnable(){
              public void run(){
                try {
                  file.delete(this);
                }
 catch (                IOException e) {
                  LOG.error(e);
                }
              }
            }
);
          }
        }
);
      }
    }
  }
}
