{
  SModel model=null;
  for (  SNode out : result.getPositions().keySet()) {
    SNode input=out;
    while (input != null && input.getModel().getSModelReference().hasStereotype()) {
      input=(SNode)input.getUserObject(TemplateQueryContext.ORIGINAL_INPUT_NODE);
    }
    if (input != null) {
      PositionInfo positionInfo=result.getPositions().get(out);
      positionInfo.setFileName(outputNode.getName() + ".java");
      info.addNode(input.getId(),positionInfo);
      model=input.getModel();
    }
  }
  return model;
}
