{
  SNode current=expr;
  while ((current != null) && TypeChecker.getInstance().getRuntimeSupport().coerce_(TypeChecker.getInstance().getTypeOf(current),HUtil.createMatchingPatternByConceptFQName("jetbrains.mps.baseLanguage.dates.structure.PeriodType"),false) == null) {
    current=(SNodeOperations.isInstanceOf(SNodeOperations.getParent(current),"jetbrains.mps.baseLanguage.structure.Expression") ? SNodeOperations.cast(SNodeOperations.getParent(current),"jetbrains.mps.baseLanguage.structure.Expression") : null);
  }
  return current;
}
