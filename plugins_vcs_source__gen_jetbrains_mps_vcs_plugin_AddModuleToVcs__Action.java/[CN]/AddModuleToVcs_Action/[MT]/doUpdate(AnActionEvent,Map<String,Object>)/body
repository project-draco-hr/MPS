{
  try {
{
      Presentation presentation=event.getPresentation();
      presentation.setText(String.format("Add %s to VCS",(((List<IModule>)MapSequence.<String,Object>fromMap(_params).get("modules")).size() == 1 ? "Module" : "Modules")));
      boolean enabled=ListSequence.<VirtualFile>fromList(VcsActionsHelper.getUnversionedFilesForModules(((Project)MapSequence.<String,Object>fromMap(_params).get("project")),((List<IModule>)MapSequence.<String,Object>fromMap(_params).get("modules")))).isNotEmpty();
      presentation.setEnabled(enabled);
      presentation.setVisible(enabled);
    }
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action doUpdate method failed. Action:" + "AddModuleToVcs",t);
    }
    this.disable(event.getPresentation());
  }
}
