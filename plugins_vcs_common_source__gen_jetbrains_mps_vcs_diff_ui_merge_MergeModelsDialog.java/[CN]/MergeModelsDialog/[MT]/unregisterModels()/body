{
  final jetbrains.mps.project.Project p=ProjectHelper.toMPSProject(myProject);
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      if (myMetadataMergeSession != null) {
        DiffTemporaryModule.unregisterModel(myMetadataMergeSession.getResultModel(),p);
        MetadataUtil.dispose(myMetadataMergeSession.getRepositoryModel());
        MetadataUtil.dispose(myMetadataMergeSession.getMyModel());
        MetadataUtil.dispose(myMetadataMergeSession.getBaseModel());
      }
      DiffTemporaryModule.unregisterModel(myMergeSession.getResultModel(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getRepositoryModel(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getMyModel(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getBaseModel(),p);
    }
  }
);
}
