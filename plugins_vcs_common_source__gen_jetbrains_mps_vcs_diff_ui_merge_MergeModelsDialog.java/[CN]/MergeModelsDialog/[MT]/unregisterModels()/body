{
  final jetbrains.mps.project.Project p=ProjectHelper.toMPSProject(myProject);
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      if (myMetadataMergeSession != null) {
        DiffTemporaryModule.unregisterModel(myMetadataMergeSession.getResultModel().getModelDescriptor(),p);
        MetadataUtil.dispose(myMetadataMergeSession.getRepositoryModel().getModelDescriptor());
        MetadataUtil.dispose(myMetadataMergeSession.getMyModel().getModelDescriptor());
        MetadataUtil.dispose(myMetadataMergeSession.getBaseModel().getModelDescriptor());
      }
      DiffTemporaryModule.unregisterModel(myMergeSession.getResultModel().getModelDescriptor(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getRepositoryModel().getModelDescriptor(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getMyModel().getModelDescriptor(),p);
      DiffTemporaryModule.unregisterModel(myMergeSession.getBaseModel().getModelDescriptor(),p);
    }
  }
);
}
