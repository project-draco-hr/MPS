{
  applyMetadataChanges();
  MergeConfirmation.showMergeConfirmationAndTakeAction(this,myMergeSession,Sequence.fromIterable(myMergeSession.getAllChanges()).where(new IWhereFilter<ModelChange>(){
    public boolean accept(    ModelChange ch){
      return !(ch instanceof MetadataChange);
    }
  }
),myMetadataMergeSession,(myMetadataMergeSession == null ? null : myMetadataMergeSession.getAllChanges()),new _FunctionTypes._void_P0_E0(){
    public void invoke(){
      mergeNonConflictingRoots();
    }
  }
,new _FunctionTypes._void_P0_E0(){
    public void invoke(){
      if (saveModel(getResultModelWithFixedId())) {
        unregisterModels();
        close(OK_EXIT_CODE);
      }
    }
  }
);
}
