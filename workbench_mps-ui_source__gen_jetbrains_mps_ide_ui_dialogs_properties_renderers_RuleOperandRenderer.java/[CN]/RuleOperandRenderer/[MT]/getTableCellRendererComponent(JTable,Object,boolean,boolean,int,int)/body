{
  if (value == null) {
    return new JLabel("Error");
  }
  if (value instanceof MappingConfig_RefAllLocal) {
    return new JLabel("*");
  }
 else   if (value instanceof MappingConfig_RefAllGlobal) {
    return new JLabel("*.*");
  }
 else   if (value instanceof MappingConfig_SimpleRef) {
    MappingConfig_SimpleRef refC=(MappingConfig_SimpleRef)value;
    SModelReference modelRef=jetbrains.mps.smodel.SModelReference.fromString(refC.getModelUID());
    String nodeName;
    if (refC.getNodeID().equals("*")) {
      nodeName=NameUtil.shortNameFromLongName(SModelStereotype.withoutStereotype(modelRef.getModelName())) + ".*";
    }
 else {
      final SNodeReference p=new SNodePointer(refC.getModelUID(),refC.getNodeID());
      nodeName=ModelAccess.instance().runReadAction(new Computable<String>(){
        @Override public String compute(){
          SModel model=SNodeOperations.getModelFromNodeReference((SNodePointer)p);
          SNode node=p.resolve(MPSModuleRepository.getInstance());
          if (model == null || node == null) {
            return null;
          }
          String modelName=NameUtil.shortNameFromLongName(SNodeOperations.getModelLongName(model));
          return modelName + "." + node.getName();
        }
      }
);
      if (nodeName == null) {
        String nodeString=((SNodePointer)p).toString();
        return new JLabel("NOT FOUND: " + nodeString);
      }
    }
    return new JLabel(nodeName);
  }
 else   if (value instanceof MappingConfig_ExternalRef) {
    MappingConfig_ExternalRef refC=(MappingConfig_ExternalRef)value;
    SModuleReference generatorReference=refC.getGenerator();
    if (generatorReference == null) {
      return new JLabel("NOT FOUND: <bad generator reference>");
    }
    SModuleReference moduleRef=generatorReference;
    Generator generator=(Generator)MPSModuleRepository.getInstance().getModule(moduleRef);
    if (generator == null) {
      String genString=generatorReference.getModuleName();
      return new JLabel("NOT FOUND: " + genString);
    }
    JLabel label=new JLabel(generator.getAlias());
    label.add(getTableCellRendererComponent(null,refC.getMappingConfig(),false,false,0,0));
    return label;
  }
 else   if (value instanceof MappingConfig_RefSet) {
    JPanel panel=new JPanel(new GridBagLayout());
    for (    MappingConfig_AbstractRef mappingRef : ((MappingConfig_RefSet)value).getMappingConfigs()) {
      panel.add(getTableCellRendererComponent(null,mappingRef,false,false,0,0));
    }
    return panel;
  }
  return new JLabel("");
}
