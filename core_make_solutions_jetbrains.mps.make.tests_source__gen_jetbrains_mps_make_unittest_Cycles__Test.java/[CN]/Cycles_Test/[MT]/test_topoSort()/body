{
  Graph<String> graph=new Graph<String>();
  GraphAnalyzer<String> cd=graph.getCycleDetector();
  graph.addEdges("A","B","C","H","I");
  graph.addEdges("B","C","D","E","G");
  graph.addEdges("C","D","G","K");
  graph.addEdges("D","E","H");
  graph.addEdges("E","F");
  graph.addEdges("F","G");
  graph.addEdges("G","H","I","J");
  graph.addEdges("H","I");
  graph.addEdges("I","K","J");
  List<List<String>> cycles=cd.findCycles(graph.getVertices());
  Assert.assertSame(0,ListSequence.fromList(cycles).count());
  final Queue<String> q=QueueSequence.fromQueueAndArray(new LinkedList<String>(),"A","B","C","D","E","F","G","H","I","J","K");
  Sequence.fromIterable(cd.topologicalSort(graph.getVertices())).visitAll(new IVisitor<String>(){
    public void visit(    String v){
      Assert.assertEquals(QueueSequence.fromQueue(q).removeFirstElement(),v);
    }
  }
);
  final Queue<String> qq=QueueSequence.fromQueueAndArray(new LinkedList<String>(),"A","B","C","D","E","F","G","H","I","J","K");
  Sequence.fromIterable(cd.topologicalSort(Sequence.fromIterable(graph.getVertices()).sort(new ISelector<String,Comparable<?>>(){
    public Comparable<?> select(    String v){
      return v;
    }
  }
,false))).visitAll(new IVisitor<String>(){
    public void visit(    String v){
      Assert.assertEquals(QueueSequence.fromQueue(qq).removeFirstElement(),v);
    }
  }
);
}
