{
  if (!(ErrorReportUtil.shouldReportError(errorNode))) {
    return;
  }
  String id=(ruleNode == null ? null : ruleNode.getNodeId().toString());
  String modelId=(ruleNode == null ? null : ruleNode.getModel() + "");
  SimpleErrorReporter reporter=new SimpleErrorReporter(errorNode,errorString,modelId,id,MessageStatus.ERROR,messageTarget);
  if (intentionProvider != null) {
    reporter.setIntentionProvider(intentionProvider);
  }
  Set<IErrorReporter> reporters=MapSequence.fromMap(myNodesToErrors).get(errorNode);
  if (reporters == null) {
    reporters=new HashSet<IErrorReporter>(1);
    MapSequence.fromMap(myNodesToErrors).put(errorNode,reporters);
  }
  SetSequence.fromSet(reporters).addElement(reporter);
}
