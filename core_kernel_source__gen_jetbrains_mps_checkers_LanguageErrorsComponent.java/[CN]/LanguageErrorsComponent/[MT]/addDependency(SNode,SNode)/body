{
  if (dependency == null) {
    return;
  }
  Set<SNode> errorNodes=MapSequence.fromMap(myDependenciesToNodes).get(dependency);
  if (errorNodes == null) {
    errorNodes=new HashSet<SNode>(1);
    MapSequence.fromMap(myDependenciesToNodes).put(dependency,errorNodes);
  }
  SetSequence.fromSet(errorNodes).addElement(currentNode);
  Set<SNode> additional=MapSequence.fromMap(myNodesToDependecies).get(currentNode);
  if (additional == null) {
    additional=new HashSet<SNode>(1);
    MapSequence.fromMap(myNodesToDependecies).put(currentNode,additional);
  }
  SetSequence.fromSet(additional).addElement(dependency);
  addModelListener(SNodeOperations.getModel(dependency));
}
