{
  myLinkDeclaration=getSNode().getLinkDeclaration(role.toString());
  if (myLinkDeclaration == null) {
    LOG.error("Can't find a link declaration " + role.toString() + " in "+ getSNode());
    getSNode().getLinkDeclaration(role.toString());
    return;
  }
  myGenuineLinkDeclaration=SModelUtil_new.getGenuineLinkDeclaration(myLinkDeclaration);
  if (myGenuineLinkDeclaration == null) {
    LOG.error("Can't find a link declaration for " + myLinkDeclaration);
    return;
  }
  myGenuineRole=myGenuineLinkDeclaration.getRole();
  myIsAggregation=myGenuineLinkDeclaration.getMetaClass() == LinkMetaclass.aggregation;
  Cardinality sourceCardinality=myGenuineLinkDeclaration.getSourceCardinality();
  myIsCardinality0=(sourceCardinality == Cardinality._0__1 || sourceCardinality == Cardinality._0__n);
  myIsCardinality1=(sourceCardinality == Cardinality._1 || sourceCardinality == Cardinality._1__n);
}
