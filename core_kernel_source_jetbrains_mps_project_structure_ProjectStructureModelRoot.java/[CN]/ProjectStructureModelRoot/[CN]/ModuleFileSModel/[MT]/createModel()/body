{
  final jetbrains.mps.smodel.SModel model=new jetbrains.mps.smodel.SModel(getReference());
  model.addLanguage(BootstrapLanguages.PROJECT);
  final IFile file=getSource().getFile();
  final ModuleDescriptor moduleDesc=ModulesMiner.getInstance().loadModuleDescriptor(file);
  new ProjectStructureBuilder(moduleDesc,file,model){
    @Override public Iterable<org.jetbrains.mps.openapi.model.SModelReference> loadReferences(    SNode module,    ModuleDescriptor descriptor){
      Set<org.jetbrains.mps.openapi.model.SModelReference> result=new HashSet<org.jetbrains.mps.openapi.model.SModelReference>();
      for (      ModelRootDescriptor modelRootDescriptor : descriptor.getModelRootDescriptors()) {
        loadModels(result,modelRootDescriptor,descriptor);
      }
      return result;
    }
  }
.convert();
  return model;
}
