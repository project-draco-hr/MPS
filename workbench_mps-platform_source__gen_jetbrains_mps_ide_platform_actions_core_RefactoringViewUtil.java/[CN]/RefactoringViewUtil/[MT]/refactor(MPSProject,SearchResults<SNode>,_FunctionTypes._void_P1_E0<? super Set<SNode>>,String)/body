{
  RefactoringAccessEx.getInstance().showRefactoringView(mpsProject.getProject(),new RefactoringViewAction(){
    public void performAction(    final RefactoringViewItem refactoringViewItem){
      mpsProject.getRepository().getModelAccess().executeCommand(new Runnable(){
        public void run(){
          Iterable<SNode> includedNodes;
          if (refactoringViewItem instanceof RefactoringViewItem.RefactoringViewItemEx) {
            List<SNodeReference> nodeRefs=as_y6hz2r_a0a0a0b0a0a0a0a0a0a1a0a0b(refactoringViewItem,RefactoringViewItem.RefactoringViewItemEx.class).getIncludedResultNodes();
            includedNodes=ListSequence.fromList(nodeRefs).select(new ISelector<SNodeReference,SNode>(){
              public SNode select(              SNodeReference it){
                return it.resolve(mpsProject.getRepository());
              }
            }
);
          }
 else {
            includedNodes=usagesToShow.getResultObjects();
          }
          toExecuteWithIncluded.invoke(SetSequence.fromSetWithValues(new HashSet<SNode>(),Sequence.fromIterable(includedNodes).where(new IWhereFilter<SNode>(){
            public boolean accept(            SNode it){
              return it != null;
            }
          }
)));
        }
      }
);
      refactoringViewItem.close();
    }
  }
,usagesToShow,false,header);
}
