{
  Set<SModelDescriptor> modelDescriptors=new LinkedHashSet<SModelDescriptor>();
  for (  SModelReference m : getModels()) {
    modelDescriptors.add(project.getScope().getModelDescriptor(m));
  }
  if (modelDescriptors.isEmpty()) {
    throw new IllegalGeneratorConfigurationException("can't execute test configuration " + getName());
  }
  IModule module=null;
  for (  IModule m : MPSModuleRepository.getInstance().getAllModules()) {
    if (m.getOwnModelDescriptors().containsAll(modelDescriptors)) {
      module=m;
      break;
    }
  }
  if (module == null) {
    throw new IllegalGeneratorConfigurationException("there is no module that can be used to generate models " + modelDescriptors);
  }
  List<SModel> models=new ArrayList<SModel>();
  if (fullRegeneration) {
    models.addAll(modelDescriptors);
  }
 else {
    models.addAll(GenerationFacade.getModifiedModels(modelDescriptors,new ProjectOperationContext(project)));
  }
  return new GenParameters(models,module);
}
