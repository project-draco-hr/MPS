{
  ModelAccess.assertLegalRead();
  if (node == null || jetbrains.mps.util.SNodeOperations.isDisposed(node))   return;
synchronized (myLock) {
    SNodePointer nodePointer=new SNodePointer(node);
    Pair<TypeCheckingContext,List<ITypeContextOwner>> contextWithOwners=myTypeCheckingContexts.get(nodePointer);
    if (contextWithOwners != null) {
      List<ITypeContextOwner> owners=contextWithOwners.o2;
      owners.remove(owner);
      if (owners.isEmpty()) {
        contextWithOwners.o1.dispose();
        myTypeCheckingContexts.remove(nodePointer);
      }
    }
  }
}
