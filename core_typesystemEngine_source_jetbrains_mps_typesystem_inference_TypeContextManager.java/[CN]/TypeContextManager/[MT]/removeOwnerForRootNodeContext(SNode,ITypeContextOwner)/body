{
  if (node.isDisposed())   return;
synchronized (myLock) {
    ModelAccess.instance().runReadAction(new Runnable(){
      @Override public void run(){
        Pair<TypeCheckingContext,List<ITypeContextOwner>> contextWithOwners=myTypeCheckingContexts.get(new SNodePointer(node));
        if (contextWithOwners != null) {
          List<ITypeContextOwner> owners=contextWithOwners.o2;
          owners.remove(owner);
          if (owners.isEmpty()) {
            contextWithOwners.o1.dispose();
            myTypeCheckingContexts.remove(new SNodePointer(node));
          }
        }
      }
    }
);
  }
}
