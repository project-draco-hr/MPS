{
  PersistenceRegistry.getInstance().disableFastFindUsages();
  double projectStepsFraction=0.3;
  int projectStepsCount=myManager.projectStepsCount();
  int languageStepsCount=myManager.languageStepsCount();
  progress.setFraction(0);
  while (executeSingleStep(myManager.nextProjectStep())) {
    progress.setFraction(progress.getFraction() + projectStepsFraction / projectStepsCount);
  }
  progress.setFraction(projectStepsFraction);
  while (executeSingleStep(myManager.nextLanguageStep())) {
    progress.setFraction(progress.getFraction() + (1.0 - projectStepsFraction) / languageStepsCount);
  }
  progress.setFraction(1.0);
  addElementToMigrationList("Saving changed models... Please wait.");
  ModelAccess.instance().runWriteInEDT(new Runnable(){
    public void run(){
      MPSModuleRepository.getInstance().saveAll();
    }
  }
);
  addElementToMigrationList("Done!");
  mySuccess=mySuccess && !(myManager.isMigrationRequired());
  myFinished=true;
  PersistenceRegistry.getInstance().enableFastFindUsages();
}
