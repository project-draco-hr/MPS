{
  if (result instanceof MigrationManager.Finished) {
    return false;
  }
  if (result instanceof MigrationManager.Error) {
    mySuccess=false;
    return false;
  }
  if (result instanceof MigrationManager.Conflict) {
    mySuccess=false;
    return false;
  }
  if (result instanceof MigrationManager.Step) {
    final String step=((MigrationManager.Step)result).getDescription();
    final DefaultListModel model=(DefaultListModel)myList.getModel();
    ThreadUtils.runInUIThreadAndWait(new Runnable(){
      @Override public void run(){
        model.addElement(step);
        myList.ensureIndexIsVisible(model.indexOf(step));
        myList.repaint();
      }
    }
);
    ThreadUtils.runInUIThreadAndWait(new Runnable(){
      @Override public void run(){
        mySuccess=((MigrationManager.Step)result).execute();
      }
    }
);
    return mySuccess;
  }
 else {
    throw new IllegalArgumentException("Unknown step type: " + result.getClass().getSimpleName());
  }
}
