{
  myModel.getRootNodes().iterator();
  myModel.enforceFullLoad();
synchronized (myLock) {
    if (!myInitialized) {
      initCache();
    }
    final List<SNode> result=new ArrayList<SNode>();
    if (includeInherited) {
      for (      String d : LanguageHierarchyCache.getInstance().getAllDescendantsOfConcept(conceptFqName)) {
        if (myNodes.containsKey(d)) {
          result.addAll(myNodes.get(d));
        }
      }
    }
 else {
      if (myNodes.containsKey(conceptFqName)) {
        result.addAll(myNodes.get(conceptFqName));
      }
    }
    Collections.sort(result,new Comparator<SNode>(){
      @Override public int compare(      SNode o1,      SNode o2){
        return ((jetbrains.mps.smodel.SNodeId)o1.getNodeId()).compareTo(((jetbrains.mps.smodel.SNodeId)o2.getNodeId()));
      }
    }
);
    return result;
  }
}
