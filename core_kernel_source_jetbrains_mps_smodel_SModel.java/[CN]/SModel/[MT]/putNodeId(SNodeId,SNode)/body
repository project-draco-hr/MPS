{
  if (myRegistrationsForbidden) {
    LOG.error("Registration in model " + getSModelReference() + " is temporarely forbidden");
  }
  SNode existingNode=myIdToNodeMap.get(id);
  if (existingNode != null && existingNode != node) {
    SNode.resetIdCounter();
    throw new RuntimeException("couldn't set id=" + id + " to node: "+ node.getDebugText()+ "\nnode with this id exists: "+ existingNode.getDebugText());
  }
  myIdToNodeMap.put(id,node);
}
