{
  if (myModelDescriptor != null) {
    ModelChange.assertLegalChange(myModelDescriptor);
  }
  if (myLanguages.remove(ref)) {
    invalidateModelDepsManager();
    fireLanguageRemovedEvent(ref);
    markChanged();
  }
  deleteLanguage(IdUtil.getLanguageId(ref.getModuleId()));
}
