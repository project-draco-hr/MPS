{
  Collection<ModuleReference> allrefs=getLanguageRefs(GlobalScope.getInstance());
  Set<String> available=new HashSet<String>(allrefs.size());
  for (  ModuleReference ref : allrefs) {
    available.add(ref.getModuleFqName());
  }
  for (  SNode n : node.getDescendantsIterable(null,true)) {
    String namespace=n.getLanguageNamespace();
    if (!available.contains(namespace)) {
      available.add(namespace);
      Language lang=GlobalScope.getInstance().getLanguage(namespace);
      if (lang != null) {
        addLanguage_internal(lang.getModuleReference());
      }
    }
  }
}
