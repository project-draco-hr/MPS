{
  Set<SModelReference> usedModels=collectUsedModels(this,new HashSet<SModelReference>());
  if (!(getLongName().endsWith(LanguageAspect.STRUCTURE.getName())))   usedModels.remove(myReference);
  for (  ImportElement elem : myImports) {
    usedModels.remove(elem.getModelReference());
  }
  List<ImportElement> implicitImports=new ArrayList<ImportElement>(usedModels.size());
  for (  ImportElement elem : myImplicitImports) {
    if (usedModels.remove(elem.getModelReference())) {
      implicitImports.add(elem);
    }
  }
  for (  SModelReference ref : usedModels) {
    int version=PersistenceRegistry.getInstance().getModelEnvironmentInfo().getModelVersion(ref);
    implicitImports.add(new ImportElement(ref,-1,version));
  }
  myImplicitImports=implicitImports;
}
