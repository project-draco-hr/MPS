{
  if (!canFireEvent()) {
    return;
  }
  final UndoHelper uh=UndoHelper.getInstance();
  if (uh.needRegisterUndo()) {
    uh.addUndoableAction(action);
  }
}
