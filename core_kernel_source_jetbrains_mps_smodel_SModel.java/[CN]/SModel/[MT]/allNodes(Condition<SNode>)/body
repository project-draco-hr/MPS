{
  if (condition instanceof IsInstanceCondition) {
    IsInstanceCondition c=(IsInstanceCondition)condition;
    return getModelDescriptor().getFastNodeFinder().getNodes(c.getConceptFqName(),true);
  }
  List<SNode> resultNodes=new ArrayList<SNode>();
  for (  SNode node : getRoots()) {
    if (condition.met(node)) {
      resultNodes.add(node);
    }
    resultNodes.addAll(node.getDescendants(condition));
  }
  return resultNodes;
}
