{
  ModelChange.assertLegalChange(this);
  if (myDisposed)   return;
  fireBeforeModelDisposed();
  myDisposed=true;
synchronized (myListenersLock) {
    myCommandListeners.clear();
    myListeners.clear();
    myWeakListeners.clear();
  }
  for (  SNode sn : myIdToNodeMap.values()) {
    sn.dispose();
  }
  myIdToNodeMap=null;
  myRoots.clear();
}
