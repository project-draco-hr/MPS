{
  myDisposed=true;
synchronized (myListenersLock) {
    myCommandListeners.clear();
    myListeners.clear();
    myWeakListeners.clear();
  }
  for (  SNode sn : getAllNodesWithIds()) {
    sn.dispose();
  }
  myIdToNodeMap.clear();
  myRegularIdToNodeMap.clear();
  myRoots.clear();
}
