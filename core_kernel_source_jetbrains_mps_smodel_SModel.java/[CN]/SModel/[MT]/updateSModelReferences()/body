{
  boolean changed=false;
  for (  SNode node : getAllNodesWithIds()) {
    for (    SReference reference : node.getReferences()) {
      SModelReference oldReference=reference.getTargetSModelReference();
      SModelReference newReference=oldReference.update();
      reference.setTargetSModelReference(newReference);
      changed=changed || changed(oldReference,newReference);
    }
  }
  for (  ImportElement e : myImports) {
    SModelReference oldReference=e.myModelDescriptor;
    SModelReference newReference=oldReference.update();
    e.myModelDescriptor=newReference;
    changed=changed || changed(oldReference,newReference);
  }
  for (  ImportElement e : myAdditionalModelsVersions) {
    SModelReference oldReference=e.myModelDescriptor;
    SModelReference newReference=oldReference.update();
    e.myModelDescriptor=newReference;
    changed=changed || changed(oldReference,newReference);
  }
  return changed;
}
