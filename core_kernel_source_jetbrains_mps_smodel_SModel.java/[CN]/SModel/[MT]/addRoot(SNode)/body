{
  ModelChange.assertLegalNodeRegistration(this,node);
  if (myRoots.contains(node))   return;
  if (node.getModel() != this && node.isRoot()) {
    node.getModel().removeRoot(node);
  }
 else {
    SNode parent=node.getParent();
    if (parent != null) {
      parent.removeChild(node);
    }
  }
  myRoots.add(node);
  node.registerInModel(this);
  if (UndoHelper.getInstance().needRegisterUndo(this)) {
    UndoHelper.getInstance().addUndoableAction(new AddRootUndoableAction(node));
  }
  fireRootAddedEvent(node);
}
