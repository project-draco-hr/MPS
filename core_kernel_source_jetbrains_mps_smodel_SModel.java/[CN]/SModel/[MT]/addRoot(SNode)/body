{
  ModelChange.assertLegalNodeRegistration(this,node);
  enforceFullLoad();
  if (myRoots.contains(node))   return;
  SModel model=node.getModel();
  if (model != null && model != this && model.isRoot(node)) {
    model.removeRoot(node);
  }
 else {
    SNode parent=node.getParent();
    if (parent != null) {
      parent.removeChild(node);
    }
  }
  myRoots.add(node);
  node.registerInModel(this);
  performUndoableAction(new AddRootUndoableAction(node));
  fireRootAddedEvent(node);
}
