{
  ModelChange.assertLegalNodeRegistration(this,node);
  if (myRoots.contains(node))   return;
  if (node.getModel() != this && node.getModel().isRoot(node)) {
    node.getModel().removeRoot(node);
  }
 else {
    SNode parent=node.getParent();
    if (parent != null) {
      parent.removeChild(node);
    }
  }
  myRoots.add(node);
  node.registerInModel(this);
  if (ModelChange.needRegisterUndo(this)) {
    UndoManager.instance().undoableActionPerformed(new UndoRootAddOrDelete(node,false));
  }
  fireRootAddedEvent(node);
}
