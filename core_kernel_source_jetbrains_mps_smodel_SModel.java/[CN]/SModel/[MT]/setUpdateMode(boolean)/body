{
  if (value) {
    if (myFullLoadMode.isLocked()) {
      if (!myFullLoadMode.isHeldByCurrentThread()) {
        throw new IllegalStateException("attempt to update model which is being updated from another thread");
      }
    }
 else {
      enterUpdateMode();
    }
  }
 else {
    if (myFullLoadMode.isLocked()) {
      if (!myFullLoadMode.isHeldByCurrentThread()) {
        throw new IllegalStateException("attempt to clear update mode flag from a thread that didn't initiate the mode");
      }
      leaveUpdateMode();
    }
 else {
      throw new IllegalStateException("attempt to clear update mode flag while not in the update mode");
    }
  }
}
