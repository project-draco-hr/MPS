{
  Set<SModelReference> result=new HashSet<SModelReference>();
  for (  SNode node : allNodes()) {
    List<SReference> references=node.getReferences();
    for (    SReference reference : references) {
      if (reference.isExternal()) {
        SModelReference targetModelReference=reference.getTargetSModelReference();
        if (targetModelReference != null && !result.contains(targetModelReference)) {
          result.add(targetModelReference);
        }
      }
    }
  }
  return result;
}
