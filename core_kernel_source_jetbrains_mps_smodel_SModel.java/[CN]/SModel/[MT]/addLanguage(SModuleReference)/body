{
  assertLegalChange();
  if (importedLanguages().contains(ref))   return;
  if (ref.getModuleId() == null) {
    LOG.warn("Attempt to add language reference to a language without id in model " + getReference().getModelName() + ". Language = "+ ref);
  }
  if (myLanguages.add(ref)) {
    invalidateModelDepsManager();
    fireLanguageAddedEvent(ref);
    markChanged();
  }
  addLanguage(MetaIdByDeclaration.ref2Id(ref),-1);
}
