{
  boolean changed=false;
  for (int i=0; i < refs.size(); i++) {
    SModuleReference ref=refs.get(i);
    IModule module=ModuleRepositoryFacade.getInstance().getModule(ref);
    if (module != null) {
      SModuleReference newRef=module.getModuleReference();
      refs.set(i,newRef);
      changed=changed || jetbrains.mps.project.structure.modules.ModuleReference.differs(ref,newRef);
    }
  }
  return changed;
}
