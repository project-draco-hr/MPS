{
  final _FunctionTypes._void_P0_E0 update=new _FunctionTypes._void_P0_E0(){
    public void invoke(){
synchronized (myCache) {
        MapSequence.fromMap(myCache).clear();
        for (        IBreakpoint breakpoint : SetSequence.fromSet(myBreakpointManager.getAllIBreakpoints())) {
          if (breakpoint instanceof JavaBreakpoint) {
            JavaBreakpoint javaBreakpoint=(JavaBreakpoint)breakpoint;
            Icon icon=getIconInternal(javaBreakpoint,session);
            MapSequence.fromMap(myCache).put(javaBreakpoint,icon);
          }
        }
      }
      BreakpointsUiComponent.getInstance(myProject).repaintBreakpoints();
    }
  }
;
  if (session != null) {
    session.getEventsProcessor().getManagerThread().invoke(new DebuggerCommand(){
      protected void action() throws Exception {
        update.invoke();
      }
    }
);
  }
 else {
    update.invoke();
  }
}
