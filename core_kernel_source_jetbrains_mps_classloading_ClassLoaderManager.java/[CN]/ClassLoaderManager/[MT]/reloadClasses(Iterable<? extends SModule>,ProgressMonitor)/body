{
  LOG.assertCanWrite();
  monitor.start("Reloading classes...",3);
  try {
    monitor.step("Updating classpath...");
    invalidateClasses(modules);
    monitor.advance(1);
    monitor.step("Disposing old classes...");
    for (    MPSClassesListener listener : myClassesHandlers) {
      try {
        listener.onClassesUnload(null);
      }
 catch (      Throwable t) {
        LOG.error(t);
      }
    }
    monitor.advance(1);
    monitor.step("Rebuilding ui...");
    for (    MPSClassesListener listener : myClassesHandlers) {
      try {
        listener.onClassesLoad(null);
      }
 catch (      Throwable t) {
        LOG.error(t);
      }
    }
    monitor.advance(1);
  }
  finally {
    monitor.done();
  }
}
