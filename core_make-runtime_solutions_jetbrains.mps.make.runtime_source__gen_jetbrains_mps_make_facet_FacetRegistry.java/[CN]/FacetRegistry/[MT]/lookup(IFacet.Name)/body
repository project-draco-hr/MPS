{
  if (ApplicationManager.getApplication() != null) {
    LanguageRegistry langReg=LanguageRegistry.getInstance();
    if (langReg != null) {
      LanguageRuntime lr=langReg.getLanguage(fn.getNamespace());
      if (lr != null) {
        IFacetManifest fm=lr.getFacetProvider().getDescriptor(null).getManifest();
        IFacet fct=fm.lookup(fn);
        if (fct != null) {
          return fct;
        }
      }
    }
  }
  LOG.debug("facet not found, loading using deprecated mechanism " + fn);
  return MapSequence.<IFacet.Name,IFacet>fromMap(facetMap).get(fn);
}
