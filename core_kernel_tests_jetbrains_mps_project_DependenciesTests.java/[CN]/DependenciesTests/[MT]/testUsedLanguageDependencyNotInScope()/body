{
  Solution s1=createSolution();
  Solution ld=createSolution();
  Language l1=createLanguage();
  l1.addDependency(ld.getModuleReference(),true);
  s1.addUsedLanguage(l1.getModuleReference());
  assertFalse(new GlobalModuleDependenciesManager(s1).getModules(Deptype.VISIBLE).contains(ld));
  assertFalse(IterableUtil.asCollection(s1.getScope().getVisibleModules()).contains(ld));
}
