{
  Solution s1=createSolution();
  Solution s2=createSolution();
  Solution s3=createSolution();
  s2.addDependency(s3.getModuleReference(),true);
  s1.addDependency(s2.getModuleReference(),false);
  assertTrue(new GlobalModuleDependenciesManager(s1).getModules(Deptype.VISIBLE).contains(s3));
  assertTrue(IterableUtil.asCollection(s1.getScope().getVisibleModules()).contains(s3));
}
