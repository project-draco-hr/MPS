{
  Solution s1=createSolution();
  Solution s2=createSolution();
  s1.addDependency(s2.getModuleReference(),false);
  assertTrue(new GlobalModuleDependenciesManager(s1).getModules(Deptype.VISIBLE).contains(s2));
  assertTrue(IterableUtil.asCollection(s1.getScope().getVisibleModules()).contains(s2));
}
