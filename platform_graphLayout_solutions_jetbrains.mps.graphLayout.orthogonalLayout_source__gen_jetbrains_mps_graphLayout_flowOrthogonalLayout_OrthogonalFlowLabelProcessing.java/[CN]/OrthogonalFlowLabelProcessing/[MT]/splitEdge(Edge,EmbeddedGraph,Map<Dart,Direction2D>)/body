{
  Node source=oldEdge.getSource();
  Node target=oldEdge.getTarget();
  Dart sourceDart=embeddedGraph.getSourceDart(oldEdge,source);
  Dart targetDart=embeddedGraph.getSourceDart(oldEdge,target);
  List<Edge> edges=ListSequence.fromList(new ArrayList<Edge>());
  Node node=embeddedGraph.splitEdge(oldEdge,edges);
  for (  Edge edge : ListSequence.fromList(edges)) {
    for (    Dart dart : ListSequence.fromList(embeddedGraph.getDarts(edge))) {
      if (dart.getSource() == source || dart.getTarget() == target) {
        MapSequence.fromMap(directions).put(dart,MapSequence.fromMap(directions).get(sourceDart));
      }
 else {
        MapSequence.fromMap(directions).put(dart,MapSequence.fromMap(directions).get(targetDart));
      }
    }
  }
  return node;
}
