{
  mySolutions=new LinkedList<Solution>();
  for (  SolutionPath solutionPath : CollectionUtil.iteratorAsIterable(myProjectDescriptor.projectSolutions())) {
    String path=solutionPath.getPath();
    if (path == null) {
      LOG.error("Solution path is null");
      continue;
    }
    IFile descriptorFile=FileSystem.getFile(path);
    if (!descriptorFile.getName().endsWith(".msd")) {
      LOG.error("Couldn't load solution from: " + descriptorFile.getPath() + " : '*.msd' file expected");
    }
 else     if (descriptorFile.exists()) {
      mySolutions.add((Solution)MPSModuleRepository.getInstance().registerSolution(descriptorFile,this));
    }
 else {
      if (!MPSModuleRepository.getInstance().tryToReadStub(descriptorFile,this)) {
        LOG.error("Couldn't load solution from: " + descriptorFile.getPath() + " : file doesn't exist");
      }
    }
  }
  myLanguages=new LinkedList<Language>();
  for (  LanguagePath languagePath : CollectionUtil.iteratorAsIterable(myProjectDescriptor.projectLanguages())) {
    String path=languagePath.getPath();
    IFile descriptorFile=FileSystem.getFile(path);
    if (!descriptorFile.getName().endsWith(".mpl")) {
      LOG.error("Couldn't load language from: " + descriptorFile.getPath() + " : '*.mpl' file expected");
    }
 else     if (descriptorFile.exists()) {
      myLanguages.add(MPSModuleRepository.getInstance().registerLanguage(descriptorFile,this));
    }
 else {
      if (!MPSModuleRepository.getInstance().tryToReadStub(descriptorFile,this)) {
        LOG.error("Couldn't load language from: " + descriptorFile.getPath() + " : file doesn't exist");
      }
    }
    FileSystem.getFile(path);
  }
  myDevKits=new LinkedList<DevKit>();
  for (  DevKitPath dk : myProjectDescriptor.getProjectDevkits()) {
    String path=dk.getPath();
    IFile devKit=FileSystem.getFile(path);
    if (!devKit.getName().endsWith(".devkit")) {
      LOG.error("Couldn't load devkit from: " + devKit.getPath() + " : '*.devkit' file expected");
    }
 else     if (devKit.exists()) {
      myDevKits.add(MPSModuleRepository.getInstance().registerDevKit(devKit,this));
    }
 else {
      if (!MPSModuleRepository.getInstance().tryToReadStub(devKit,this)) {
        LOG.error("Couldn't load devkit from: " + devKit.getPath() + " : file doesn't exist");
      }
    }
  }
  for (  Library l : myProjectDescriptor.getLibrarys()) {
    String name=l.getName();
    jetbrains.mps.library.Library lib=LibraryManager.getInstance().get(name);
    if (lib != null) {
      MPSModuleRepository.getInstance().readModuleDescriptors(FileSystem.getFile(lib.getPath()),this);
    }
 else {
      LOG.error("Can't find a global library " + name);
    }
  }
}
