{
  myIDEAProject=ideaProject;
  if (ideaProject.isDefault())   return;
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      myProjectFile=projectFile;
      myProjectDescriptor=projectDescriptor;
      MPSProjects projects=MPSProjects.instance();
      projects.addProject(MPSProject.this);
      readModules();
      for (      IModule m : getModules()) {
        m.onModuleLoad();
      }
      ClassLoaderManager.getInstance().reloadAll(new EmptyProgressIndicator());
    }
  }
);
}
