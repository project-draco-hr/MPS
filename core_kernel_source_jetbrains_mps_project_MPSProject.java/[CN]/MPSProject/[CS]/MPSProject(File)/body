{
  myContext.register(MPSProject.class,this);
  myContext.register(GeneratorManager.class);
  myContext.register(ProjectVCSManager.class);
  CommandProcessor.instance().executeCommand(new Runnable(){
    public void run(){
      myProjectFile=projectFile;
      SModel model=ProjectModels.createDescriptorFor(MPSProject.this).getSModel();
      model.setLoading(true);
      myProjectDescriptor=DescriptorsPersistence.loadProjectDescriptor(new File(FileUtil.getCanonicalPath(projectFile)),model);
      MPSProjects projects=myContext.get(MPSProjects.class);
      projects.addProject(MPSProject.this);
      LOG.assertLog(myProjectDescriptor.isRoot(),"Project descriptor has to be root");
      readModules();
      ReloadUtils.reloadAll(false);
      for (      IModule m : getModules()) {
        m.convert();
      }
      model.setLoading(false);
      myContext.init();
    }
  }
);
  myEventTranslator=new ProjectEventTranslator();
  CommandProcessor.instance().addCommandListener(myEventTranslator);
}
