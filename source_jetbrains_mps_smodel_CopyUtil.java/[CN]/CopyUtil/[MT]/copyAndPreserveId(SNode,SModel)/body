{
  HashMap<SNode,SNode> mapping=new HashMap<SNode,SNode>();
  SNode result=clone(node,targetModel,mapping,true);
  for (  SNode sourceNode : mapping.keySet()) {
    mapping.get(sourceNode).setId(sourceNode.getSNodeId());
  }
  List<SNode> nodes=new ArrayList<SNode>();
  nodes.add(node);
  addReferences(nodes,mapping,true);
  return result;
}
