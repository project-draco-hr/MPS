{
  HashMap<SNode,SNode> mapping=new HashMap<SNode,SNode>();
  List<SNode> result=clone(nodes,targetModel,mapping);
  for (  SNode sourceNode : mapping.keySet()) {
    mapping.get(sourceNode).setId(sourceNode.getSNodeId());
  }
  addReferences(result,mapping,true);
  return result;
}
