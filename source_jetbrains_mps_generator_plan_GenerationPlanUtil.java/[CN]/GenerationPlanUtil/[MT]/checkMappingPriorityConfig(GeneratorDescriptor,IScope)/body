{
  ArrayList<Generator> generators=new ArrayList<Generator>();
  HashSet<Language> processedLanguages=new HashSet<Language>();
  Generator editedGenerator=(Generator)MPSModuleRepository.getInstance().getModuleByUID(descriptorWorkingCopy.getGeneratorUID());
  generators.add(editedGenerator);
  List<GeneratorReference> generatorRefs=descriptorWorkingCopy.getGeneratorReferences();
  for (  GeneratorReference generatorRef : generatorRefs) {
    Generator refGenerator=(Generator)MPSModuleRepository.getInstance().getModuleByUID(generatorRef.getGeneratorUID());
    collectGenerators(refGenerator,generators,processedLanguages);
  }
  for (  SModelDescriptor model : editedGenerator.getOwnTemplateModels()) {
    collectGenerators(model,scope,true,generators,processedLanguages);
  }
  return new GenerationPlanBuilder().createSteps(generators,descriptorWorkingCopy);
}
