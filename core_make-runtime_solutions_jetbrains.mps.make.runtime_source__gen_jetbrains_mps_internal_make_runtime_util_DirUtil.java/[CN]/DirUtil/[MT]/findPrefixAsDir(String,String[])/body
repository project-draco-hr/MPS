{
  String dir=asDir(straighten(urlToPath(dirPath)));
  int idx=Arrays.binarySearch(sortedPaths,dir);
  int absIdx=(idx < 0 ? -2 - idx : idx);
  if (absIdx >= 0 && absIdx < sortedPaths.length && startsWith(dir,sortedPaths[absIdx])) {
    return absIdx;
  }
  return idx;
}
