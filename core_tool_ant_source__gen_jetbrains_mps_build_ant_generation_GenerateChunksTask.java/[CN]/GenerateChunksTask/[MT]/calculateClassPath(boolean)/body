{
  List<File> classPathRoots=MPSClasspathUtil.getClassPathRootsFromDependencies(getProject());
  if (classPathRoots.isEmpty()) {
    throw new BuildException("Dependency on MPS build scripts is required to generate MPS modules.");
  }
  Set<File> classPath=new LinkedHashSet<File>();
  for (  File file : classPathRoots) {
    MPSClasspathUtil.gatherAllClassesAndJarsUnder(file,classPath);
  }
  return classPath;
}
