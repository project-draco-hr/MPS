{
  final Wrappers._T<SNodePointer> nodePointer=new Wrappers._T<SNodePointer>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      nodePointer.value=new SNodePointer(root);
      myChangesManager.getCommandQueue().runTask(new Runnable(){
        public void run(){
          final Wrappers._T<SModelDescriptor> modelDescriptor=new Wrappers._T<SModelDescriptor>(null);
          ModelAccess.instance().runReadAction(new Runnable(){
            public void run(){
              if (!(root.isDisposed() || SNodeOperations.getModel(root).isDisposed())) {
                modelDescriptor.value=SNodeOperations.getModel(root).getModelDescriptor();
              }
            }
          }
);
          if (modelDescriptor.value instanceof EditableSModelDescriptor) {
            ModelChangesManager modelChangesManager=myChangesManager.getModelChangesManager((EditableSModelDescriptor)modelDescriptor.value);
            modelChangesManager.setEnabled(true);
          }
        }
      }
);
    }
  }
);
synchronized (myFileStatusMap) {
    return MapSequence.<SNodePointer,FileStatus>fromMap(myFileStatusMap).get(nodePointer.value);
  }
}
