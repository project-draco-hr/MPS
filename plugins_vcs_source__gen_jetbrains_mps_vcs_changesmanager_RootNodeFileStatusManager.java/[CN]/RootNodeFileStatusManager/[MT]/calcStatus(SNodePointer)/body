{
  final Wrappers._T<FileStatus> status=new Wrappers._T<FileStatus>(null);
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      SModelDescriptor modelDescriptor=SModelRepository.getInstance().getModelDescriptor(root.getModelReference());
      if (modelDescriptor instanceof EditableSModelDescriptor) {
        ModelChangesManager modelChangesManager=myChangesManager.getModelChangesManager((EditableSModelDescriptor)modelDescriptor);
        if (modelChangesManager != null) {
          if (modelChangesManager.isAddedNode(root)) {
            if (modelChangesManager.isNewModel()) {
              status.value=modelChangesManager.getFileStatus();
            }
 else {
              status.value=FileStatus.ADDED;
            }
          }
 else           if (modelChangesManager.isChangedRootNode(root)) {
            status.value=FileStatus.MODIFIED;
          }
 else {
            status.value=FileStatus.NOT_CHANGED;
          }
        }
      }
    }
  }
);
synchronized (myFileStatusMap) {
    MapSequence.fromMap(myFileStatusMap).put(root,status.value);
  }
}
