{
  String parent=getParentDirectory(dir);
  getDirectoriesFor(dir);
  getFilesFor(dir);
  if (parent.equals(dir))   return;
  getDirectoriesFor(parent).add(dir);
  buildDirectoryCaches(parent);
}
