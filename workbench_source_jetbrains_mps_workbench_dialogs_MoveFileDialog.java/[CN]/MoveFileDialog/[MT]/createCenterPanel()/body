{
  final JPanel centerComponent=new JPanel(new BorderLayout());
  JPanel panel=new JPanel();
  panel.setLayout(new GridBagLayout());
  panel.setBorder(IdeBorderFactory.createBorder());
  panel.add(myLabel,new GridBagConstraints(0,0,2,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,8,4,8),0,0));
  panel.add(new JLabel("To directory"),new GridBagConstraints(0,1,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,8,4,8),0,0));
  myDirectoryField.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      TreeFileChooser chooser=new TreeFileChooser();
      chooser.setMode(TreeFileChooser.MODE_DIRECTORIES);
      IFile result=chooser.showDialog(centerComponent);
      if (result == null)       return;
      myDirectoryField.setText(result.getAbsolutePath());
    }
  }
);
  myDirectoryField.setTextFieldPreferredWidth(60);
  panel.add(myDirectoryField,new GridBagConstraints(1,1,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,0,4,8),0,0));
  myDirectoryField.getTextField().getDocument().addDocumentListener(new DocumentAdapter(){
    public void textChanged(    DocumentEvent event){
      setOKActionEnabled(myDirectoryField.getText().length() > 0);
    }
  }
);
  Disposer.register(getDisposable(),myDirectoryField);
  centerComponent.add(panel,BorderLayout.NORTH);
  return centerComponent;
}
