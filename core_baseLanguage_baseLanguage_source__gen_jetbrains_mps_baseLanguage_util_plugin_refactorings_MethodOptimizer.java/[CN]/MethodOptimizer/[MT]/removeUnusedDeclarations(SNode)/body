{
  List<SNode> references=SNodeOperations.getDescendants(body,"jetbrains.mps.baseLanguage.structure.LocalVariableReference",false,new String[]{});
  for (  final SNode declaration : ListSequence.<SNode>fromList(SNodeOperations.getDescendants(body,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration",false,new String[]{}))) {
    if (ListSequence.<SNode>fromList(references).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SLinkOperations.getTarget(it,"variableDeclaration",false) == declaration;
      }
    }
).isEmpty() && SNodeOperations.isInstanceOf(SNodeOperations.getParent(declaration),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement")) {
      SNodeOperations.deleteNode(SNodeOperations.getParent(declaration));
    }
  }
}
