{
  SolutionDescriptor descriptor=new SolutionDescriptor();
  descriptor.setCompileInMPS(true);
  String fileName=solutionDescriptorFile.getName();
  descriptor.setNamespace(fileName.substring(0,fileName.length() - 4));
  ModelRoot mr=new ModelRoot();
  mr.setPath(solutionDescriptorFile.getParent().getPath());
  descriptor.getModelRoots().add(mr);
  SolutionDescriptorPersistence.saveSolutionDescriptor(solutionDescriptorFile,descriptor,MacrosFactory.forModuleFile(solutionDescriptorFile));
  ModulesMiner.ModuleHandle handle=new ModulesMiner.ModuleHandle(solutionDescriptorFile,descriptor);
  return (Solution)ModuleRepositoryFacade.createModule(handle,mpsProject);
}
