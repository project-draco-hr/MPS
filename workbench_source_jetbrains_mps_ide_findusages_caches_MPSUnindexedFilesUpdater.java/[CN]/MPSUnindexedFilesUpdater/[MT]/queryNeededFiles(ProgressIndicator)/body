{
  final CollectingContentIterator finder=myIndex.createContentIterator();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      iterateIndexableFiles(finder);
    }
  }
);
  final List<VirtualFile> files=finder.getFiles();
  return files.toArray(new VirtualFile[files.size()]);
}
