{
  try {
    ClusteredGraph graph=new ClusteredGraph();
    scanGraph(graphScanner,graph);
    Graph tree=graph.getInclusionTree();
    scanGraph(treeScanner,tree);
    int cur=0;
    for (    Node cluster : ListSequence.<Node>fromList(tree.getNodes())) {
      if (ListSequence.<Edge>fromList(cluster.getOutEdges()).count() == 0) {
        graph.setNodeInCluster(cluster,graph.getNode(cur++));
      }
    }
    graph.setRoot(tree.getNode(0));
    return graph;
  }
 catch (  Exception e) {
    throw new IllegalArgumentException("invalid input",e);
  }
}
