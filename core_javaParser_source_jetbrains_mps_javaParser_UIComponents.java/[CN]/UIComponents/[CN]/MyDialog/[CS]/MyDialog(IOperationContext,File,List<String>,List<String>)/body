{
  super("Classpaths",operationContext);
  mySourceDir=sourceDir;
  myAdditionalClasspaths=additionalClasspaths;
  myUnresolvedFQNames=ObservableCollections.observableList(new ArrayList<String>(classFqNames));
  Computable<String> chooser=new Computable<String>(){
    public String compute(){
      String classpath=chooseClasspath(mySourceDir);
      return classpath;
    }
  }
;
  DefaultListCellRenderer renderer=new DefaultListCellRenderer();
  ObservableList<String> observable=ObservableCollections.observableList(myAdditionalClasspaths);
  observable.addObservableListListener(myListListener);
  JPanel panel=UiListsFactory.createBoundListPanel(this,"Classpaths",observable,renderer,null,chooser);
  JPanel classesList=UiListsFactory.createBoundListPanel(this,"Unresolved Names",myUnresolvedFQNames,renderer,null,null);
  JSplitPane splitPane=new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,panel,classesList);
  this.setLayout(new BorderLayout());
  this.add(splitPane,BorderLayout.CENTER);
  JPanel buttonsPanel=new JPanel();
  buttonsPanel.setLayout(new FlowLayout());
  buttonsPanel.add(new JButton(new AbstractAction("OK"){
    public void actionPerformed(    ActionEvent e){
      MyDialog.this.dispose();
    }
  }
),FlowLayout.LEFT);
  buttonsPanel.add(new JButton(new AbstractAction("Cancel"){
    public void actionPerformed(    ActionEvent e){
      MyDialog.this.dispose();
      myAdditionalClasspaths.clear();
    }
  }
),FlowLayout.LEFT);
  this.add(buttonsPanel,BorderLayout.SOUTH);
  this.setModal(true);
}
