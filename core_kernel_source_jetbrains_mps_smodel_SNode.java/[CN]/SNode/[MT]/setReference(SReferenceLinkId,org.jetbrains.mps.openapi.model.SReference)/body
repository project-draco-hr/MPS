{
  assertCanChange();
  SReference toRemove;
  if (isWorkingById() == Mode.NAME) {
    toRemove=setReference_byName(rid2name(role),reference);
  }
 else {
    toRemove=setReference_byId(role,reference);
  }
  referenceChanged(role,toRemove,reference);
}
