{
  if (ourMemberAccessModifier != null) {
    role=ourMemberAccessModifier.getNewChildRole(myModel,myConceptFqName,role);
  }
  int count=0;
  boolean isOldAttributeRole=AttributesRolesUtil.isAttributeRole(role);
  for (SNode child=getFirstChild(); child != null; child=child.myNextSibling) {
    if (role.equals(child.getRole_())) {
      count++;
    }
 else     if (isOldAttributeRole && AttributeOperations.isNewAttributeInOldRole(child,role)) {
      count++;
    }
  }
  return count;
}
