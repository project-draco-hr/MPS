{
  assertCanChange();
  SNode schild;
  if (isWorkingById() == Mode.NAME) {
    schild=insertChildBefore_byName(lid2name(role),child,anchor);
  }
 else {
    schild=insertChildBefore_byId(role,child,anchor);
  }
  if (needFireEvent()) {
    myModel.fireChildAddedEvent(this,lid2name(role),schild,((SNode)anchor));
  }
  nodeAdded(role,child);
}
