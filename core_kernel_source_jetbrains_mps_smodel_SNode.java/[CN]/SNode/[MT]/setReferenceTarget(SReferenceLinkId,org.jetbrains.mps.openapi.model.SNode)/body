{
  assertCanChange();
  String name=MPSModuleRepository.getInstance().getDebugRegistry().getLinkName(role);
  if (target == null) {
    if (myReferences == null)     return;
    for (    SReference reference : myReferences) {
      if (!reference.getRoleId().equals(role))       continue;
      removeReferenceInternal(reference);
      referenceChanged(name,reference,null);
      return;
    }
    return;
  }
  SReference toDelete=null;
  if (myReferences != null) {
    for (    SReference reference : myReferences) {
      if (!reference.getRoleId().equals(role))       continue;
      toDelete=reference;
      break;
    }
  }
  SReference newValue=SReference.create(role,this,target);
  if (toDelete != null) {
    removeReferenceInternal(toDelete);
  }
  addReferenceInternal(newValue);
  referenceChanged(name,toDelete,newValue);
}
