{
  ModelChange.assertLegalNodeChange(this);
  _reference().add(i,reference);
  if (UndoHelper.getInstance().needRegisterUndo(getModel())) {
    UndoHelper.getInstance().addUndoableAction(new InsertReferenceAtUndoableAction(this,i,reference));
  }
  if (ModelChange.needFireEvents(getModel(),this)) {
    getModel().fireReferenceAddedEvent(reference);
  }
}
