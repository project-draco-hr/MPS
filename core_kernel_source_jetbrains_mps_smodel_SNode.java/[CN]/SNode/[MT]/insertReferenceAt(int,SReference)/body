{
  ModelChange.assertLegalNodeChange(this);
  _reference().add(i,reference);
  SModel model=getModel();
  if (model == null)   return;
  model.performUndoableAction(new InsertReferenceAtUndoableAction(this,i,reference));
  if (ModelChange.needFireEvents(model,this)) {
    model.fireReferenceAddedEvent(reference);
  }
}
