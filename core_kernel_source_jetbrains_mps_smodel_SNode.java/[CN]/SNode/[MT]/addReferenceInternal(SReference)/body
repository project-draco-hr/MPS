{
  ModelChange.assertLegalNodeChange(myModel,this);
  int oldLen=myReferences.length;
  SReference[] newArray=new SReference[oldLen + 1];
  System.arraycopy(myReferences,0,newArray,0,oldLen);
  newArray[oldLen]=reference;
  myReferences=newArray;
  SModel model=getModel();
  if (model == null)   return;
  model.performUndoableAction(new InsertReferenceAtUndoableAction(this,reference));
  if (ModelChange.needFireEvents(model,this)) {
    model.fireReferenceAddedEvent(reference);
  }
}
