{
  assertCanChange();
  SReference toDelete=null;
  if (myReferences != null) {
    for (    SReference reference : myReferences) {
      if (!reference.getLink().equals(role))       continue;
      toDelete=reference;
      break;
    }
  }
  if (toDelete == null && target == null)   return;
  if (toDelete != null) {
    removeReferenceInternal(toDelete);
  }
  SReference newValue=null;
  if (target != null) {
    newValue=SReference.create(role,this,target);
    addReferenceInternal(newValue);
  }
  referenceChanged(role,toDelete,newValue);
}
