{
  if (myModel == null)   return IdMigrationMode.UNKNOWN;
  if (myModel instanceof BinarySModel)   return IdMigrationMode.ID;
  if (myModel.getClass().getName().equals("jetbrains.mps.generator.TransientSModel"))   return IdMigrationMode.NAME;
  if (myModel instanceof ProjectStructureSModel)   return IdMigrationMode.NAME;
  if (!(myModel instanceof DefaultSModel))   return IdMigrationMode.UNKNOWN;
  return ((DefaultSModel)myModel).getSModelHeader().getPersistenceVersion() > 8 ? IdMigrationMode.ID : IdMigrationMode.NAME;
}
