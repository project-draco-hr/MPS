{
  List<SNode> children=new ArrayList<SNode>(getChildren());
  for (  SNode child : children) {
    child.delete_internal();
  }
  while (myReferences.length > 0) {
    removeReferenceAt(myReferences[0]);
  }
  myReferences=SReference.EMPTY_ARRAY;
  SNode parent=getParent();
  if (parent != null) {
    parent.removeChild(this);
  }
 else {
    SModel model=getModel();
    if (model != null && model.isRoot(this)) {
      model.removeRoot(this);
    }
  }
}
