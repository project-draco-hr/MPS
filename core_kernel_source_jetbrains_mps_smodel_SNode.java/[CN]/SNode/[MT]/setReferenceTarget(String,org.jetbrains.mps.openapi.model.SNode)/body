{
  assertCanChange();
  if (ourMemberAccessModifier != null) {
    String conceptName=myConceptFqName == null ? getConceptNameFromDebugInfo() : myConceptFqName;
    if (conceptName != null) {
      role=ourMemberAccessModifier.getNewReferentRole(getModel(),conceptName,role);
    }
  }
  if (target == null) {
    if (myReferences == null)     return;
    for (    SReference reference : myReferences) {
      if (!reference.getRole().equals(role))       continue;
      removeReferenceInternal(reference);
      referenceChanged(role,reference,null);
      return;
    }
    return;
  }
  SReference toDelete=null;
  if (myReferences != null) {
    for (    SReference reference : myReferences) {
      if (!reference.getRole().equals(role))       continue;
      toDelete=reference;
      break;
    }
  }
  SReference newValue=SReference.create(role,this,target);
  if (toDelete != null) {
    removeReferenceInternal(toDelete);
  }
  addReferenceInternal(newValue);
  referenceChanged(role,toDelete,newValue);
}
