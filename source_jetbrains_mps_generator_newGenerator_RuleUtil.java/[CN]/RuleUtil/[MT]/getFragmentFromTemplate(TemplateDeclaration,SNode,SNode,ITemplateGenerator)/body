{
  List<TemplateFragment> templateFragments=getTemplateFragments(template);
  if (templateFragments.isEmpty()) {
    generator.showErrorMessage(inputNode,BaseAdapter.fromAdapter(template),ruleNode,"couldn't process template: no template fragments found");
    return null;
  }
  if (templateFragments.size() > 1) {
    generator.showErrorMessage(inputNode,BaseAdapter.fromAdapter(template),ruleNode,"couldn't process template: more than one (" + templateFragments.size() + ") fragments found");
    return null;
  }
  return templateFragments.get(0);
}
