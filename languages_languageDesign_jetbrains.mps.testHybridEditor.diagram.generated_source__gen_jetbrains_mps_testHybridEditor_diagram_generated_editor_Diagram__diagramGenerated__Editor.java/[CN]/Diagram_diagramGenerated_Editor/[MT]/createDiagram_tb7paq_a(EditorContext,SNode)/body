{
  DiagramView view=new ConnectionRoutingView(new OrthogonalRouter());
  DiagramViewCell editorCell=DiagramViewCell.createViewCell(editorContext,node,view);
  EditorCell_Collection blockCollection=jetbrains.mps.nodeEditor.cells.EditorCell_Collection.createIndent2(editorContext,node);
  for (  SNode blockNode : ListSequence.fromList(SLinkOperations.getTargets(node,"blocks",true))) {
    GenericViewCell blockCell=(GenericViewCell)editorContext.createNodeCell(blockNode);
    View blockView=blockCell.getView();
    blockCollection.addEditorCell(blockCell);
    View oldParent=blockView.parent();
    if (oldParent != null) {
      oldParent.children().remove(oldParent.children().indexOf(blockView));
    }
    view.itemsView.children().add(blockView);
  }
  editorCell.addEditorCell(blockCollection);
  return editorCell;
}
