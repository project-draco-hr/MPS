{
  final SNode node=selectedCell.getSNode();
  EditorCell anchorCell=null;
  String anchorTag=selectedCell.getRightTransformAnchorTag();
  if (anchorTag != null) {
    anchorCell=selectedCell;
  }
 else {
    EditorCell nodeMainCell=selectedCell.getContainingBigCell();
    EditorCell defAnchorCell=nodeMainCell.findChild(CellFinders.byCondition(new Condition<EditorCell>(){
      public boolean met(      EditorCell object){
        return object.hasRightTransformAnchorTag(RightTransformAnchorTag.default_.getValueAsString()) && object.getSNode() == node;
      }
    }
,true),true);
    if (defAnchorCell == null) {
      defAnchorCell=nodeMainCell;
    }
    if (defAnchorCell == selectedCell || defAnchorCell.isParentOf(selectedCell)) {
      anchorCell=defAnchorCell;
    }
  }
  if (side == CellSide.RIGHT && anchorCell != null && anchorCell.findChild(CellFinders.LAST_SELECTABLE_LEAF,true) != selectedCell) {
    return null;
  }
  if (side == CellSide.LEFT && anchorCell != null && anchorCell.findChild(CellFinders.FIRST_SELECTABLE_LEAF,true) != selectedCell) {
    return null;
  }
  return anchorCell;
}
