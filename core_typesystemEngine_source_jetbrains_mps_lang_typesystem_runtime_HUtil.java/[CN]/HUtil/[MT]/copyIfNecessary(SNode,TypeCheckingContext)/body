{
  if (node != null && (node.getParent() != null || node.isRoot())) {
    SNode copy=CopyUtil.copy(node,new HashMap<SNode,SNode>(),false);
    if (typeCheckingContext != null) {
      if (isRuntimeTypeVariable(copy)) {
        typeCheckingContext.registerTypeVariable(copy);
      }
    }
    return copy;
  }
 else {
    return node;
  }
}
