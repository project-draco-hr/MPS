{
  final TextGenSupport tgs=new TextGenSupport(ctx);
  StringBuilder result=new StringBuilder();
  for (int i=0; i < s.length(); i++) {
    if (s.charAt(i) < 128) {
      result.append(s.charAt(i));
    }
 else {
      result.append("\\u").append(StringTextGen.paddedHex(s.charAt(i),ctx));
    }
  }
  return result.toString();
}
