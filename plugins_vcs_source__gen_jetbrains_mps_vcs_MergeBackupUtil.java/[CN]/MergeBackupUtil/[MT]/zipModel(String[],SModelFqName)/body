{
  String shortFileName="unknown.mps";
  if (modelFqName != null) {
    shortFileName=NameUtil.shortNameFromLongName(modelFqName.getLongName()) + MPSExtentions.DOT_MODEL;
  }
  File tmp=FileUtil.createTmpDir();
  writeContentsToFile(contents[ModelMergeTool.ORIGINAL],shortFileName,tmp,MergeVersion.BASE.getSuffix());
  writeContentsToFile(contents[ModelMergeTool.CURRENT],shortFileName,tmp,MergeVersion.MINE.getSuffix());
  writeContentsToFile(contents[ModelMergeTool.LAST_REVISION],shortFileName,tmp,MergeVersion.REPOSITORY.getSuffix());
  File zipfile=chooseZipFileForModelLongName("unknown.mps",check_fhutfy_b0a6a2(modelFqName));
  zipfile.getParentFile().mkdirs();
  FileUtil.zip(tmp,zipfile);
  FileUtil.delete(tmp);
  return zipfile;
}
