{
  if (role == null)   return null;
  for (PsiElement child=getFirstChild(); child != null; child=child.getNextSibling()) {
    if (child instanceof MPSPsiRef && role.equals(((MPSPsiRef)child).getContainingRole())) {
      PsiElement refTarget=((MPSPsiRef)child).resolve();
      if (aClass.isInstance(refTarget)) {
        return (T)refTarget;
      }
    }
  }
  return null;
}
