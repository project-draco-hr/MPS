{
  SNode newNode=SModelUtil_new.instantiateConceptDeclaration(nodeConcept.getQualifiedName(),model,false);
  if (newNode == null)   return null;
  if (nodeConcept instanceof SInterfaceConcept) {
    return newNode;
  }
  BehaviorReflection.initNode(newNode);
  if (sampleNode != null) {
    sampleNode=CopyUtil.copy(sampleNode);
  }
  nodeConcept=newNode.getConcept();
  setupNode(nodeConcept,newNode,sampleNode,enclosingNode,model);
  createNodeStructure(nodeConcept,newNode,sampleNode,enclosingNode,model,visitedNonOptionalChildConcepts);
  return newNode;
}
