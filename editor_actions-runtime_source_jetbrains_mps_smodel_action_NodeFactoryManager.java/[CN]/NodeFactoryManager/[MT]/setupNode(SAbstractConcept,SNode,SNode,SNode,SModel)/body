{
  List<SNode> nodeFactories=new ArrayList<SNode>();
  for (  SAbstractConcept ancestor : new DepthFirstConceptIterator(nodeConcept)) {
    ActionAspectDescriptor actionAspectDescriptor=null;
    LanguageRuntime languageRuntime=LanguageRegistry.getInstance().getLanguage(ancestor.getLanguage().getQualifiedName());
    if (languageRuntime != null) {
      actionAspectDescriptor=languageRuntime.getAspect(ActionAspectDescriptor.class);
    }
    if (actionAspectDescriptor == null) {
      actionAspectDescriptor=new InterpretedActionDescriptor();
    }
    Collection<NodeFactory> factories=actionAspectDescriptor.getFactories(ancestor);
    for (    NodeFactory factory : factories) {
      factory.setup(node,sampleNode,enclosingNode,model);
    }
  }
}
