{
  List<SNode> nodeFactories=new ArrayList<SNode>();
  for (  SAbstractConcept ancestor : new DepthFirstConceptIterator(nodeConcept)) {
    SNode acd=ancestor.getDeclarationNode();
    Language language=SModelUtil.getDeclaringLanguage(acd);
    if (language == null)     break;
    nodeFactories.addAll(NodeFactoryUtil.getApplicableNodeFactories(acd,language));
  }
  if (nodeFactories.isEmpty())   return;
  for (  SNode factory : nodeFactories) {
    NodeFactoryUtil.invokeNodeSetupFunction(factory,node,sampleNode,enclosingNode,model);
  }
}
