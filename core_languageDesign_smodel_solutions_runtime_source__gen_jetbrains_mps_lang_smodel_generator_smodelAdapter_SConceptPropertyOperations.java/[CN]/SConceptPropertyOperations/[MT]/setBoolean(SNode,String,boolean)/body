{
  if (node != null) {
    ConceptProperty conceptProperty=(ConceptProperty)BaseAdapter.fromNode(node.findConceptProperty(propertyName));
    if (conceptProperty instanceof BooleanConceptProperty && !(value)) {
      node.removeChild(conceptProperty.getNode());
    }
 else     if (conceptProperty == null && value) {
      AbstractConceptDeclaration acd=((AbstractConceptDeclaration)SNodeOperations.getAdapter(node));
      for (      SNode cpd : (List<SNode>)SModelSearchUtil.getConceptPropertyDeclarations(node)) {
        if (SPropertyOperations.getString(cpd,"name").equals(propertyName)) {
          if (SNodeOperations.isInstanceOf(cpd,"jetbrains.mps.lang.structure.structure.BooleanConceptPropertyDeclaration")) {
            BooleanConceptProperty bcp=BooleanConceptProperty.newInstance(SNodeOperations.getModel(node));
            bcp.setBooleanConceptPropertyDeclaration(((BooleanConceptPropertyDeclaration)SNodeOperations.getAdapter(SNodeOperations.cast(cpd,"jetbrains.mps.lang.structure.structure.BooleanConceptPropertyDeclaration"))));
            acd.addConceptProperty(bcp);
            break;
          }
        }
      }
    }
  }
}
