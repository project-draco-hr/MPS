{
  Rectangle r=g.getClipBounds();
  Rectangle rect=r;
  int firstIndex=this.table.rowAtPoint(new Point(0,r.y));
  int lastIndex=this.lastVisibleRow(r);
  int rowMargin=this.table.getRowMargin();
  int y=-rowMargin;
  for (int i=0; i < firstIndex; i++) {
    y+=((DiffRowTable)this.table).getRowHeight(i) + rowMargin;
  }
  for (int index=firstIndex; index <= lastIndex; index++) {
    y+=((DiffRowTable)this.table).getRowHeight(index) + rowMargin;
    if ((y >= rect.y) && (y <= (rect.y + rect.height))) {
      g.drawLine(rect.x,y,rect.x + rect.width - 1,y);
    }
  }
}
