{
  final SNode node=selectedCell.getSNode();
  EditorCell anchorCell=null;
  String anchorTag=selectedCell.getStyle().get(StyleAttributes.RT_ANCHOR_TAG);
  if (anchorTag != null) {
    anchorCell=selectedCell;
  }
 else {
    EditorCell nodeMainCell=APICellAdapter.getContainingBigCell(selectedCell);
    EditorCell defAnchorCell=CellFinderUtil.findChildByCondition(nodeMainCell,new Condition<EditorCell>(){
      @Override public boolean met(      EditorCell cell){
        return SideTransformTagUtils.getDefaultSideTransformTag().equals(cell.getStyle().get(StyleAttributes.RT_ANCHOR_TAG)) && cell.getSNode() == node;
      }
    }
,true,true);
    if (defAnchorCell == null) {
      defAnchorCell=nodeMainCell;
    }
    if (CellTraversalUtil.isAncestorOrEquals(defAnchorCell,selectedCell)) {
      anchorCell=defAnchorCell;
    }
  }
  if (mySide == CellSide.RIGHT && anchorCell != null && CellFinderUtil.findLastSelectableLeaf(anchorCell,true) != selectedCell) {
    return null;
  }
  if (mySide == CellSide.LEFT && anchorCell != null && CellFinderUtil.findFirstSelectableLeaf(anchorCell,true) != selectedCell) {
    return null;
  }
  return anchorCell;
}
