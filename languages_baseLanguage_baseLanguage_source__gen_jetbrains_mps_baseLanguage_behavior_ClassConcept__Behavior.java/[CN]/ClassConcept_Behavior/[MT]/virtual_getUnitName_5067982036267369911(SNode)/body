{
  String fqName=BehaviorReflection.invokeVirtual(String.class,thisNode,"virtual_getFqName_1213877404258",new Object[]{});
  if (SNodeOperations.getAncestor(thisNode,"jetbrains.mps.baseLanguage.structure.Classifier",false,false) == null) {
    return fqName;
  }
  int index=fqName.lastIndexOf(".");
  if (index <= 0) {
    return fqName;
  }
  int length=jetbrains.mps.util.SNodeOperations.getModelLongName(SNodeOperations.getModel(thisNode)).length();
  return fqName.substring(0,length) + "." + fqName.substring(length + 1).replace(".","$");
}
