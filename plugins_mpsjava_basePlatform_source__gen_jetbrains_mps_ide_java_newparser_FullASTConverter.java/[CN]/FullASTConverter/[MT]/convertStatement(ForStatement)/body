{
  SNode forStatement=SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a698082feL,"jetbrains.mps.baseLanguage.structure.ForStatement")));
  List<SNode> init=convertStatements(x.initializations);
  SNode result=forStatement;
  if (ListSequence.fromList(init).any(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc56b213L,"jetbrains.mps.baseLanguage.structure.ExpressionStatement"));
    }
  }
)) {
    result=_quotation_createNode_f46ocm_a0b0d0gb(init,forStatement);
  }
 else   if (!(init.isEmpty())) {
    boolean first=true;
    for (    SNode statement : init) {
      if (SNodeOperations.isInstanceOf(statement,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement"))) {
        SNode lvds=SNodeOperations.cast(statement,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement"));
        SNode variableDeclaration=SLinkOperations.getTarget(lvds,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,0xf8cc67c7f1L,"localVariableDeclaration"));
        if (first) {
          SLinkOperations.setTarget(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a697996feL,0x10a6979f36bL,"variable"),variableDeclaration);
          first=false;
        }
 else {
          SNode additionalForLoopVariable=SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x19659b074928781eL,"jetbrains.mps.baseLanguage.structure.AdditionalForLoopVariable")));
          SPropertyOperations.set(additionalForLoopVariable,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name"),SPropertyOperations.getString(variableDeclaration,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")));
          SNode inititalizer=SLinkOperations.getTarget(variableDeclaration,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37a7f6eL,0xf8c37f506eL,"initializer"));
          if ((inititalizer != null)) {
            SLinkOperations.setTarget(additionalForLoopVariable,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37a7f6eL,0xf8c37f506eL,"initializer"),inititalizer);
          }
          SNode typeCandidate=SLinkOperations.getTarget(SLinkOperations.getTarget(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a697996feL,0x10a6979f36bL,"variable")),MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x450368d90ce15bc3L,0x4ed4d318133c80ceL,"type"));
          if ((typeCandidate != null)) {
            SLinkOperations.setTarget(additionalForLoopVariable,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x450368d90ce15bc3L,0x4ed4d318133c80ceL,"type"),SNodeOperations.copyNode(typeCandidate));
          }
          ListSequence.fromList(SLinkOperations.getChildren(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a698082feL,0xe5318742b9d1411L,"additionalVar"))).addElement(additionalForLoopVariable);
        }
      }
    }
  }
  SNode expr=convertExpressionWrap(x.condition);
  SLinkOperations.setTarget(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a698082feL,0x10a69819132L,"condition"),expr);
  List<SNode> incr=convertExpressionStatements(x.increments);
  if (!(incr.isEmpty())) {
    for (    SNode expressionStatement : incr) {
      SNode expression=SLinkOperations.getTarget(expressionStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc56b213L,0xf8cc56b214L,"expression"));
      SNodeOperations.detachNode(expression);
      ListSequence.fromList(SLinkOperations.getChildren(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10a698082feL,0x10a6981b2c5L,"iteration"))).addElement(expression);
    }
  }
  SNode loopBody=convertStatementWrap(x.action);
  SNode body=getStatementListFromStatement(loopBody,x.action);
  SLinkOperations.setTarget(forStatement,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10cb1ac5adeL,0x10cb1ada6e8L,"body"),body);
  return result;
}
