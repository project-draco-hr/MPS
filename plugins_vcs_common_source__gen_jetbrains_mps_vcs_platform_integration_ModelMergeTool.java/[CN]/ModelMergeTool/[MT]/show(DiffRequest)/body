{
  MergeRequestImpl mrequest=(MergeRequestImpl)request;
  try {
    VirtualFile file=getFileFromMergeRequest(mrequest);
    if (file == null) {
      if (LOG_705910402.isEnabledFor(Priority.ERROR)) {
        LOG_705910402.error("No file");
      }
      file=LocalFileSystem.getInstance().findFileByPath("/");
    }
    File backupFile=MergeBackupUtil.zipModel(request.getContents(),file);
    DiffContent[] contents=mrequest.getContents();
    String ext=file.getExtension();
    SModel baseModel=PersistenceUtil.loadModel(contents[MergeConstants.ORIGINAL].getDocument().getText(),ext);
    SModel mineModel=PersistenceUtil.loadModel(contents[MergeConstants.CURRENT].getBytes(),ext);
    SModel newModel=PersistenceUtil.loadModel(contents[MergeConstants.LAST_REVISION].getBytes(),ext);
    if (baseModel == null || mineModel == null || newModel == null) {
      if (LOG_705910402.isEnabledFor(Priority.WARN)) {
        LOG_705910402.warn("Couldn't read model, invoking text merge");
      }
      super.show(request);
      return;
    }
    final MergeModelsDialog dialog=new MergeModelsDialog(baseModel,mineModel,newModel,mrequest);
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        dialog.toFront();
      }
    }
);
    dialog.show();
    SModel resultModel=dialog.getResultModelWithFixedId();
    if (resultModel != null) {
      String asString=ModelPersistence.modelToString(as_7qvsj_a0a0a0a41a1a2(resultModel,SModelBase.class).getSModelInternal());
      resolved(mrequest,asString);
      MergeBackupUtil.packMergeResult(backupFile,file.getName(),asString);
    }
    dialog.unregisterModels();
  }
 catch (  IOException e) {
    LOG.error(null,e);
  }
}
