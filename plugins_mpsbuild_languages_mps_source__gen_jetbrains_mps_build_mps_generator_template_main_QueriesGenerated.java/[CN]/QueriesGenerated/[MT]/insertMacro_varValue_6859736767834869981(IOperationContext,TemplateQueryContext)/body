{
  SNode project=SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.build.structure.BuildProject",true,false);
  if (project == null) {
    _context.showErrorMessage(_context.getNode(),"no context project defined");
    return null;
  }
  DependenciesHelper helper=new DependenciesHelper(_context,project);
  SNode layoutNode=helper.artifacts().get(DependenciesHelper.getOriginalNode(((SNode)_context.getVariable("remotePath")),_context));
  if (layoutNode == null || !(SNodeOperations.isInstanceOf(layoutNode,"jetbrains.mps.build.structure.BuildLayout_Copy")) || !(SNodeOperations.isInstanceOf(SLinkOperations.getTarget(SNodeOperations.cast(layoutNode,"jetbrains.mps.build.structure.BuildLayout_Copy"),"fileset",true),"jetbrains.mps.build.structure.BuildInputSingleFile"))) {
    _context.showErrorMessage(_context.getNode(),"path " + BuildSourcePath_Behavior.call_getRelativePath_5481553824944787371(((SNode)_context.getVariable("remotePath"))) + " was not found in the layout");
    return null;
  }
  return SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(layoutNode,"jetbrains.mps.build.structure.BuildLayout_Copy"),"fileset",true),"jetbrains.mps.build.structure.BuildInputSingleFile");
}
