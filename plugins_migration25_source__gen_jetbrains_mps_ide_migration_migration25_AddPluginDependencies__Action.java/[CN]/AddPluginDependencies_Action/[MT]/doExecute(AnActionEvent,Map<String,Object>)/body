{
  try {
    ModuleReference standaloneRef=MPSModuleRepository.getInstance().getModuleById(ModuleId.fromString("ef7bf5ac-d06c-4342-b11d-e42104eb9343")).getModuleReference();
    for (    Language lang : ListSequence.fromList(((MPSProject)MapSequence.fromMap(_params).get("project")).getProjectModules(Language.class))) {
      DefaultSModelDescriptor aspect=LanguageAspect.PLUGIN.get(lang);
      if (aspect == null) {
        continue;
      }
      lang.addDependency(standaloneRef,false);
      SModel model=aspect.getSModel();
      model.addLanguage(standaloneRef);
      SModelOperations.createNewRootNode(model,"jetbrains.mps.lang.plugin.standalone.structure.StandalonePluginDescriptor",null);
    }
    SModelRepository.getInstance().saveAll();
    ClassLoaderManager.getInstance().reloadAll(new EmptyProgressMonitor());
  }
 catch (  Throwable t) {
    if (log.isErrorEnabled()) {
      log.error("User's action execute method failed. Action:" + "AddPluginDependencies",t);
    }
  }
}
