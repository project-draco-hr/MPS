{
  String projectPath=getProjectPath(testClass);
  BasicConfigurator.configure();
  Logger.getRootLogger().setLevel(Level.INFO);
  Testbench.initLogging();
  IdeMain.setTestMode(IdeMain.TestMode.CORE_TEST);
  TestMain.configureMPS();
  initPathMacros();
  Testbench.initLibs();
  if (ourMPSProject != null) {
    throw new InitializationError("One MPS project was already openned in this java process: " + ourMPSProject.getName() + " (on trying to open: "+ projectPath+ ")");
  }
  ourMPSProject=TestMain.PROJECT_CONTAINER.getProject(projectPath);
  ModelAccess.instance().flushEventQueue();
  return projectPath;
}
