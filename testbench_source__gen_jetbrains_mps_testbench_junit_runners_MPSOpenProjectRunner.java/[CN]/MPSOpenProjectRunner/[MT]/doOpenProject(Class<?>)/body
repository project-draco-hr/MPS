{
  String projectPath=getProjectPath(testClass);
  BasicConfigurator.configure();
  Logger.getRootLogger().setLevel(Level.INFO);
  Testbench.initLogging();
  IdeMain.setTestMode(IdeMain.TestMode.CORE_TEST);
  TestMain.configureMPS();
  Testbench.initLibs();
  if (ourMPSProject != null) {
    throw new InitializationError("One MPS project was already openned in this java process: " + ourMPSProject.getProject().getName() + " (on trying to open: "+ projectPath+ ")");
  }
  ourMPSProject=TestMain.loadProject(new File(projectPath));
  ModelAccess.instance().flushEventQueue();
  return projectPath;
}
