{
  return ModelAccess.instance().runReadAction(new Computable<VirtualFile>(){
    @Override public VirtualFile compute(){
      if (myNode == null)       return null;
      SNode node=getNode();
      if (node == null)       return null;
      SModel md=node.getModel();
      if (md == null)       return null;
      DataSource source=md.getSource();
      if (!(source instanceof FileDataSource))       return null;
      return VirtualFileUtils.getVirtualFile(((FileDataSource)source).getFile());
    }
  }
);
}
