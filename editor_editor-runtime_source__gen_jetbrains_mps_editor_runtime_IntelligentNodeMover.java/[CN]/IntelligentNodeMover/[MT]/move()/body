{
  if (wasMoved) {
    return false;
  }
  myEditorContext.getRepository().getModelAccess().executeCommand(new EditorCommand(myEditorContext){
    protected void doExecute(){
      myIsValid=isValid();
      if (!(myIsValid)) {
        return;
      }
      IntelligentNodeMover.PlaceToMove findPlaceToMove=findPlaceToMove();
      if (findPlaceToMove != null) {
        doMove(findPlaceToMove);
        wasMoved=true;
      }
      if (wasMoved) {
        myEditorContext.flushEvents();
        if (CollectionSequence.fromCollection(myNodesToMove).count() == 1) {
          myEditorContext.select(getBoundaryNode());
        }
 else {
          SelectionManager selectionManager=myEditorContext.getSelectionManager();
          selectionManager.setSelection(selectionManager.createRangeSelection(CollectionSequence.fromCollection(myNodesToMove).first(),CollectionSequence.fromCollection(myNodesToMove).last()));
        }
      }
    }
  }
);
  return wasMoved;
}
