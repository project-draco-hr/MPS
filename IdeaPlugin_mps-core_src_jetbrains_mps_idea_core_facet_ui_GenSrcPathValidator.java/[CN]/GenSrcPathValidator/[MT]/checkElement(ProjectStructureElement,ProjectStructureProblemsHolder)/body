{
  if (element instanceof ModuleProjectStructureElement) {
    myModule.set(((ModuleProjectStructureElement)element).getModule());
  }
 else   if (element instanceof FacetProjectStructureElement) {
    Module module=myModule.get();
    if (module != null) {
      myModule.remove();
      FacetProjectStructureElement fpse=(FacetProjectStructureElement)element;
      Project project=module.getProject();
      FacetPointersManager.getInstance(project).create(fpse.getId());
      MPSFacet facet=FacetManager.getInstance(module).getFacetByType(MPSFacetType.ID);
      if (facet == null)       return false;
      checkFacet(facet,project,element,problemsHolder);
      return true;
    }
  }
  return false;
}
