{
  if (!(key instanceof ConceptDeclaration))   return null;
  ConceptDeclaration conceptDeclaration=(ConceptDeclaration)key;
  while (conceptDeclaration != null) {
    Set<T> rules=myMap.get(conceptDeclaration);
    if (rules != null) {
      if (conceptDeclaration != key) {
        myMap.put((ConceptDeclaration)key,rules);
      }
      return rules;
    }
    conceptDeclaration=conceptDeclaration.getExtends();
  }
  HashSet<T> hashSet=new HashSet<T>();
  myMap.put((ConceptDeclaration)key,hashSet);
  return hashSet;
}
