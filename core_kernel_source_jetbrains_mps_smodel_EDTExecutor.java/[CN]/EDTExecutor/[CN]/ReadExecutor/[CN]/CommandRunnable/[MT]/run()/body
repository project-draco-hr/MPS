{
  ModelAccess.instance().tryWriteInCommand(new Runnable(){
    public void run(){
      long start=System.currentTimeMillis();
      while (true) {
        if (System.currentTimeMillis() - start > MAX_TIME)         break;
        Runnable command=getToExecuteCommand();
        if (command == null)         break;
        command.run();
      }
    }
  }
);
}
