{
  super(IdeMain.instance().getMainFrame(),text,true);
  setLayout(new BorderLayout());
  add(createComponent(),BorderLayout.CENTER);
  JPanel buttonsPanel=new JPanel(new FlowLayout(FlowLayout.RIGHT,2,2));
  JButton[] buttons=createButtons();
  JPanel innerButtonsPanel=new JPanel(new GridLayout(1,buttons.length,5,30));
  for (  JButton button : buttons) {
    innerButtonsPanel.add(button);
  }
  buttonsPanel.add(innerButtonsPanel);
  add(buttonsPanel,BorderLayout.SOUTH);
  ((JComponent)getContentPane()).registerKeyboardAction(new AbstractAction("Dispose dialog"){
    public void actionPerformed(    ActionEvent e){
      dispose();
    }
  }
,KeyStroke.getKeyStroke("ESCAPE"),JComponent.WHEN_IN_FOCUSED_WINDOW);
  setDefaultCloseOperation(DISPOSE_ON_CLOSE);
}
