{
  this.myRootNode=rootNode;
  this.myNode=targetNode;
  this.myModel.getSModel().runLoadingAction(new Runnable(){
    public void run(){
      EmbeddableEditor.this.myModel.getSModel().addRoot(EmbeddableEditor.this.myRootNode);
    }
  }
);
  this.myFileNodeEditor=new MPSFileNodeEditor(this.myContext,MPSNodesVirtualFileSystem.getInstance().getFileFor(this.myNode));
  IEditor editor=this.myFileNodeEditor.getNodeEditor();
  if (editor instanceof NodeEditor) {
    NodeEditor nodeEditor=(NodeEditor)editor;
    nodeEditor.setEditable(this.myIsEditable);
  }
  if (this.myPanel == null) {
    this.myPanel=new EmbeddableEditorPanel(this.myFileNodeEditor);
  }
 else {
    this.myPanel.setEditor(this.myFileNodeEditor);
  }
}
