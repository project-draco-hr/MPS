{
  myRootNode=rootNode;
  myNode=targetNode;
  if (addToModel) {
    addRoot(rootNode);
  }
  myFileNodeEditor=new MPSFileNodeEditor(myContext,MPSNodesVirtualFileSystem.getInstance().getFileFor(myNode));
  IEditor editor=myFileNodeEditor.getNodeEditor();
  if (editor instanceof NodeEditor) {
    NodeEditor nodeEditor=(NodeEditor)editor;
    nodeEditor.setEditable(myIsEditable);
  }
  if (myPanel == null) {
    myPanel=new EmbeddableEditorPanel(myFileNodeEditor);
  }
 else {
    myPanel.setEditor(myFileNodeEditor);
  }
}
