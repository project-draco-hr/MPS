{
  ConceptDeclaration conceptDeclaration=key;
  while (conceptDeclaration != null) {
    Set<T> rules=myRules.get(conceptDeclaration);
    if (rules != null) {
      if (conceptDeclaration != key) {
        myRules.put((ConceptDeclaration)key,rules);
      }
      return rules;
    }
    conceptDeclaration=conceptDeclaration.getExtends();
  }
  HashSet<T> hashSet=new HashSet<T>();
  myRules.put((ConceptDeclaration)key,hashSet);
  return hashSet;
}
