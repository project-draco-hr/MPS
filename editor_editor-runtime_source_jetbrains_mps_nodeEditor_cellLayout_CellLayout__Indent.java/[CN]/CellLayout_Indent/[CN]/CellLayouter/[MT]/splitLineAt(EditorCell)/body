{
  int index=myLineContent.indexOf(splitAt);
  if (index == -1) {
    throw new IllegalStateException();
  }
  final List<EditorCell> oldLine=new ArrayList<EditorCell>(myLineContent.subList(0,index));
  final List<EditorCell> newLine=new ArrayList<EditorCell>(myLineContent.subList(index,myLineContent.size()));
  withIndent(myLineIndent,myLineWrapIndent.get(index),new Runnable(){
    @Override public void run(){
      resetLine();
      for (      EditorCell cell : oldLine) {
        appendCell(cell,cell == oldLine.get(oldLine.size() - 1));
      }
      if (!oldLine.isEmpty()) {
        newLine(true);
      }
      for (      EditorCell cell : newLine) {
        appendCell(cell,false);
      }
    }
  }
);
}
