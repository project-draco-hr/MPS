{
  SNode enclosingClosureOrContextOwner=((SNode)jetbrains.mps.util.SNodeOperations.findParent(nodeInsideClosure,new Condition<SNode>(){
    public boolean met(    SNode object){
      if (!(object instanceof SNode)) {
        if (LOG.isEnabledFor(Level.WARN)) {
          LOG.warn("method create_closureContextObject(node<>, ITemplateGenerator) in " + _QueriesUtil.class.toString() + " operates only with the instances of SNode class");
        }
        return false;
      }
      if (SNodeOperations.isInstanceOf(object,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x10c63f4f3f3L,"jetbrains.mps.baseLanguage.structure.Closure"))) {
        return true;
      }
      return ClosuresUtil.isClosureContextOwner(((SNode)object));
    }
  }
));
  SModel model=generator.getOutputModel();
  if (enclosingClosureOrContextOwner != null && ClosuresUtil.isClosureContextOwner(enclosingClosureOrContextOwner)) {
    SNode varDeclStmt_output=(SNode)generator.findOutputNodeByInputNodeAndMappingName(enclosingClosureOrContextOwner,ClosuresMappingId.CONTEXT_OWNER__CLOSURE_CONTEXT__VARIABLE_DECL_STMT);
    if ((varDeclStmt_output != null)) {
      SNode variable=SLinkOperations.getTarget(varDeclStmt_output,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,0xf8cc67c7f1L,"localVariableDeclaration"));
      SNode variableRef=SModelOperations.createNewNode(model,null,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c77f1e98L,"jetbrains.mps.baseLanguage.structure.VariableReference"));
      SLinkOperations.setTarget(variableRef,MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c77f1e98L,0xf8cc6bf960L,"variableDeclaration"),variable);
      return variableRef;
    }
  }
  return SModelOperations.createNewNode(model,null,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf940cd6167L,"jetbrains.mps.baseLanguage.structure.NullLiteral"));
}
