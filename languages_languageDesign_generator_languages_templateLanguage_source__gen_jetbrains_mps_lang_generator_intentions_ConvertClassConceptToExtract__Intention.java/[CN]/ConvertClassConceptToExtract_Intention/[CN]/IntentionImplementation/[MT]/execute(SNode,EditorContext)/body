{
  SNode newNode=SNodeFactoryOperations.createNewNode(SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xdf345b11b8c74213L,0xac6648d2a9b75d88L,0xd01bb6e8b1cd97aL,"jetbrains.mps.baseLanguageInternal.structure.ExtractStaticInnerClassConcept")),null);
  for (  SNode child : SNodeOperations.getChildren(newNode)) {
    SNodeOperations.deleteNode(child);
  }
  HashMap<SNode,SNode> mapping=new HashMap<SNode,SNode>();
  mapping.put(node,newNode);
  List<SNode> children=SNodeOperations.getChildren(node);
  CopyUtil.copy(children,mapping);
  for (  SNode child : children) {
    newNode.addChild(child.getContainmentLink(),mapping.get(child));
  }
  for (  SReference reference : SNodeOperations.getReferences(node)) {
    SNodeAccessUtil.setReferenceTarget(newNode,reference.getLink(),reference.getTargetNode());
  }
  for (  SProperty p : node.getProperties()) {
    SNodeAccessUtil.setProperty(newNode,p,SNodeAccessUtil.getProperty(node,p));
  }
  SNodeOperations.replaceWithAnother(node,newNode);
}
