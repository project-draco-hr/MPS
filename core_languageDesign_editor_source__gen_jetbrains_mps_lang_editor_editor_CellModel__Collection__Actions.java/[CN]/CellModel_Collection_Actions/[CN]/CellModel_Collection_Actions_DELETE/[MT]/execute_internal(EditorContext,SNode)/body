{
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.lang.editor.structure.CellModel_Collection")) {
    SNode p=SNodeOperations.cast(SNodeOperations.getParent(node),"jetbrains.mps.lang.editor.structure.CellModel_Collection");
    List<SNode> children=SLinkOperations.getTargets(node,"childCellModel",true);
    for (    SNode child : ListSequence.<SNode>fromList(children)) {
      SNodeOperations.insertPrevSiblingChild(node,child);
    }
  }
 else   if (ListSequence.<SNode>fromList(SLinkOperations.getTargets(node,"childCellModel",true)).count() == 1) {
    SNode cell=ListSequence.<SNode>fromList(SLinkOperations.getTargets(node,"childCellModel",true)).first();
    SNodeOperations.replaceWithAnother(node,cell);
    return;
  }
  SNodeOperations.deleteNode(node);
}
