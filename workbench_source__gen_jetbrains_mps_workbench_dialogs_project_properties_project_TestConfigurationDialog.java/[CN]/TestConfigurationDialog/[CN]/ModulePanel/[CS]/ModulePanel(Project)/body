{
  myProject=project;
  setLayout(new BorderLayout());
  myModuleUID=new JTextField();
  JButton button=new JButton(new AbstractAction("Select"){
    public void actionPerformed(    ActionEvent e){
      final Wrappers._T<List<IModule>> modules=new Wrappers._T<List<IModule>>();
      final Wrappers._T<List<IModule>> projectModules=new Wrappers._T<List<IModule>>();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          modules.value=MPSModuleRepository.getInstance().getAllModules();
          projectModules.value=myProject.getComponent(MPSProject.class).getModules();
        }
      }
);
      List<ModuleReference> projectModuleRefs=ListSequence.fromList(projectModules.value).select(new ISelector<IModule,ModuleReference>(){
        public ModuleReference select(        IModule it){
          return it.getModuleReference();
        }
      }
).toListSequence();
      List<ModuleReference> moduleRefs=ListSequence.fromList(modules.value).select(new ISelector<IModule,ModuleReference>(){
        public ModuleReference select(        IModule it){
          return it.getModuleReference();
        }
      }
).toListSequence();
      ModuleReference module=CommonChoosers.showDialogModuleChooser(ModulePanel.this,TestConfigurationDialog.MODULE,projectModuleRefs,moduleRefs);
      if (module == null) {
        return;
      }
      String moduleName=module.getModuleFqName();
      myModuleUID.setText(moduleName);
      if (!(myNamePanel.isConfigNameSet())) {
        myNamePanel.setConfigName(NameUtil.shortNameFromLongName(moduleName));
      }
    }
  }
);
  JPanel panel=new JPanel(new BorderLayout());
  panel.add(myModuleUID,BorderLayout.CENTER);
  panel.add(button,BorderLayout.EAST);
  add(panel,BorderLayout.NORTH);
}
