{
  for (  SNode usedComponent : ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(dependency,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to")),MetaAdapterFactory.getContainmentLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610336068l,6223439730610336071l,"dep"))).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return (SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to")) != null);
    }
  }
).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode it){
      return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to"));
    }
  }
)) {
    final Set<SNode> visitedComponents=SetSequence.fromSet(new HashSet<SNode>());
    Queue<SNode> queue=QueueSequence.fromQueue(new LinkedList<SNode>());
    QueueSequence.fromQueue(queue).addLastElement(usedComponent);
    while (QueueSequence.fromQueue(queue).isNotEmpty()) {
      SNode nextComponent=QueueSequence.fromQueue(queue).removeFirstElement();
      SetSequence.fromSet(visitedComponents).addElement(nextComponent);
      if (nextComponent == SLinkOperations.getTarget(dependency,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to"))) {
{
          MessageTarget errorTarget=new NodeMessageTarget();
          IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(dependency,"Cyclic Dependnecy","r:6c7cc4eb-60e9-407a-94da-5f4d6ac9650c(jetbrains.mps.samples.componentDependencies.typesystem)","8153794773742437575",null,errorTarget);
        }
        return;
      }
      QueueSequence.fromQueue(queue).addSequence(ListSequence.fromList(SLinkOperations.getChildren(nextComponent,MetaAdapterFactory.getContainmentLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610336068l,6223439730610336071l,"dep"))).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return (SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to")) != null);
        }
      }
).select(new ISelector<SNode,SNode>(){
        public SNode select(        SNode it){
          return SLinkOperations.getTarget(it,MetaAdapterFactory.getReferenceLink(new UUID(3487681708893422336l,-6253710059602727269l),6223439730610762144l,6223439730610763348l,"to"));
        }
      }
).where(new IWhereFilter<SNode>(){
        public boolean accept(        SNode it){
          return !(SetSequence.fromSet(visitedComponents).contains(it));
        }
      }
));
    }
  }
}
