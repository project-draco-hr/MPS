{
  MPSFavoritesManager favoritesManager=((Project)MapSequence.fromMap(_params).get("project")).getComponent(MPSFavoritesManager.class);
  final String name=Messages.showInputDialog(((Project)MapSequence.fromMap(_params).get("project")),"Input new favorites list name","Add New Favorites List",Messages.getInformationIcon(),"Unnamed",new InputValidator(){
    @Override public boolean checkInput(    String p0){
      return (p0 != null && p0.length() > 0);
    }
    @Override public boolean canClose(    String p0){
      return true;
    }
  }
);
  if ((name == null || name.length() == 0)) {
    return;
  }
  favoritesManager.addNewFavoritesList(name);
  FavoritesProjectPane pane=FavoritesUtil.getCurrentPane(((Project)MapSequence.fromMap(_params).get("project")));
  List<Object> toMove=AddToNewFavoritesList_Action.this.getObjects(_params);
  if (pane != null) {
    favoritesManager.removeRoots(pane.getSubId(),toMove);
  }
  favoritesManager.addRoots(name,toMove);
}
