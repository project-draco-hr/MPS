{
  if (!(this.fillFieldsIfNecessary(context))) {
    this.setEnabled(false);
    this.setVisible(false);
    return;
  }
{
    List<SNode> nodes=context.getNodes();
    boolean enabled=false;
    if (nodes != null) {
      enabled=true;
{
        ICursor<SNode> _zCursor=CursorFactory.createCursor(nodes);
        try {
          while (_zCursor.moveToNext()) {
            SNode node=_zCursor.getCurrent();
            if (!(SNodeOperations.isInstanceOf(node,"jetbrains.mps.baseLanguage.structure.Statement"))) {
              enabled=false;
              break;
            }
          }
        }
  finally {
          _zCursor.release();
        }
      }
      if (SequenceOperations.getSize(nodes) == 1 && SNodeOperations.isInstanceOf(SequenceOperations.getFirst(nodes),"jetbrains.mps.baseLanguage.structure.CommentedStatementsBlock")) {
        enabled=false;
      }
    }
    this.setVisible(enabled);
    this.setEnabled(enabled);
  }
}
