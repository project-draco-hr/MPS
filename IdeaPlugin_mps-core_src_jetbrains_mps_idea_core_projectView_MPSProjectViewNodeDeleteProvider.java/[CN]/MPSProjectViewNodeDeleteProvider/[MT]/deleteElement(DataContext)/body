{
  Project mpsProject=getMPSProject(dataContext);
  if (mpsProject == null) {
    return;
  }
  ModelAccess.instance().runCommandInEDT(new Runnable(){
    @Override public void run(){
      Set<EditableSModelDescriptor> modelsToSave=new HashSet<EditableSModelDescriptor>();
      for (      MPSProjectViewNode myProjectViewNode : myProjectViewNodes) {
        SNode nodeToDelete=myProjectViewNode.getValue().resolve(MPSModuleRepository.getInstance());
        if (nodeToDelete != null) {
          SModelDescriptor modelDescriptor=nodeToDelete.getModel().getModelDescriptor();
          if (modelDescriptor instanceof EditableSModelDescriptor) {
            nodeToDelete.delete();
            modelsToSave.add((EditableSModelDescriptor)modelDescriptor);
          }
        }
      }
      for (      EditableSModelDescriptor sModelDescriptor : modelsToSave) {
        sModelDescriptor.save();
      }
    }
  }
,mpsProject);
}
