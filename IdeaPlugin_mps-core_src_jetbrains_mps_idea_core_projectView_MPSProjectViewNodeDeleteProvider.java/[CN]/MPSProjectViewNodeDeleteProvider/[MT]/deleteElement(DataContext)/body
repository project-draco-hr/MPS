{
  Project mpsProject=getMPSProject(dataContext);
  if (mpsProject == null) {
    return;
  }
  ModelAccess.instance().runCommandInEDT(new Runnable(){
    @Override public void run(){
      Set<EditableSModel> modelsToSave=new HashSet<EditableSModel>();
      for (      MPSProjectViewNode myProjectViewNode : myProjectViewNodes) {
        SNode nodeToDelete=myProjectViewNode.getValue().resolve(MPSModuleRepository.getInstance());
        if (nodeToDelete != null) {
          SModel modelDescriptor=nodeToDelete.getModel().getModelDescriptor();
          if (modelDescriptor instanceof EditableSModel) {
            nodeToDelete.delete();
            modelsToSave.add((EditableSModel)modelDescriptor);
          }
        }
      }
      for (      EditableSModel sModelDescriptor : modelsToSave) {
        sModelDescriptor.save();
      }
    }
  }
,mpsProject);
}
