{
synchronized (TYPECHECKING_LOCK) {
    checkRoot(refreshTypes);
    getBaseNodeTypesComponent().applyNonTypesystemRulesToRoot(getOperationContext());
    Set<Pair<SNode,List<IErrorReporter>>> errors=new HashSet<Pair<SNode,List<IErrorReporter>>>(myNodeTypesComponent.getNodesWithErrors());
    return errors;
  }
}
