{
synchronized (TYPECHECKING_LOCK) {
    try {
      setInEditorQueriesMode();
      r.run();
    }
  finally {
      resetIsInEditorQueriesMode();
    }
  }
}
