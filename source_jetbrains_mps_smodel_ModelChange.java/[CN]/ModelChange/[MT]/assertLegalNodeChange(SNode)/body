{
  if (!(node.getModel().isLoading())) {
    assertTrue(!node.isRegistered() || CommandProcessor.instance().isInsideUndoableCommand(),"registered node can only be modified inside undoable command or in 'loading' model " + node.getDebugText());
  }
}
