{
  Set<String> toConceptRoles=SetSequence.fromSetWithValues(new HashSet(),ListSequence.fromList(AbstractConceptDeclaration_Behavior.call_getLinkDeclarations_1213877394480(SNodeOperations.getConceptDeclaration(to))).<String>select(new ISelector<SNode,String>(){
    public String select(    SNode it){
      return SPropertyOperations.getString(it,"role");
    }
  }
));
  for (  String role : SetSequence.fromSet(from.getChildRoles())) {
    if (SetSequence.fromSet(toConceptRoles).contains(role) && !(SetSequence.fromSet(ROLES_NOT_TO_COPY).contains(role))) {
      for (      SNode child : ListSequence.fromList(from.getChildren(role))) {
        to.addChild(role,SNodeOperations.detachNode(((SNode)child)));
      }
    }
  }
}
