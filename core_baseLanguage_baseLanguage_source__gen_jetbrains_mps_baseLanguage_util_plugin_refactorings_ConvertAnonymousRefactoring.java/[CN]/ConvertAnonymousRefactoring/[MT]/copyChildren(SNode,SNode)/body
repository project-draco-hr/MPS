{
  Set<String> toConceptRoles=SetSequence.<String>fromSetWithValues(new HashSet(),ListSequence.<SNode>fromList(AbstractConceptDeclaration_Behavior.call_getLinkDeclarations_1213877394480(SNodeOperations.getConceptDeclaration(to))).<String>select(new ISelector<SNode,String>(){
    public String select(    SNode it){
      return SPropertyOperations.getString(it,"role");
    }
  }
));
  for (  String role : SetSequence.<String>fromSet(from.getChildRoles())) {
    if (SetSequence.<String>fromSet(toConceptRoles).contains(role) && !(SetSequence.<String>fromSet(ROLES_NOT_TO_COPY).contains(role))) {
      for (      SNode child : ListSequence.<SNode>fromList(from.getChildren(role))) {
        to.addChild(role,SNodeOperations.detachNode(((SNode)child)));
      }
    }
  }
}
