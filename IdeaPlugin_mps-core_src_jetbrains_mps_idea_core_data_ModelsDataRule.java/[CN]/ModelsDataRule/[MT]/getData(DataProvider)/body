{
  VirtualFile[] virtualFiles=PlatformDataKeys.VIRTUAL_FILE_ARRAY.getData(dataProvider);
  if (virtualFiles == null) {
    return null;
  }
  final Project project=CommonDataKeys.PROJECT.getData(dataProvider);
  if (project == null) {
    return null;
  }
  List<SModel> result=new ArrayList<SModel>();
  for (  VirtualFile f : virtualFiles) {
    final SModel model=SModelFileTracker.getInstance(ProjectHelper.getProjectRepository(project)).findModel(FileSystem.getInstance().getFileByPath(f.getPath()));
    if (model != null) {
      result.add(model);
    }
  }
  return result.isEmpty() ? null : result;
}
