{
  if (actionContext.getNodes().isEmpty()) {
    return false;
  }
  if (((Object)refactoringContext.getParameter("target")) instanceof SNode) {
    SNode targetNode=((SNode)((Object)refactoringContext.getParameter("target")));
    SNode concept=SNodeOperations.getConceptDeclaration(targetNode);
    ConceptAndSuperConceptsScope superConceptsScope=new ConceptAndSuperConceptsScope(((AbstractConceptDeclaration)SNodeOperations.getAdapter(concept)));
    List<LinkDeclaration> linkDeclarations=superConceptsScope.getLinkDeclarationsExcludingOverridden();
    Iterable<SNode> childLinkDeclarations=SequenceOperations.select(SequenceOperations.where(linkDeclarations,new zPredicate(MoveNodes.this,null)),new zSelector(MoveNodes.this,null));
    Iterable<String> childLinksRoles=SequenceOperations.select(childLinkDeclarations,new zSelector1(MoveNodes.this,null));
    for (    SNode node : actionContext.getNodes()) {
      String childRole=node.getRole_();
      if (!(SequenceOperations.contains(childLinksRoles,childRole))) {
        return false;
      }
      for (      SNode linkDeclaration : childLinkDeclarations) {
        if (SPropertyOperations.getString(linkDeclaration,"role").equals(childRole)) {
          if (!(SConceptOperations.isSuperConceptOf(SLinkOperations.getTarget(linkDeclaration,"target",false),NameUtil.nodeFQName(SNodeOperations.getConceptDeclaration(node))))) {
            return false;
          }
        }
      }
    }
    return true;
  }
  if (((Object)refactoringContext.getParameter("target")) instanceof SModelDescriptor) {
    for (    SNode node : actionContext.getNodes()) {
      if (!(SPropertyOperations.getBoolean(SNodeOperations.getConceptDeclaration(node),"rootable"))) {
        return false;
      }
    }
    return true;
  }
  return false;
}
