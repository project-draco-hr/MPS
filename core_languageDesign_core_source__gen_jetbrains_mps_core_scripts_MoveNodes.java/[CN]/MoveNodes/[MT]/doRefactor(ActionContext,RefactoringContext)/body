{
{
    List<SNode> nodes=(List<SNode>)actionContext.getNodes();
    SModel targetModel=null;
    List<SNode> movedNodes=null;
    if (((Object)refactoringContext.getParameter("target")) instanceof SModelDescriptor) {
      targetModel=((SModelDescriptor)((Object)refactoringContext.getParameter("target"))).getSModel();
      movedNodes=refactoringContext.moveNodesToModel(nodes,targetModel);
    }
    if (((Object)refactoringContext.getParameter("target")) instanceof SNode) {
      movedNodes=refactoringContext.moveNodesToNode(nodes,ListSequence.fromList(nodes).getElement(0).getRole_(),(SNode)((Object)refactoringContext.getParameter("target")));
      targetModel=((SNode)((Object)refactoringContext.getParameter("target"))).getModel();
    }
    if (targetModel != null) {
      IModule module=targetModel.getModelDescriptor().getModule();
      IOperationContext operationContext=new ModuleContext(module,actionContext.getOperationContext().getProject());
      if (operationContext != null) {
        operationContext.getComponent(MPSEditorOpener.class).openNode(ListSequence.fromList(movedNodes).first());
      }
    }
  }
}
