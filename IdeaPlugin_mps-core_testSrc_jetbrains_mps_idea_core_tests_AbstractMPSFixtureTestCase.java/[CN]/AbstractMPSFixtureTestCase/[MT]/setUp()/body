{
  super.setUp();
  myProjectBuilder=IdeaTestFixtureFactory.getFixtureFactory().createFixtureBuilder(getName());
  myFixture=JavaTestFixtureFactory.getFixtureFactory().createCodeInsightFixture(myProjectBuilder.getFixture());
  final JavaModuleFixtureBuilder moduleFixtureBuilder=myProjectBuilder.addModule(CustomJavaModuleFixtureBuilder.class);
  moduleFixtureBuilder.addSourceContentRoot(myFixture.getTempDirPath());
  tuneFixture(moduleFixtureBuilder);
  myFixture.setUp();
  myFixture.setTestDataPath(getTestDataPath());
  myModule=moduleFixtureBuilder.getFixture().getModule();
  CompilerWorkspaceConfiguration.getInstance(myModule.getProject()).USE_COMPILE_SERVER=false;
  myFacet=addMPSFacet(myModule);
  if (TRACE_ON_HACK)   Logger.setFactory(LoggerFactory.getInstance());
}
