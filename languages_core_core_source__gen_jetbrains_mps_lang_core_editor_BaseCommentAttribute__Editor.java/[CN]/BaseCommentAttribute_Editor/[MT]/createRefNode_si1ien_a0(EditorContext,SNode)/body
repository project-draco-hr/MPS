{
  CellProviderWithRole provider=new RefNodeCellProvider(node,editorContext);
  provider.setRole("commentedNode");
  provider.setNoTargetText("<no commentedNode>");
  EditorCell editorCell;
  editorCell=provider.createEditorCell(editorContext);
  if (editorCell.getRole() == null) {
    editorCell.setRole("commentedNode");
  }
  editorCell.setSubstituteInfo(provider.createDefaultSubstituteInfo());
  Iterable<SNode> attributeNodes=provider.getRoleAttributes();
  Class attributeKind=provider.getRoleAttributeClass();
  if (attributeNodes.iterator().hasNext()) {
    EditorManager manager=EditorManager.getInstanceFromContext(editorContext);
    if (attributeKind.equals(AttributeKind.Child.class)) {
      return manager.createNodeRoleAttributeCell(attributeNodes,attributeKind,editorCell);
    }
 else {
      return manager.createNodeRoleAttributeCell(attributeNodes.iterator().next(),attributeKind,editorCell);
    }
  }
 else   return editorCell;
}
