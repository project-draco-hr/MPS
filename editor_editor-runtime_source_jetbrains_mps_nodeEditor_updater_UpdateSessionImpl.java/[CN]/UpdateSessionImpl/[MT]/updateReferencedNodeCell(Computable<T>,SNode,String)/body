{
  ReferencedNodeContext currentContext=myContextStack.peek();
  myContextStack.push(currentContext.contextWithOneMoreReference(node,currentContext.getNode(),role));
  try {
    return update.compute();
  }
  finally {
    myContextStack.pop();
  }
}
