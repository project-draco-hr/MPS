{
  ReferencedNodeContext currentContext=ReferencedNodeContext.createNodeContext(getNode());
  myContextStack.push(currentContext);
  EditorContext editorContext=getUpdater().getEditorContext();
  editorContext.getCellFactory().pushCellContext();
  try {
    editorContext.getCellFactory().addCellContextHints(getInitialEditorHints(editorContext));
    return EditorManager.getInstanceFromContext(editorContext).createRootCell(editorContext,getNode(),getModelModifications(),currentContext,editorContext.isInspector());
  }
  finally {
    editorContext.getCellFactory().popCellContext();
    myContextStack.pop();
  }
}
