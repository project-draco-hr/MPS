{
  waitForChangesManager();
  List<ModelChange> changes=newModelDiff.getChangeSet().getModelChanges();
  Assert.assertEquals(2,ListSequence.fromList(changes).count());
  Assert.assertTrue(ListSequence.fromList(changes).any(new IWhereFilter<ModelChange>(){
    public boolean accept(    ModelChange it){
      return it instanceof AddRootChange;
    }
  }
));
  Assert.assertTrue(ListSequence.fromList(changes).any(new IWhereFilter<ModelChange>(){
    public boolean accept(    ModelChange it){
      return it instanceof ModuleDependencyChange;
    }
  }
));
}
