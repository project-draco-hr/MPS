{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      IOperationContext operationContext=getOperationContext();
      disposeTypeCheckingContext();
      myNode=node;
      myNodePointer=myNode != null ? new SNodePointer(myNode) : null;
      myVirtualFile=myNode != null && !myNoVirtualFile ? MPSNodesVirtualFileSystem.getInstance().getFileFor(node) : null;
      SModel model=node == null ? null : node.getModel();
      setEditorContext(new EditorContext(EditorComponent.this,model,operationContext));
      rebuildEditorContent();
      getTypeCheckingContext();
    }
  }
);
}
