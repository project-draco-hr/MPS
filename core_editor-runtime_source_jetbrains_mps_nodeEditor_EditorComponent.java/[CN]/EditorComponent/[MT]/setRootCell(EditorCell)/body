{
  Set<SNode> oldNodesToDependOn=myCellsToNodesToDependOnMap.get(myRootCell);
  Set<SNodePointer> oldRefTargetsToDependsOn=myCellsToRefTargetsToDependOnMap.get(myRootCell);
  if (myRootCell != null) {
    ((EditorCell_Basic)myRootCell).onRemove();
  }
  myRootCell=rootCell;
  if (myRootCell != null) {
    ((EditorCell_Basic)myRootCell).onAdd();
  }
  Set<SModelDescriptor> oldModelsToDependOn=getModels(oldNodesToDependOn);
  Set<SModelDescriptor> newModelsToDependOn=getModels(myCellsToNodesToDependOnMap.get(myRootCell));
  oldModelsToDependOn.addAll(getModelsAndPurgeOrphaned(oldRefTargetsToDependsOn));
  newModelsToDependOn.addAll(getModelsAndPurgeOrphaned(myCellsToRefTargetsToDependOnMap.get(myRootCell)));
  for (  SModelDescriptor newDep : newModelsToDependOn) {
    if (!oldModelsToDependOn.contains(newDep)) {
      addOurListeners(newDep);
    }
  }
  for (  SModelDescriptor oldDep : oldModelsToDependOn) {
    if (!newModelsToDependOn.contains(oldDep)) {
      removeOurListeners(oldDep);
    }
  }
  revalidate();
  repaint();
}
