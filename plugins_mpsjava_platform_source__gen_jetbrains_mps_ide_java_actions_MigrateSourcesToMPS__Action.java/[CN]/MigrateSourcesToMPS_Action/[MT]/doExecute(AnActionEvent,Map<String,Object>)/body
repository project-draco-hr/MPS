{
  try {
    ModuleDescriptor moduleDescr=((AbstractModule)((SModule)MapSequence.fromMap(_params).get("module"))).getModuleDescriptor();
    if (moduleDescr == null || moduleDescr.getSourcePaths().isEmpty()) {
      return;
    }
    DirParser dirParser=new DirParser(((SModule)MapSequence.fromMap(_params).get("module")),((MPSProject)MapSequence.fromMap(_params).get("project")));
    for (    String path : CollectionSequence.fromCollection(moduleDescr.getSourcePaths())) {
      dirParser.addDirectory(new File(path));
    }
    try {
      dirParser.parseDirs();
    }
 catch (    JavaParseException e) {
      JOptionPane.showMessageDialog(((Frame)MapSequence.fromMap(_params).get("frame")),e.getMessage(),"Error while importing java code",JOptionPane.ERROR_MESSAGE);
      throw new RuntimeException(e);
    }
    moduleDescr.getSourcePaths().clear();
    ClassLoaderManager.getInstance().reloadAll(new EmptyProgressMonitor());
  }
 catch (  Throwable t) {
    if (LOG.isEnabledFor(Priority.ERROR)) {
      LOG.error("User's action execute method failed. Action:" + "MigrateSourcesToMPS",t);
    }
  }
}
