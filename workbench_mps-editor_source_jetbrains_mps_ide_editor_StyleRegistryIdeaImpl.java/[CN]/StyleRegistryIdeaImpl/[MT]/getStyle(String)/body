{
  if (myIDEAStylesMapping.containsKey(key)) {
    key=myIDEAStylesMapping.get(key);
  }
  Style style=super.getStyle(key);
  if (style == null) {
    style=new StyleImpl();
    TextAttributes textAttributes=getColorsScheme().getAttributes(TextAttributesKey.find(key));
    if (textAttributes == null)     textAttributes=new TextAttributes();
    style.set(StyleAttributes.TEXT_COLOR,textAttributes.getForegroundColor());
    style.set(StyleAttributes.TEXT_BACKGROUND_COLOR,textAttributes.getBackgroundColor());
    style.set(StyleAttributes.FONT_STYLE,textAttributes.getFontType());
    if (textAttributes.getEffectColor() != null) {
      style.set(StyleAttributes.UNDERLINED,textAttributes.getEffectType().equals(EffectType.LINE_UNDERSCORE));
      style.set(StyleAttributes.STRIKE_OUT,textAttributes.getEffectType().equals(EffectType.STRIKEOUT));
    }
    setStyle(key,style);
  }
  return style;
}
