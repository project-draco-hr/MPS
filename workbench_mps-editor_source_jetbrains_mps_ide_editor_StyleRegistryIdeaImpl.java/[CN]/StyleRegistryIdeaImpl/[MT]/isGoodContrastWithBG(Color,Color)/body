{
  int brightnessColor=(299 * color.getRed() + 587 * color.getGreen() + 114 * color.getBlue()) / 1000;
  int brightnessBG=(299 * bg.getRed() + 587 * bg.getGreen() + 114 * bg.getBlue()) / 1000;
  int brightnessDiff=brightnessBG - brightnessColor;
  int colorDiff=Math.abs(color.getRed() - bg.getRed()) + Math.abs(color.getGreen() - bg.getGreen()) + Math.abs(color.getBlue() - bg.getBlue());
  return Math.abs(brightnessDiff) >= brightnessTH || colorDiff >= colorTH;
}
