{
  Status status=generator.getReferentRoleValidator(myOutputSourceNode,myReferenceRole).validate(outputTargetNode);
  if (status != null) {
    status.reportProblem(true,myOutputSourceNode,"bad reference: ",getErrorDescriptions());
    return false;
  }
  SModel referentNodeModel=outputTargetNode.getModel();
  if (referentNodeModel != myOutputSourceNode.getModel()) {
    if (SModelStereotype.isGeneratorModel(referentNodeModel)) {
      generator.getLogger().error(myOutputSourceNode,"bad reference, cannot refer to a generator model: " + SNodeUtil.getDebugText(outputTargetNode) + " for role '"+ myReferenceRole+ "' in "+ SNodeUtil.getDebugText(myOutputSourceNode),getErrorDescriptions());
      return false;
    }
    if (referentNodeModel.getModule() instanceof TransientModelsModule) {
      generator.getLogger().error(myOutputSourceNode,"bad reference, cannot refer to a transient model: " + SNodeUtil.getDebugText(outputTargetNode) + " for role '"+ myReferenceRole+ "' in "+ SNodeUtil.getDebugText(myOutputSourceNode),getErrorDescriptions());
      return false;
    }
  }
  return true;
}
