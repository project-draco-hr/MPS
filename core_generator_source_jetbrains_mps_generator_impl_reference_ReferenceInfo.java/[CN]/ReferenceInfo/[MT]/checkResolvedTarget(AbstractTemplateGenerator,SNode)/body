{
  Status status=generator.getReferentRoleValidator(myOutputSourceNode,myReferenceRole).validate(outputTargetNode);
  if (status != null) {
    generator.getLogger().error(myOutputSourceNode.getReference(),status.getMessage(getClass().getSimpleName()),getErrorDescriptions());
    return false;
  }
  SModel referentNodeModel=outputTargetNode.getModel();
  if (referentNodeModel != myOutputSourceNode.getModel()) {
    if (SModelStereotype.isGeneratorModel(referentNodeModel)) {
      String msg="bad reference, cannot refer to a generator model: %s for role '%s' in %s";
      generator.getLogger().error(myOutputSourceNode.getReference(),String.format(msg,SNodeUtil.getDebugText(outputTargetNode),myReferenceRole,SNodeUtil.getDebugText(myOutputSourceNode)),getErrorDescriptions());
      return false;
    }
    if (referentNodeModel.getModule() instanceof TransientModelsModule) {
      String msg="bad reference, cannot refer to a transient model: %s  for role '%s' in %s";
      generator.getLogger().error(myOutputSourceNode.getReference(),String.format(msg,SNodeUtil.getDebugText(outputTargetNode),myReferenceRole,SNodeUtil.getDebugText(myOutputSourceNode)),getErrorDescriptions());
      return false;
    }
  }
  return true;
}
