{
  try {
    Iterable<SModule> modules=MPSModuleRepository.getInstance().getModules();
    List<EditableSModel> allModels=Sequence.fromIterable(modules).translate(new ITranslator2<SModule,SModel>(){
      public Iterable<SModel> translate(      SModule it){
        return it.getModels();
      }
    }
).where(new IWhereFilter<SModel>(){
      public boolean accept(      SModel it){
        return SModelStereotype.isUserModel(it) && it instanceof EditableSModel;
      }
    }
).select(new ISelector<SModel,EditableSModel>(){
      public EditableSModel select(      SModel it){
        return (EditableSModel)it;
      }
    }
).toListSequence();
    for (    EditableSModel model : ListSequence.fromList(allModels)) {
      if (model.isReadOnly()) {
        continue;
      }
      try {
        model.load();
        model.setChanged(true);
        if (model.isChanged()) {
          model.save();
        }
      }
 catch (      Exception ex) {
        if (LOG.isEnabledFor(Level.ERROR)) {
          LOG.error("Error re-saving model " + model.getModelName(),ex);
        }
      }
    }
  }
 catch (  Throwable t) {
    if (LOG.isEnabledFor(Level.ERROR)) {
      LOG.error("User's action execute method failed. Action:" + "ForcedSaveAll",t);
    }
  }
}
