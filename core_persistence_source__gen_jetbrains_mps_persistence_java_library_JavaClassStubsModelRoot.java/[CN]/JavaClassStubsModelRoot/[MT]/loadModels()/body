{
  List<SModel> result=ListSequence.fromList(new ArrayList<SModel>());
  final Collection<String> files=getFiles(FileBasedModelRoot.SOURCE_ROOTS);
  final Collection<String> excludedFiles=getFiles(FileBasedModelRoot.EXCLUDED);
  for (  String file : files) {
    Set<IFile> jarFiles=new HashSet<IFile>();
    collectJarFiles(FileSystem.getInstance().getFileByPath(file),jarFiles);
    for (    IFile jarFile : jarFiles) {
      findAndAddModels(jarFile.getPath(),result,excludedFiles);
    }
    findAndAddModels(file,result,excludedFiles);
  }
  return result;
}
