{
  ProcessHandler processHandler;
  if (runContentDescriptor != null) {
    processHandler=runContentDescriptor.getProcessHandler();
  }
 else {
    if (project == null) {
      return null;
    }
    RunContentDescriptor selected=ExecutionManager.getInstance(project).getContentManager().getSelectedContent();
    if (selected == null) {
      selected=ExecutionManager.getInstance(project).getContentManager().getSelectedContent(DefaultDebugExecutor.getDebugExecutorInstance());
    }
    processHandler=(selected == null ? null : selected.getProcessHandler());
  }
  if (project == null) {
    return null;
  }
  return DebugSessionManagerComponent.getInstance(project).getDebugSession(processHandler);
}
