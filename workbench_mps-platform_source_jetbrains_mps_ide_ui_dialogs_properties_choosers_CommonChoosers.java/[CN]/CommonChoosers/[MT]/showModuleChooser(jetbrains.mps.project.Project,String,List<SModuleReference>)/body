{
  ChooseByNameData<SModuleReference> data=new ChooseByNameData<>(new ModulesPresentation(mpsProject.getRepository()));
  data.derivePrompts("module").setCheckBoxName(null).setScope(modules,null);
  ChooserDialog<SModuleReference> dialog=new ChooserDialog<SModuleReference>(ProjectHelper.toIdeaProject(mpsProject),data,false,false);
  dialog.setTitle(title == null ? "Choose module" : title);
  dialog.show();
  List<SModuleReference> result=dialog.getResult();
  return result.isEmpty() ? null : result.get(0);
}
