{
  ChooseByNameData<SModelReference> data=new ChooseByNameData<>(new ModelsPresentation(ProjectHelper.getProjectRepository(project)));
  data.derivePrompts("model").setCheckBoxName(null).setScope(models,nonProjectModels);
  final boolean extraScope=nonProjectModels != null && !nonProjectModels.isEmpty();
  ChooserDialog<SModelReference> dialog=new ChooserDialog<SModelReference>(project,data,extraScope,true);
  dialog.setTitle("Choose model");
  dialog.show();
  return dialog.getResult();
}
