{
  String text=value.toString();
  if (value instanceof MPSTreeNode) {
    text=value.toString();
  }
  super.getTreeCellRendererComponent(tree,text,sel,expanded,leaf,row,hasFocus);
  if (value instanceof MPSTreeNode) {
    MPSTreeNode node=(MPSTreeNode)value;
    setIcon(node.getIcon(expanded));
    setForeground(node.getColor());
  }
  return this;
}
