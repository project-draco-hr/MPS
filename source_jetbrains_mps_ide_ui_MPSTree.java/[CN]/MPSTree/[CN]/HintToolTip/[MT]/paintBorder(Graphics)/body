{
  super.paintBorder(g);
  Color borderSelectionColor=myTooltipBorderSelectionColor;
  if (myToolTipLocation == null)   return;
  Rectangle rect=MPSTree.this.getVisibleRect();
  Rectangle visRect=new Rectangle(rect);
  SwingUtilities.computeIntersection(myToolTipLocation.x,myToolTipLocation.y,getWidth(),getHeight(),rect);
  int x2=(int)(rect.getX() - myToolTipLocation.x);
  int y2=(int)(rect.getY() - myToolTipLocation.y);
  int x1=(int)(rect.getWidth() - 1 + x2);
  int y1=(int)(rect.getHeight() - 1 + y2);
  Color borderColor=myTooltipOverSelected ? borderSelectionColor : Color.white;
  g.setColor(borderColor);
  if (visRect.intersectsLine(myToolTipLocation.x,myToolTipLocation.y,myToolTipLocation.x,myToolTipLocation.y + getHeight())) {
    g.drawLine(x2,y2,x2,y1);
  }
  if (visRect.intersectsLine(myToolTipLocation.x,myToolTipLocation.y,myToolTipLocation.x + getWidth(),myToolTipLocation.y)) {
    g.drawLine(x2,y2,x1,y2);
  }
  if (visRect.intersectsLine(myToolTipLocation.x,myToolTipLocation.y + getHeight(),myToolTipLocation.x + getWidth(),myToolTipLocation.y + getHeight())) {
    g.drawLine(x2,y1,x1,y1);
  }
  if (visRect.intersectsLine(myToolTipLocation.x + getWidth(),myToolTipLocation.y,myToolTipLocation.x + getWidth(),myToolTipLocation.y + getHeight())) {
    g.drawLine(x1,y2,x1,y1);
  }
}
