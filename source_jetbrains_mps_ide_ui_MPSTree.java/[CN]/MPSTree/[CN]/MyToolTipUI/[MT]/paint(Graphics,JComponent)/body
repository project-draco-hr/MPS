{
  Font font=c.getFont();
  FontMetrics metrics=c.getFontMetrics(font);
  Dimension size=c.getSize();
  Color backgroundColor=(myTooltipOverSelected ? myTooltipBackgroundSelectionColor : myTooltipBackgroundNonSelectionColor);
  g.setColor(backgroundColor);
  g.fillRect(0,0,size.width,size.height);
  g.setColor(c.getForeground());
  g.setFont(font);
  String tipText=((JToolTip)c).getTipText();
  if (tipText == null) {
    tipText="";
  }
  Insets insets=c.getInsets();
  Rectangle paintTextR=new Rectangle(insets.left,insets.top,size.width - (insets.left + insets.right),size.height - (insets.top + insets.bottom));
  View v=(View)c.getClientProperty(BasicHTML.propertyKey);
  if (v != null) {
    v.paint(g,paintTextR);
  }
 else {
    g.drawString(tipText,paintTextR.x,paintTextR.y + metrics.getAscent());
  }
}
