{
  if (node == null)   return null;
  NodeWrapper result;
  String conceptFqName=node.getConceptFqName();
  if (RuntimeTypeVariable.concept.equals(conceptFqName)) {
    result=new VariableWrapper(node,equationManager,equationManagerNullable);
  }
 else   if (CopiedTypeProvider.concept.equals(conceptFqName)) {
    SNode copied=node;
    SNode source=copied.getReferent(CopiedTypeProvider.COPIED_TYPE_SOURCE);
    while (CopiedTypeProvider.concept.equals(source.getConceptFqName())) {
      copied=source;
      source=copied.getReferent(CopiedTypeProvider.COPIED_TYPE_SOURCE);
    }
    result=new CopiedTypeWrapper(copied,equationManager);
  }
 else   if (RuntimeHoleType.concept.equals(conceptFqName)) {
    result=new HoleWrapper(node,equationManager,null);
  }
 else {
    result=new NodeWrapper(node);
  }
  return result;
}
