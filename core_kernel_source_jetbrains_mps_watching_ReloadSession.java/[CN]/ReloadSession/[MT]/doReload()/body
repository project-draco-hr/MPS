{
  if (hasAnythingToDo()) {
    ProgressManager.getInstance().run(new Modal(null,"Reloading",false){
      public void run(      @NotNull final ProgressIndicator progressIndicator){
        if (!myNewModuleVFiles.isEmpty()) {
          LOG.info("reloading libraries");
          progressIndicator.setText("Reloading libraries... Please wait.");
          LibraryManager.getInstance().update();
          return;
        }
        preprocess();
        updateModules(progressIndicator);
        updateModels(progressIndicator);
      }
    }
);
  }
}
