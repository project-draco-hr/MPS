{
  StructuralWrapperSet result=new StructuralWrapperSet();
  if (term == null) {
    return result;
  }
  if (term.isConcrete()) {
    SNode node=term.getNode();
    if (jetbrains.mps.typesystemEngine.util.LatticeUtil.isMeet(node)) {
      for (      SNode argument : jetbrains.mps.typesystemEngine.util.LatticeUtil.getMeetArguments(node)) {
        result.addStructurally(NodeWrapper.createWrapperFromNode(argument,null));
      }
      return result;
    }
    List<Pair<SubtypingRule_Runtime,IsApplicableStatus>> subtypingRule_runtimes=myTypeChecker.getRulesManager().getSubtypingRules(node,isWeak);
    if (subtypingRule_runtimes != null) {
      for (      Pair<SubtypingRule_Runtime,IsApplicableStatus> subtypingRule : subtypingRule_runtimes) {
        List<SNode> supertypes=subtypingRule.o1.getSubOrSuperTypes(node,null,subtypingRule.o2);
        if (supertypes != null) {
          result.addAll(toWrappers(new THashSet<SNode>(supertypes),null));
        }
      }
    }
  }
  return result;
}
