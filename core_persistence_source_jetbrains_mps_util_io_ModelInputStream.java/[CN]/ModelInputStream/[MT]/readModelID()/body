{
  int c=readByte();
  if (c == NULL) {
    return null;
  }
 else   if (c == MODELID_REGULAR) {
    return jetbrains.mps.smodel.SModelId.regular(readUUID());
  }
 else   if (c == MODELID_FOREIGN) {
    return jetbrains.mps.smodel.SModelId.foreign(readString());
  }
 else   if (c == MODELID_STRING) {
    return PersistenceFacade.getInstance().createModelId(readString());
  }
 else   if (c == MODELID_INTEGER) {
    return new IntegerSModelId(readInt());
  }
 else {
    throw new IOException("unknown id");
  }
}
