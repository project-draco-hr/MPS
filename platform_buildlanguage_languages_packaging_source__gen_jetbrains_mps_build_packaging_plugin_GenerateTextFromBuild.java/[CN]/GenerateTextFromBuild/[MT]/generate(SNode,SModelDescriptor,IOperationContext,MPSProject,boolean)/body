{
  String basedir=ModelAccess.instance().runReadAction(new Computable<String>(){
    public String compute(){
      return MPSLayout_Behavior.call_getFolderToGenerate_1229522949966(mpsLayout);
    }
  }
);
  final GeneratorManager generatorManager=project.getComponentSafe(GeneratorManager.class);
  GenerateTextFromBuildGenerationType generationType=new GenerateTextFromBuildGenerationType(generatorManager,basedir,mpsLayout);
  if (showWindow) {
    generatorManager.generateModelsWithProgressWindow(ListSequence.<SModelDescriptor>fromArray(descriptor),context,generationType,true);
  }
 else {
    generatorManager.generateModels(ListSequence.<SModelDescriptor>fromArray(descriptor),context,generationType,new EmptyProgressIndicator(),new IMessageHandler(){
      public void handle(      Message message){
switch (message.getKind()) {
case ERROR:
          System.err.println("error: " + message.getText());
case WARNING:
        System.out.println("warning: " + message.getText());
case INFORMATION:
      System.out.println("info: " + message.getText());
default :
  }
}
}
);
}
return generationType.getLayoutFile();
}
