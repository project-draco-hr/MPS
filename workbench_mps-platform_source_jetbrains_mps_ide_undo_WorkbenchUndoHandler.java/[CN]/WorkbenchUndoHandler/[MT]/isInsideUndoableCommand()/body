{
  return ModelAccess.instance().isInsideCommand() && !ourUndoBlocked && ThreadUtils.isInEDT();
}
