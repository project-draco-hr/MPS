{
  final GenerationTracer tracer=myProject.getComponentSafe(GenerationTracer.class);
  JPopupMenu result=new JPopupMenu();
  final TracerNode tracerNode=this.getTracerNode();
  boolean enable=tracerNode != null && tracerNode.getNodePointer() != null && tracerNode.getNodePointer().getNode() != null;
  GenerationTracerTreeNode rootNode=(GenerationTracerTreeNode)getRoot();
  TracerNode rootTracerNode=rootNode.getTracerNode();
  if (rootTracerNode != null && rootTracerNode.getKind() == Kind.OUTPUT) {
    AbstractActionWithEmptyIcon showTraceAction=new PopupAction("Show Trace"){
      public void action(){
        tracer.showTraceInputData(tracerNode.getNodePointer().getNode());
      }
    }
;
    showTraceAction.setEnabled(enable && tracer.hasTraceInputData(tracerNode.getNodePointer().getModelUID()));
    result.add(showTraceAction);
  }
  AbstractActionWithEmptyIcon showPrevTracebackAction=new PopupAction("Show Prev Step Traceback"){
    public void action(){
      tracer.showTracebackData(tracerNode.getNodePointer().getNode());
    }
  }
;
  showPrevTracebackAction.setEnabled(enable && tracer.hasTracebackData(tracerNode.getNodePointer().getModelUID()));
  result.add(showPrevTracebackAction);
  return result;
}
