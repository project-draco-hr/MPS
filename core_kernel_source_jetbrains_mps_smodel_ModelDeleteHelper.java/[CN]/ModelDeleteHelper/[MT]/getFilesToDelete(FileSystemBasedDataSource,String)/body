{
  if (source instanceof FileDataSource) {
    return Collections.singletonList(((FileDataSource)source).getFile());
  }
 else   if (source instanceof FolderDataSource) {
    FolderDataSource folderSource=(FolderDataSource)source;
    List<IFile> files=new ArrayList<IFile>();
    for (    String stream : folderSource.getAvailableStreams()) {
      IFile file=folderSource.getFile(stream);
      if (file != null) {
        files.add(file);
      }
    }
    return files;
  }
 else {
    Logger.getLogger(ModelDeleteHelper.class).warn(String.format("Cannot safely guess the file set for the model %s to delete; data source is %s",modelName,source.getClass().getName()));
    return Collections.emptyList();
  }
}
