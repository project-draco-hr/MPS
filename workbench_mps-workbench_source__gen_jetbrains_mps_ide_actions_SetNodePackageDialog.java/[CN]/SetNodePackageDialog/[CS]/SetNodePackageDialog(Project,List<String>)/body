{
  super(ProjectHelper.toIdeaProject(project));
  setTitle("Set Virtual Package");
  setOKButtonText("&OK");
  setCancelButtonText("Ca&ncel");
  setModal(true);
  myMainPanel=new JPanel();
  myMainPanel.setLayout(new GridBagLayout());
  GridBagConstraints c=new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,5,5,5),0,0);
  myMainPanel.add(new JLabel("Enter virtual package name:"),c);
  myCbPackage=new JComboBox();
  myCbPackage.setEditable(true);
  myCbPackage.setModel(new DefaultComboBoxModel(ListSequence.fromList(existingPackages).toGenericArray(String.class)));
  myCbPackage.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      myPackage=((String)myCbPackage.getSelectedItem());
    }
  }
);
  myCbPackage.getEditor().getEditorComponent().addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      if (e.getKeyCode() == KeyEvent.VK_ENTER && !(myCbPackage.isPopupVisible())) {
        doOKAction();
      }
    }
  }
);
  c.gridy=1;
  myMainPanel.add(myCbPackage,c);
  init();
}
