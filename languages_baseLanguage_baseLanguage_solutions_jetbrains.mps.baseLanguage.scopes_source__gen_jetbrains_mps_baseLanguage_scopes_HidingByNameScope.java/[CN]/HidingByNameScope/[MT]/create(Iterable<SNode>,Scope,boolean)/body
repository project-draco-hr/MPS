{
  if (Sequence.fromIterable(visible).isEmpty()) {
    return hidden;
  }
  if (hidden == null || hidden instanceof EmptyScope) {
    if (onlyHide) {
      return new EmptyScope();
    }
 else {
      return new SimpleScope(visible);
    }
  }
  return new HidingByNameScope(new SimpleScope(visible),hidden,onlyHide);
}
