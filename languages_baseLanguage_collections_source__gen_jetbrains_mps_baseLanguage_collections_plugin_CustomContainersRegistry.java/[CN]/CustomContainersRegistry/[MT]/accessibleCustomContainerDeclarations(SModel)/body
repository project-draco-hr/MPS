{
  List<SNode> res=new ArrayList<SNode>();
  SModule om=this.getOwningModule(fromModel);
  if (om != null) {
    final Iterable<SModule> allVisibleModules=new GlobalModuleDependenciesManager(om).getModules(GlobalModuleDependenciesManager.Deptype.VISIBLE);
    final Iterable<Language> allUsedLanguages=new GlobalModuleDependenciesManager(om).getUsedLanguages();
    Iterable<SNode> allCustomContainers=this.primAllCustomContainers(fromModel.getRepository());
    ListSequence.fromList(res).addSequence(Sequence.fromIterable(allCustomContainers).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode cc){
        SModule owner=CustomContainersRegistry.this.getOwningModule(SNodeOperations.getModel(cc));
        return Sequence.fromIterable(allVisibleModules).contains(owner) || (owner instanceof Language && Sequence.fromIterable(allUsedLanguages).contains((Language)owner));
      }
    }
).translate(new ITranslator2<SNode,SNode>(){
      public Iterable<SNode> translate(      SNode cc){
        return SLinkOperations.getChildren(cc,MetaAdapterFactory.getContainmentLink(0x8388864671ce4f1cL,0x9c53c54016f6ad4fL,0x54a5d587c1f3c84cL,0x54a5d587c1f3c84eL,"containerDeclaration"));
      }
    }
));
  }
  return res;
}
