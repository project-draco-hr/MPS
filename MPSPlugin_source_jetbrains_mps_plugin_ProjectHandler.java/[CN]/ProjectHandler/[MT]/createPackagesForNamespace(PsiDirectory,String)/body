{
  PsiDirectory current=dir;
  try {
    String[] elements=namespace.split("\\.");
    for (int i=0; i < elements.length; i++) {
      String el=elements[i];
      PsiDirectory next=current.findSubdirectory(el);
      if (next == null) {
        next=current.createSubdirectory(el);
      }
      current=next;
    }
  }
 catch (  IncorrectOperationException e) {
    e.printStackTrace();
  }
  return current;
}
