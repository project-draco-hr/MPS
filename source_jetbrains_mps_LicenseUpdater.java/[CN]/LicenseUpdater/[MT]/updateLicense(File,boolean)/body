{
  if (current.getName().equals(".svn"))   return;
  if (current.isDirectory()) {
    File[] files=current.listFiles();
    if (files == null)     return;
    for (    File f : files) {
      if (f.getName().contains("source")) {
        System.out.println("!!!");
      }
      if (f.isDirectory() && ("source".equals(f.getName()) || "test".equals(f.getName()) || "src".equals(f.getName())|| "tests".equals(f.getName()))) {
        updateLicense(f,true);
      }
 else {
        updateLicense(f,inSourceDir);
      }
    }
  }
 else   if (inSourceDir && current.getName().endsWith(".java")) {
    System.out.println("updating " + current);
    String contents=FileUtil.read(current);
    int packIndex=contents.indexOf("package");
    String withoutLicense=contents.substring(packIndex);
    withoutLicense=withoutLicense.replace("\n",LINE_SEPARATOR);
    String withLicense=LICENSE_TEXT + withoutLicense;
    FileUtil.write(current,withLicense);
  }
}
