{
  if (referenceNode == null)   return null;
  AbstractConceptDeclaration referenceNodeConcept=referenceNode.getConceptDeclarationAdapter();
  LinkDeclaration referenceLinkDecl=SModelSearchUtil.findLinkDeclaration(referenceNodeConcept,referenceRole);
  if (referenceLinkDecl == null)   return null;
  String genuineRole=SModelUtil_new.getGenuineLinkRole(referenceLinkDecl);
  SearchScopeStatus status=ModelConstraintsUtil.getSearchScope(referenceNode.getParent(),referenceNode,referenceNodeConcept,genuineRole,context);
  if (status.isOk())   return status.getSearchScope();
  return null;
}
