{
  Memento memento=new Memento();
  Element selectionStack=e.getChild(SELECTION_STACK);
  if (selectionStack != null) {
    List children=selectionStack.getChildren(STACK_ELEMENT);
    for (    Object o : children) {
      memento.mySelectionStack.push(new SelectionInfo((Element)o));
    }
  }
  Element folded=e.getChild(FOLDED);
  if (folded != null) {
    List children=folded.getChildren(FOLDED_ELEMENT);
    for (    Object o : children) {
      memento.myFolded.add(DefaultCellInfo.loadFrom((Element)o));
    }
  }
  try {
    int viewPositionX=Integer.valueOf(e.getAttributeValue(VIEW_POSITION_X));
    int viewPositionY=Integer.valueOf(e.getAttributeValue(VIEW_POSITION_Y));
    memento.myViewPosition=new Point(viewPositionX,viewPositionY);
  }
 catch (  NumberFormatException nfe) {
  }
  memento.myUseCustomHints=Boolean.valueOf(e.getAttributeValue(USE_CUSTOM_HINTS));
  memento.myEnabledHints=new HashSet<String>();
  Element hintsElement=e.getChild(ENABLED_HINTS);
  if (hintsElement != null) {
    List children=hintsElement.getChildren(ENABLED_HINTS_ELEMENT);
    for (    Object o : children) {
      memento.myEnabledHints.add(((Element)o).getAttributeValue(ENABLED_HINTS_ATTRIBUTE));
    }
  }
  return memento;
}
