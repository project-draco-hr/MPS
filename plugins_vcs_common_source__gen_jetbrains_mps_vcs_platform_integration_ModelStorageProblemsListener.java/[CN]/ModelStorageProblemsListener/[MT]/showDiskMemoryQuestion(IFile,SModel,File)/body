{
  String message="Changes have been made to \n" + inMemory + "\n model in memory and on disk.\n"+ "Backup of both versions was saved to \""+ backupFile.getAbsolutePath()+ "\"\n"+ "Which version to use?";
  String title="Model Versions Conflict";
  String[] options={"Load File System Version","Save Memory Version","Show Difference"};
  while (true) {
    if (isApplicationInUnitTestOrHeadless()) {
      return ourTestImplementation.show("") == 1;
    }
    int result=JOptionPane.showOptionDialog(null,message,title,JOptionPane.YES_NO_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE,Messages.getQuestionIcon(),options,null);
switch (result) {
case 0:
      return false;
case 1:
    return true;
case 2:
default :
  openDiffDialog(modelFile,inMemory);
}
}
}
