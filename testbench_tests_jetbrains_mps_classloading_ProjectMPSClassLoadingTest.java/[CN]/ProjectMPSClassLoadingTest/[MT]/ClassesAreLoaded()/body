{
  project=openProject(new File(PathManager.getHomePath()));
  project.getModelAccess().runReadAction(new Runnable(){
    @Override public void run(){
      for (      SModule module : project.getRepository().getModules()) {
        checkModule(module);
      }
      if (!myModuleNamesToErrors.isEmpty()) {
        System.err.println("Some class loading problems for modules:");
        for (        String moduleName : myModuleNamesToErrors.keySet()) {
          System.err.println(moduleName + " ::: " + myModuleNamesToErrors.get(moduleName));
        }
        fail();
      }
    }
  }
);
  closeProject(project);
}
