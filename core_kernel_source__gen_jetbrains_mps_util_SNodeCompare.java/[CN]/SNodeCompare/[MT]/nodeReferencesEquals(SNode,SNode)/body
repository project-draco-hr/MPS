{
  final Map<SReferenceLink,SReference> aMap=MapSequence.fromMap(new HashMap<SReferenceLink,SReference>());
  final Map<SReferenceLink,SReference> bMap=MapSequence.fromMap(new HashMap<SReferenceLink,SReference>());
  ListSequence.fromList(jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations.getReferences((SNode)a)).visitAll(new IVisitor<SReference>(){
    public void visit(    SReference ref){
      MapSequence.fromMap(aMap).put(ref.getLink(),ref);
    }
  }
);
  ListSequence.fromList(jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations.getReferences((SNode)b)).visitAll(new IVisitor<SReference>(){
    public void visit(    SReference ref){
      MapSequence.fromMap(bMap).put(ref.getLink(),ref);
    }
  }
);
  for (  SReferenceLink r : SetSequence.fromSet(MapSequence.fromMap(aMap).keySet()).union(SetSequence.fromSet(MapSequence.fromMap(bMap).keySet()))) {
    SReference aRef=a.getReference(r);
    SReference bRef=b.getReference(r);
    if (aRef == null || bRef == null) {
      return false;
    }
    if (neq_acety0_a0e0f0c(aRef.getTargetSModelReference(),bRef.getTargetSModelReference())) {
      return false;
    }
    if (neq_acety0_a0f0f0c(((jetbrains.mps.smodel.SReference)aRef).getResolveInfo(),((jetbrains.mps.smodel.SReference)bRef).getResolveInfo())) {
      return false;
    }
    if (aRef instanceof DynamicReference || bRef instanceof DynamicReference) {
      if (aRef instanceof DynamicReference && bRef instanceof DynamicReference) {
      }
 else {
        return false;
      }
    }
 else {
      if (neq_acety0_a0b0a6a5a2(aRef.getTargetNodeId(),bRef.getTargetNodeId())) {
        return false;
      }
    }
  }
  return true;
}
