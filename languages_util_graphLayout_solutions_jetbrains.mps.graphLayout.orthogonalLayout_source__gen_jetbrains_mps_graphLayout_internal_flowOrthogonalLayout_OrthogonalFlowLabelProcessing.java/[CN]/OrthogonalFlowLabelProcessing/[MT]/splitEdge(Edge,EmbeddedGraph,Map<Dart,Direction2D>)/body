{
  Node source=oldEdge.getSource();
  Node target=oldEdge.getTarget();
  Dart sourceDart=embeddedGraph.getSourceDart(oldEdge,source);
  Dart targetDart=embeddedGraph.getSourceDart(oldEdge,target);
  List<Edge> edges=ListSequence.<Edge>fromList(new ArrayList<Edge>());
  Node node=embeddedGraph.splitEdge(oldEdge,edges);
  for (  Edge edge : ListSequence.<Edge>fromList(edges)) {
    for (    Dart dart : ListSequence.<Dart>fromList(embeddedGraph.getDarts(edge))) {
      if (dart.getSource() == source || dart.getTarget() == target) {
        MapSequence.<Dart,Direction2D>fromMap(directions).put(dart,MapSequence.<Dart,Direction2D>fromMap(directions).get(sourceDart));
      }
 else {
        MapSequence.<Dart,Direction2D>fromMap(directions).put(dart,MapSequence.<Dart,Direction2D>fromMap(directions).get(targetDart));
      }
    }
  }
  return node;
}
