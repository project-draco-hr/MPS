{
  try {
    return MirrorUtil.getInstance().getJavaValue(value).toString();
  }
 catch (  UnsupportedOperationException e) {
    if (value instanceof ArrayReference) {
      ArrayReference array=(ArrayReference)value;
      StringBuffer buffer=new StringBuffer();
      buffer.append("[");
      int length=array.length();
      int i=0;
      for (      Value item : ListSequence.fromList(array.getValues())) {
        buffer.append(getStringPresentation(item,threadReference));
        if (i < length - 1) {
          buffer.append(", ");
        }
        i++;
      }
      buffer.append("]");
      return buffer.toString();
    }
 else {
      return EvaluationUtils.consumeEvaluationException(new EvaluationUtils.EvaluationInvocatable<String>(){
        public String invoke() throws EvaluationException {
          ObjectReference object=(ObjectReference)value;
          IObjectValueProxy valueProxy=(IObjectValueProxy)MirrorUtil.getInstance().getValueProxy(object);
          SNode toString=new EvaluationUtilsImpl.QuotationClass_wi3cqi_a0a2a0a0a0a0a0a0a0y().createNode();
          IValueProxy result=valueProxy.invokeMethod(SPropertyOperations.getString(toString,"name"),((String)BehaviorManager.getInstance().invoke(Object.class,toString,"virtual_jniSignature_8847328628797656446",new Class[]{SNode.class})),threadReference);
          return getStringPresentation(result.getJDIValue(),threadReference);
        }
      }
,null);
    }
  }
}
