{
  try {
    ScriptsGlobally_ActionGroup.this.removeAll();
    event.getPresentation().setVisible(true);
    Project project=event.getData(MPSDataKeys.PROJECT);
    if (project == null) {
      event.getPresentation().setEnabled(false);
      return;
    }
    event.getPresentation().setEnabled(true);
    ScriptsMenuBuilder menuBuilder=new ScriptsMenuBuilder(false);
    ScriptsGlobally_ActionGroup.this.add(menuBuilder.create_ByCategoryPopup());
    ScriptsGlobally_ActionGroup.this.add(menuBuilder.create_ByBuildPopup());
    ScriptsGlobally_ActionGroup.this.add(menuBuilder.create_ByLanguagePopup());
{
      GeneratedAction newAction=new RunMigrationScripts_Action(menuBuilder.getAllScripts(),false);
      ActionManagerEx manager=ActionManagerEx.getInstanceEx();
      AnAction oldAction=manager.getAction(newAction.getActionId());
      if (oldAction == null) {
        PluginId pluginId=PluginId.getId("jetbrains.mps.lang.script");
        manager.registerAction(newAction.getActionId(),newAction,pluginId);
        oldAction=newAction;
      }
      ScriptsGlobally_ActionGroup.this.addAction(oldAction);
    }
  }
 catch (  Throwable t) {
    LOG.error("User group error",t);
  }
  for (  Pair<ActionPlace,Condition<BaseAction>> p : this.myPlaces) {
    this.addPlace(p.first,p.second);
  }
}
