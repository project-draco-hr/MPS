{
  final Wrappers._T<MPSNodeVirtualFile> virtualFile=new Wrappers._T<MPSNodeVirtualFile>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      virtualFile.value=MPSNodesVirtualFileSystem.getInstance().getFileFor(myEditor.getEditedNode());
    }
  }
);
  return (virtualFile.value == null ? new Document[0] : new Document[]{MPSUndoUtil.getDoc(virtualFile.value)});
}
