{
  if (file == null)   return null;
  if (file instanceof FileSystemFile) {
    LocalFileSystem lfs=LocalFileSystem.getInstance();
    return lfs.findFileByIoFile(file.toFile());
  }
 else   if (file instanceof JarFileEntryFile) {
    JarFileEntryFile jfef=(JarFileEntryFile)file;
    return getFileFromJarEntry(jfef);
  }
 else {
    throw new RuntimeException("Unknown file type. " + file);
  }
}
