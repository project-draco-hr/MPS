{
  final IFile ifile=FileSystem.getInstance().getFileByPath(f.getAbsolutePath());
  SModelDescriptor model=SModelRepository.getInstance().findModel(ifile);
  if (model != null) {
    modelDescriptors.add(model);
    info("Found model " + model);
    return;
  }
  try {
    DescriptorLoadResult dr=ModelPersistence.loadDescriptor(ifile);
    SModelReference modelReference;
    if (dr.getUID() != null) {
      modelReference=SModelReference.fromString(dr.getUID());
    }
 else {
      modelReference=SModelReference.fromPath(ifile.getPath());
    }
    info("Read model " + modelReference);
    SModelDescriptor smodelDescriptor=new DefaultSModelDescriptor(new DefaultModelRootManager(),ifile,modelReference);
    if (smodelDescriptor.getModule() == null) {
      error("Module for " + ifile.getPath() + " was not found. Use \"library\" tag to load required modules.");
    }
 else {
      modelDescriptors.add(smodelDescriptor);
    }
  }
 catch (  ModelFileReadException e) {
    log(e);
  }
catch (  PersistenceVersionNotFoundException e) {
    log(e);
  }
}
