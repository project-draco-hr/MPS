{
  Map<String,String> macro=myWhatToDo.getMacro();
  Map<String,String> realMacros=new HashMap<String,String>();
  for (  String macroName : macro.keySet()) {
    String canonicalPath=PathUtil.getCanonicalPath(macro.get(macroName));
    File file=new File(canonicalPath);
    if (file.exists() && file.isDirectory()) {
      realMacros.put(macroName,canonicalPath);
    }
  }
  if (myMacroProvider == null) {
    this.myMacroProvider=new MapPathMacrosProvider(realMacros);
    PathMacros.getInstance().addMacrosProvider(myMacroProvider);
  }
}
