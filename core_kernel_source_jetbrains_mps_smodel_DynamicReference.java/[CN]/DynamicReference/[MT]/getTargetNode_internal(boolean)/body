{
  if (myImmatureTargetNode != null) {
synchronized (this) {
      if (!mature()) {
        return myImmatureTargetNode;
      }
    }
  }
  if (getResolveInfo() == null) {
    if (!silently) {
      reportErrorWithOrigin("bad reference: no resolve info");
    }
    return null;
  }
  Scope scope=ModelConstraintsUtil.getScope(this,new ReferenceResolvingContext(getModule()));
  if (scope instanceof ErrorScope) {
    if (!silently) {
      reportErrorWithOrigin("cannot obtain scope for reference `" + getRole() + "': "+ ((ErrorScope)scope).getMessage());
    }
    return null;
  }
  SNode targetNode=scope.resolve(getSourceNode(),getResolveInfo(),getTargetSModelReference());
  if (targetNode == null) {
    if (!silently) {
      reportErrorWithOrigin("cannot resolve reference by string: '" + getResolveInfo() + "'");
    }
  }
  return targetNode;
}
