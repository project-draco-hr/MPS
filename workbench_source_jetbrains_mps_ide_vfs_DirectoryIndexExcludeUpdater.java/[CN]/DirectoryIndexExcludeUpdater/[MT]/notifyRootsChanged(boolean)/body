{
  Runnable action=new Runnable(){
    @Override public void run(){
      if (!myProject.isDisposed()) {
        myMessageBus.syncPublisher(ProjectTopics.PROJECT_ROOTS).rootsChanged(new ModuleRootEventImpl(myProject,false));
      }
    }
  }
;
  if (immediately) {
    action.run();
  }
 else {
    ApplicationManager.getApplication().executeOnPooledThread(action);
  }
}
