{
  if (model == null)   return new ArrayList<SNode>();
  if (conceptFqName == null) {
    return (List<SNode>)model.allNodes();
  }
  final AbstractConceptDeclaration concept=SModelUtil_new.findAbstractConceptDeclaration(conceptFqName,GlobalScope.getInstance());
  if (concept == null)   return new ArrayList<SNode>();
  return model.allNodes(new Condition<SNode>(){
    public boolean met(    SNode node){
      return node.isInstanceOfConcept(concept);
    }
  }
);
}
