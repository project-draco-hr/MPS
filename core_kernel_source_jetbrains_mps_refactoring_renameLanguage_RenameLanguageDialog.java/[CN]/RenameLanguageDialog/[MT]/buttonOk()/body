{
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      final String fqName=myLanguageNameField.getText();
      if (MPSModuleRepository.getInstance().getModuleByUID(fqName) != null) {
        setErrorText("Duplicate language name");
        return;
      }
      new LanguageRenamer(myLanguage,fqName).rename();
    }
  }
);
  if (myRegenerateLanguage.getModel().isSelected()) {
    FileUtil.clear(myLanguage.getSourceDir());
  }
  dispose();
}
