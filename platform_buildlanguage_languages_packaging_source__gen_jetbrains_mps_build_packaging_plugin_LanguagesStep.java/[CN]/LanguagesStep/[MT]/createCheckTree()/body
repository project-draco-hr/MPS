{
  List<IModule> allModules=this.myMpsProject.getModules();
  ModulesListData data=new ModulesListData(allModules);
  List<ModuleData> children=data.getModules();
  Collections.sort(children,new Comparator<ModuleData>(){
    public int compare(    ModuleData data1,    ModuleData data2){
      IModule module1=data1.getModule();
      IModule module2=data2.getModule();
      if (module1.getClass().getName().equals(module2.getClass().getName())) {
        return data1.getText().compareToIgnoreCase(data2.getText());
      }
 else       if (module1 instanceof Solution) {
        return -1;
      }
 else       if (module2 instanceof Solution) {
        return 1;
      }
 else       if (module1 instanceof Language) {
        return -1;
      }
      return 1;
    }
  }
);
  NamespaceTreeBuilder builder=new LanguagesStep.MyTreeBuilder(this.myMpsProject);
  for (  ModuleData moduleData : Sequence.fromIterable(children)) {
    builder.addNode(new CheckBoxNode(moduleData,false));
  }
  CheckBoxNode allModulesNode=new CheckBoxNode(data,false);
  builder.fillNode(allModulesNode);
  this.fillChildren(allModulesNode);
  return new CheckBoxTree(allModulesNode);
}
