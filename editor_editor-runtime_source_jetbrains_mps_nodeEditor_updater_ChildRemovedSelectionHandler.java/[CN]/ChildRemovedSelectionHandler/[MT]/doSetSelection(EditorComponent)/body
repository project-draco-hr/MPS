{
  SNode nodeToSelect=null;
  boolean isNext=false;
  int index=0;
  for (  SNode nextChild : myParent.getChildren()) {
    if (myChildRole.equals(nextChild.getRoleInParent())) {
      nodeToSelect=nextChild;
      if (index >= myChildIndex) {
        isNext=true;
        break;
      }
    }
    index++;
  }
  if (nodeToSelect != null) {
    EditorCell cell=editorComponent.findNodeCell(nodeToSelect);
    if (cell != null) {
      EditorCell selectableLeaf=isNext ? CellFinderUtil.findFirstSelectableLeaf(cell,true) : CellFinderUtil.findLastSelectableLeaf(cell,true);
      if (selectableLeaf != null) {
        editorComponent.changeSelection(selectableLeaf);
        if (isNext) {
          selectableLeaf.home();
        }
 else {
          selectableLeaf.end();
        }
        return;
      }
    }
  }
  EditorCell nullCell=editorComponent.findNodeCellWithRole(myParent,myChildRole);
  if (nullCell != null) {
    editorComponent.changeSelectionWRTFocusPolicy(nullCell);
    return;
  }
  EditorCell cell=editorComponent.findNodeCell(myParent);
  if (cell != null) {
    EditorCell lastLeaf=CellFinderUtil.findLastSelectableLeaf(cell,true);
    if (lastLeaf != null) {
      editorComponent.changeSelection(lastLeaf);
      lastLeaf.end();
    }
  }
}
