{
  if (SNodeOperations.isInstanceOf(cstmt,"jetbrains.mps.baseLanguage.structure.IfStatement") && SNodeOperations.isInstanceOf(SNodeOperations.getParent(cstmt),"jetbrains.mps.baseLanguage.structure.IfStatement")) {
    SNode topIfStmt=SNodeOperations.cast(SNodeOperations.getParent(cstmt),"jetbrains.mps.baseLanguage.structure.IfStatement");
    while (SNodeOperations.isInstanceOf(SNodeOperations.getParent(topIfStmt),"jetbrains.mps.baseLanguage.structure.IfStatement")) {
      topIfStmt=SNodeOperations.cast(SNodeOperations.getParent(topIfStmt),"jetbrains.mps.baseLanguage.structure.IfStatement");
    }
    Integer[] parentLabels=(Integer[])PrepStatementUtil.getPrepData(topIfStmt,this.generator);
    if (parentLabels != null) {
      return parentLabels[parentLabels.length - 1];
    }
  }
 else   if ((SNodeOperations.getNextSibling(cstmt) == null) && SNodeOperations.isInstanceOf(SNodeOperations.getParent(cstmt),"jetbrains.mps.baseLanguage.structure.StatementList")) {
    Integer[] parentLabels=(Integer[])PrepStatementUtil.getPrepData(SNodeOperations.getParent(cstmt),this.generator);
    if (parentLabels != null) {
      return parentLabels[parentLabels.length - 1];
    }
  }
  return this.ctx.incrementLabel();
}
