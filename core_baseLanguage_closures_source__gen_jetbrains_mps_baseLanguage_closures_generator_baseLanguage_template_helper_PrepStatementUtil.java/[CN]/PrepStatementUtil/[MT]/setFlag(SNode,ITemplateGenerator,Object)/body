{
  generator.getGeneratorSessionContext().putStepObject("flag_" + ((SNode)sn).getId(),flag);
  List<SNode> allFlagged=getAllFlagged(generator);
  if (allFlagged == null) {
    allFlagged=new ArrayList<SNode>();
    generator.getGeneratorSessionContext().putStepObject("all_flagged",allFlagged);
  }
  if (!(allFlagged.contains(sn))) {
    allFlagged.add(sn);
  }
}
