{
  if (proxy instanceof INullValueProxy) {
    return new JavaObjectValue((INullValueProxy)proxy,threadReference);
  }
  if (proxy instanceof IObjectValueProxy) {
    if (proxy instanceof IArrayValueProxy) {
      return new JavaArrayValue((IArrayValueProxy)proxy,threadReference);
    }
 else     if (proxy.getJDIValue() instanceof StringReference) {
      return new JavaStringValue((IObjectValueProxy)proxy,threadReference);
    }
 else {
      return new JavaObjectValue((IObjectValueProxy)proxy,threadReference);
    }
  }
 else {
    return new JavaPrimitiveValue((PrimitiveValueProxy)proxy,threadReference);
  }
}
