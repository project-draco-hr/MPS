{
  if (value == null) {
    return new JavaPrimitiveValue(value,threadReference);
  }
  if (value instanceof ObjectReference) {
    if (value instanceof ArrayReference) {
      return new JavaArrayValue(value,threadReference);
    }
 else     if (value instanceof StringReference) {
      return new JavaStringValue(value,threadReference);
    }
 else {
      return new JavaObjectValue(value,threadReference);
    }
  }
 else {
    return new JavaPrimitiveValue(value,threadReference);
  }
}
