{
  final String fqName=concept.getQualifiedName();
  TextGenDescriptor descriptor=textGenDescriptors.get(fqName);
  if (descriptor != null) {
    return descriptor;
  }
  LanguageRuntime languageRuntime=myLanguageRegistry.getLanguage(concept.getLanguage());
  TextGenAspectDescriptor textGenAspectDescriptor=null;
  if (languageRuntime == null) {
    Logger.getLogger(ConceptRegistry.class).warn(String.format("No language for concept %s, while looking for textgen descriptor.",fqName));
  }
 else {
    textGenAspectDescriptor=languageRuntime.getAspect(TextGenAspectDescriptor.class);
  }
  if (textGenAspectDescriptor == null) {
    textGenAspectDescriptor=new TextGenAspectInterpreted();
  }
  descriptor=textGenAspectDescriptor.getDescriptor(concept);
  if (descriptor == null) {
    descriptor=new DefaultTextGenDescriptor();
  }
  textGenDescriptors.put(fqName,descriptor);
  return descriptor;
}
