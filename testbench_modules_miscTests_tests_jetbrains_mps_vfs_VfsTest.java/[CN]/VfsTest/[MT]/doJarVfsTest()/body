{
  FileSystem fileSystem=FileSystem.getInstance();
  IFile jarRoot=fileSystem.getFileByPath(VfsTest.class.getResource(JAR_NAME).getFile() + JAR_SUFFIX);
  assertEquals(jarRoot.getChildren().size(),3);
  assertTrue(jarRoot.isDirectory());
  assertTrue(jarRoot.isReadOnly());
  assertTrue(fileSystem.isPackaged(jarRoot));
  IFile readmeFile=jarRoot.getDescendant("README");
  assertFalse(readmeFile.isDirectory());
  try {
    assertEquals("this is a test file\n",new String(ReadUtil.read(readmeFile.openInputStream())));
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail();
  }
  try {
    readmeFile.openOutputStream();
    fail();
  }
 catch (  UnsupportedOperationException e) {
  }
catch (  IOException e) {
  }
  IFile file1=jarRoot.getDescendant("dir1").getDescendant("subdir").getDescendant("file1");
  try {
    assertEquals("file1\n",new String(ReadUtil.read(file1.openInputStream())));
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail();
  }
  assertEquals(jarRoot,file1.getParent().getParent().getParent());
  assertTrue(jarRoot.getParent() != null);
  assertTrue(jarRoot.getParent().getParent() == null);
}
