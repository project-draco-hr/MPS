{
  return ModelAccess.instance().runReadAction(new Computable<String>(){
    public String compute(){
      StringBuilder result=new StringBuilder();
      result.append("model = ").append(node.getModel().getSModelReference()).append("\n");
      result.append("concept = ").append(NameUtil.shortNameFromLongName(node.getConceptFqName())).append("\n");
      result.append("language = ").append(node.getLanguageNamespace()).append("\n");
      result.append("ID = ").append(node.getSNodeId().toString()).append("\n");
      result.append("\nReferences:");
      for (      SReference ref : (List<SReference>)jetbrains.mps.util.SNodeOperations.getReferences(node)) {
        SNode target=ref.getTargetNode();
        if (ref.getTargetNode() == null) {
          result.append("Bad Reference\n");
          if (ref.getTargetSModelReference() != null) {
            result.append("Target model = ").append(ref.getTargetSModelReference()).append("\n");
          }
        }
 else {
          result.append("Model = ").append(target.getModel().getSModelReference()).append("\n");
          result.append("Node = ").append(NodePresentationUtil.getPathToRoot(target)).append("\n");
          result.append("ID = ").append(target.getSNodeId().toString()).append("\n");
        }
        result.append("\n");
      }
      return result.toString();
    }
  }
);
}
