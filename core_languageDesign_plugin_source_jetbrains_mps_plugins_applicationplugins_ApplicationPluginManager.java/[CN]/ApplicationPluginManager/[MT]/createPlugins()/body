{
  Map<IModule,BaseApplicationPlugin> plugins=new HashMap<IModule,BaseApplicationPlugin>(100);
  for (  Language language : collectLanguages()) {
    if (language.getPluginModelDescriptor() == null)     continue;
    String pluginClassName=language.getGeneratedApplicationPluginClassLongName();
    Class pluginClass=language.getClass(pluginClassName);
    if (pluginClass == null)     continue;
    try {
      BaseApplicationPlugin plugin=(BaseApplicationPlugin)pluginClass.newInstance();
      plugins.put(language,plugin);
    }
 catch (    Throwable t) {
      LOG.error(t);
    }
  }
  myIDEPlugin=new Ide_ApplicationPlugin();
  plugins.put(MPSModuleRepository.getInstance().getModuleByUID(IDE_MODULE_ID),myIDEPlugin);
  return PluginSorter.sortByDependencies(plugins);
}
