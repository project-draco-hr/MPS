{
  SNode conceptDecl=SNodeOperations.as(node.getConcept().getDeclarationNode(),MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0x1103553c5ffL,"jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration"));
  if (conceptDecl == null) {
    SpecificChecker.addIssue(results,node,"No concept found for " + node.toString(),ModelChecker.SEVERITY_ERROR,"no concept",null);
  }
  if (SNodeOperations.isInstanceOf(conceptDecl,MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,"jetbrains.mps.lang.structure.structure.ConceptDeclaration"))) {
    SNode decl=SNodeOperations.cast(conceptDecl,MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,"jetbrains.mps.lang.structure.structure.ConceptDeclaration"));
    if (isAncestor) {
      if (SNodeOperations.isInstanceOf(decl,MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x2ea65c0b397bd5beL,"jetbrains.mps.lang.core.structure.ScopeFacade")) && !(ListSequence.fromList(SNodeOperations.getNodeAncestors(refNode,null,true)).contains(node))) {
        SpecificChecker.addIssue(results,anchor,"Reference from outside to a node under ScopeFacade: facade=" + SPropertyOperations.getString(decl,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")),ModelChecker.SEVERITY_ERROR,"reference to a non-referenceable node",null);
      }
    }
 else {
      if (SPropertyOperations.hasValue(decl,MetaAdapterFactory.getProperty(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,0x4b014033eedc8a48L,"staticScope"),"none",null)) {
        SpecificChecker.addIssue(results,anchor,"Reference to a non-referenceable node found: " + SPropertyOperations.getString(decl,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")),ModelChecker.SEVERITY_ERROR,"reference to a non-referenceable node",null);
      }
 else       if (SPropertyOperations.hasValue(decl,MetaAdapterFactory.getProperty(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,0x4b014033eedc8a48L,"staticScope"),"none",null) && !((SNodeOperations.getContainingRoot(node) == SNodeOperations.getContainingRoot(refNode)))) {
        SpecificChecker.addIssue(results,anchor,"Cross-root reference to a locally referenceable node found: " + SPropertyOperations.getString(decl,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")),ModelChecker.SEVERITY_ERROR,"reference to a locally referenceable node",null);
      }
    }
  }
 else {
    SpecificChecker.addIssue(results,node,"Interface instance found! " + node.toString(),ModelChecker.SEVERITY_ERROR,"no concept",null);
  }
}
