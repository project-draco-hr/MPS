{
  MPSTaskData data=new MPSTaskData();
  try {
    data.load(file);
  }
 catch (  JDOMException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    if (!(file.delete())) {
      throw new RuntimeException("File " + file + " was not deleted.");
    }
  }
  WhatToDo whatToDo=new WhatToDo();
  whatToDo.myFailOnError=data.getFailOnError();
  whatToDo.myLogLevel=data.getLogLevel();
  whatToDo.myLoadBootstrapLibraries=data.getLoadBootstrapLibraries();
  whatToDo.myProperties.putAll(data.getProperties());
  whatToDo.myMacro.putAll(data.getMacros());
  whatToDo.myLibraries.putAll(data.getLibraries());
  whatToDo.parseData(data.getData(ELEMENT_TODO));
  return whatToDo;
}
