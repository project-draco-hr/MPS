{
  if (SNodeOperations.isInstanceOf(applicableNode,"jetbrains.mps.lang.typesystem.structure.ConceptReference")) {
    return SLinkOperations.getTarget(SNodeOperations.cast(applicableNode,"jetbrains.mps.lang.typesystem.structure.ConceptReference"),"concept",false);
  }
 else   if (SNodeOperations.isInstanceOf(applicableNode,"jetbrains.mps.lang.typesystem.structure.PatternCondition")) {
    return SNodeOperations.getConceptDeclaration(SLinkOperations.getTarget(SLinkOperations.getTarget(SNodeOperations.cast(applicableNode,"jetbrains.mps.lang.typesystem.structure.PatternCondition"),"pattern",true),"patternNode",true));
  }
 else {
    return null;
  }
}
