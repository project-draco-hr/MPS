{
  List<DataNode> nodeNodes=getDescendantsWithCondition(new Condition<BaseNodeData>(){
    @Override public boolean met(    BaseNodeData nodeData){
      return nodeData instanceof NodeNodeData && nodeData.isResultNode();
    }
  }
);
  List<SNodeReference> result=new ArrayList<SNodeReference>();
  for (  DataNode node : nodeNodes) {
    SNode n=((NodeNodeData)node.getData()).getNode();
    if (n != null)     result.add(new jetbrains.mps.smodel.SNodePointer(n));
  }
  return result;
}
