{
  List<SearchResult<SNode>> results=new ArrayList<SearchResult<SNode>>();
  Iterable<SModel> ownTemplateModels=myGenerator.getOwnTemplateModels();
  Iterable<SNode> mappingConfigs=Sequence.fromIterable(ownTemplateModels).translate(new ITranslator2<SModel,SNode>(){
    public Iterable<SNode> translate(    SModel it){
      return SModelOperations.roots(it,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1095416546421l,"jetbrains.mps.lang.generator.structure.MappingConfiguration"));
    }
  }
);
  List<SNode> nodesToCheck=new ArrayList<SNode>();
  for (  SNode mappingConfig : mappingConfigs) {
    for (    SNode rule : ListSequence.fromList(SNodeOperations.getChildren(mappingConfig)).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1167169308231l,"jetbrains.mps.lang.generator.structure.BaseMappingRule"));
      }
    }
)) {
      nodesToCheck.add(rule);
      collectChildrenThatMayHaveReferenceOnTemplate(rule,nodesToCheck);
    }
    nodesToCheck.addAll(SLinkOperations.getChildren(mappingConfig,MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1095416546421l,1167088157977l,"createRootRule")));
  }
  for (  SNode node : nodesToCheck) {
    for (    SReference reference : node.getReferences()) {
      if (myNodeToFindUsages.getNodeId().equals(reference.getTargetNodeId())) {
        SearchResult<SNode> result=new SearchResult<SNode>(node,"");
        results.add(result);
        break;
      }
    }
  }
  return new SearchResults<SNode>(CollectionUtil.set(myNodeToFindUsages),results);
}
