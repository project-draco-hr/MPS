{
  DefaultListModel model=(DefaultListModel)myList.getModel();
  int oldIndex=getSelectionIndex();
  model.removeAllElements();
  for (  String value : getStrings()) {
    model.addElement(value);
  }
  setSelectionIndex(oldIndex);
  myList.ensureIndexIsVisible(getSelectionIndex());
  int maxY=getLocation().y + getHeight();
  Border border=myScroller.getBorder();
  Insets insets=border.getBorderInsets(myScroller);
  int scrollerBorderHeight=insets.top + insets.bottom;
  setSize(Math.max(PREFERRED_WIDTH,myScroller.getPreferredSize().width),Math.min(PREFERRED_HEIGHT,myList.getPreferredSize().height + scrollerBorderHeight));
  if (getPosition() == PopupWindowPosition.TOP) {
    setLocation(getX(),maxY - getHeight());
  }
  int screenWidth=Toolkit.getDefaultToolkit().getScreenSize().width;
  if (getWidth() + getX() > screenWidth) {
    setLocation(screenWidth - getWidth(),getY());
  }
  validateTree();
  repaint();
}
