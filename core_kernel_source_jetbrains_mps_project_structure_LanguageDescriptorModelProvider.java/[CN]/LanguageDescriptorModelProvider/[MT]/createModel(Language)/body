{
  SModelFqName fqName=getModelFqName(module);
  ModuleId moduleId=module.getModuleReference().getModuleId();
  SModelId id=moduleId != null ? SModelId.foreign("descriptor",moduleId.toString()) : SModelId.generate();
  LanguageModelDescriptor result=new LanguageModelDescriptor(new SModelReference(fqName,id),module);
  myModels.put(result.getSModelReference().getSModelFqName(),result);
  SModelRepository.getInstance().registerModelDescriptor(result,module);
  return result;
}
