{
  ThreadUtils.runInUIThreadNoWait(new Runnable(){
    public void run(){
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          RefactoringView refactorintView=refactoringContext.getCurrentOperationContext().getComponent(RefactoringView.class);
          RefactoringViewAction okAction=new RefactoringViewAction(){
            public void performAction(            final RefactoringViewItem refactoringViewItem){
              new Thread(){
                public void run(){
                  doExecute(refactoringContext);
                  SwingUtilities.invokeLater(new Runnable(){
                    public void run(){
                      refactoringViewItem.close();
                    }
                  }
);
                }
              }
.start();
            }
          }
;
          List<SModel> modelsToGenerate=getModelsToGenerate(refactoringContext.getRefactoring(),refactoringContext);
          refactorintView.showRefactoringView(refactoringContext,okAction,refactoringContext.getUsages(),!modelsToGenerate.isEmpty());
        }
      }
);
    }
  }
);
}
