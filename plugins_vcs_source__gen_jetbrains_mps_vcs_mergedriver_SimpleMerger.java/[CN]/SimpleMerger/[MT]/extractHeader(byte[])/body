{
  String header=new String(xmlContent,0,1024,FileUtil.DEFAULT_CHARSET);
  Matcher matcher=Pattern.compile("<" + ModelPersistence.PERSISTENCE + "\\s+"+ ModelPersistence.PERSISTENCE_VERSION+ "=\"\\d+\"").matcher(header);
  if (matcher.find()) {
    int end=matcher.end();
    for (    String possibleEnd : ListSequence.fromList(Arrays.asList("</" + ModelPersistence.PERSISTENCE + ">","/>"))) {
      int indexOf=header.indexOf(possibleEnd,end + 1);
      if (indexOf != -1) {
        header=header.substring(0,indexOf + possibleEnd.length()) + System.getProperty("line.separator");
        return header.getBytes(FileUtil.DEFAULT_CHARSET);
      }
    }
  }
  return new byte[0];
}
