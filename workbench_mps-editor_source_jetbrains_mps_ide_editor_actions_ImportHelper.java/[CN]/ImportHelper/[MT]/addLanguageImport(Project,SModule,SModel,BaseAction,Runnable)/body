{
  BaseModuleModel goToLanguageModel=new BaseModuleModel(project,"language"){
    @Override public NavigationItem doGetNavigationItem(    SModuleReference ref){
      return new AddLanguageItem(project,ref,contextModule,model);
    }
    @Override public SModuleReference[] find(    SearchScope scope){
      ArrayList<SModuleReference> res=new ArrayList<SModuleReference>();
      for (      SModule m : scope.getModules()) {
        if (!(m instanceof Language))         continue;
        res.add(m.getModuleReference());
      }
      return res.toArray(new SModuleReference[res.size()]);
    }
    @Nullable @Override public String getPromptText(){
      return "Import language:";
    }
  }
;
  ChooseByNamePopup popup=MpsPopupFactory.createPackagePopup(project,goToLanguageModel,parentAction);
  popup.invoke(new ChooseByNamePopupComponent.Callback(){
    @Override public void onClose(){
      if (onClose != null) {
        onClose.run();
      }
    }
    @Override public void elementChosen(    Object element){
      ((NavigationItem)element).navigate(true);
    }
  }
,ModalityState.current(),true);
}
