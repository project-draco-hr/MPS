{
  myNodeEditor=context.getNodeEditorComponent();
  EditorCell selectedCell=myNodeEditor.getSelectedCell();
  EditorCell deepestSelectedCell=myNodeEditor.getDeepestSelectedCell();
  if (selectedCell != null) {
    if (deepestSelectedCell != null)     myCaretX=deepestSelectedCell.getCaretX();
    if (deepestSelectedCell instanceof EditorCell_Label && deepestSelectedCell.isErrorState()) {
    }
    myCellInfo=selectedCell.getCellInfo();
    mySelectedStack=myNodeEditor.getSelectedStackForMemento();
    for (    EditorCell foldedCell : myNodeEditor.getFoldedCells()) {
      myFolded.add(foldedCell.getCellInfo());
    }
    for (    EditorCell bracesEnabledCell : myNodeEditor.getBracesEnabledCells()) {
      myCollectionsWithEnabledBraces.add(bracesEnabledCell.getCellInfo());
    }
  }
}
