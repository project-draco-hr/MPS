{
  if (o instanceof Memento) {
    final Memento memento=(Memento)o;
    if (myNodeEditorComponent == memento.myNodeEditor) {
      if (memento.myCellInfo != null) {
        ModelAccess.instance().runReadAction(new Runnable(){
          public void run(){
            memento.restore();
          }
        }
);
      }
      AfterCommandInvocator.getInstance().invokeNowOrAfterCommand(new Runnable(){
        public void run(){
          myNodeEditorComponent.relayout();
        }
      }
);
      return true;
    }
  }
  return false;
}
