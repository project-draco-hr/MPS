{
  final com.intellij.openapi.project.Project[] openProjects=com.intellij.openapi.project.ProjectManager.getInstance().getOpenProjects();
  List<Project> result=new ArrayList<Project>();
  for (  com.intellij.openapi.project.Project p : openProjects) {
    final Project component=p.getComponent(MPSProject.class);
    if (component != null) {
      result.add(component);
    }
  }
  return result.toArray(new Project[result.size()]);
}
