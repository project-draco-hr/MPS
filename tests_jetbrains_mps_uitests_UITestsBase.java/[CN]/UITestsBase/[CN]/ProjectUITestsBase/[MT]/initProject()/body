{
  while (!IdeMain.isUILoaded()) {
    Thread.sleep(500);
  }
  flushAWT();
  final MPSProject[] project=new MPSProject[1];
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      project[0]=TestMain.loadProject(new File(myProjectPath));
    }
  }
);
  flushAWT();
  while (project[0] == null || project[0].getComponent(Project.class) == null) {
    Thread.sleep(500);
  }
  return project[0].getComponent(Project.class);
}
