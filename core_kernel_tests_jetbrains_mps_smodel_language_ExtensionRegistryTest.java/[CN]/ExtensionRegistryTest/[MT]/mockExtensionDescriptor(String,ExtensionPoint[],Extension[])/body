{
  final ExtensionDescriptor ed=context.mock(ExtensionDescriptor.class,name);
  context.checking(new Expectations(){
{
      atLeast(1).of(ed).getExtensionPoints();
      will(returnValue(Arrays.asList(extensionPoints)));
      atLeast(1).of(ed).getExtensions();
      will(returnValue(Arrays.asList(extensions)));
    }
  }
);
  return ed;
}
