{
  SModel model=new jetbrains.mps.smodel.SModel(getSModelReference(),new ForeignNodeIdMap());
  for (  Language l : getLanguagesToImport()) {
    ((jetbrains.mps.smodel.SModel)model).addLanguage(l.getModuleReference());
  }
  CompositeClassPathItem cp=createClassPath();
  new ASMModelLoader(((IModule)myModelRoot.getModule()),cp,model,false).updateModel();
  updateDiskTimestamp();
  return model;
}
