{
  SConceptId cid=readConceptId(is);
  SNodeId nodeId=is.readNodeId();
  String linkStr=is.readString();
  SContainmentLink111 nodeRole=linkStr == null ? null : SContainmentLink111.deserialize(linkStr);
  byte nodeInfo=is.readByte();
  if (is.readByte() != '{') {
    throw new IOException("bad stream, no '{'");
  }
  boolean interfaceNode=false;
  if (myInterfaceOnly) {
    ConceptKind kind=getConceptKind(nodeInfo);
    interfaceNode=(kind == ConceptKind.INTERFACE || nodeRole == null);
  }
  jetbrains.mps.smodel.SNode node=interfaceNode ? new InterfaceSNode(cid) : new jetbrains.mps.smodel.SNode(cid);
  node.setId(nodeId);
  readProperties(is,node);
  readReferences(is,node);
  readChildren(is,node);
  readUserObjects(is,node);
  if (is.readByte() != '}') {
    throw new IOException("bad stream, no '}'");
  }
  return new Pair<SContainmentLink111,jetbrains.mps.smodel.SNode>(nodeRole,node);
}
