{
  myPosInLayer=new NodeMap<Integer>(myGraph);
  myNumLayer=new NodeMap<Integer>(myGraph);
  for (int layer=0; layer < myOrder.getNumLayers(); layer++) {
    List<Node> layerOrder=myOrder.getOrder(layer);
    for (int pos=0; pos < ListSequence.<Node>fromList(layerOrder).count(); pos++) {
      MapSequence.<Node,Integer>fromMap(myPosInLayer).put(ListSequence.<Node>fromList(layerOrder).getElement(pos),pos);
      MapSequence.<Node,Integer>fromMap(myNumLayer).put(ListSequence.<Node>fromList(layerOrder).getElement(pos),layer);
    }
  }
  badEdges=SetSequence.<Edge>fromSet(new HashSet<Edge>());
  for (int layer=0; layer < myOrder.getNumLayers() - 1; layer++) {
    SetSequence.fromSet(badEdges).addSequence(SetSequence.<Edge>fromSet(findBadEdgesInLayer(myOrder.getOrder(layer))));
  }
}
