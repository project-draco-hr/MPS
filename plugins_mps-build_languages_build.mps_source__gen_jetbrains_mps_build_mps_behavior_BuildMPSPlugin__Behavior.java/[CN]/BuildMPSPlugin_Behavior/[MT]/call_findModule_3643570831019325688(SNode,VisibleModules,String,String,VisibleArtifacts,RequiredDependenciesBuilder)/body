{
  SNode module=visibleModules.resolve(fqName,uid);
  if ((module != null)) {
    if (SNodeOperations.getContainingRoot(module) != SNodeOperations.getContainingRoot(thisNode)) {
      SNode moduleJar=SNodeOperations.as(artifacts.findArtifact(module),"jetbrains.mps.build.structure.BuildLayout_Node");
      if (moduleJar != null) {
        DependenciesHelper helper=new DependenciesHelper(artifacts.getGenContext(),artifacts.getProject());
        helper.artifacts().put(SPropertyOperations.getString(module,"uuid"),moduleJar);
        builder.add(moduleJar,module);
      }
    }
  }
}
