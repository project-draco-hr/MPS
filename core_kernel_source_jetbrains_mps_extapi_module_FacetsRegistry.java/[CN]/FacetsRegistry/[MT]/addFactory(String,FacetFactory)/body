{
  if (myFactoryType.containsKey(factory)) {
    throw new IllegalStateException("factory is already registered");
  }
  myFactoryType.put(factory,facetType);
  myFacetsByType.put(facetType,factory);
}
