{
  IRefactoring ref=new SafeDeleteModelRefactoring(deleteFiles);
  final RefactoringContext context=new RefactoringContext(ref);
  context.setSelectedModel(modelDescriptor);
  context.setSelectedModule(modelDescriptor.getModule());
  context.setSelectedProject(project);
  context.setCurrentOperationContext(new ProjectOperationContext(project));
  project.getRepository().getModelAccess().runWriteInEDT(new Runnable(){
    @Override public void run(){
      if (modelDescriptor.getReference().resolve(MPSModuleRepository.getInstance()) != modelDescriptor)       return;
      RefactoringAccess.getInstance().getRefactoringFacade().execute(context);
    }
  }
);
}
