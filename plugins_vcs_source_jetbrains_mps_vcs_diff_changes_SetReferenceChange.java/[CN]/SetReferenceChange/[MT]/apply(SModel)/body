{
  SNode node=m.getNodeById(myNodeId);
  if (node != null) {
    if (myInternal) {
      SNode target=m.getNodeById(myTargetId);
      node.setReferent(myRole,target);
      if (target == null) {
        node.addReference(new StaticReference(myRole,node,node.getModel().getSModelReference(),myTargetId,myResolveInfo));
      }
    }
 else {
      SReference reference=SReference.create(myRole,node,myTargetModel,myTargetId);
      node.removeReferent(myRole);
      node.addReference(reference);
      if (reference != null)       reference.setResolveInfo(myResolveInfo);
    }
  }
  return true;
}
