{
  File tmp=FileUtil.createTmpDir();
  VcsHelperUtil.writeContentsToFile(contents[ModelMergeRequestConstants.ORIGINAL],file,tmp,VcsMergeVersion.BASE.getSuffix());
  VcsHelperUtil.writeContentsToFile(contents[ModelMergeRequestConstants.CURRENT],file,tmp,VcsMergeVersion.MINE.getSuffix());
  VcsHelperUtil.writeContentsToFile(contents[ModelMergeRequestConstants.LAST_REVISION],file,tmp,VcsMergeVersion.REPOSITORY.getSuffix());
  VcsHelperUtil.writeMetaInformation(request,file,tmp);
  File zipfile=VcsHelperUtil.chooseZipFileForModelFile(file.getName());
  zipfile.getParentFile().mkdirs();
  FileUtil.zip(tmp,zipfile);
  FileUtil.delete(tmp);
  return zipfile;
}
