{
  List<LinkDeclaration> links=new ArrayList<LinkDeclaration>();
  if (role != null) {
    LinkDeclaration link=new ConceptAndSuperConceptsScope(sourceConcept).getMostSpecificLinkDeclarationByRole(role);
    if (link != null) {
      links.add(link);
    }
  }
 else {
    links=new ConceptAndSuperConceptsScope(sourceConcept).getLinkDeclarationsExcludingOverridden();
  }
  for (  LinkDeclaration link : links) {
    boolean suitable=true;
    for (    SNode pasteNode : pasteNodes) {
      AbstractConceptDeclaration pasteConcept=pasteNode.getConceptDeclarationAdapter();
      if (!SModelUtil_new.isAssignableConcept(pasteConcept,link.getTarget())) {
        suitable=false;
        break;
      }
    }
    if (suitable) {
      if (pasteNodes.size() == 1 || (link.getSourceCardinality() == Cardinality._0__n || link.getSourceCardinality() == Cardinality._1__n)) {
        return link;
      }
    }
  }
  return null;
}
