{
  Set<LanguageRuntime> loadedRuntimes=new LinkedHashSet<LanguageRuntime>();
  for (  Language language : collectLanguageModules(loadedModules)) {
    SLanguage sl=MetaAdapterByDeclaration.getLanguage(language);
    if (myLanguagesById.containsKey(sl)) {
      LOG.error("",new IllegalArgumentException(String.format("There is already a language '%s'",myLanguagesById.get(sl))));
      continue;
    }
    try {
      LanguageRuntime langRuntime=createRuntime(language);
      if (langRuntime == null) {
        continue;
      }
      myLanguagesById.put(sl,langRuntime);
      loadedRuntimes.add(langRuntime);
    }
 catch (    LinkageError le) {
      processLinkageErrorForLanguage(language,le);
    }
  }
  reinitialize();
  for (  Generator generator : collectGeneratorModules(loadedModules)) {
    GeneratorRuntime generatorRuntime=createRuntime(generator);
    if (generatorRuntime == null) {
      continue;
    }
    GeneratorRuntime old=myGeneratorsWithCompiledRuntime.put(generatorRuntime.getModuleReference(),generatorRuntime);
    if (old != null) {
      LOG.warn(String.format("There is already generator runtime for module '%s'",old.getModuleReference()));
    }
    LanguageRuntime srcLangRuntime=generatorRuntime.getSourceLanguage();
    srcLangRuntime.register(generatorRuntime);
  }
  notifyLoad(loadedRuntimes);
}
