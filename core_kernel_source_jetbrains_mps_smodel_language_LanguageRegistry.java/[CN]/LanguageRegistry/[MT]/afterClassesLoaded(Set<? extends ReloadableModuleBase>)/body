{
  Set<LanguageRuntime> loadedRuntimes=new HashSet<LanguageRuntime>();
  for (  Language language : collectLanguagesToLoad(loadedModules)) {
    SLanguageId languageId=MetaIdByDeclaration.getLanguageId(language);
    if (myLanguagesById.containsKey(languageId)) {
      LOG.error("",new IllegalArgumentException(String.format("There is already a language '%s' with id '%s'",myLanguagesById.get(languageId),languageId)));
      continue;
    }
    try {
      LanguageRuntime langRuntime=createRuntime(language);
      if (langRuntime == null)       continue;
      if (langRuntime.getId() == null)       langRuntime.setId(languageId);
      String langName=langRuntime.getNamespace();
      if (myLanguages.containsKey(langName)) {
        LOG.warn(String.format("There is already a language '%s' with a name '%s'",myLanguages.get(langName),langName));
      }
      myLanguages.put(langName,langRuntime);
      myLanguagesById.put(languageId,langRuntime);
      loadedRuntimes.add(langRuntime);
    }
 catch (    LinkageError le) {
      processLinkageErrorForLanguage(language,le);
    }
  }
  reinitialize();
  notifyLoad(loadedRuntimes);
}
