{
  Set<LanguageRuntime> languagesToUnload=new HashSet<LanguageRuntime>();
  for (  SLanguageId languageId : collectLanguagesToUnload(unloadedModules)) {
    if (!myLanguagesById.containsKey(languageId)) {
      LOG.warn("No language with id " + languageId + " to unload");
    }
 else {
      languagesToUnload.add(myLanguagesById.get(languageId));
    }
  }
  notifyUnload(languagesToUnload);
  for (  LanguageRuntime languageRuntime : languagesToUnload) {
    myLanguages.remove(languageRuntime.getNamespace());
    myLanguagesById.remove(languageRuntime.getId());
  }
  reinitialize();
}
