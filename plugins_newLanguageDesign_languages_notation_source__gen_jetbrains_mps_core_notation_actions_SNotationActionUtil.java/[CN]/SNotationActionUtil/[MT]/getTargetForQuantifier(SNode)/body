{
  if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.core.notation.structure.SNotationMapping")) {
    node=SLinkOperations.getTarget(SNodeOperations.cast(node,"jetbrains.mps.core.notation.structure.SNotationMapping"),"presentation",true);
  }
  SNode result=SNodeOperations.as(node,"jetbrains.mps.core.notation.structure.SNotationCorePart");
  if ((result == null)) {
    return null;
  }
  while ((node != null)) {
    if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.core.notation.structure.SNotationQuantifier")) {
      return null;
    }
    node=SNodeOperations.as(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationCorePart");
  }
  return result;
}
