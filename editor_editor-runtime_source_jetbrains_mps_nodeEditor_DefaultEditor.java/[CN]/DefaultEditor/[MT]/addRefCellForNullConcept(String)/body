{
  SNode referentNode=null;
  SReference reference=mySNode.getReference(role);
  String myErrorText;
  if (reference != null) {
    referentNode=reference.getTargetNode();
    if (referentNode == null || referentNode.getModel() == null || myEditorContext.getScope().getModelDescriptor(referentNode.getModel().getReference()) == null) {
      String rinfo=((jetbrains.mps.smodel.SReference)reference).getResolveInfo();
      myErrorText=rinfo != null ? rinfo : "?" + role + "?";
      addErrorCell(myErrorText);
      return;
    }
  }
  if (referentNode == null) {
    addLabel("<no target>");
    return;
  }
  AbstractCellProvider inlineComponent=new MyAbstractCellProvider(role);
  inlineComponent.setSNode(referentNode);
  EditorCell cell=((jetbrains.mps.nodeEditor.EditorContext)myEditorContext).createReferentCell(inlineComponent,mySNode,referentNode,role);
  setSemanticNodeToCells(cell,mySNode);
  if (cell.getRole() == null) {
    cell.setRole(role);
  }
  addCell(cell);
}
