{
  Class c=myCache.get(name);
  if (c == null) {
    byte[] bytes=findClassBytes(name);
    if (bytes == null || isExcluded(name)) {
      c=getParent().loadClass(name);
      if (resolve) {
        resolveClass(c);
      }
    }
 else {
      definePackageIfNecessary(name);
      c=defineClass(name,bytes,0,bytes.length);
    }
    myCache.put(name,c);
  }
  if (resolve) {
    resolveClass(c);
  }
  return c;
}
