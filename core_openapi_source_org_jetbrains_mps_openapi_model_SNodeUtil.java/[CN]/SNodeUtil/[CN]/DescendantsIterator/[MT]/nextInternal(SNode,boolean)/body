{
  if (curr == null)   return null;
  if (!skipChildren) {
    SNode firstChild=curr.getFirstChild();
    if (firstChild != null)     return firstChild;
  }
  if (curr == original)   return null;
  do {
    if (curr.getNextSibling() != null) {
      return curr.getNextSibling();
    }
    curr=curr.getParent();
  }
 while (curr != original);
  return null;
}
