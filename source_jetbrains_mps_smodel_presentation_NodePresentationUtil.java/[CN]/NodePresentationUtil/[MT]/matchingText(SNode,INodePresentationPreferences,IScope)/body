{
  if (node == null) {
    return "<none>";
  }
  if (node instanceof ConceptDeclaration) {
    if (preferences.matchConceptByAlias()) {
      return getAliasOrConceptName(node,scope);
    }
    return node.getName();
  }
  if (node instanceof LinkDeclaration) {
    return ((LinkDeclaration)node).getRole();
  }
  if (node instanceof EnumerationMemberDeclaration) {
    return ((EnumerationMemberDeclaration)node).getExternalValue();
  }
  if (node instanceof BaseConcept) {
    String customAlias=((BaseConcept)node).getAlias();
    if (customAlias != null)     return customAlias;
    if (node instanceof NamedConcept) {
      String name=node.getName();
      if (name != null) {
        return name;
      }
    }
  }
  return getAliasOrConceptName(node,scope);
}
