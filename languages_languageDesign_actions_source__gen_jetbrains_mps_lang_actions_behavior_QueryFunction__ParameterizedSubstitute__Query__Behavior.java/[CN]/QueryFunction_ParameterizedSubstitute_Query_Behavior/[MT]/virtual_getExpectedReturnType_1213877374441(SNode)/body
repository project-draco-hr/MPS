{
  SNode ancestor=SNodeOperations.getNodeAncestorWhereConceptInList(thisNode,new SAbstractConcept[]{MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121dfa84e4L,"jetbrains.mps.lang.actions.structure.AddMenuPart"),MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121ecab8a6L,"jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart")},false,false);
  if (SNodeOperations.isInstanceOf(ancestor,MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121dfa84e4L,"jetbrains.mps.lang.actions.structure.AddMenuPart"))) {
    return _quotation_createNode_6qptm2_a0a1a0(SLinkOperations.getTarget(SNodeOperations.cast(ancestor,MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121dfa84e4L,"jetbrains.mps.lang.actions.structure.AddMenuPart")),MetaAdapterFactory.getReferenceLink(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121e8bfbfdL,0x1121e8c4fafL,"concept")));
  }
  SNode expectedType=null;
  if (SNodeOperations.isInstanceOf(ancestor,MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121ecab8a6L,"jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart"))) {
    expectedType=SLinkOperations.getTarget(SNodeOperations.cast(ancestor,MetaAdapterFactory.getConcept(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121ecab8a6L,"jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart")),MetaAdapterFactory.getContainmentLink(0xaee9cad2acd44608L,0xaef20004f6a1cdbdL,0x1121ecab8a6L,0x1121ecb4eaeL,"type"));
  }
  if (expectedType == null) {
    return _quotation_createNode_6qptm2_a0a5a0();
  }
  return _quotation_createNode_6qptm2_a6a0(expectedType);
}
