{
  if (methodNode != null) {
    methodNode.setState(testState);
  }
  Iterable<TestState> priorityList=Sequence.fromArray(TestState.values());
  TestState oldState=testCaseNode.getState();
  if (Sequence.fromIterable(priorityList).indexOf(oldState) < Sequence.fromIterable(priorityList).indexOf(testState)) {
    if (TestState.PASSED.equals(testState)) {
      for (      MPSTreeNode method : testCaseNode) {
        if (!(TestState.PASSED.equals(((TestMethodTreeNode)method).getState()))) {
          return;
        }
      }
    }
    testCaseNode.setState(testState);
  }
}
