{
  if (graph instanceof ClusteredGraph) {
    ClusteredGraph clusteredGraph=((ClusteredGraph)graph);
    Node root=clusteredGraph.getRoot();
    myClusterBorderMap=MapSequence.fromMap(new HashMap<Node,List<Edge>>());
    ClusterEmbeddingConstructor constructor=new ClusterEmbeddingConstructor(clusteredGraph,root,null);
    constructor.setClusterBorderMap(myClusterBorderMap);
    EmbeddedGraph embeddedGraph=constructor.constructEmbedding();
    CheckEmbeddedGraph.checkEmbeddedGraph(embeddedGraph);
    return embeddedGraph;
  }
 else {
    throw new RuntimeException("can find embedding of clustered graphs only");
  }
}
