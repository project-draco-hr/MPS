{
  if (findVirtualFile()) {
    VirtualFile[] children=new VirtualFile[0];
    try {
      if (myVirtualFile.isValid()) {
        children=myVirtualFile.getChildren();
      }
    }
 catch (    NullPointerException e) {
      if (Arrays.asList(e.getStackTrace()).toString().contains("disposeComponent(")) {
      }
 else {
        throw e;
      }
    }
    ArrayList<IFile> result=new ArrayList<IFile>();
    for (    VirtualFile child : children) {
      if (filter.accept(this,child.getName())) {
        result.add(new IdeaFile(child));
      }
    }
    return Collections.unmodifiableList(result);
  }
 else {
    return Arrays.asList();
  }
}
