{
  if (findVirtualFile()) {
    VirtualFile[] children=new VirtualFile[0];
    if (myVirtualFile.isValid()) {
      children=myVirtualFile.getChildren();
    }
    ArrayList<IFile> result=new ArrayList<IFile>();
    for (    VirtualFile child : children) {
      if (filter.accept(this,child.getName())) {
        result.add(new IdeaFile(child));
      }
    }
    return Collections.unmodifiableList(result);
  }
 else {
    return Arrays.asList();
  }
}
