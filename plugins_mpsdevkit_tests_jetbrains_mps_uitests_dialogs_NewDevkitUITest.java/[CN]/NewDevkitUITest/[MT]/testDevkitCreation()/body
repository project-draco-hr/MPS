{
  Frame frame=MPSDataKeys.FRAME.getData(DataManager.getInstance().getDataContext());
  Assert.assertNotNull("Main frame not found",frame);
  final NewDevKitDialog dialog=new NewDevKitDialog(null);
  dialog.setProject(myCreatedProject);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      dialog.showDialog();
    }
  }
);
  flushAWT();
  JTextField nameField=findTextField("Name");
  getHelper().sendString(new StringEventData(this,nameField,"myDev"));
  flushAWT();
  PathField pathField=findPathField("Path");
  boolean correctSuffix=pathField.getPath().endsWith(nameField.getText());
  Assert.assertTrue("Devkit suffix is not added to path",correctSuffix);
  pressButton(dialog,"OK");
  flushAWT();
  final DevKit devKit=dialog.getResult();
  Assert.assertNotNull("Devkit is not created",devKit);
  boolean isImported=myCreatedProject.getProjectModules(DevKit.class).contains(devKit);
  Assert.assertTrue("Devkit is not imported into project",isImported);
}
