{
  if (myLoggingHandler == null) {
    myLoggingHandler=new LoggingHandlerAdapter(){
      public void addLogEntry(      LogEntry e){
        if (IdeMain.getTestMode() != TestMode.NO_TEST) {
          return;
        }
        Object o=e.getHintObject();
        if (o instanceof SNode) {
          mySessionContext.addTransientModelToKeep(((SNode)o).getModel());
        }
 else         if (o instanceof NodeWithContext) {
          SNode node=((NodeWithContext)o).getNode();
          if (node != null) {
            mySessionContext.addTransientModelToKeep(node.getModel());
          }
        }
      }
    }
;
  }
  return myLoggingHandler;
}
