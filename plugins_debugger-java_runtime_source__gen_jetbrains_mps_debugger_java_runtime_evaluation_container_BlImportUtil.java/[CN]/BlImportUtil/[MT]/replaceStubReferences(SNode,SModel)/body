{
  for (  SReference reference : ListSequence.fromList(SNodeOperations.getReferences(node))) {
    SModel targetModel=SNodeOperations.getModel(SLinkOperations.getTargetNode(reference));
    if (neq_qvsuy0_a0b0a0c(targetModel,containerModel)) {
      SModelDescriptor scopeModel=GlobalScope.getInstance().getModelDescriptor(targetModel.getSModelReference());
      if (scopeModel != null && neq_qvsuy0_a0a1a1a0a2(scopeModel.getSModel(),targetModel)) {
        String resolveInfo=SLinkOperations.getResolveInfo(reference);
        if ((resolveInfo == null || resolveInfo.length() == 0)) {
          resolveInfo=jetbrains.mps.util.SNodeOperations.getResolveInfo(SLinkOperations.getTargetNode(reference));
        }
        node.setReference(SLinkOperations.getRole(reference),new DynamicReference(SLinkOperations.getRole(reference),node,scopeModel.getSModelReference(),resolveInfo));
      }
    }
  }
}
