{
  ActionManagerEx manager=ActionManagerEx.getInstanceEx();
  List<BaseGroup> mpsGroups=new ArrayList<BaseGroup>();
  for (  BaseGroup group : groups) {
    mpsGroups.add(group);
    manager.unregisterAction(group.getId());
  }
  for (  String id : manager.getActionIds("")) {
    AnAction action=manager.getAction(id);
    if (action instanceof ActionGroup && (!(action instanceof BaseGroup))) {
      ActionGroup staticGroup=(ActionGroup)action;
      removeGroupsFromGroup(staticGroup,mpsGroups);
    }
  }
}
