{
  IWrapper representator=getRepresentatorWrapper(wrapper);
  final WhenConcreteEntity oldEntity=myShallowWhenConcreteEntities.remove(representator);
  WhenConcreteEntity entityToPut=entity;
  if (oldEntity != null) {
    entityToPut=new WhenConcreteEntity(new Runnable(){
      public void run(){
        oldEntity.run();
        entity.run();
      }
    }
,oldEntity.getNodeModel(),oldEntity.getNodeId());
  }
  myShallowWhenConcreteEntities.put(representator,entityToPut);
}
