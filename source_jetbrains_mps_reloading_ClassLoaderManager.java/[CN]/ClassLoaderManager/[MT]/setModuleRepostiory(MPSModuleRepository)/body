{
  repository.addModuleRepositoryListener(new ModuleRepositoryListener(){
    public void moduleAdded(    IModule module){
      if (module instanceof Generator) {
        return;
      }
      if (myRuntimeEnvironment.get(module.getModuleUID()) == null) {
        Bundle bundle=new Bundle(module.getModuleUID(),module.getByteCodeLocator());
        for (        String d : module.getExplicitlyDependOnModuleUIDs()) {
          if (d.contains("#")) {
            continue;
          }
          bundle.addDependency(d);
        }
        myRuntimeEnvironment.add(bundle);
      }
    }
    public void beforeModuleRemoved(    IModule module){
    }
    public void moduleRemoved(    IModule module){
      if (module instanceof Generator) {
        return;
      }
      myRemoveList.add(module.getModuleUID());
    }
    public void moduleInitialized(    IModule module){
    }
  }
);
}
