{
  File root=new File(".");
  MultiMap<String,String> sources=Generators.getSourceFolders(root);
  MultiMap<String,String> mpsModules=Utils.collectMPSCompiledModulesInfo(root);
  Set<String> allSources=new HashSet<String>();
  allSources.addAll(sources.values());
  allSources.addAll(mpsModules.values());
  boolean error=false;
  outer:   for (  File jFile : Utils.withExtension(".java",Utils.files(root))) {
    String cp=jFile.getCanonicalPath();
    if (cp.contains("sandbox"))     continue;
    for (    String sourcePath : allSources) {
      if (cp.startsWith(sourcePath + File.separator))       continue outer;
    }
    error=true;
    System.out.println("Java file " + cp + " is neither included in any MPS module, nor in any Idea source root");
  }
  Assert.assertFalse("failed, see log for details",error);
}
