{
  int modelVersion=model.getVersion();
  int historyVersion=model.getStructureModificationLog().getLatestVersion(model.getReference());
  if (modelVersion < historyVersion) {
    if (LOG.isInfoEnabled()) {
      LOG.info("updating version of " + model + " from "+ modelVersion+ " to .history version "+ historyVersion);
    }
    model.setVersion(historyVersion);
    model.setChanged(true);
  }
 else   if (modelVersion > historyVersion && historyVersion != -1) {
    if (LOG.isInfoEnabled()) {
      LOG.info("history version of " + model + " is smaller than model version: "+ historyVersion+ "<"+ modelVersion);
    }
  }
}
