{
  SModel m=((SModelInternal)model);
  for (  jetbrains.mps.smodel.SModel.ImportElement importElement : ListSequence.fromList(SModelOperations.getAllImportElements(m))) {
    RefactorableSModelDescriptor usedModel=as_hexye9_a0a0a1a7(SModelRepository.getInstance().getModelDescriptor(importElement.getModelReference()),RefactorableSModelDescriptor.class);
    if (usedModel == null) {
      continue;
    }
    if (importElement.getUsedVersion() < usedModel.getVersion()) {
      LOG.info(model + ": updating used version of " + importElement.getModelReference()+ " from "+ importElement.getUsedVersion()+ " to "+ usedModel.getVersion());
      ((SModelInternal)m).updateImportedModelUsedVersion(importElement.getModelReference(),usedModel.getVersion());
      model.setChanged(true);
    }
 else     if (importElement.getUsedVersion() > usedModel.getVersion()) {
      LOG.error(model + ": used version of " + importElement.getModelReference()+ " is greater than model version: "+ importElement.getUsedVersion()+ ">"+ usedModel.getVersion());
      ((SModelInternal)m).updateImportedModelUsedVersion(importElement.getModelReference(),usedModel.getVersion());
      model.setChanged(true);
    }
  }
}
