{
  EditorCell_Collection blockCollection=jetbrains.mps.nodeEditor.cells.EditorCell_Collection.createIndent2(editorContext,diagramNode);
  for (  SNode blockNode : ListSequence.fromList(SLinkOperations.getTargets(diagramNode,"blocks",true))) {
    GenericViewCell blockCell=(GenericViewCell)editorContext.createNodeCell(blockNode);
    MPSBlockView blockView=((MPSBlockView)blockCell.getView());
    blockCollection.addEditorCell(blockCell);
    attach(myView.itemsView,blockView);
{
      Iterator<SNode> inputPort_it=ListSequence.fromList(SLinkOperations.getTargets(blockNode,"inputPorts",true)).iterator();
      SNode inputPort_var;
      while (inputPort_it.hasNext()) {
        inputPort_var=inputPort_it.next();
        MapSequence.fromMap(nodeToViewMap).put(inputPort_var,blockView.getViewByPort(inputPort_var));
      }
    }
{
      Iterator<SNode> outputPort_it=ListSequence.fromList(SLinkOperations.getTargets(blockNode,"outputPorts",true)).iterator();
      SNode outputPort_var;
      while (outputPort_it.hasNext()) {
        outputPort_var=outputPort_it.next();
        MapSequence.fromMap(nodeToViewMap).put(outputPort_var,blockView.getViewByPort(outputPort_var));
      }
    }
  }
  diagramCell.addEditorCell(blockCollection);
}
