{
  if (mySmartRefConcept == null) {
    mySourceNode.setReferent(myRole,myTargetNode,false);
  }
 else {
    SNode parent=mySourceNode.getParent();
    if (parent != null) {
      SNode newNode=SModelUtil_new.instantiateConceptDeclaration(BaseAdapter.fromAdapter(mySmartRefConcept),mySourceNode.getModel());
      newNode.setReferent(myRole,myTargetNode);
      parent.replaceChild(mySourceNode,newNode);
    }
  }
}
