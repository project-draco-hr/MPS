{
  if (targetNode == null)   return Collections.emptyList();
  String virtualPackege=getVirtualPackage(targetNode);
  SModelDescriptor contextModel=getModelDescriptor(targetNode);
  if (contextModel == null)   return Collections.emptyList();
  List<SNode> result=new ArrayList<SNode>();
  for (  final SNode node : sourceNodes) {
    if (virtualPackege.equals(getVirtualPackage(node)))     continue;
    SModelDescriptor md=getModelDescriptor(node);
    if (EqualUtil.equals(md,contextModel)) {
      result.add(node);
    }
  }
  return result;
}
