{
  try {
    JavaParser parser=new JavaParser();
    SModel mdl;
    mdl=SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.ide.java.testMaterial.placeholder",""));
    List<SNode> res=parser.parse(code,SModelOperations.getModelName(mdl),FeatureKind.CLASS_STUB,null,true).getNodes();
    Assert.assertSame(ListSequence.fromList(res).count(),1);
    SNode result=SNodeOperations.cast(res.get(0),"jetbrains.mps.baseLanguage.structure.Classifier");
    SModelOperations.addRootNode(mdl,result);
    NodePatcher.removeStatements(expected);
    NodePatcher.fixNonStatic(expected);
    NodePatcher.fixNonStatic(result);
    NodePatcher.copyImportAttrs(result,expected);
    Map<SNode,SNode> nodeMap=MapSequence.fromMap(new HashMap<SNode,SNode>());
    buildClassifierNodeMap(result,expected,nodeMap);
    NodeDifference diff=NodesMatcher.matchNodes(result,expected,nodeMap);
    Assert.assertEquals(null,diff);
  }
 catch (  JavaParseException e) {
    throw new RuntimeException(e);
  }
}
