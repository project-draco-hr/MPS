{
  JavaSourceStubModelRoot mr=new JavaSourceStubModelRoot();
  mr.setModule(getModule());
  mr.setContentRoot(dirPath);
  mr.addFile(JavaSourceStubModelRoot.SOURCE_ROOTS,dirPath);
  List<SModel> models=ListSequence.fromList(new ArrayList<SModel>());
  for (  SModel md : Sequence.fromIterable(mr.loadModels())) {
    SModel m=md;
    ListSequence.fromList(models).addElement(m);
  }
  for (  SModel m : ListSequence.fromList(expected)) {
    for (    SNode root : ListSequence.fromList(SModelOperations.getRoots(m,null))) {
      NodePatcher.removeStatements(SNodeOperations.cast(root,"jetbrains.mps.baseLanguage.structure.Classifier"));
      NodePatcher.fixNonStatic(SNodeOperations.cast(root,"jetbrains.mps.baseLanguage.structure.Classifier"));
    }
  }
  compare(models,expected);
}
