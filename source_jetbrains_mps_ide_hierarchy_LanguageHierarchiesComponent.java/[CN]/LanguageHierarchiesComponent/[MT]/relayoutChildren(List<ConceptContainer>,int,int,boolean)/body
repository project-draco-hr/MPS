{
  int y_=y;
  for (  ConceptContainer root : currentChildren) {
    int subtreeWidth=root.getSubtreeWidth();
    root.setX(x + (subtreeWidth - root.getWidth()) / 2);
    root.setY(y + SPACING);
    int newY=relayoutChildren(root.getChildren(),x,y + SPACING + root.getHeight(),false);
    if (vertical) {
      y=newY + root.getHeight() + 3 * SPACING;
      y_=y;
    }
 else {
      x+=subtreeWidth;
      y_=Math.max(y + SPACING + root.getHeight(),newY);
    }
  }
  return y_;
}
