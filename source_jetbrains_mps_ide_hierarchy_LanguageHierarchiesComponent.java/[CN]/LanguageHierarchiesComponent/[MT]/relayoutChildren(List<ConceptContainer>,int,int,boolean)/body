{
  int y_=y;
  for (  ConceptContainer root : currentChildren) {
    int subtreeWidth=root.getSubtreeWidth();
    root.setX(x + (subtreeWidth - root.getWidth()) / 2);
    root.setY((int)(y + SPACING * myScale));
    int newY=relayoutChildren(root.getChildren(),x,(int)(y + SPACING * myScale + root.getHeight()),false);
    if (vertical) {
      y=(int)(newY + root.getHeight() + 3 * SPACING * myScale);
      y_=y;
    }
 else {
      x+=subtreeWidth;
      y_=(int)(Math.max(y + SPACING * myScale + root.getHeight(),newY));
    }
  }
  return y_;
}
