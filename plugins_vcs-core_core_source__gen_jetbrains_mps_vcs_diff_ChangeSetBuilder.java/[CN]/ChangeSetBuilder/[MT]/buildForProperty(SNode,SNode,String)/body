{
  PropertySupport propertySupport=new ChangeSetBuilder.DefaultPropertySupport();
  if (!(MPSCore.getInstance().isMergeDriverMode())) {
    SNode propertyDeclaration=oldNode.getPropertyDeclaration(name);
    if (propertyDeclaration != null) {
      propertySupport=PropertySupport.getPropertySupport(propertyDeclaration);
    }
  }
  String oldPresentableValue=propertySupport.fromInternalValue(SNodeAccessUtil.getProperty(oldNode,name));
  String newPresentableValue=propertySupport.fromInternalValue(SNodeAccessUtil.getProperty(newNode,name));
  if (!(EqualUtil.equals(oldPresentableValue,newPresentableValue))) {
    ListSequence.fromList(myNewChanges).addElement(new SetPropertyChange(myChangeSet,oldNode.getSNodeId(),name,SNodeAccessUtil.getProperty(newNode,name)));
  }
}
