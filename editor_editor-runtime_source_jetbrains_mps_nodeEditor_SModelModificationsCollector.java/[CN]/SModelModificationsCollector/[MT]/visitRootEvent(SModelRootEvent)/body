{
  if (event.isAdded()) {
    return;
  }
  addModification(event.getRoot(),event);
  if (event.isRemoved()) {
    Queue<SNode> removedNodes=new LinkedList<SNode>();
    removedNodes.add(event.getRoot());
    while (!removedNodes.isEmpty()) {
      SNode removedNode=removedNodes.remove();
      for (      SNode removedChild : removedNode.getChildren()) {
        removedNodes.add(removedChild);
      }
      addModification(removedNode,event);
    }
  }
}
