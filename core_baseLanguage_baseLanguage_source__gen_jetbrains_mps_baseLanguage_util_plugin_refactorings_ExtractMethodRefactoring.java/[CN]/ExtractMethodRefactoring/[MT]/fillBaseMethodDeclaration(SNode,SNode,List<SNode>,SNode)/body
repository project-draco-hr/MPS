{
  if (SNodeOperations.isInstanceOf(declaration,"jetbrains.mps.baseLanguage.structure.IVisible")) {
    SNode visibleDeclaration=SNodeOperations.cast(declaration,"jetbrains.mps.baseLanguage.structure.IVisible");
    SLinkOperations.setTarget(visibleDeclaration,"visibility",this.myParameters.getVisibilityLevel().getNode(),true);
  }
  SNode methodDeclaration=declaration;
  SLinkOperations.setTarget(methodDeclaration,"returnType",returntType,true);
  SPropertyOperations.set(methodDeclaration,"name",this.myParameters.getName());
  SLinkOperations.addAll(methodDeclaration,"parameter",params);
  SLinkOperations.setTarget(methodDeclaration,"body",body,true);
  return methodDeclaration;
}
