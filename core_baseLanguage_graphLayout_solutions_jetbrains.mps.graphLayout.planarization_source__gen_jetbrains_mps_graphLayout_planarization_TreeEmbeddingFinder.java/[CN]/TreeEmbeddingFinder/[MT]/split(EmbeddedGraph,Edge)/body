{
  Graph originalGraph=embeddedGraph.getGraph();
  Node newNode=originalGraph.addDummyNode();
  edge.removeFromGraph();
  for (  Face face : ListSequence.fromList(MapSequence.fromMap(embeddedGraph.getAdjacentFacesMap()).get(edge))) {
    List<Dart> darts=face.getDarts();
    int pos=0;
    while (ListSequence.fromList(darts).getElement(pos).getEdge() != edge) {
      pos++;
    }
    ListSequence.fromList(darts).setElement(pos,new Dart(edge.getSource().addEdgeTo(newNode),ListSequence.fromList(darts).getElement(pos).getDirection()));
    ListSequence.fromList(darts).insertElement(pos + 1,new Dart(newNode.addEdgeTo(edge.getTarget()),ListSequence.fromList(darts).getElement(pos).getDirection()));
  }
  return newNode;
}
