{
  LanguagesHolder cached=getHolder(langs);
  if (cached.hasScope()) {
    return cached.getScope();
  }
  BitSet nsBitSet=new BitSet(myBits.intValue());
  for (  SModuleReference langRef : langs) {
    Language lng=ModuleRepositoryFacade.getInstance().getModule(langRef,Language.class);
    if (lng == null || lng.getModuleDescriptor() == null) {
      LOG.debug("language not found: " + langRef);
      continue;
    }
    updateNamespaceBit(nsBitSet,lng.getModuleDescriptor().getNamespace());
    for (    SModuleReference mref : LanguageDependenciesManager.getAllExtendedLanguageReferences(lng)) {
      Language ext=ModuleRepositoryFacade.getInstance().getModule(mref,Language.class);
      updateNamespaceBit(nsBitSet,ext.getModuleDescriptor().getNamespace());
    }
  }
  LanguageScope langScope=new LanguageScope(this,nsBitSet);
  cached.setScope(langScope);
  return langScope;
}
