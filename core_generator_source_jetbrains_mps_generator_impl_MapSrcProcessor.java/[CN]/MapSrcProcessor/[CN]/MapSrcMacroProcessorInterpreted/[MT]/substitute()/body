{
  if (myMapNodeQuery != null) {
    TemplateContext tc=getTemplateContext();
    final QueryExecutionContext queryExecutor=tc.getEnvironment().getQueryExecutor();
    return queryExecutor.evaluate(myMapNodeQuery,new MapSrcMacroContext(tc,getOutputAnchor().getParent(),getTemplateNode()));
  }
  return super.substitute();
}
