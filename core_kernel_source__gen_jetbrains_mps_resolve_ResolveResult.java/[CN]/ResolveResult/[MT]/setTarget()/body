{
  if (mySmartRefConcept == null) {
    getSourceNode().setReferent(getRole(),myTargetNode,false);
  }
 else {
    SNode parent=SNodeOperations.getParent(getSourceNode());
    if (parent != null) {
      SNode newNode=SModelUtil_new.instantiateConceptDeclaration(mySmartRefConcept,SNodeOperations.getModel(getSourceNode()));
      newNode.setReferent(getRole(),myTargetNode);
      parent.replaceChild(getSourceNode(),newNode);
    }
  }
}
