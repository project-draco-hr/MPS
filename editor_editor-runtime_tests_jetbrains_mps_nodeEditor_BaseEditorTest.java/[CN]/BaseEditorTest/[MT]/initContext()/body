{
  Exception exception=ThreadUtils.runInUIThreadAndWait(new Runnable(){
    @Override public void run(){
      SRepository repository=MPSModuleRepository.getInstance();
      EditorComponent component=new HeadlessEditorComponent(null,repository);
      myEditorContext=new jetbrains.mps.nodeEditor.EditorContext(component,null,repository);
    }
  }
);
  if (exception != null) {
    throw exception;
  }
}
