{
  SNode enclosingClass=SNodeOperations.getAncestor(nodeInsideClosure,"jetbrains.mps.baseLanguage.structure.ClassConcept",false,false);
  if (enclosingClass == null) {
    return SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.NullLiteral",null);
  }
  SNode enclosingMethodOrClosure=SNodeOperations.getAncestorWhereConceptInList(nodeInsideClosure,new String[]{"jetbrains.mps.baseLanguage.structure.BaseMethodDeclaration","jetbrains.mps.baseLanguage.structure.Closure"},false,false);
  if (SNodeOperations.isInstanceOf(enclosingMethodOrClosure,"jetbrains.mps.baseLanguage.structure.Closure")) {
    SNode fieldRef=_quotation_createNode_w9106s_a0a0h0d();
    SNode typeOfField=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ClassifierType",null);
    SLinkOperations.setTarget(typeOfField,MetaAdapterFactory.getReferenceLink(new UUID(-935030926396207931l,-6610165693999523818l),1107535904670l,1107535924139l,"classifier"),enclosingClass);
    SLinkOperations.setTarget(fieldRef,MetaAdapterFactory.getContainmentLink(new UUID(-2363163772790029805l,-6024047381933761144l),1177590007607l,1177590063781l,"fieldType"),typeOfField);
    return fieldRef;
  }
  if (SNodeOperations.isInstanceOf(enclosingMethodOrClosure,"jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration") || SNodeOperations.isInstanceOf(enclosingMethodOrClosure,"jetbrains.mps.baseLanguage.structure.ConstructorDeclaration")) {
    SNode thisExpr=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ThisExpression",null);
    SLinkOperations.setTarget(thisExpr,MetaAdapterFactory.getReferenceLink(new UUID(-935030926396207931l,-6610165693999523818l),1070475354124l,1182955020723l,"classConcept"),enclosingClass);
    return thisExpr;
  }
  return SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.NullLiteral",null);
}
