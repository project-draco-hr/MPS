{
  Set<SNode> conceptsToRemove=SetSequence.fromSetWithValues(new HashSet<SNode>(),ListSequence.fromList(SLinkOperations.getChildren(builder,MetaAdapterFactory.getContainmentLink(new UUID(-5842916035344972280l,-5840605745428443715l),1112058030570l,1177324142645l,"part"))).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(new UUID(-5842916035344972280l,-5840605745428443715l),1177409831820l,"jetbrains.mps.lang.actions.structure.RemovePart")) && (SLinkOperations.getTarget(SNodeOperations.cast(it,MetaAdapterFactory.getConcept(new UUID(-5842916035344972280l,-5840605745428443715l),1177409831820l,"jetbrains.mps.lang.actions.structure.RemovePart")),MetaAdapterFactory.getReferenceLink(new UUID(-5842916035344972280l,-5840605745428443715l),1177409831820l,1177409838946l,"conceptToRemove")) != null);
    }
  }
).select(new ISelector<SNode,SNode>(){
    public SNode select(    SNode it){
      return SLinkOperations.getTarget(SNodeOperations.cast(it,MetaAdapterFactory.getConcept(new UUID(-5842916035344972280l,-5840605745428443715l),1177409831820l,"jetbrains.mps.lang.actions.structure.RemovePart")),MetaAdapterFactory.getReferenceLink(new UUID(-5842916035344972280l,-5840605745428443715l),1177409831820l,1177409838946l,"conceptToRemove"));
    }
  }
));
  if (SetSequence.fromSet(conceptsToRemove).isNotEmpty()) {
    for (Iterator<SubstituteAction> it=ListSequence.fromList(actions).iterator(); it.hasNext(); ) {
      SubstituteAction action=it.next();
      if (SetSequence.fromSet(conceptsToRemove).contains(SNodeOperations.as(action.getOutputConcept(),MetaAdapterFactory.getConcept(new UUID(-4094437568663370681l,-8968368868337559369l),1169125787135l,"jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration")))) {
        it.remove();
      }
    }
  }
  for (  SNode removeByCondition : ListSequence.fromList(SLinkOperations.getChildren(builder,MetaAdapterFactory.getContainmentLink(new UUID(-5842916035344972280l,-5840605745428443715l),1112058030570l,1177324142645l,"part"))).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return SNodeOperations.isInstanceOf(it,MetaAdapterFactory.getConcept(new UUID(-5842916035344972280l,-5840605745428443715l),1177413882405l,"jetbrains.mps.lang.actions.structure.RemoveByConditionPart"));
    }
  }
)) {
    String methodName="removeActionsByCondition_" + removeByCondition.getNodeId();
    try {
      QueryMethodGenerated.invoke(methodName,context,new RemoveSubstituteActionByConditionContext(ListSequence.fromList(actions).iterator(),parentNode,currentChild,childConcept),SNodeOperations.getModel(builder));
    }
 catch (    Throwable t) {
      LOG.error(null,t);
    }
  }
  return actions;
}
