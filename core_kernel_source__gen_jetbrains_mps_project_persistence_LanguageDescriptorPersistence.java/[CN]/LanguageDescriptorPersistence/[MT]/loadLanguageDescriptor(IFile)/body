{
  final Macros macros=Macros.languageDescriptor();
  LanguageDescriptor descriptor;
  try {
    Document document=JDOMUtil.loadDocument(file);
    final Element languageElement=((Element)document.getRootElement());
    descriptor=new _FunctionTypes._return_P0_E0<LanguageDescriptor>(){
      public LanguageDescriptor invoke(){
        LanguageDescriptor result_v3r4p8_a0a0d0d0a=new LanguageDescriptor();
        String result_v3r4p8_a0a0a0d0d0a=languageElement.getAttributeValue("namespace");
        result_v3r4p8_a0a0d0d0a.setNamespace(result_v3r4p8_a0a0a0d0d0a);
        if (languageElement.getAttributeValue("uuid") != null) {
          String result_v3r4p8_a0a1a0a0d0d0a=languageElement.getAttributeValue("uuid");
          result_v3r4p8_a0a0d0d0a.setUUID(result_v3r4p8_a0a1a0a0d0d0a);
        }
        boolean result_v3r4p8_a2a0a0d0d0a=AttributeUtils.booleanWithDefault(languageElement.getAttributeValue("java-stubs-enabled"),false);
        result_v3r4p8_a0a0d0d0a.setEnableJavaStubs(result_v3r4p8_a2a0a0d0d0a);
        if (languageElement.getAttributeValue("generatorOutputPath") != null) {
          String result_v3r4p8_a0a4a0a0d0d0a=macros.expandPath(languageElement.getAttributeValue("generatorOutputPath"),file);
          result_v3r4p8_a0a0d0d0a.setGenPath(result_v3r4p8_a0a4a0a0d0d0a);
        }
        if (ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"models")).isNotEmpty()) {
          result_v3r4p8_a0a0d0d0a.getModelRoots().addAll(ModuleDescriptorPersistence.loadModelRoots(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"models")).first(),"modelRoot"),file,macros));
        }
 else {
          result_v3r4p8_a0a0d0d0a.getModelRoots().addAll(ModuleDescriptorPersistence.loadModelRoots(AttributeUtils.elementChildren(languageElement,"modelRoot"),file,macros));
        }
        ModuleDescriptorPersistence.loadDependencies(result_v3r4p8_a0a0d0d0a,languageElement);
        for (        Element extendedLanguage : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"extendedLanguages")).first(),"extendedLanguage"))) {
          result_v3r4p8_a0a0d0d0a.getExtendedLanguages().add(ModuleReference.fromString(extendedLanguage.getText()));
        }
        Element autoImports=ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"accessoryModels")).first();
        if (autoImports == null) {
          autoImports=ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"library")).first();
        }
        for (        Element modelElement : ListSequence.fromList(AttributeUtils.elementChildren(autoImports,"model"))) {
          result_v3r4p8_a0a0d0d0a.getAccessoryModels().add(SModelReference.fromString(modelElement.getAttributeValue("modelUID")));
        }
        for (        Element generatorElement : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"generators")).first(),"generator"))) {
          result_v3r4p8_a0a0d0d0a.getGenerators().add(GeneratorDescriptorPersistence.loadGeneratorDescriptor(generatorElement,file,macros));
        }
        for (        Element entryElement : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"classPath")).first(),"entry")).concat(ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"runtimeClassPath")).first(),"entry")))) {
          ClassPathEntry result_v3r4p8_a1a81a0a0d0d0a=new ClassPathEntry();
          String result_v3r4p8_a0a1a81a0a0d0d0a=macros.expandPath(entryElement.getAttributeValue("path"),file);
          result_v3r4p8_a1a81a0a0d0d0a.setPath(result_v3r4p8_a0a1a81a0a0d0d0a);
          boolean result_v3r4p8_a1a1a81a0a0d0d0a=AttributeUtils.booleanWithDefault(entryElement.getAttributeValue("include"),false);
          result_v3r4p8_a1a81a0a0d0d0a.setIncludedInVCS(result_v3r4p8_a1a1a81a0a0d0d0a);
          result_v3r4p8_a0a0d0d0a.getClassPaths().add(result_v3r4p8_a1a81a0a0d0d0a);
        }
        if (ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"stubModelEntries")).isNotEmpty()) {
          result_v3r4p8_a0a0d0d0a.getStubModelEntries().addAll(ModuleDescriptorPersistence.loadStubModelEntries(AttributeUtils.elementChildren(languageElement,"stubModelEntries"),file,macros));
        }
        for (        Element entryElement : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"languageRuntimeClassPath")).first(),"entry"))) {
          ClassPathEntry result_v3r4p8_a0a22a0a0d0d0a=new ClassPathEntry();
          String result_v3r4p8_a0a0a22a0a0d0d0a=macros.expandPath(entryElement.getAttributeValue("path"),file);
          result_v3r4p8_a0a22a0a0d0d0a.setPath(result_v3r4p8_a0a0a22a0a0d0d0a);
          boolean result_v3r4p8_a1a0a22a0a0d0d0a=AttributeUtils.booleanWithDefault(entryElement.getAttributeValue("include"),false);
          result_v3r4p8_a0a22a0a0d0d0a.setIncludedInVCS(result_v3r4p8_a1a0a22a0a0d0d0a);
          result_v3r4p8_a0a0d0d0a.getRuntimeClassPaths().add(result_v3r4p8_a0a22a0a0d0d0a);
        }
        if (ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"runtimeStubModels")).isNotEmpty()) {
          for (          Element entryElement : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"runtimeStubModels")).first(),"stubModelEntry"))) {
            StubModelsEntry result_v3r4p8_a0a0a42a0a0d0d0a=new StubModelsEntry();
            String result_v3r4p8_a0a0a0a42a0a0d0d0a=macros.expandPath(entryElement.getAttributeValue("path"),file);
            result_v3r4p8_a0a0a42a0a0d0d0a.setPath(result_v3r4p8_a0a0a0a42a0a0d0d0a);
            ModelRootManager result_v3r4p8_a1a0a0a42a0a0d0d0a=new ModelRootManager();
            String result_v3r4p8_a0a1a0a0a42a0a0d0d0a=AttributeUtils.stringWithDefault(ListSequence.fromList(AttributeUtils.elementChildren(entryElement,"manager")).first().getAttributeValue("moduleId"),"");
            result_v3r4p8_a1a0a0a42a0a0d0d0a.setModuleId(result_v3r4p8_a0a1a0a0a42a0a0d0d0a);
            String result_v3r4p8_a1a1a0a0a42a0a0d0d0a=AttributeUtils.stringWithDefault(ListSequence.fromList(AttributeUtils.elementChildren(entryElement,"manager")).first().getAttributeValue("className"),"");
            result_v3r4p8_a1a0a0a42a0a0d0d0a.setClassName(result_v3r4p8_a1a1a0a0a42a0a0d0d0a);
            result_v3r4p8_a0a0a42a0a0d0d0a.setManager(result_v3r4p8_a1a0a0a42a0a0d0d0a);
            boolean result_v3r4p8_a2a0a0a42a0a0d0d0a=AttributeUtils.booleanWithDefault(entryElement.getAttributeValue("include"),false);
            result_v3r4p8_a0a0a42a0a0d0d0a.setIncludedInVCS(result_v3r4p8_a2a0a0a42a0a0d0d0a);
            result_v3r4p8_a0a0d0d0a.getRuntimeStubModels().add(result_v3r4p8_a0a0a42a0a0d0d0a);
          }
        }
        for (        Element entryElement : ListSequence.fromList(AttributeUtils.elementChildren(ListSequence.fromList(AttributeUtils.elementChildren(languageElement,"sourcePath")).first(),"source"))) {
          result_v3r4p8_a0a0d0d0a.getSourcePaths().add(macros.expandPath(entryElement.getAttributeValue("path"),file));
        }
        boolean result_v3r4p8_a82a0a0d0d0a=AttributeUtils.booleanWithDefault(languageElement.getAttributeValue("compileInMPS"),false);
        result_v3r4p8_a0a0d0d0a.setCompileInMPS(result_v3r4p8_a82a0a0d0d0a);
        boolean result_v3r4p8_a92a0a0d0d0a=AttributeUtils.booleanWithDefault(languageElement.getAttributeValue("doNotGenerateAdapters"),false);
        result_v3r4p8_a0a0d0d0a.setDoNotGenerateAdapters(result_v3r4p8_a92a0a0d0d0a);
        return result_v3r4p8_a0a0d0d0a;
      }
    }
.invoke();
  }
 catch (  Exception e) {
    throw new ModuleReadException(e);
  }
  ModuleDescriptorPersistence.setTimestamp(descriptor,file,false);
  return descriptor;
}
