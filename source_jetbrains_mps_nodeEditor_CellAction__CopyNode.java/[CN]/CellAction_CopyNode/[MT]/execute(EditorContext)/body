{
  List<SNode> nodeList=new LinkedList<SNode>();
  AbstractEditorComponent editorComponent=context.getNodeEditorComponent();
  TextBuilder textBuilder=TextRenderUtil.getTextBuilderForSelectedCellsOfEditor(editorComponent);
  NodeRangeSelection nodeRangeSelection=editorComponent.getNodeRangeSelection();
  if (nodeRangeSelection.isActive()) {
    nodeList.addAll(nodeRangeSelection.getNodes());
    LOG.debug("Copy " + nodeList.size() + " nodes : ");
    for (    SNode aNodeList : nodeList) {
      LOG.debug("    " + aNodeList.getDebugText());
    }
  }
 else {
    nodeList.add(editorComponent.getSelectedCell().getSNode());
    LOG.debug("Copy node : " + nodeList.get(0).getDebugText());
  }
  List copyNodeList=new ArrayList(nodeList.size());
  for (  SNode node : nodeList) {
    if (node.getParent() != null && AttributesRolesUtil.isAttributeRole(node.getRole_())) {
      copyNodeList.add(node.getParent());
    }
 else {
      copyNodeList.add(node);
    }
  }
  CopyPasteUtil.copyNodesAndTextToClipboard(copyNodeList,textBuilder.getText());
}
