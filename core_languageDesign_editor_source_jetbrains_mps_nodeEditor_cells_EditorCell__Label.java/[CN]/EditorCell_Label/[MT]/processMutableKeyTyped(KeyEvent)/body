{
  String oldText=myTextLine.getText();
  EditorComponent editor=getEditorContext().getNodeEditorComponent();
  int startSelection=myTextLine.getStartTextSelectionPosition();
  int endSelection=myTextLine.getEndTextSelectionPosition();
  char keyChar=keyEvent.getKeyChar();
  if (KeyboardUtil.isDefaultAction(keyEvent)) {
    String newText=oldText.substring(0,startSelection) + keyChar + oldText.substring(endSelection);
    changeText(newText);
    setCaretPositionIfPossible(startSelection + 1);
    myTextLine.resetSelection();
    editor.resetLastCaretX();
    ensureCaretVisible();
    return true;
  }
  return false;
}
