{
  super.setSelected(selected);
  final String label=getStyle().get(StyleAttributes.MATCHING_LABEL);
  if (label != null) {
    EditorCell editorCell=getContainingBigCell().getFirstDescendant(new Condition<EditorCell>(){
      public boolean met(      EditorCell cell){
        return cell != EditorCell_Label.this && label.equals(cell.getStyle().get(StyleAttributes.MATCHING_LABEL));
      }
    }
);
    if (editorCell != null) {
      this.getTextLine().myBraceSelected=selected;
      ((EditorCell_Label)editorCell).getTextLine().myBraceSelected=selected;
    }
  }
  if (!selected && !getEditor().selectionStackContains(this)) {
    myTextLine.resetSelection();
  }
  myCaretIsVisible=true;
}
