{
  SCCMarkerWalker<V> firstStageWalker=new SCCMarkerWalker<V>();
  graph.dfsValk(firstStageWalker);
  Graph<VertexDecorator<V>> transposed=getTransposed(graph);
  SCCSecondStageWalker<V> secondStageWalker=new SCCSecondStageWalker<V>(firstStageWalker.getExitTimes());
  transposed.dfsValk(secondStageWalker);
  return secondStageWalker.getComponents();
}
