{
  myManager=manager;
  myMainPanel.add(new JScrollPane(myLibrariesList),BorderLayout.CENTER);
  myLibrariesList.setCellRenderer(new DefaultListCellRenderer(){
    public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      Library library=(Library)value;
      setText("<html><b>" + library.getName() + "</b> ("+ library.getPath()+ ")");
      return this;
    }
  }
);
  JPanel buttonsPanel=new JPanel(new BorderLayout());
  JPanel innerButtonsPanel=new JPanel(new GridLayout(1,0));
  buttonsPanel.add(new JPanel(),BorderLayout.CENTER);
  buttonsPanel.add(innerButtonsPanel,BorderLayout.WEST);
  innerButtonsPanel.add(new JButton(new AbstractAction("Add"){
    public void actionPerformed(    ActionEvent e){
      add();
    }
  }
));
  myRemoveButton=new JButton(new AbstractAction("Remove"){
    public void actionPerformed(    ActionEvent e){
      remove();
    }
  }
);
  innerButtonsPanel.add(myRemoveButton);
  myEditButton=new JButton(new AbstractAction("Edit"){
    public void actionPerformed(    ActionEvent e){
      edit();
    }
  }
);
  innerButtonsPanel.add(myEditButton);
  myLibrariesList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      int index=myLibrariesList.getSelectedIndex();
      if (index < 0)       return;
      Library l=(Library)myListModel.get(index);
      myEditButton.setEnabled(!l.isPredefined());
      myRemoveButton.setEnabled(!l.isPredefined());
    }
  }
);
  myMainPanel.add(buttonsPanel,BorderLayout.SOUTH);
  updateModel(false);
}
