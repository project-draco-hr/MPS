{
  if (myChanged) {
    ProgressManager.getInstance().run(new Modal(null,"Updating library manager",false){
      public void run(      @NotNull ProgressIndicator indicator){
        indicator.pushState();
        try {
          indicator.setIndeterminate(true);
          ModelAccess.instance().runWriteAction(new Runnable(){
            public void run(){
              myManager.update();
            }
          }
);
        }
  finally {
          indicator.popState();
        }
      }
    }
);
    updateModel();
  }
}
