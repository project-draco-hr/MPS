{
  TemplateContext context1=context.subContext("testlabel");
  final jetbrains.mps.smodel.SNode tnode2=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration");
  try {
    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a2a2);
    environment.nodeCopied(context1,tnode2,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724041");
    SNodeAccessUtil.setProperty(tnode2,"name","fact");
{
      final jetbrains.mps.smodel.SNode tnode3=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.PublicVisibility");
      try {
        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a2a2);
        environment.nodeCopied(context1,tnode3,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724042");
      }
  finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode3));
        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a2a2);
      }
      if (tnode3 != null) {
        tnode2.addChild("visibility",tnode3);
      }
    }
{
      final jetbrains.mps.smodel.SNode tnode4=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.StatementList");
      try {
        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a5a2a2);
        environment.nodeCopied(context1,tnode4,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724043");
{
          final jetbrains.mps.smodel.SNode tnode5=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IfStatement");
          try {
            environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a5a2a2);
            environment.nodeCopied(context1,tnode5,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724057");
{
              final jetbrains.mps.smodel.SNode tnode6=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.StatementList");
              try {
                environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a5a2a2);
                environment.nodeCopied(context1,tnode6,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724058");
{
                  final jetbrains.mps.smodel.SNode tnode7=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ReturnStatement");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a3a1a5a2a2);
                    environment.nodeCopied(context1,tnode7,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724067");
{
                      final jetbrains.mps.smodel.SNode tnode8=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
                      try {
                        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a3a1a3a1a5a2a2);
                        environment.nodeCopied(context1,tnode8,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724069");
                        SNodeAccessUtil.setProperty(tnode8,"value","1");
                      }
  finally {
                        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode8));
                        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a3a1a3a1a5a2a2);
                      }
                      if (tnode8 != null) {
                        tnode7.addChild("expression",tnode8);
                      }
                    }
                  }
  finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode7));
                    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a3a1a5a2a2);
                  }
                  if (tnode7 != null) {
                    tnode6.addChild("statement",tnode7);
                  }
                }
              }
  finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode6));
                environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a5a2a2);
              }
              if (tnode6 != null) {
                tnode5.addChild("ifTrue",tnode6);
              }
            }
{
              final jetbrains.mps.smodel.SNode tnode9=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.EqualsExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a3a1a5a2a2);
                environment.nodeCopied(context1,tnode9,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724062");
{
                  final jetbrains.mps.smodel.SNode tnode10=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParameterReference");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a3a1a5a2a2);
                    environment.nodeCopied(context1,tnode10,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724061");
                    environment.resolveInTemplateLater(tnode10,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)","3392060900980724061"),"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724048","e",context1);
                  }
  finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode10));
                    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a3a1a5a2a2);
                  }
                  if (tnode10 != null) {
                    tnode9.addChild("leftExpression",tnode10);
                  }
                }
{
                  final jetbrains.mps.smodel.SNode tnode11=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a3a1a5a2a2);
                    environment.nodeCopied(context1,tnode11,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724066");
                    SNodeAccessUtil.setProperty(tnode11,"value","0");
                  }
  finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode11));
                    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a3a1a5a2a2);
                  }
                  if (tnode11 != null) {
                    tnode9.addChild("rightExpression",tnode11);
                  }
                }
              }
  finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode9));
                environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a3a1a5a2a2);
              }
              if (tnode9 != null) {
                tnode5.addChild("condition",tnode9);
              }
            }
          }
  finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode5));
            environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a5a2a2);
          }
          if (tnode5 != null) {
            tnode4.addChild("statement",tnode5);
          }
        }
{
          final jetbrains.mps.smodel.SNode tnode12=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ReturnStatement");
          try {
            environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a5a2a2);
            environment.nodeCopied(context1,tnode12,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724044");
{
              final jetbrains.mps.smodel.SNode tnode13=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.MulExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a5a2a2);
                environment.nodeCopied(context1,tnode13,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724045");
{
                  final jetbrains.mps.smodel.SNode tnode14=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParameterReference");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a4a1a5a2a2);
                    environment.nodeCopied(context1,tnode14,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724046");
                    environment.resolveInTemplateLater(tnode14,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)","3392060900980724046"),"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724048","e",context1);
                  }
  finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode14));
                    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a3a1a4a1a5a2a2);
                  }
                  if (tnode14 != null) {
                    tnode13.addChild("leftExpression",tnode14);
                  }
                }
{
                  final jetbrains.mps.smodel.SNode tnode15=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a3a1a4a1a5a2a2);
                    environment.nodeCopied(context1,tnode15,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724050");
                    environment.resolveInTemplateLater(tnode15,"baseMethodDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)","3392060900980724050"),4,"fact",context1);
{
                      final jetbrains.mps.smodel.SNode tnode16=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.MinusExpression");
                      try {
                        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a3a1a4a1a5a2a2);
                        environment.nodeCopied(context1,tnode16,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724052");
{
                          final jetbrains.mps.smodel.SNode tnode17=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
                          try {
                            environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a4a1a3a1a4a1a5a2a2);
                            environment.nodeCopied(context1,tnode17,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724055");
                            SNodeAccessUtil.setProperty(tnode17,"value","1");
                          }
  finally {
                            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode17));
                            environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a4a1a3a1a4a1a5a2a2);
                          }
                          if (tnode17 != null) {
                            tnode16.addChild("rightExpression",tnode17);
                          }
                        }
{
                          final jetbrains.mps.smodel.SNode tnode18=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParameterReference");
                          try {
                            environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a4a1a3a1a4a1a5a2a2);
                            environment.nodeCopied(context1,tnode18,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724051");
                            environment.resolveInTemplateLater(tnode18,"variableDeclaration",new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)","3392060900980724051"),"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724048","e",context1);
                          }
  finally {
                            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode18));
                            environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a4a1a3a1a4a1a5a2a2);
                          }
                          if (tnode18 != null) {
                            tnode16.addChild("leftExpression",tnode18);
                          }
                        }
                      }
  finally {
                        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode16));
                        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a4a1a3a1a4a1a5a2a2);
                      }
                      if (tnode16 != null) {
                        tnode15.addChild("actualArgument",tnode16);
                      }
                    }
                  }
  finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode15));
                    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a3a1a4a1a5a2a2);
                  }
                  if (tnode15 != null) {
                    tnode13.addChild("rightExpression",tnode15);
                  }
                }
              }
  finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode13));
                environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a3a1a4a1a5a2a2);
              }
              if (tnode13 != null) {
                tnode12.addChild("expression",tnode13);
              }
            }
          }
  finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode12));
            environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a5a2a2);
          }
          if (tnode12 != null) {
            tnode4.addChild("statement",tnode12);
          }
        }
      }
  finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode4));
        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a5a2a2);
      }
      if (tnode4 != null) {
        tnode2.addChild("body",tnode4);
      }
    }
{
      final jetbrains.mps.smodel.SNode tnode19=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerType");
      try {
        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a6a2a2);
        environment.nodeCopied(context1,tnode19,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724047");
      }
  finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode19));
        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a6a2a2);
      }
      if (tnode19 != null) {
        tnode2.addChild("returnType",tnode19);
      }
    }
{
      final jetbrains.mps.smodel.SNode tnode20=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParameterDeclaration");
      try {
        environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a7a2a2);
        environment.nodeCopied(context1,tnode20,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724048");
        SNodeAccessUtil.setProperty(tnode20,"name","e");
{
          final jetbrains.mps.smodel.SNode tnode21=new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerType");
          try {
            environment.getTracer().pushTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a7a2a2);
            environment.nodeCopied(context1,tnode21,"tpl/r:00000000-0000-4000-0000-011c89590606/3392060900980724049");
          }
  finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode21));
            environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a4a1a7a2a2);
          }
          if (tnode21 != null) {
            tnode20.addChild("type",tnode21);
          }
        }
      }
  finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode20));
        environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a1a7a2a2);
      }
      if (tnode20 != null) {
        tnode2.addChild("parameter",tnode20);
      }
    }
  }
  finally {
    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode2));
    environment.getTracer().closeTemplateNode(templateNode_tq9j2a_a0a0a2a2);
  }
  environment.registerLabel(context.getInput(),tnode2,"testlabel");
  return tnode2;
}
