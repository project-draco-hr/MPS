{
  SNode contextNode=editorContext.getSelectedCell().getSNode();
  if (contextNode == null) {
    return;
  }
  if (SNodeOperations.isInstanceOf(contextNode,"jetbrains.mps.quotation.structure.Antiquotation")) {
    SNode attributedNode=SNodeOperations.getParent((contextNode),null,false,false);
    attributedNode.setAttribute(null);
    return;
  }
  SModel model=SNodeOperations.getModel(contextNode);
  if (Antiquotation_AnnotationLink.getAntiquotation((BaseConcept)((INodeAdapter)SNodeOperations.getAdapter(contextNode))) != null) {
    contextNode.setAttribute(null);
  }
 else   contextNode.setAttribute(SModelOperations.createNewNode(model,"jetbrains.mps.quotation.structure.Antiquotation",null));
}
