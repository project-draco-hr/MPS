{
  if (SNodeOperations.isInstanceOf(cstmt,"jetbrains.mps.baseLanguage.structure.IfStatement") && SNodeOperations.isInstanceOf(SNodeOperations.getParent(cstmt,null,false,false),"jetbrains.mps.baseLanguage.structure.IfStatement")) {
    SNode topIfStmt=SNodeOperations.getParent(cstmt,null,false,false);
    while (SNodeOperations.isInstanceOf(SNodeOperations.getParent(topIfStmt,null,false,false),"jetbrains.mps.baseLanguage.structure.IfStatement")) {
      topIfStmt=SNodeOperations.getParent(topIfStmt,null,false,false);
    }
    Integer[] parentLabels=(Integer[])PrepStatementUtil.getPrepData(topIfStmt,this.generator);
    if (parentLabels != null) {
      return parentLabels[parentLabels.length - 1];
    }
  }
 else   if ((SNodeOperations.getNextSibling(cstmt) == null) && SNodeOperations.isInstanceOf(SNodeOperations.getParent(cstmt,null,false,false),"jetbrains.mps.baseLanguage.structure.StatementList")) {
    Integer[] parentLabels=(Integer[])PrepStatementUtil.getPrepData(SNodeOperations.getParent(cstmt,null,false,false),this.generator);
    if (parentLabels != null) {
      return parentLabels[parentLabels.length - 1];
    }
  }
  return this.ctx.incrementLabel();
}
