{
  initClassPathItem(myModule);
  SourceWrapper wrapper=SourceWrapper.wrapSource(source,myBaseModelToAddSource,featureKind);
  addSource(myBaseModelToAddSource.getLongName() + "." + wrapper.getShortClassName(),wrapper.getWrappedSource());
  myPackageFQNamesToModels.put(myBaseModelToAddSource.getLongName(),myBaseModelToAddSource);
  compileOnce();
  List<Classifier> classifierList=ModelAccess.instance().runWriteActionInCommand(new Computable<List<Classifier>>(){
    @Override public List<Classifier> compute(){
      return buildAST(true);
    }
  }
);
  if (classifierList.isEmpty()) {
    return new ArrayList<SNode>();
  }
  List<SNode> sNodeList=wrapper.getOurNodesFromClassifier(classifierList.get(0));
  for (  SNode node : sNodeList) {
    if (node.getParent() != null) {
      node.getParent().removeChild(node);
    }
  }
  return sNodeList;
}
