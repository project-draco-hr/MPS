{
  ListSequence.fromList(w.successors).select(new ISelector<V,CycleDetector.Wrapper<V>>(){
    public CycleDetector.Wrapper<V> select(    V succ){
      return MapSequence.fromMap(wrapMap).get(succ);
    }
  }
).visitAll(new IVisitor<CycleDetector.Wrapper<V>>(){
    public void visit(    CycleDetector.Wrapper<V> ww){
      ListSequence.fromList(list).addElement(ww.vertex);
      collectSuccessors(ww,list);
    }
  }
);
}
