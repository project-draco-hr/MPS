{
  CycleDetector.Data data=MapSequence.fromMap(dataMap).get(v);
  data.color=CycleDetector.Color.GRAY;
  Sequence.fromIterable(backwardEdges(v)).sort(new ISelector<V,Comparable<?>>(){
    public Comparable<?> select(    V prev){
      return MapSequence.fromMap(dataMap).get(prev).endTime;
    }
  }
,false).visitAll(new IVisitor<V>(){
    public void visit(    V prev){
      if (CycleDetector.Color.BLACK == MapSequence.fromMap(dataMap).get(prev).color) {
        ListSequence.fromList(MapSequence.fromMap(dataMap).get(v).successors).addElement(prev);
        visitBackward(prev);
      }
    }
  }
);
  data.color=CycleDetector.Color.WHITE;
}
