{
  super(context.getOperationContext().getMainFrame(),"Find usages");
  QueryOptions queryOptions=defaultOptions.getOption(QueryOptions.class);
  if (queryOptions.myScope == null) {
    queryOptions.myNodePointer=new SNodePointer(node);
    queryOptions.myScope=context.getOperationContext().getProject().getScope();
  }
  myQueryEditor=new QueryEditor(queryOptions,node,context);
  myFindersEditor=new FindersEditor(defaultOptions.getOption(FindersOptions.class),FindUsagesManager.getInstance().getAvailableFinders(node));
  myViewOptionsEditor=new ViewOptionsEditor(defaultOptions.getOption(ViewOptions.class));
  myQueryEditor.getComponent().setBorder(new EmptyBorder(7,3,3,3));
  JPanel centerPanel=new JPanel(new GridLayout(1,2));
  centerPanel.add(myFindersEditor.getComponent());
  centerPanel.add(myViewOptionsEditor.getComponent());
  myPanel=new JPanel(new BorderLayout());
  myPanel.add(centerPanel,BorderLayout.CENTER);
  myPanel.add(myQueryEditor.getComponent(),BorderLayout.SOUTH);
}
