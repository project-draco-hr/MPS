{
  VirtualFile currentFile=file;
  while (currentFile != null) {
    if (FileTypeManager.getInstance().isFileIgnored(currentFile.getName())) {
      return true;
    }
    if (DirectoryIndex.getInstance(myProject) != null && DirectoryIndex.getInstance(myProject).isProjectExcludeRoot(currentFile)) {
      return true;
    }
    currentFile=currentFile.getParent();
  }
  return myIgnoredIdeaLevel.isIgnoredFile(file);
}
