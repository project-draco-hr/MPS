{
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      SNode node=cell.getSNode();
      if (node == null || node.getModel() == null) {
        myNodeReference=null;
      }
 else {
        myNodeReference=node.getReference();
      }
    }
  }
);
  myCellId=cell.getCellId();
  EditorCell_Collection parent=(EditorCell_Collection)cell.getParent();
  if (parent != null && myCellId == null) {
    myParentInfo=parent.getCellInfo();
    myIsInList=parent.hasCellListHandler();
    if (myIsInList || myCellId == null) {
      for (      jetbrains.mps.openapi.editor.cells.EditorCell editorCell : parent) {
        if (editorCell.equals(cell)) {
          break;
        }
        myCellNumber++;
      }
    }
  }
}
