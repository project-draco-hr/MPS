{
  final List<SNode> all=new ArrayList<SNode>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      if (DefaultJUnit_Configuration.this.getStateObject().type != null) {
        if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.METHOD) {
          if (DefaultJUnit_Configuration.this.getStateObject().node != null) {
            ListSequence.fromList(all).addElement(TestRunUtil.getTestMethod(DefaultJUnit_Configuration.this.getStateObject().node,DefaultJUnit_Configuration.this.getStateObject().method));
          }
          if (DefaultJUnit_Configuration.this.getStateObject().nodes != null) {
            for (int i=0; i < DefaultJUnit_Configuration.this.getStateObject().nodes.size(); i++) {
              ListSequence.fromList(all).addElement(TestRunUtil.getTestMethod(DefaultJUnit_Configuration.this.getStateObject().nodes.get(i),DefaultJUnit_Configuration.this.getStateObject().methods.get(i)));
            }
          }
        }
 else         if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.NODE) {
          if (DefaultJUnit_Configuration.this.getStateObject().node != null) {
            ListSequence.fromList(all).addElement(TestRunUtil.getTestNode(DefaultJUnit_Configuration.this.getStateObject().node));
          }
          if (DefaultJUnit_Configuration.this.getStateObject().nodes != null) {
            for (int i=0; i < DefaultJUnit_Configuration.this.getStateObject().nodes.size(); i++) {
              ListSequence.fromList(all).addElement(TestRunUtil.getTestNode(DefaultJUnit_Configuration.this.getStateObject().nodes.get(i)));
            }
          }
        }
 else         if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.MODEL) {
          ListSequence.fromList(all).addSequence(ListSequence.fromList(TestRunUtil.getModelTests(TestRunUtil.getModel(DefaultJUnit_Configuration.this.getStateObject().model))));
        }
 else         if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.MODULE) {
          ListSequence.fromList(all).addSequence(ListSequence.fromList(TestRunUtil.getModuleTests(DefaultJUnit_Configuration.this.getStateObject().module)));
        }
 else         if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.PROJECT) {
          for (          IModule projectModule : mpsProject.getModules()) {
            ListSequence.fromList(all).addSequence(ListSequence.fromList(TestRunUtil.getModuleTests(projectModule)));
          }
        }
      }
    }
  }
);
  return all;
}
