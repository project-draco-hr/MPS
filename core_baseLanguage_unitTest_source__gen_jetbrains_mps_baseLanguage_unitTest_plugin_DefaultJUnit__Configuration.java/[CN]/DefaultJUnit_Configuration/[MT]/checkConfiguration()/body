{
  StringBuilder error=new StringBuilder();
{
    String paramsReport=DefaultJUnit_Configuration.this.getStateObject().myJavaRunParameters.getErrorReport();
    if (paramsReport != null) {
      error.append(paramsReport).append("\n");
    }
    if (DefaultJUnit_Configuration.this.getStateObject().type != null) {
      final Wrappers._T<String> errorReport=new Wrappers._T<String>(null);
      final MPSProject mpsProject=MPSDataKeys.MPS_PROJECT.getData(DataManager.getInstance().getDataContext());
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.METHOD) {
            if (ListSequence.fromList(TestRunUtil.getValues(DefaultJUnit_Configuration.this.getStateObject().method,DefaultJUnit_Configuration.this.getStateObject().methods)).isEmpty()) {
              errorReport.value="methods list is empty";
            }
 else             if (!(TestRunUtil.validateMethods(DefaultJUnit_Configuration.this.getStateObject().node,DefaultJUnit_Configuration.this.getStateObject().nodes,DefaultJUnit_Configuration.this.getStateObject().method,DefaultJUnit_Configuration.this.getStateObject().methods))) {
              errorReport.value="methods is not valid";
            }
          }
 else           if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.NODE) {
            if (ListSequence.fromList(TestRunUtil.getValues(DefaultJUnit_Configuration.this.getStateObject().node,DefaultJUnit_Configuration.this.getStateObject().nodes)).isEmpty()) {
              errorReport.value="classes list is empty";
            }
 else             if (!(TestRunUtil.validateNodes(DefaultJUnit_Configuration.this.getStateObject().node,DefaultJUnit_Configuration.this.getStateObject().nodes))) {
              errorReport.value="nodes is not valid";
            }
          }
 else           if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.MODEL) {
            if (DefaultJUnit_Configuration.this.getStateObject().model == null) {
              errorReport.value="model is not selected or does not exist";
            }
 else             if (!(TestRunUtil.validateModel(DefaultJUnit_Configuration.this.getStateObject().model))) {
              errorReport.value="model is not valid";
            }
          }
 else           if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.MODULE) {
            if (DefaultJUnit_Configuration.this.getStateObject().module == null) {
              errorReport.value="module is not selected or does not exist";
            }
 else             if (!(TestRunUtil.validateModule(DefaultJUnit_Configuration.this.getStateObject().module))) {
              errorReport.value="module is not valid";
            }
          }
 else           if (DefaultJUnit_Configuration.this.getStateObject().type == JUnitRunTypes.PROJECT) {
            if (mpsProject != null) {
              if (!(TestRunUtil.containsTest(mpsProject))) {
                errorReport.value="project does not contain tests";
              }
            }
          }
        }
      }
);
      if (DefaultJUnit_Configuration.this.collectWhatToTest(mpsProject).isEmpty()) {
        errorReport.value="could not find tests to run";
      }
      if (errorReport.value != null) {
        error.append(errorReport.value).append("\n");
      }
    }
  }
  if (error.length() != 0) {
    throw new RuntimeConfigurationException(error.toString());
  }
}
