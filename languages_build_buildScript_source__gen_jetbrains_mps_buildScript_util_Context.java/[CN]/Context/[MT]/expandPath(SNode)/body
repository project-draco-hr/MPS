{
  return new _FunctionTypes._return_P1_E0<String,String>(){
    public String invoke(    String shortPath){
      if (shortPath == null) {
        shortPath="";
      }
      final Wrappers._T<IModule> module=new Wrappers._T<IModule>();
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          module.value=getModule(node);
        }
      }
);
      if (!(shortPath.startsWith("${"))) {
        if (shortPath.startsWith("/")) {
          shortPath=shortPath.substring(1);
        }
        return module.value.getDescriptorFile().getParent().getDescendant(shortPath).getPath();
      }
      return MacrosFactory.moduleDescriptor(module.value).expandPath(shortPath,module.value.getDescriptorFile()).replace("\\","/");
    }
  }
;
}
