{
  boolean checkModels=GenerationSettings.getInstance().isCheckModelsBeforeGeneration();
  if (!(checkModels)) {
    return true;
  }
  ModelCheckerViewer viewer=this.checkModels(modelDescriptors,operationContext,false);
  SearchResults<ModelCheckerIssue> issues=viewer.getSearchResults();
  int warnings=ModelCheckerUtils.getIssueCountForSeverity(issues,ModelChecker.SEVERITY_WARNING);
  int errors=ModelCheckerUtils.getIssueCountForSeverity(issues,ModelChecker.SEVERITY_ERROR);
  if (errors != 0) {
    CheckBeforeGenerationDialog dialog=new CheckBeforeGenerationDialog(this.myProject,errors,warnings);
    dialog.show();
    if (dialog.isOK()) {
      this.showTabWithResults(viewer);
      viewer.saveGenerationRunnable(null);
      return false;
    }
 else {
      return true;
    }
  }
  return true;
}
