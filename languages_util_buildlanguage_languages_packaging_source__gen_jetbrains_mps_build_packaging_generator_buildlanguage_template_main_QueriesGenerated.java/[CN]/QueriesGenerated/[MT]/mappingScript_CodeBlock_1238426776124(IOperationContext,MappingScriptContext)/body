{
  System.err.println("CheckFullDep");
  List<SNode> layouts=SModelOperations.getRoots(_context.getModel(),"jetbrains.mps.build.packaging.structure.Layout");
  for (  SNode layout : ListSequence.fromList(layouts)) {
    Map<IModule,SNode> modules=MapSequence.fromMap(new HashMap<IModule,SNode>());
    for (    SNode m : ListSequence.fromList(Layout_Behavior.call_getModules_1213877228340(layout)).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.packaging.structure.PluginModule"));
      }
    }
)) {
      MapSequence.fromMap(modules).put(Module_Behavior.call_getModule_1213877515148(m),m);
    }
    Map<IModule,Iterable<IModule>> missing=CheckFullDependencyUtil.checkFullDependency(modules);
    for (    IModule module : SetSequence.fromSet(MapSequence.fromMap(missing).keySet())) {
      String moduleFqName=module.getModuleFqName();
      for (      IModule dependent : Sequence.fromIterable(MapSequence.fromMap(missing).get(module))) {
        String errorText="Required module " + dependent.getModuleFqName() + " is absent. Used by module "+ moduleFqName+ ".";
        System.err.println(errorText);
        if (moduleFqName.startsWith("jetbrains.mps")) {
          _context.showErrorMessage(null,errorText);
        }
 else {
          _context.showWarningMessage(null,errorText);
        }
      }
    }
    Map<SNode,Iterable<SNode>> missingPlugins=CheckFullDependencyUtil.checkFullPuginDependency(modules);
    for (    SNode plugin : SetSequence.fromSet(MapSequence.fromMap(missingPlugins).keySet())) {
      String id=IPlugin_Behavior.call_getId_3033860308390151510(plugin);
      for (      SNode dependency : Sequence.fromIterable(MapSequence.fromMap(missingPlugins).get(plugin))) {
        _context.showErrorMessage(plugin,"Plugin " + id + " should depend on plugin "+ IPlugin_Behavior.call_getId_3033860308390151510(dependency)+ ".");
      }
    }
  }
}
