{
  List<SNode> layouts=SModelOperations.getRoots(_context.getModel(),"jetbrains.mps.build.packaging.structure.Layout");
  for (  SNode layout : ListSequence.<SNode>fromList(layouts)) {
    Set<IModule> modules=SetSequence.<IModule>fromSet(new HashSet<IModule>());
    for (    SNode m : ListSequence.<SNode>fromList(Layout_Behavior.call_getModules_1213877228340(layout))) {
      SetSequence.fromSet(modules).addElement(Module_Behavior.call_getModule_1213877515148(m));
    }
    for (    IModule module : SetSequence.<IModule>fromSet(modules)) {
      Set<IModule> dependency=module.getDependenciesManager().getAllVisibleModules();
      if (module instanceof DevKit) {
        DevKit d=(DevKit)module;
        dependency.addAll(d.getAllExportedLanguages());
        dependency.addAll(d.getAllExportedSolutions());
        dependency.addAll(d.getAllExtendedDevkits());
      }
      for (      IModule dependent : SetSequence.<IModule>fromSet(dependency)) {
        if (!(dependent instanceof Generator) && !(SetSequence.<IModule>fromSet(modules).contains(dependent)) && !(dependent.isPackaged())&& dependent.getDescriptorFile() != null && dependent.isCompileInMPS()) {
          String moduleFqName=module.getModuleFqName();
          String errorText="Required module " + dependent.getModuleFqName() + " is absent. Used by module "+ moduleFqName+ ".";
          System.err.println(errorText);
          if (moduleFqName.startsWith("jetbrains.mps")) {
            _context.showErrorMessage(null,errorText);
          }
 else {
            _context.showWarningMessage(null,errorText);
          }
        }
      }
    }
  }
}
