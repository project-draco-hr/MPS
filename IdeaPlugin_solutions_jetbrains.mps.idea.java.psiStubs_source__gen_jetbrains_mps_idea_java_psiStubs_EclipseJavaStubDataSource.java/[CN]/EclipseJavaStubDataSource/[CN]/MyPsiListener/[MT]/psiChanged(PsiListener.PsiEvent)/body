{
  String path=getFolder().getPath();
  final Set<String> changedItems=SetSequence.fromSet(new HashSet<String>());
  SetSequence.fromSet(changedItems).addSequence(SetSequence.fromSet(handleFsItems(path,event.getCreated())));
  SetSequence.fromSet(changedItems).addSequence(SetSequence.fromSet(handleFsItems(path,event.getRemoved())));
  Set<PsiFileSystemItem> files=SetSequence.fromSet(new HashSet<PsiFileSystemItem>());
  for (  PsiFile f : SetSequence.fromSet(event.getChanged().keySet())) {
    SetSequence.fromSet(files).addElement(f);
  }
  SetSequence.fromSet(changedItems).addSequence(SetSequence.fromSet(handleFsItems(path,files)));
synchronized (LOCK) {
    ModelAccess.instance().runCommandInEDT(new Runnable(){
      public void run(){
        for (        MultiStreamDataSourceListener listener : SetSequence.fromSet(myListeners)) {
          listener.changed(_this,changedItems);
        }
      }
    }
,myFakeMpsProject);
  }
}
