{
  if (!(listener instanceof MultiStreamDataSourceListener)) {
    throw new IllegalArgumentException("Only MultiStreamDataSourceListener expected");
  }
synchronized (LOCK) {
    SetSequence.fromSet(myListeners).addElement((MultiStreamDataSourceListener)listener);
    if ((int)SetSequence.fromSet(myListeners).count() == 1 && myIdeaModule != null) {
      myIdeaModule.getProject().getComponent(PsiChangesWatcher.class).addListener(myPsiListener);
    }
  }
}
