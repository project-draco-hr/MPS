{
  if (!(listener instanceof MultiStreamDataSourceListener)) {
    return;
  }
synchronized (LOCK) {
    Object removed=SetSequence.fromSet(myListeners).removeElement((MultiStreamDataSourceListener)listener);
    if (removed != null && SetSequence.fromSet(myListeners).isEmpty() && myIdeaModule != null) {
      myIdeaModule.getProject().getComponent(PsiChangesWatcher.class).removeListener(myPsiListener);
    }
  }
}
