{
  final Set<VirtualFile> files=new HashSet<VirtualFile>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      for (      final IModule m : MPSModuleRepository.getInstance().getAllModules()) {
        for (        String path : m.getIndexablePaths()) {
          VirtualFile file=VirtualFileUtils.getVirtualFile(path);
          if (file == null)           continue;
          files.add(file);
        }
      }
    }
  }
);
  return files;
}
