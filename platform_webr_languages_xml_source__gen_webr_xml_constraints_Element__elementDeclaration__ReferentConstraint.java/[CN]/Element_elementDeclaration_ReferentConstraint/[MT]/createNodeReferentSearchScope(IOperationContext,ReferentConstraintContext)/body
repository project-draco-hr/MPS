{
  ISearchScope searchScope;
  SNode element=SNodeOperations.getAncestor(_context.getEnclosingNode(),"webr.xml.structure.Element",false,false);
  List<SNode> elementDeclarations=ElementUtil.getElementDeclarations(SLinkOperations.getTarget(element,"elementDeclaration",false),_context.getEnclosingNode(),operationContext.getScope());
  if (SequenceOperations.isEmpty(elementDeclarations)) {
    searchScope=SModelSearchUtil.createModelAndImportedModelsScope(_context.getModel(),operationContext.getScope());
  }
 else {
    searchScope=new SimpleSearchScope(elementDeclarations);
  }
  return searchScope;
}
