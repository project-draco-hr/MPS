{
  ISearchScope searchScope;
  SNode element=SNodeOperations.getAncestor(enclosingNode,"webr.xml.structure.Element",false,false);
  List<SNode> elementDeclarations=ElementUtil.getElementDeclarations(SLinkOperations.getTarget(element,"elementDeclaration",false),enclosingNode,scope);
  if (SequenceOperations.isEmpty(elementDeclarations)) {
    searchScope=SModelSearchUtil_new.createModelAndImportedModelsScope(model,scope);
  }
 else {
    searchScope=new SimpleSearchScope(elementDeclarations);
  }
  return searchScope;
}
