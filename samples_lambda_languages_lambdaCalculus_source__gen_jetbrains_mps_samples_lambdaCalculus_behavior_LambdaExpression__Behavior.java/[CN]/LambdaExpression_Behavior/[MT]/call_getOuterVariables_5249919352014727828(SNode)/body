{
  List<SNode> allVar=SNodeOperations.getDescendants(thisNode,"jetbrains.mps.samples.lambdaCalculus.structure.Variable",false,new String[]{});
  List<SNode> allRef=SNodeOperations.getDescendants(thisNode,"jetbrains.mps.samples.lambdaCalculus.structure.VariableReference",false,new String[]{});
  List<SNode> result=new ArrayList<SNode>();
  for (  SNode ref : allRef) {
    if (!(ListSequence.fromList(allVar).contains(SLinkOperations.getTarget(ref,MetaAdapterFactory.getReferenceLink(new UUID(8979658720047614716l,-5913038370385483627l),5249919352014727944l,5249919352014732020l,"variable")))) && !(ListSequence.fromList(result).contains(SLinkOperations.getTarget(ref,MetaAdapterFactory.getReferenceLink(new UUID(8979658720047614716l,-5913038370385483627l),5249919352014727944l,5249919352014732020l,"variable"))))) {
      ListSequence.fromList(result).addElement(SLinkOperations.getTarget(ref,MetaAdapterFactory.getReferenceLink(new UUID(8979658720047614716l,-5913038370385483627l),5249919352014727944l,5249919352014732020l,"variable")));
    }
  }
  return result;
}
