{
  SNode node=reference.getSourceNode();
  this.reference=reference;
  sourceNodeConcept=node.getConceptDeclarationNode();
  refRole=reference.getRole();
  role=refRole;
  enclosingNode=node.getParent();
  referenceNode=node;
  linkTarget=SModelUtil.getLinkDeclarationTarget(SModelSearchUtil.findLinkDeclaration(sourceNodeConcept,refRole));
  containingLinkDeclaration=node.getRoleLink();
  index=0;
  scopeProvider=getScopeProvider(sourceNodeConcept,refRole);
  contextNode=referenceNode != null ? referenceNode : enclosingNode;
  model=contextNode != null ? contextNode.getModel() : null;
  module=getModule(model);
  exists=reference != null;
}
