{
  ReferenceConstraintsDescriptor refConstraintsDescriptor=ConceptRegistry.getInstance().getConstraintsDescriptor(NameUtil.nodeFQName(nodeConcept)).getReference(referentRole);
  if (refConstraintsDescriptor != null) {
    ReferenceScopeProvider result=refConstraintsDescriptor.getScopeProvider();
    if (result != null)     return result;
  }
  SNode linkDeclaration=SModelSearchUtil.findLinkDeclaration(nodeConcept,referentRole);
  if (linkDeclaration == null) {
    LOG.error("No reference search scope provider was found. Concept: " + SNodeUtil.getConceptDeclarationAlias(nodeConcept) + "; refName: "+ referentRole);
    return EMPTY_REFERENCE_SCOPE_PROVIDER;
  }
  SNode conceptForDefaultSearchScope=SModelUtil.getLinkDeclarationTarget(linkDeclaration);
  return ConceptRegistry.getInstance().getConstraintsDescriptor(NameUtil.nodeFQName(conceptForDefaultSearchScope)).getDefaultScopeProvider();
}
