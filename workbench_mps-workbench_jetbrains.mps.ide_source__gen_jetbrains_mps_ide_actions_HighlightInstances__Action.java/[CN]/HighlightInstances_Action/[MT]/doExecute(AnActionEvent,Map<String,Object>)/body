{
  NodeHighlightManager highlightManager=((EditorComponent)MapSequence.fromMap(_params).get("editorComponent")).getHighlightManager();
  EditorMessageOwner messageOwner=((EditorComponent)MapSequence.fromMap(_params).get("editorComponent")).getHighlightMessagesOwner();
  SAbstractConcept concept=((SNode)MapSequence.fromMap(_params).get("node")).getConcept();
  Set<SNode> usages=FindUsagesFacade.getInstance().findInstances(new ModelsScope(((SModel)MapSequence.fromMap(_params).get("model"))),Collections.singleton(concept),false,new EmptyProgressMonitor());
  for (  SNode ref : SetSequence.fromSet(usages)) {
    if (ref.getContainingRoot() == ((EditorComponent)MapSequence.fromMap(_params).get("editorComponent")).getRootCell().getSNode().getContainingRoot()) {
      highlightManager.mark(((SNode)ref),HighlightConstants.INSTANCES_COLOR,"usage",messageOwner);
    }
  }
  highlightManager.repaintAndRebuildEditorMessages();
}
