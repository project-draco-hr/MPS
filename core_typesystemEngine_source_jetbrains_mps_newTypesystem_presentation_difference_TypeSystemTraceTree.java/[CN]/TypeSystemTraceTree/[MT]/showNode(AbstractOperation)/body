{
  if (mySelectedNode == null && traceForNode) {
    return true;
  }
  if (diff.getSource() == mySelectedNode) {
    return true;
  }
  if (diff instanceof EquationAddedOperation) {
    EquationAddedOperation eq=(EquationAddedOperation)diff;
    if (myNodes.contains(eq.getChild()) || myNodes.contains(eq.getParent())) {
      return true;
    }
  }
  if (diff instanceof AbstractBlockOperation) {
    Block block=((AbstractBlockOperation)diff).getBlock();
    for (    SNode node : block.getInputs()) {
      if (myNodes.contains(node)) {
        return true;
      }
    }
  }
  return false;
}
