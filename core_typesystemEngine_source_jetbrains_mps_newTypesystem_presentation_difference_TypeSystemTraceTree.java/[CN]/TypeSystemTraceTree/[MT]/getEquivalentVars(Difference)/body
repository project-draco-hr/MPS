{
  if (diff == null) {
    return;
  }
  if (diff instanceof EquationAdded) {
    EquationAdded eq=(EquationAdded)diff;
    SNode child=eq.getChild();
    SNode parent=eq.getParent();
    if (myNodes.contains(child) && TypesUtil.isVariable(parent)) {
      myNodes.add(parent);
    }
    if (myNodes.contains(parent) && TypesUtil.isVariable(child)) {
      myNodes.add(child);
    }
  }
  if (diff instanceof TypeDifference) {
    TypeDifference typeDifference=(TypeDifference)diff;
    if (mySelectedNode == typeDifference.getNode() && TypesUtil.isVariable(typeDifference.getType())) {
      myNodes.add(typeDifference.getType());
    }
  }
  if (diff.getChildren() != null) {
    for (    Difference childDiff : diff.getChildren()) {
      getEquivalentVars(childDiff);
    }
  }
}
