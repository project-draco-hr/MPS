{
  try {
{
      List<SModule> modulesToCheck=new ArrayList<SModule>();
      if (((List<SModule>)MapSequence.fromMap(_params).get("modules")) != null) {
        modulesToCheck.addAll(((List<SModule>)MapSequence.fromMap(_params).get("modules")));
      }
      if (((SModule)MapSequence.fromMap(_params).get("module")) != null && !(modulesToCheck.contains(((SModule)MapSequence.fromMap(_params).get("module"))))) {
        modulesToCheck.add(((SModule)MapSequence.fromMap(_params).get("module")));
      }
      String whatToCheck="Module";
      if (modulesToCheck.size() == 1) {
        whatToCheck=modulesToCheck.get(0).getClass().getSimpleName();
      }
 else       if (modulesToCheck.size() > 1) {
        whatToCheck=modulesToCheck.size() + " Modules";
      }
      event.getPresentation().setText("Check " + whatToCheck);
      event.getPresentation().setDescription("Check " + whatToCheck.toLowerCase() + " for structure and typesystem rules");
      event.getPresentation().setEnabled(!(modulesToCheck.isEmpty()));
    }
  }
 catch (  Throwable t) {
    if (LOG.isEnabledFor(Priority.ERROR)) {
      LOG.error("User's action doUpdate method failed. Action:" + "CheckModule",t);
    }
    this.disable(event.getPresentation());
  }
}
