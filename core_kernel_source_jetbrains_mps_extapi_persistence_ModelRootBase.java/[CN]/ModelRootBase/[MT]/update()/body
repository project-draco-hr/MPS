{
  ModelAccess.assertLegalWrite();
  Set<org.jetbrains.mps.openapi.model.SModelReference> loaded=new HashSet<org.jetbrains.mps.openapi.model.SModelReference>();
  SModelRepository modelRepository=SModelRepository.getInstance();
  for (  SModel model : loadModels()) {
    loaded.add(model.getReference());
    register(model);
  }
  Iterator<SModel> it=myModels.iterator();
  while (it.hasNext()) {
    SModel model=it.next();
    if (loaded.contains(model.getReference()))     continue;
    modelRepository.unRegisterModelDescriptor(model,getModule());
    it.remove();
  }
}
