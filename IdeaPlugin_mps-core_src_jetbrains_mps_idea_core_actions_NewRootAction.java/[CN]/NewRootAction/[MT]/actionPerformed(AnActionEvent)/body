{
  final MyCreateFromTemplateDialog dialog=new MyCreateFromTemplateDialog(myProject);
  dialog.setTitle(MPSBundle.message("create.new.root.dialog.title"));
  ProjectHelper.getModelAccess(myProject).runReadAction(new Runnable(){
    @Override public void run(){
      for (      Map.Entry<String,SAbstractConcept> entry : myConceptFqNameToNodePointerMap.entrySet()) {
        String conceptFqName=entry.getKey();
        SAbstractConcept concept=entry.getValue();
        dialog.getKindCombo().addItem(concept.getConceptAlias(),concept.getIcon(),conceptFqName);
        dialog.setTemplateKindComponentsVisible(true);
      }
    }
  }
);
  dialog.show();
  final SNodeReference rootNode=dialog.getRootNode();
  if (rootNode != null) {
    FileEditorManager.getInstance(myProject).openFile(NodeVirtualFileSystem.getInstance().getFileFor(ProjectHelper.getProjectRepository(myProject),rootNode),true);
  }
}
