{
  if (builder == ourEmptyTextBuilder)   return this;
  if (this == ourEmptyTextBuilder)   return builder;
  TextBuilder result=new TextBuilder();
  String delim=insertSpace ? " " : "";
  int delimWidth=delim.length();
  result.myWidth=this.myWidth + getWidth(builder) + delimWidth;
  Iterator<StringBuffer> builderIterator=builder.getLines().iterator();
  Iterator<StringBuffer> myIterator=getLines().iterator();
  while (myIterator.hasNext() || builderIterator.hasNext()) {
    StringBuffer resultLine;
    if (myIterator.hasNext()) {
      StringBuffer myCurrentLine=myIterator.next();
      resultLine=new StringBuffer(myCurrentLine.append(delim));
    }
 else {
      resultLine=makeWhitespaceStringBuffer(this.myWidth + delimWidth);
    }
    if (builderIterator.hasNext()) {
      StringBuffer builderCurrentLine=builderIterator.next();
      resultLine.append(builderCurrentLine);
    }
    result.myLines.add(resultLine);
  }
  result.normalizeWidth();
  return result;
}
