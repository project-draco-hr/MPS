{
  Set<Edge> addedEdges=SetSequence.fromSet(new HashSet<Edge>());
  Map<Node,Integer> components=getComponents(graph);
  int num=getComponentsNum(components);
  Node[] nodes=new Node[num];
  for (  Node node : SetSequence.fromSet(MapSequence.fromMap(components).keySet())) {
    nodes[MapSequence.fromMap(components).get(node)]=node;
  }
  Node prev=null;
  for (  Node node : nodes) {
    if (prev != null) {
      Edge edge=graph.connect(prev,node);
      SetSequence.fromSet(addedEdges).addElement(edge);
    }
    prev=node;
  }
  return addedEdges;
}
