{
  if (s == null) {
    writeByte(0x70);
  }
 else {
    Integer index=stringToIndex.get(s);
    if (index == null) {
      stringToIndex.put(s,myStringIndex++);
      while (s.length() > 16384) {
        String prefix=s.substring(0,16384);
        writeByte(42);
        writeUTF(prefix);
        s=s.substring(16384);
      }
      writeByte(0);
      writeUTF(s);
    }
 else {
      writeByte(1);
      writeInt(index);
    }
  }
}
