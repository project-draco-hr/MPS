{
  if (id == null) {
    writeByte(0x70);
  }
 else   if (id instanceof Regular) {
    writeByte(0x18);
    writeLong(((Regular)id).getId());
  }
 else   if (id instanceof Foreign) {
    writeByte(0x17);
    writeString(id.toString());
  }
 else {
    throw new IOException("unknown id");
  }
}
