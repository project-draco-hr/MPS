{
  if (cls == SNode.class)   return (T)getSelectedSNode();
  if (cls == SModelDescriptor.class) {
    T model=(T)getSelectedModel();
    if (model != null) {
      return model;
    }
    SNode node=getSelectedSNode();
    if (node != null) {
      return (T)node.getModel().getModelDescriptor();
    }
  }
  if (cls == List.class) {
    List result=new ArrayList();
    result.addAll(getSelectedModels());
    result.addAll(getSelectedNodes());
    result.addAll(getSelectedModules());
    return (T)result;
  }
  if (cls == IOperationContext.class)   return (T)getContextForSelection();
  return null;
}
