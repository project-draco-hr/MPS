{
  if (dataId.equals(MPSDataKeys.SNODE.getName())) {
    return getSelectedSNode();
  }
  if (dataId.equals(MPSDataKeys.SNODES.getName())) {
    return getSelectedNodes();
  }
  if (dataId.equals(MPSDataKeys.MODEL_DESCRIPTOR.getName())) {
    return getSelectedModel();
  }
  if (dataId.equals(MPSDataKeys.MODELS.getName())) {
    return getSelectedModels();
  }
  if (dataId.equals(MPSDataKeys.MODULES.getName())) {
    return getSelectedModules();
  }
  if (dataId.equals(MPSDataKeys.OPERATION_CONTEXT.getName())) {
    return getContextForSelection();
  }
  if (dataId.equals(MPSDataKeys.MPS_PROJECT.getName())) {
    return getMPSProject();
  }
  if (dataId.equals(PlatformDataKeys.PROJECT.getName())) {
    return getProject();
  }
  if (dataId.equals(PlatformDataKeys.COPY_PROVIDER.getName())) {
    return new MyCopyProvider();
  }
  if (dataId.equals(PlatformDataKeys.PASTE_PROVIDER.getName())) {
    return new MyPasteProvider();
  }
  if (dataId.equals(PlatformDataKeys.CUT_PROVIDER.getName())) {
    return new MyCutProvider();
  }
  if (dataId.equals(PlatformDataKeys.VIRTUAL_FILE_ARRAY.getName())) {
    return getSelectedFiles();
  }
  if (dataId.equals(MPSDataKeys.FRAME.getName())) {
    MPSProject project=getContextForSelection().getMPSProject();
    if (project != null && project.getComponent(Frame.class) != null) {
      return project.getComponentSafe(Frame.class);
    }
    return SplashScreen.getInstance();
  }
  if (dataId.equals(MPSDataKeys.SCOPE.getName())) {
    return getContextForSelection().getScope();
  }
  if (dataId.equals(MPSDataKeys.MODULE.getName())) {
    return getContextForSelection().getModule();
  }
  if (dataId.equals(MPSDataKeys.CONTEXT_MODULE.getName())) {
    TreePath[] selection=getTree().getSelectionPaths();
    if (selection == null)     return null;
    if (selection.length != 1)     return null;
    MPSTreeNode treeNode=(MPSTreeNode)selection[0].getLastPathComponent();
    while (treeNode != null && !(treeNode instanceof ProjectModuleTreeNode)) {
      treeNode=(MPSTreeNode)treeNode.getParent();
    }
    if (treeNode == null)     return null;
    return ((ProjectModuleTreeNode)treeNode).getModule();
  }
  if (dataId.equals(MPSDataKeys.VIRTUAL_PACKAGE.getName())) {
    List<String> selectedPackages=getSelectedPackages();
    if (selectedPackages.size() != 1)     return null;
    return selectedPackages.get(0);
  }
  if (dataId.equals(MPSDataKeys.VIRTUAL_PACKAGES.getName())) {
    return getSelectedPackages();
  }
  return null;
}
