{
  TreePath[] selectionPaths=getTree().getSelectionPaths();
  List<TreeNode> selectedTreeNodes=new ArrayList<TreeNode>(selectionPaths.length);
  for (  TreePath selectionPath : selectionPaths) {
    if (selectionPath == null) {
      return null;
    }
    Object selectedNode=selectionPath.getLastPathComponent();
    if (!(selectedNode instanceof TreeNode)) {
      return null;
    }
    selectedTreeNodes.add((TreeNode)selectedNode);
  }
  return selectedTreeNodes;
}
