{
  TreeNode selectedTreeNode;
  TreePath selectionPath=getTree().getSelectionPath();
  if (selectionPath == null) {
    return null;
  }
  Object selectedNode=selectionPath.getLastPathComponent();
  if (!(selectedNode instanceof TreeNode)) {
    return null;
  }
  selectedTreeNode=(TreeNode)selectedNode;
  return selectedTreeNode;
}
