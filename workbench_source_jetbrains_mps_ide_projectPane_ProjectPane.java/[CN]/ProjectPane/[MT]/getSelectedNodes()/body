{
  List<SNode> result=new ArrayList<SNode>();
  TreePath[] paths=getTree().getSelectionPaths();
  if (paths == null)   return result;
  for (  TreePath path : paths) {
    MPSTreeNode node=(MPSTreeNode)path.getLastPathComponent();
    if (node instanceof MPSTreeNodeEx) {
      SNode snode=((MPSTreeNodeEx)node).getSNode();
      if (snode != null) {
        result.add(snode);
      }
    }
  }
  return result;
}
