{
  final jetbrains.mps.project.Project mpsProject=ProjectHelper.toMPSProject(myProject);
  final SRepository projectRepo=mpsProject.getRepository();
  final ModelAccess modelAccess=projectRepo.getModelAccess();
  modelAccess.executeCommandInEDT(new Runnable(){
    @Override public void run(){
      final SNode node=NodeFactoryManager.createNode(myNodeConcept.resolve(projectRepo),null,null,myModelDescriptor);
      SNodeAccessUtil.setProperty(node,SNodeUtil.property_BaseConcept_virtualPackage,myPackage);
      myModelDescriptor.addRootNode(node);
      modelAccess.runWriteInEDT(new Runnable(){
        @Override public void run(){
          if (!trySelectInCurrentPane(node)) {
            ProjectOperationContext context=new ProjectOperationContext(mpsProject);
            NavigationSupport.getInstance().selectInTree(context,node,false);
          }
          NavigationSupport.getInstance().openNode(myContext,node,true,false);
        }
      }
);
    }
  }
);
}
