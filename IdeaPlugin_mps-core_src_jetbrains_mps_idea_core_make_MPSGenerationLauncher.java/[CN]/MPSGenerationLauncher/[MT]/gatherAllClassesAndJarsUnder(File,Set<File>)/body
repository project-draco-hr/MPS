{
  File[] children=dir.listFiles();
  for (  File f : children) {
    if (!(f.isDirectory())) {
      if (f.getName().endsWith(".jar")) {
        result.add(f);
      }
    }
  }
  for (  File f : children) {
    if (f.isDirectory()) {
      if (f.getName().equals("classes") || f.getName().equals("classes_gen")) {
        result.add(f);
      }
 else {
        gatherAllClassesAndJarsUnder(f,result);
      }
    }
  }
}
