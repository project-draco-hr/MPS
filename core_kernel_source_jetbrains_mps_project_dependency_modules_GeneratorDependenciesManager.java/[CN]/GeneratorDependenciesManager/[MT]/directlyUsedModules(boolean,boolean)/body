{
  Collection<SModule> result=super.directlyUsedModules(includeNonReexport,runtimes);
  HashSet<Language> lang=new HashSet<Language>();
  myModule.getSourceLanguage().getDependenciesManager().collectAllExtendedLanguages(lang);
  if (includeNonReexport) {
    result.addAll(lang);
    for (    SModuleReference refGenerator : myModule.getReferencedGeneratorUIDs()) {
      SModule gm=ModuleRepositoryFacade.getInstance().getModule(refGenerator);
      if (gm == null)       continue;
      result.add(gm);
    }
  }
  return result;
}
