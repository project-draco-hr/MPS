{
  SNode command=SLinkOperations.getTarget(SLinkOperations.getTarget(myRoot,"commandHolder",true),"command",true);
  SNode newRoot=SConceptOperations.createNewNode("jetbrains.mps.console.base.structure.ConsoleRoot",null);
  SLinkOperations.setTarget(newRoot,"commandHolder",SConceptOperations.createNewNode("jetbrains.mps.console.base.structure.CommandHolder",null),true);
  SLinkOperations.setTarget(newRoot,"history",SConceptOperations.createNewNode("jetbrains.mps.console.base.structure.History",null),true);
  SLinkOperations.setTarget(SLinkOperations.getTarget(newRoot,"commandHolder",true),"command",command,true);
  SModelOperations.addRootNode(myModel,newRoot);
  myEditor.editNode(newRoot);
  SNodeOperations.deleteNode(myRoot);
  myRoot=newRoot;
  validateImports();
  setSelection();
}
