{
  INodeAdapter adapter=mapSrcNodeOrListMacro.getAdapter();
  MapSrcMacro_MapperFunction mapperFunction;
  if (adapter instanceof MapSrcNodeMacro) {
    mapperFunction=((MapSrcNodeMacro)adapter).getMapperFunction();
  }
 else {
    mapperFunction=((MapSrcListMacro)adapter).getMapperFunction();
  }
  if (mapperFunction != null) {
    String methodName=TemplateFunctionMethodName.mapSrcMacro_MapperFunction(mapperFunction.getNode());
    try {
      return (SNode)QueryMethodGenerated.invoke(methodName,generator.getGeneratorSessionContext(),new MapSrcMacroContext(inputNode,mapSrcNodeOrListMacro,parentOutputNode,generator),mapSrcNodeOrListMacro.getModel());
    }
 catch (    Exception e) {
      generator.showErrorMessage(inputNode,null,mapSrcNodeOrListMacro,"couldn't evaluate macro query");
      LOG.error(e);
      return null;
    }
  }
  String sourceNodeMapperId;
  if (adapter instanceof MapSrcNodeMacro) {
    sourceNodeMapperId=((MapSrcNodeMacro)adapter).getSourceNodeMapperId();
  }
 else {
    sourceNodeMapperId=((MapSrcListMacro)adapter).getSourceNodeMapperId();
  }
  String methodName="templateSourceNodeMapper_" + sourceNodeMapperId;
  Object[] args=new Object[]{inputNode,generator};
  SNode targetNode=(SNode)QueryMethod.invoke(methodName,args,mapSrcNodeOrListMacro.getModel());
  return targetNode;
}
