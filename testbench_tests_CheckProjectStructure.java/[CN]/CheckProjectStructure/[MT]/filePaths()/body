{
  HELPER=new CheckProjectStructureHelper();
  HELPER.init(new String[][]{{"samples_home",System.getProperty("user.dir") + "/samples"}});
  String[] excludes=new String[]{"IdeaPlugin"};
  String mpsDir=System.getProperty("user.dir");
  Set<IFile> excludeSet=new HashSet<IFile>();
  for (  String e : excludes) {
    excludeSet.add(FileSystem.getInstance().getFileByPath(mpsDir + File.separator + e));
  }
  List<ModuleHandle> moduleHandles=ModulesMiner.getInstance().collectModules(FileSystem.getInstance().getFileByPath(System.getProperty("user.dir")),excludeSet,false);
  ArrayList<Object[]> res=new ArrayList<Object[]>();
  for (  ModuleHandle moduleHandle : moduleHandles) {
    if (moduleHandle.getFile().getName().endsWith(".iml")) {
      continue;
    }
    res.add(new Object[]{getDescription(moduleHandle),moduleHandle});
  }
  Collections.sort(res,new Comparator<Object[]>(){
    @Override public int compare(    Object[] o1,    Object[] o2){
      return ((String)o1[0]).compareTo((String)o2[0]);
    }
  }
);
  return res;
}
