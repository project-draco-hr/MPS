{
  try {
    SAbstractConcept concept1=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.smodel.structure.Model_RootsIncludingImportedOperation");
    Set<SNode> instances1=FindUsagesManager.getInstance().findInstances(new ProjectScope(((MPSProject)MapSequence.fromMap(_params).get("project"))),Collections.singleton(concept1),false,new EmptyProgressMonitor());
    Sequence.fromIterable(SNodeOperations.ofConcept(instances1,"jetbrains.mps.lang.smodel.structure.Model_RootsIncludingImportedOperation")).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(SNodeOperations.getModel(it).isReadOnly());
      }
    }
).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return (SLinkOperations.getTarget(it,"scope",true) != null);
      }
    }
).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        SNodeOperations.deleteNode(SLinkOperations.getTarget(it,"scope",true));
      }
    }
);
    SAbstractConcept concept2=SConceptRepository.getInstance().getConcept("jetbrains.mps.lang.smodel.structure.Model_NodesIncludingImportedOperation");
    Set<SNode> instances2=FindUsagesManager.getInstance().findInstances(new ProjectScope(((MPSProject)MapSequence.fromMap(_params).get("project"))),Collections.singleton(concept2),false,new EmptyProgressMonitor());
    Sequence.fromIterable(SNodeOperations.ofConcept(instances2,"jetbrains.mps.lang.smodel.structure.Model_NodesIncludingImportedOperation")).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return !(SNodeOperations.getModel(it).isReadOnly());
      }
    }
).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return (SLinkOperations.getTarget(it,"scope",true) != null);
      }
    }
).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        SNodeOperations.deleteNode(SLinkOperations.getTarget(it,"scope",true));
      }
    }
);
  }
 catch (  Throwable t) {
    if (LOG.isEnabledFor(Level.ERROR)) {
      LOG.error("User's action execute method failed. Action:" + "MigrateOldIScopeParameter",t);
    }
  }
}
