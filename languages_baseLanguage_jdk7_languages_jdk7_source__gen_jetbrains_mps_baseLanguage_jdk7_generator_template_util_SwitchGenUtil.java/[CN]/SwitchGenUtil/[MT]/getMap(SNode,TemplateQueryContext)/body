{
  Map<String,Integer> m=(Map<String,Integer>)genContext.getTransientObject("switch" + node.getNodeId().toString());
  if (m != null) {
    return m;
  }
  final Iterable<SNode> nodes=getNodes(node);
  m=MapSequence.fromMap(new HashMap<String,Integer>());
  int index=0;
  for (  SNode e : nodes) {
    MapSequence.fromMap(m).put(SPropertyOperations.getString(SNodeOperations.cast(e,"jetbrains.mps.baseLanguage.structure.StringLiteral"),"value"),index++);
  }
  genContext.putTransientObject("switch" + node.getNodeId().toString(),m);
  return m;
}
