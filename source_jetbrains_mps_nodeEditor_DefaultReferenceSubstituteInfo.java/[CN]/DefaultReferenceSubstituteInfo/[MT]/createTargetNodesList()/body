{
  final ConceptDeclaration targetConcept=myLinkDeclaration.getTarget();
  final IScope scope=getEditorContext().getOperationContext().getScope();
  DiagnosticUtil.assertNodeValid(targetConcept,scope);
  final boolean searchLinks=NameUtil.nodeFQName(targetConcept).equals("jetbrains.mps.bootstrap.structureLanguage.structure.LinkDeclaration");
  return SModelUtil.allNodesIncludingImported(mySourceNode.getModel(),scope,new Condition<SNode>(){
    public boolean met(    SNode node){
      DiagnosticUtil.assertNodeValid(node,scope);
      if (searchLinks && (node instanceof LinkDeclaration))       return true;
      return node.getName() != null && SModelUtil.isInstanceOfConcept(node,targetConcept,scope);
    }
  }
);
}
