{
  if (rootNode == null)   return false;
  List<SReference> yetBadReferences=new ArrayList<SReference>();
  SReference.disableLogging();
  boolean someReferencesResolved=false;
  try {
    Set<SReference> badReferences=collectBadReferences(rootNode);
    if (!badReferences.isEmpty()) {
      int oldSize=badReferences.size();
      yetBadReferences=Resolver.resolveReferences(badReferences,operationContext);
      int newSize=yetBadReferences.size();
      someReferencesResolved=oldSize > newSize;
    }
  }
  finally {
    SReference.enableLogging();
  }
  for (  SReference ref : yetBadReferences) {
    DefaultEditorMessage message=new DefaultEditorMessage(ref.getSourceNode(),MessageStatus.ERROR,Color.RED,"unresolved reference",this);
    messages.add(message);
  }
  return true;
}
