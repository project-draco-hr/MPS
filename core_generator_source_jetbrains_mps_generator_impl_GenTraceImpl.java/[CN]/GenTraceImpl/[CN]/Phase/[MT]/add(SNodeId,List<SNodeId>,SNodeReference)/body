{
  inputIndex=outputIndex=null;
  if (myTraceLock.tryAcquire()) {
    for (    SNodeId n : output) {
      myTrace.add(new Element(input,n,templateNode));
    }
    drainAdditionQueue();
    myTraceLock.release();
  }
 else {
    for (    SNodeId n : output) {
      myAdditionQueue.offer(new Element(input,n,templateNode));
    }
  }
}
