{
  final SNode classConcept=SNodeOperations.cast(node,"jetbrains.mps.baseLanguage.structure.ClassConcept");
  final SNode rightmostExpression;
  SNode firstField=ListSequence.fromList(((List<SNode>)intentionContext.getContextParametersMap().get("selectedFields"))).first();
  SNode currentExpression=null;
  for (  SNode field : ((List<SNode>)intentionContext.getContextParametersMap().get("selectedFields"))) {
    SNode fieldRef=SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.FieldReferenceOperation",null);
    SLinkOperations.setTarget(fieldRef,"fieldDeclaration",field,false);
    SNode item=new GenerateToString_Intention.QuotationClass_4766_0().createNode(((field == firstField ? "" : ", ")) + SPropertyOperations.getString(field,"name") + "=");
    SNode dotExpression=new GenerateToString_Intention.QuotationClass_4766_1().createNode(SConceptOperations.createNewNode("jetbrains.mps.baseLanguage.structure.ThisExpression",null),fieldRef);
    if (field == firstField) {
      currentExpression=new GenerateToString_Intention.QuotationClass_4766_2().createNode(SPropertyOperations.getString(classConcept,"name") + "{",item);
      currentExpression=new GenerateToString_Intention.QuotationClass_4766_3().createNode(dotExpression,currentExpression);
    }
 else {
      currentExpression=new GenerateToString_Intention.QuotationClass_4766_4().createNode(item,currentExpression);
      currentExpression=new GenerateToString_Intention.QuotationClass_4766_5().createNode(dotExpression,currentExpression);
    }
  }
  if (ListSequence.fromList(((List<SNode>)intentionContext.getContextParametersMap().get("selectedFields"))).isEmpty()) {
    rightmostExpression=new GenerateToString_Intention.QuotationClass_4766_6().createNode(SPropertyOperations.getString(classConcept,"name") + "{}");
  }
 else {
    rightmostExpression=new GenerateToString_Intention.QuotationClass_4766_7().createNode(currentExpression);
  }
  SNode method=ListSequence.fromList(SLinkOperations.getTargets(classConcept,"method",true)).addElement(new GenerateToString_Intention.QuotationClass_4766_8().createNode(rightmostExpression));
  editorContext.select(method);
}
