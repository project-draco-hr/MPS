{
  if (!(module instanceof Language)) {
    return;
  }
  SModel migModel=LanguageAspect.MIGRATION.get(((Language)module));
  if (migModel == null) {
    return;
  }
  if (!(migModel.isLoaded())) {
    return;
  }
  boolean hasIncompleteScript=false;
  List<Integer> scripts=new ArrayList<Integer>();
  for (  SNode root : SModelOperations.roots(migModel,MetaAdapterFactory.getConcept(0x9074634404fd4286L,0x97d5b46ae6a81709L,0x73e8a2c68b62c6a3L,"jetbrains.mps.lang.migration.structure.MigrationScript"))) {
    if (root.getProperty(MetaAdapterFactory.getProperty(0x9074634404fd4286L,0x97d5b46ae6a81709L,0x73e8a2c68b62c6a3L,0x50c63f9f4a0dac17L,"fromVersion")) == null) {
      hasIncompleteScript=true;
      continue;
    }
    scripts.add(SPropertyOperations.getInteger(root,MetaAdapterFactory.getProperty(0x9074634404fd4286L,0x97d5b46ae6a81709L,0x73e8a2c68b62c6a3L,0x50c63f9f4a0dac17L,"fromVersion")));
  }
  if (scripts.isEmpty()) {
    return;
  }
  Integer[] scriptVersions=scripts.toArray(new Integer[scripts.size()]);
  Arrays.sort(scriptVersions);
  int currentVersion=((Language)module).getLanguageVersion();
  for (int index=1; index < scriptVersions.length; index++) {
    if (scriptVersions[index - 1].equals(scriptVersions[index])) {
      errors.add("Some scripts have the same 'from' version: " + scriptVersions[index - 1]);
    }
 else     if (scriptVersions[index - 1] + 1 != scriptVersions[index]) {
      int noscriptVersion=scriptVersions[index - 1] + 1;
      errors.add("No script found for version " + noscriptVersion);
    }
  }
  if (scriptVersions[scriptVersions.length - 1] != currentVersion - 1 && !(hasIncompleteScript)) {
    errors.add("Can't find a migration script corresponding to current language version (" + currentVersion + ")");
  }
}
