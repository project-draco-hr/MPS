{
  if (!(SNodeOperations.isInstanceOf(node,"jetbrains.mps.core.notation.structure.SNotationPartWithStyle"))) {
    return null;
  }
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationMapping") && "presentation".equals(SNodeOperations.getContainingLinkRole(node))) {
    node=SNodeOperations.cast(SNodeOperations.getParent(node),"jetbrains.mps.core.notation.structure.SNotationPart");
  }
  return node;
}
