{
  SNode parent=SNodeOperations.getParent(part);
  if (SNodeOperations.isInstanceOf(parent,"jetbrains.mps.core.notation.structure.SNotationWrapper") && !(SNotationWrapper_Behavior.call_hasSuffix_8379004527113948621(SNodeOperations.cast(parent,"jetbrains.mps.core.notation.structure.SNotationWrapper")))) {
    return getRightOutermostNotation(SNodeOperations.cast(parent,"jetbrains.mps.core.notation.structure.SNotationPart"));
  }
  if (SNodeOperations.isInstanceOf(parent,"jetbrains.mps.core.notation.structure.SNotationMapping") && "presentation".equals(SNodeOperations.getContainingLinkRole(part))) {
    return getRightOutermostNotation(SNodeOperations.cast(parent,"jetbrains.mps.core.notation.structure.SNotationPart"));
  }
  return part;
}
