{
  final Set<String> seenDependencies=new HashSet<String>();
  ListSequence.fromList(SLinkOperations.getTargets(m,"dependencies",true)).removeWhere(new IWhereFilter<SNode>(){
    public boolean accept(    SNode dep){
      if (!(SNodeOperations.isInstanceOf(dep,"jetbrains.mps.build.workflow.structure.BwfJavaClassPath"))) {
        return false;
      }
      SNode cp=SLinkOperations.getTarget(SNodeOperations.cast(dep,"jetbrains.mps.build.workflow.structure.BwfJavaClassPath"),"classpath",true);
      XmlSignature s=new XmlSignature().add(cp);
      String id=(s.hasErrors() ? "dep." + cp.getNodeId().toString() : s.getResult());
      return !(seenDependencies.add(id));
    }
  }
);
}
