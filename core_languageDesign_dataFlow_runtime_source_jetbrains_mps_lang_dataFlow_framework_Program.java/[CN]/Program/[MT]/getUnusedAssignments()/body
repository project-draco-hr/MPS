{
  AnalysisResult<VarSet> analysisResult=analyze(new LivenessAnalyzer());
  Set<WriteInstruction> retModeTrue=new HashSet<WriteInstruction>();
  Set<WriteInstruction> retModeFalse=new HashSet<WriteInstruction>();
  for (  ProgramState s : analysisResult.getStates()) {
    if (s.getInstruction() instanceof WriteInstruction) {
      WriteInstruction write=(WriteInstruction)s.getInstruction();
      VarSet liveAfter=new VarSet(this);
      for (      ProgramState succ : s.succ()) {
        liveAfter.addAll(analysisResult.get(succ));
      }
      if (!liveAfter.contains(write.getVariableIndex())) {
        if (s.isReturnMode()) {
          retModeTrue.add(write);
        }
 else {
          retModeFalse.add(write);
        }
      }
    }
  }
  retModeFalse.retainAll(retModeTrue);
  return retModeFalse;
}
