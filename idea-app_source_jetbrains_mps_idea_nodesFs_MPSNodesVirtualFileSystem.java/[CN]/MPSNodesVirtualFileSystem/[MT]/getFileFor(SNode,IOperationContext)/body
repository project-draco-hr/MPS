{
  return CommandProcessor.instance().executeLightweightCommand(new Calculable<MPSNodeVirtualFile>(){
    public MPSNodeVirtualFile calculate(){
      if (node.getUserObject(VIRTUAL_FILE) != null) {
        return (MPSNodeVirtualFile)node.getUserObject(VIRTUAL_FILE);
      }
      MPSNodeVirtualFile vf=new MPSNodeVirtualFile(node,context);
      node.putUserObject(VIRTUAL_FILE,vf);
      return vf;
    }
  }
);
}
