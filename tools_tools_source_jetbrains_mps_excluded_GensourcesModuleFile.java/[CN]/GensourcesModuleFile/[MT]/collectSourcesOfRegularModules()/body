{
  Set<String> modelRoots=new HashSet<String>();
  Set<String> sourcesIncluded=new HashSet<String>();
  for (  File imlFile : Utils.withExtension(".iml",Utils.files(new File(".")))) {
    if (imlFile.getCanonicalPath().equals(genSourcesIml.getCanonicalPath()))     continue;
    Document doc=JDOMUtil.loadDocument(imlFile);
    Element rootManager=Utils.getComponentWithName(doc,MODULE_ROOT_MANAGER);
    for (    Element cRoot : rootManager.getChildren(CONTENT)) {
      String imlFormattedRoot=cRoot.getAttributeValue(URL);
      modelRoots.add(new File(imlFormattedRoot.replace("file://$MODULE_DIR$",imlFile.getParent())).getCanonicalPath());
      for (      Element sFolder : cRoot.getChildren(SOURCE_FOLDER)) {
        String imlFormattedSourceRoot=sFolder.getAttributeValue(URL);
        sourcesIncluded.add(new File(imlFormattedSourceRoot.replace("file://$MODULE_DIR$",imlFile.getParent())).getCanonicalPath());
      }
    }
  }
  myRegularModuleSources=sourcesIncluded;
  myRegularModuleContentRoots=modelRoots;
}
