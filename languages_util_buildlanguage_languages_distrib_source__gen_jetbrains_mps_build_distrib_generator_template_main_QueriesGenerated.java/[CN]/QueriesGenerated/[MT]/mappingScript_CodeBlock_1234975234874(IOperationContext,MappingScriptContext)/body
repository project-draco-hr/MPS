{
  List<SNode> holders=SModelOperations.getRoots(_context.getModel(),"jetbrains.mps.build.packaging.structure.IMacroHolder");
  for (  SNode holder : ListSequence.<SNode>fromList(holders)) {
    List<String> allMAcroNames=IMacroHolder_Behavior.call_getAllMacroNames_1234975567387(holder,true);
    for (    String macroName : ListSequence.<String>fromList(allMAcroNames)) {
      SNode macro=SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.Macro",null);
      SPropertyOperations.set(macro,"name",macroName);
      SPropertyOperations.set(macro,"path",IMacroHolder_Behavior.call_evaluateMacro_1234975967990(holder,macroName).replace("\\","/"));
      ListSequence.<SNode>fromList(SLinkOperations.getTargets(holder,"macro",true)).addElement(macro);
    }
  }
}
