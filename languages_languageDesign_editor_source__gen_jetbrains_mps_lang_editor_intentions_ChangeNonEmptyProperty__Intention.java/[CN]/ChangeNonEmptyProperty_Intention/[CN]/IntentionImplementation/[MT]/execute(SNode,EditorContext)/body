{
  SNode property=SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.editor.structure.CellModel_Property",null);
  SLinkOperations.setTarget(property,"relationDeclaration",SLinkOperations.getTarget(node,"relationDeclaration",false),false);
  SLinkOperations.setTarget(node,"relationDeclaration",null,false);
  for (  SNode child : ListSequence.fromList(SNodeOperations.getChildren(node))) {
    String role=child.getRole();
    node.removeChild(child);
    property.addChild(role,child);
  }
  for (  Map.Entry<String,String> propertyEntry : SetSequence.fromSet(SNodeOperations.getProperties(node).entrySet())) {
    property.setProperty(propertyEntry.getKey(),propertyEntry.getValue());
  }
  for (  SReference reference : ListSequence.fromList(node.getReferences())) {
    property.setReference(reference.getRole(),reference);
  }
  jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations.replaceWithAnother(node,property);
}
