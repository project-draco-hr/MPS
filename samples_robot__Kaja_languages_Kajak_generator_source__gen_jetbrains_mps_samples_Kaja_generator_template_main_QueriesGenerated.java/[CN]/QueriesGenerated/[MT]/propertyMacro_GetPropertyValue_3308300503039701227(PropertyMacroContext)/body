{
  if (SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.samples.Kaja.structure.Script",false,false) != null) {
    return SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")).replaceAll(" ","_SPACE_") + "_routine";
  }
 else   if (SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.samples.Kaja.structure.Library",false,false) != null) {
    return SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")).replaceAll(" ","_SPACE_") + "_library_routine_from_" + SPropertyOperations.getString(SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.samples.Kaja.structure.Library",false,false),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")).replaceAll(" ","_SPACE_");
  }
 else {
    throw new IllegalArgumentException("The routine " + SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name")) + " seems to have no parent script nor library");
  }
}
