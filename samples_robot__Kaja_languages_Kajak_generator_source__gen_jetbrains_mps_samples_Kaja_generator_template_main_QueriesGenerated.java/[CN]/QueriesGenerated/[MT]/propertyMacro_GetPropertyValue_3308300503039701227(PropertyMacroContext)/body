{
  if (SNodeOperations.getNodeAncestor(_context.getNode(),MetaAdapterFactory.getConcept(0x49a08c51fe543ccL,0xbd998b46d641d7f5L,0x2d523c5e4cc45746L,"jetbrains.mps.samples.Kaja.structure.Script"),false,false) != null) {
    return SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).replaceAll(" ","_SPACE_") + "_routine";
  }
 else   if (SNodeOperations.getNodeAncestor(_context.getNode(),MetaAdapterFactory.getConcept(0x49a08c51fe543ccL,0xbd998b46d641d7f5L,0x3cfcda239f19d316L,"jetbrains.mps.samples.Kaja.structure.Library"),false,false) != null) {
    return SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).replaceAll(" ","_SPACE_") + "_library_routine_from_" + SPropertyOperations.getString(SNodeOperations.getNodeAncestor(_context.getNode(),MetaAdapterFactory.getConcept(0x49a08c51fe543ccL,0xbd998b46d641d7f5L,0x3cfcda239f19d316L,"jetbrains.mps.samples.Kaja.structure.Library"),false,false),MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")).replaceAll(" ","_SPACE_");
  }
 else {
    throw new IllegalArgumentException("The routine " + SPropertyOperations.getString(_context.getNode(),MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")) + " seems to have no parent script nor library");
  }
}
