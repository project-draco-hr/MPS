{
  int gap=getHrizontalGap(editorCells);
  EditorCell currentCell=editorCells.getCells()[i];
  if (currentCell instanceof EditorCell_Collection) {
    return;
  }
  if ((!hasPunctuationRight(currentCell.getPrevLeaf()) || currentCell.getStyle().get(StyleAttributes.DRAW_BORDER)) && !hasPunctuationLeft(currentCell)) {
    currentCell.setLeftGap(gap / 2);
  }
 else {
    currentCell.setLeftGap(0);
  }
  if ((!hasPunctuationLeft(currentCell.getNextLeaf()) || currentCell.getStyle().get(StyleAttributes.DRAW_BORDER)) && !hasPunctuationRight(currentCell)) {
    currentCell.setRightGap(gap / 2);
  }
 else {
    currentCell.setRightGap(0);
  }
  if (currentCell.getStyle().get(StyleAttributes.PUNCTUATION_CELL)) {
    currentCell.setLeftGap(0);
  }
  if (currentCell.getNextLeaf() != null && currentCell.getNextLeaf().getStyle().get(StyleAttributes.PUNCTUATION_CELL)) {
    currentCell.setRightGap(0);
  }
}
