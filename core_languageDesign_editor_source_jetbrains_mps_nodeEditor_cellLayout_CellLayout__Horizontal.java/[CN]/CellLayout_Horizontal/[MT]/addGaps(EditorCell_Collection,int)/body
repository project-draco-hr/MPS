{
  int gap=getHorizontalGap(editorCells);
  EditorCell currentCell=editorCells.getCells()[i];
  if (currentCell instanceof EditorCell_Collection && (((EditorCell_Collection)currentCell).getCellLayout() instanceof CellLayout_Horizontal || currentCell.getStyle().get(StyleAttributes.DRAW_BORDER))) {
    return;
  }
  if ((!leftCellHasPunctuationRight(currentCell) || currentCell.getStyle().get(StyleAttributes.DRAW_BORDER)) && !hasPunctuationLeft(currentCell)) {
    currentCell.setLeftGap(gap / 2);
  }
 else {
    currentCell.setLeftGap(0);
  }
  if ((!rightCellHasPunctuationLeft(currentCell) || currentCell.getStyle().get(StyleAttributes.DRAW_BORDER)) && !hasPunctuationRight(currentCell)) {
    currentCell.setRightGap(gap / 2);
  }
 else {
    currentCell.setRightGap(0);
  }
}
