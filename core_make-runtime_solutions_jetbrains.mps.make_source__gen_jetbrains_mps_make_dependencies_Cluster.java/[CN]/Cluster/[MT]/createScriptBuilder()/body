{
  ScriptBuilder scb=new ScriptBuilder();
  for (  String ns : allUsedLangNamespaces()) {
    LanguageRuntime lr=LanguageRegistry.getInstance().getLanguage(ns);
    Iterable<IFacet> fcts=lr.getAspect(MakeAspectDescriptor.class).getManifest().facets();
    scb.withFacetNames(Sequence.fromIterable(fcts).select(new ISelector<IFacet,IFacet.Name>(){
      public IFacet.Name select(      IFacet fct){
        return fct.getName();
      }
    }
));
    scb.withFacetNames(Sequence.fromIterable(FacetRegistry.getInstance().getFacetsForLanguage(ns)).select(new ISelector<IFacet,IFacet.Name>(){
      public IFacet.Name select(      IFacet fct){
        return fct.getName();
      }
    }
));
  }
  return scb.withFinalTarget(new ITarget.Name("jetbrains.mps.make.facets.Make.make"));
}
