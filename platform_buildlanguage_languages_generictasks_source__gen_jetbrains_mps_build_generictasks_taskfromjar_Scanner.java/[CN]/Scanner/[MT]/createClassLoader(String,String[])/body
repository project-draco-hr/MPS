{
  String antJarPath=antPath + Scanner.LIB_ANT_JAR;
  File f=new File(antJarPath);
  if (!(f.exists())) {
    throw new FileNotFoundException("Path " + antJarPath + " does not exist.");
  }
  for (  String dir : classpath) {
    f=new File(dir);
    if (!(f.exists())) {
      throw new FileNotFoundException("Path " + dir + " does not exist.");
    }
  }
  try {
    URL[] urls=new URL[classpath.length + 1];
    urls[0]=new URL("file:///" + antJarPath);
    int i=1;
    for (    String dir : classpath) {
      urls[i]=new URL("file:///" + dir);
      i++;
    }
    return new URLClassLoader(urls);
  }
 catch (  MalformedURLException e) {
    Scanner.LOG.error(e);
    return null;
  }
}
