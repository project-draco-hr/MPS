{
  RuleConsequence consequence=(RuleConsequence)consequence1.getAdapter();
  if (consequence instanceof ITemplateCall) {
    return createTemplateContext(inputNode,outerContext,reductionContext,(ITemplateCall)consequence,newInputNode,generator);
  }
  return outerContext != null ? outerContext : new DefaultTemplateContext(newInputNode);
}
