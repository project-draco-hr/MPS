{
  CopyUtil.copy(SetSequence.fromSet(MapSequence.fromMap(nodesToMove).keySet()).toListSequence(),alreadyCopied);
  for (  SNode source : SetSequence.fromSet(MapSequence.fromMap(nodesToMove).keySet())) {
    SModel targetModel=MapSequence.fromMap(nodesToMove).get(source);
    SModelOperations.addRootNode(targetModel,MapSequence.fromMap(alreadyCopied).get(source));
    jetbrains.mps.smodel.SModelOperations.validateLanguagesAndImports(targetModel,true,true);
  }
}
