{
  String stereotype=myCloneModelProperties.getStereotype();
  String modelName=myCloneModelProperties.getLongName();
  RootReference reference=myCloneModelProperties.getRoot();
  ModelRoot modelRoot=ModelRoot.newInstance(myProjectModel);
  modelRoot.setPrefix(reference.getPrefix());
  modelRoot.setPath(reference.getPath());
  IOperationContext operationContext=getOperationContext();
  SModelDescriptor modelDescriptor=operationContext.getModule().createModel(new SModelUID(modelName,stereotype),modelRoot);
  SModel SModel=modelDescriptor.getSModel();
  Set<String> modelsInProps=getModelsInProperties();
  for (  String modelUID : modelsInProps) {
    SModel.addImportedModel(SModelUID.fromString(modelUID));
  }
  for (  jetbrains.mps.projectLanguage.Language l : CollectionUtil.iteratorAsIterable(myCloneModelProperties.languages())) {
    SModel.addLanguage(getOperationContext().getScope().getLanguage(l.getName()));
  }
  CloneModelUtil.cloneModel(mySModel,modelDescriptor.getSModel());
  myIde.getProject().getComponent(ProjectPane.class).selectModel(modelDescriptor);
}
