{
  String stereo=SModelStereotype.getStubStereotypeForId(LanguageID.JAVA);
  Set<SModelReference> models=StubModelsResolver.getInstance().resolveModel(module,new SModelFqName(pkg,stereo).toString(),null);
  SModelReference mr=(models.isEmpty() ? null : models.iterator().next());
  ModuleReference moduleRef=(mr == null ? null : SModelRepository.getInstance().getModelDescriptor(mr).getModule().getModuleReference());
  String mfq="MPS.Workbench";
  String muid="86441d7a-e194-42da-81a5-2161ec62a379";
  if (moduleRef != null) {
    mfq=moduleRef.getModuleName();
    muid=moduleRef.getModuleId().toString();
  }
  SModelFqName fqname=new SModelFqName(mfq,pkg,stereo);
  SModelId modelId=jetbrains.mps.smodel.SModelId.foreign(stereo,muid,pkg);
  return new jetbrains.mps.smodel.SModelReference(fqname,modelId);
}
