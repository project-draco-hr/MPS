{
  for (  SModel modelToImport : getAutoImportedModels(module,model)) {
    ((jetbrains.mps.smodel.SModelInternal)model).addModelImport(modelToImport.getReference(),false);
  }
  for (  Language language : getAutoImportedLanguages(module,model)) {
    if (!new GlobalModuleDependenciesManager(model.getModule()).getUsedLanguages().contains(language)) {
      model.getModule().addUsedLanguage(language.getModuleReference());
    }
    ((jetbrains.mps.smodel.SModelInternal)model).addLanguage(language.getModuleReference());
  }
  for (  DevKit devKit : getAutoImportedDevKits(module,model)) {
    if (!model.getModule().getModuleDescriptor().getUsedDevkits().contains(devKit.getModuleReference())) {
      model.getModule().addUsedDevkit(devKit.getModuleReference());
    }
    ((jetbrains.mps.smodel.SModelInternal)model).addDevKit(devKit.getModuleReference());
  }
}
