{
  if (childConcept == null) {
    return Collections.emptyList();
  }
  final IScope scope=context.getScope();
  ISearchScope conceptsSearchScope=SModelSearchUtil.createConceptsFromModelLanguagesScope(parentNode.getModel(),true,scope);
  List<SNode> applicableConcepts=conceptsSearchScope.getNodes(new Condition<SNode>(){
    public boolean met(    SNode object){
      return isDefaultSubstitutableConcept((ConceptDeclaration)object,childConcept,scope) && filter.met(object);
    }
  }
);
  List<INodeSubstituteAction> actions=new LinkedList<INodeSubstituteAction>();
  for (  SNode applicableConcept : applicableConcepts) {
    LinkDeclaration smartReference=getSmartReference((ConceptDeclaration)applicableConcept,scope);
    if (smartReference != null) {
      List<INodeSubstituteAction> smartActions=createSmartReferenceActions((ConceptDeclaration)applicableConcept,smartReference,parentNode,currentChild,childSetter,scope);
      if (smartActions != null) {
        actions.addAll(smartActions);
      }
    }
 else {
      actions.add(new DefaultChildNodeSubstituteAction(applicableConcept,parentNode,currentChild,childSetter,scope));
    }
  }
  return actions;
}
