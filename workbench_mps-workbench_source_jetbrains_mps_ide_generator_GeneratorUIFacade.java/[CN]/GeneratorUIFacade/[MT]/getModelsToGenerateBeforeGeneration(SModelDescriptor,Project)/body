{
  IModule module=model.getModule();
  if (module == null)   return Collections.emptyList();
  List<SModelDescriptor> result=new ArrayList<SModelDescriptor>();
  for (  TemplateModule templateModule : GenerationPartitioningUtil.getTemplateModules(model.getSModel())) {
    Generator g=ModuleRepositoryFacade.getInstance().getModule(templateModule.getReference(),Generator.class);
    if (g == null)     continue;
    for (    SModelDescriptor sm : g.getOwnModelDescriptors()) {
      if (SModelStereotype.isUserModel(sm)) {
        result.add(sm);
      }
    }
    for (    SModelDescriptor sm : g.getSourceLanguage().getAspectModelDescriptors()) {
      result.add(sm);
    }
  }
  return GenerationFacade.getModifiedModels(result,new ProjectOperationContext(project));
}
