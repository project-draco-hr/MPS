{
  SModule module=model.getModule();
  if (module == null)   return Collections.emptyList();
  List<SModel> result=new ArrayList<SModel>();
  for (  TemplateModule templateModule : GenerationPartitioningUtil.getTemplateModules(model)) {
    Generator g=ModuleRepositoryFacade.getInstance().getModule(templateModule.getReference(),Generator.class);
    if (g == null)     continue;
    for (    SModel sm : g.getOwnModelDescriptors()) {
      if (SModelStereotype.isUserModel(sm)) {
        result.add(sm);
      }
    }
    for (    SModel sm : LanguageAspect.getAspectModels(g.getSourceLanguage())) {
      result.add(sm);
    }
  }
  return GenerationFacade.getModifiedModels(result,new ProjectOperationContext(project));
}
