{
  SModel model=new SModel(descriptor.getSModelReference(),new ForeignNodeIdMap());
  for (  Language l : getLanguagesToImport()) {
    model.addLanguage(l.getModuleReference());
    module.addUsedLanguage(l.getModuleReference());
  }
  JavaParser parser=new JavaParser();
  for (  String path : SetSequence.fromSet(getStubPaths())) {
    File f=new File(path);
    String code=FileUtil.read(f);
    try {
      List<SNode> nodes=parser.parse(code,model.getLongName(),null,FeatureKind.CLASS_STUB,true);
      for (      SNode n : ListSequence.fromList(nodes)) {
        model.addRoot(n);
      }
    }
 catch (    RuntimeException e) {
      System.err.println("Error while parsing " + path);
      e.printStackTrace();
    }
  }
  myModelLoaded=true;
  return new ModelLoadResult(model,ModelLoadingState.FULLY_LOADED);
}
