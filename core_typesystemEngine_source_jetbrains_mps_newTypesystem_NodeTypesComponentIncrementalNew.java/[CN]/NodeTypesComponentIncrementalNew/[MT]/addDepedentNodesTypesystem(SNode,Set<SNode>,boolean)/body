{
  WeakHashMap<SNode,WeakSet<SNode>> dependencies=typesAffected ? myNodesToDependentNodes_A : myNodesToDependentNodes_B;
  for (  SNode nodeToDependOn : nodesToDependOn) {
    if (nodeToDependOn == null)     continue;
    WeakSet<SNode> dependentNodes=dependencies.get(nodeToDependOn);
    if (dependentNodes == null) {
      dependentNodes=new WeakSet<SNode>(1);
      dependencies.put(nodeToDependOn,dependentNodes);
      myModelListenerManager.track(nodeToDependOn);
    }
    dependentNodes.add(sNode);
  }
}
