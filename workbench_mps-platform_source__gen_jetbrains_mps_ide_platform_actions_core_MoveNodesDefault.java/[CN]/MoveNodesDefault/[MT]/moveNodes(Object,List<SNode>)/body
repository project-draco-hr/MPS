{
  if (newLocation instanceof SNode) {
    for (    SNode node : ListSequence.fromList(nodesToMove)) {
      node.getParent().removeChild(node);
      ((SNode)newLocation).addChild(ListSequence.fromList(nodesToMove).first().getContainmentLink(),node);
    }
  }
 else   if (newLocation instanceof SModel) {
    for (    SNode node : ListSequence.fromList(nodesToMove)) {
      node.getModel().removeRootNode(node);
      ((SModel)newLocation).addRootNode(node);
    }
  }
 else {
    throw new IllegalStateException("expected SNode or SModel, found: " + newLocation);
  }
}
