{
  if (newLocation instanceof SNode) {
    return ListSequence.fromList(nodesToMove).all(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return ((jetbrains.mps.smodel.SNode)newLocation).getConcept().getContainmentLinks().contains(it.getContainmentLink());
      }
    }
);
  }
 else   if (newLocation instanceof SModel) {
    return ListSequence.fromList(nodesToMove).all(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return SPropertyOperations.getBoolean(SNodeOperations.as(SNodeOperations.asNode(SNodeOperations.getConcept(it)),MetaAdapterFactory.getConcept(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,"jetbrains.mps.lang.structure.structure.ConceptDeclaration")),MetaAdapterFactory.getProperty(0xc72da2b97cce4447L,0x8389f407dc1158b7L,0xf979ba0450L,0xff49c1d648L,"rootable"));
      }
    }
);
  }
 else {
    throw new IllegalStateException("expected SNode or SModel, found: " + newLocation);
  }
}
