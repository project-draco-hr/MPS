{
  boolean jared=path.contains("!/") || path.endsWith(".jar");
  boolean exists=jared ? FileSystem.getInstance().getFileByPath(path).exists() : new File(path).exists();
  if (!exists) {
    String moduleString=requestor == null ? "" : (" in " + requestor.toString());
    String message="Can't load class path item " + path + moduleString+ "."+ (new File(path).isDirectory() ? " Execute make in IDEA." : "");
    LOG.debug(message,new Throwable());
    return new NonExistingClassPathItem(path);
  }
  if (jared) {
    return new JarFileClassPathItem(path);
  }
  if (new File(path).isDirectory()) {
    return new FileClassPathItem(path);
  }
  return new NonExistingClassPathItem(path);
}
