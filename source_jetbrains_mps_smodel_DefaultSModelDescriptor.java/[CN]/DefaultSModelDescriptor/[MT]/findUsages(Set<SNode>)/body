{
  if (!myModelRootManager.isFindUsagesSupported())   return new HashSet<SReference>();
  Set<String> strings=new HashSet<String>();
  for (  SNode node : nodes) {
    if (mySModel == null || !SModelRepository.getInstance().isChanged(mySModel)) {
      String nodeInfo=node.getId();
      if (node.getModel().isExternallyResolvable()) {
        String extResolveInfo=ExternalResolver.getExternalResolveInfoFromTarget(node);
        if (!ExternalResolver.isEmptyExtResolveInfo(extResolveInfo))         nodeInfo=extResolveInfo;
      }
      strings.add(nodeInfo);
    }
  }
  if (!myModelRootManager.containsSomeString(this,strings))   return new HashSet<SReference>();
  getSModel();
  Set<SReference> result=new HashSet<SReference>();
  if (mySModel != null) {
    for (    SNode root : mySModel.getRoots()) {
      addUsages(root,nodes,result);
    }
  }
  return result;
}
