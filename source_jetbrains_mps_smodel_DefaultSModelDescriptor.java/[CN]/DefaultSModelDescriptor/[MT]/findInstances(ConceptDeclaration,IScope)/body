{
  if (!myModelRootManager.isFindUsagesSupported())   return new HashSet<SNode>();
  String conceptFqName=JavaNameUtil.className(concept);
  if (mySModel == null || !SModelRepository.getInstance().isChanged(mySModel)) {
    if (!myModelRootManager.containsString(this,conceptFqName))     return new HashSet<SNode>();
  }
  getSModel();
  Set<SNode> result=new HashSet<SNode>();
  if (mySModel != null) {
    for (    SNode root : mySModel.getRoots()) {
      addInstances(root,(jetbrains.mps.bootstrap.structureLanguage.structure.ConceptDeclaration)concept.getAdapter(),result,scope);
    }
  }
  return result;
}
