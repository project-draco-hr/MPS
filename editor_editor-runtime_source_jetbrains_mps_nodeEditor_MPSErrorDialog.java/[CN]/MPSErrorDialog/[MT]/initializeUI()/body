{
  int textWidth=myField.getFontMetrics(myField.getFont()).stringWidth(myErrorString);
  JPanel panel=new JPanel(new GridLayout(1,myButtons.size()));
  for (  JButton jButton : myButtons) {
    panel.add(jButton);
  }
  panel.doLayout();
  int buttonsWidth=(int)panel.getPreferredSize().getWidth();
  int minPanelWidth=Math.max(2 * MIN_SIDE_PADDING + buttonsWidth,2 * MIN_SIDE_PADDING + textWidth);
  int calculatedButtonsPadding=(minPanelWidth - buttonsWidth) / 2;
  int calculatedTextPadding=(minPanelWidth - textWidth) / 2;
  panel.setBorder(new EmptyBorder(5,calculatedButtonsPadding,15,calculatedButtonsPadding));
  myField.setBorder(new EmptyBorder(20,calculatedTextPadding,5,calculatedTextPadding));
  add(myField,BorderLayout.CENTER);
  add(panel,BorderLayout.SOUTH);
  pack();
  setResizable(false);
  setLocation(myOwner.getX() + (myOwner.getWidth() - this.getWidth()) / 2,myOwner.getY() + (myOwner.getHeight() - this.getHeight()) / 2);
  myIsInitialized=true;
}
