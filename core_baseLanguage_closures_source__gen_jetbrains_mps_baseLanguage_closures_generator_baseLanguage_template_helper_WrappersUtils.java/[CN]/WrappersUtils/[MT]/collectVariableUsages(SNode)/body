{
  Map<SNode,Integer> resMap=MapSequence.<SNode,Integer>fromMap(new HashMap<SNode,Integer>());
  Program prg=DataFlowManager.getInstance().buildProgramFor(start);
  for (  Instruction ins : prg.getInstructions()) {
    if (ins instanceof ReadInstruction) {
      ReadInstruction ri=((ReadInstruction)ins);
      SNode var=(SNode)ri.getVariable();
      if (!(MapSequence.fromMap(resMap).containsKey(var))) {
        MapSequence.<SNode,Integer>fromMap(resMap).put(var,0);
      }
    }
 else     if (ins instanceof WriteInstruction) {
      WriteInstruction wi=((WriteInstruction)ins);
      SNode var=(SNode)wi.getVariable();
      int writes=(MapSequence.fromMap(resMap).containsKey(var) ? MapSequence.<SNode,Integer>fromMap(resMap).get(var) : 0);
      writes++;
      MapSequence.<SNode,Integer>fromMap(resMap).put(var,writes);
    }
  }
  return resMap;
}
