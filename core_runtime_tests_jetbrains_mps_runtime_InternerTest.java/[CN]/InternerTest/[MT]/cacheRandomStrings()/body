{
  final int maxObjects=20000;
  final int maxThreads=Runtime.getRuntime().availableProcessors() * 3;
  final int maxRepetitions=1000000;
  long refTime=0;
  for (int count=3; count > 0; --count) {
    refTime+=computePerformanceBenchmark(maxThreads);
  }
  long time=0;
  for (int count=3; count > 0; --count) {
    time+=loadTest(maxObjects,maxThreads,maxRepetitions);
  }
  double ratio=time / (double)refTime;
  Assert.assertTrue("Interner perfomance is not within bounds: " + ratio,0.45 < ratio && ratio < 1.95);
}
