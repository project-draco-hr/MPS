{
  for (  Entry<String,Map<SNodeId,Object>> e : val.getMappingNameAndInputNodeToOutputNodeMap().entrySet()) {
    String mappingName=e.getKey();
    Map<SNode,Object> currentMapping=myMappingNameAndInputNodeToOutputNodeMap.get(mappingName);
    if (currentMapping == null) {
      myMappingNameAndInputNodeToOutputNodeMap.putIfAbsent(mappingName,new HashMap<SNode,Object>());
      currentMapping=myMappingNameAndInputNodeToOutputNodeMap.get(mappingName);
    }
    for (    Entry<SNodeId,Object> n : e.getValue().entrySet()) {
      SNodeId key=n.getKey();
      SNode inputNode=key != null ? inputModel.getNodeById(key) : null;
      Object value=n.getValue();
      if (value instanceof SNodeId) {
        addOutputNode(currentMapping,inputNode,outputModel.getNodeById((SNodeId)value));
      }
 else       if (value instanceof List) {
        for (        SNodeId id : (List<SNodeId>)value) {
          addOutputNode(currentMapping,inputNode,outputModel.getNodeById(id));
        }
      }
    }
  }
}
