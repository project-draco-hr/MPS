{
  ModelAccess.assertLegalWrite();
  SModelRepository.getInstance().notifyLater(this);
  final SModel oldSModel=getCurrentModelInternal();
  if (oldSModel != null) {
    oldSModel.setModelDescriptor(null);
  }
  replacer.run();
  SModel newModel=getCurrentModelInternal();
  if (newModel != null) {
    newModel.setModelDescriptor(this);
  }
  MPSModuleRepository.getInstance().invalidateCaches();
}
