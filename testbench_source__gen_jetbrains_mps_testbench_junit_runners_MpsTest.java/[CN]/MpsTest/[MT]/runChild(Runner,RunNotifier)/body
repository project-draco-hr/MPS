{
  if (runner instanceof Sortable) {
    ((Sortable)runner).sort(new Sorter(new OrderComparator()));
  }
  if (withWatching) {
    WatchingRunNotifier runNotifier=new WatchingRunNotifier(notifier);
    try {
      runner.run(runNotifier);
    }
  finally {
      PerformanceMessenger.getInstance().generateReport();
      runNotifier.dispose();
    }
  }
 else {
    runner.run(notifier);
  }
  if (runner == children.get(children.size() - 1)) {
    MpsTestsSupport.disposeEnv();
  }
}
