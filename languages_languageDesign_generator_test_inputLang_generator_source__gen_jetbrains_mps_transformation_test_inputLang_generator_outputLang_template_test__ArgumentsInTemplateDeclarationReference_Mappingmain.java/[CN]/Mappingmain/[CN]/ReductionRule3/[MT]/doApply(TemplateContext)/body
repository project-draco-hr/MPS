{
  final TemplateExecutionEnvironment environment=context.getEnvironment();
  environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a1a2t);
  Collection<SNode> tlist1=null;
  try {
    environment.getTracer().pushMacro(ifMacroRef_417xrn_a0a0a3a2t);
    if (QueriesGenerated.ifMacro_Condition_4929591503636643306(new IfMacroContext(context,ifMacroRef_417xrn_a0a0a3a2t,environment.getGenerator()))) {
      final SNode tnode2=environment.createOutputNode("jetbrains.mps.lang.core.structure.BaseConcept");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a1a3a2t);
        environment.nodeCopied(context,tnode2,"tpl/r:b5afdf3a-04e4-43b0-b72c-a4e3b5141a37/4929591503636640410");
      }
  finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(),tnode2));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a1a3a2t);
      }
      tlist1=TemplateUtil.singletonList(tnode2);
    }
 else {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a0b0d0c91);
      Collection<SNode> tlist3=new TemplatereduceWithArgs(((String)QueriesGenerated.templateArgumentQuery_4929591503636646079(new TemplateArgumentContext(context,templArgCall_417xrn_b0a0a0a0a0b0a1a3a2t,environment.getGenerator())))).apply(environment,context);
      tlist1=tlist3;
    }
  }
  finally {
    environment.getTracer().closeMacro(ifMacroRef_417xrn_a0a0a3a2t);
  }
  return tlist1;
}
