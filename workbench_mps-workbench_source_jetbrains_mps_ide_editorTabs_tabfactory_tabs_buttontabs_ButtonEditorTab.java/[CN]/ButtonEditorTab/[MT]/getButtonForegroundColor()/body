{
  if (myTabColorProvider != null) {
    List<SNodeReference> nodePointers=ModelAccess.instance().runReadAction(new Computable<List<SNodeReference>>(){
      @Override public List<SNodeReference> compute(){
        List<SNode> nodes=myDescriptor.getNodes(myBaseNode.resolve(MPSModuleRepository.getInstance()));
        List<SNodeReference> nodePointers=new ArrayList<SNodeReference>();
        for (        SNode n : nodes) {
          nodePointers.add(new jetbrains.mps.smodel.SNodePointer(n));
        }
        return nodePointers;
      }
    }
);
    Color aspectColor=myTabColorProvider.getAspectColor(nodePointers);
    if (aspectColor != null) {
      return aspectColor;
    }
  }
  return UIUtil.getLabelForeground();
}
