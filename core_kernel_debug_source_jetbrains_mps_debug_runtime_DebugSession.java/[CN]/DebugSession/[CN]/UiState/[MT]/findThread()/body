{
  ThreadReference thread=myContext.getThread();
  if (thread == null) {
    List<ThreadReference> threads=myEventsProcessor.getVirtualMachine().allThreads();
    thread=threads.get(0);
    for (    ThreadReference t : threads) {
      if (!t.threadGroup().name().equals("system")) {
        thread=t;
        break;
      }
    }
  }
  return thread;
}
