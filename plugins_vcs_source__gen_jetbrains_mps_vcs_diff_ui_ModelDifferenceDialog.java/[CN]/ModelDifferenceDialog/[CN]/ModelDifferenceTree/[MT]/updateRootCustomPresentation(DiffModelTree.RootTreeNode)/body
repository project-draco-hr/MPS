{
  ChangeType compositeChangeType=ChangeType.CHANGE;
  if (rootTreeNode.getRootId() != null) {
    ModelChange firstChange=ListSequence.<ModelChange>fromList(MapSequence.<SNodeId,List<ModelChange>>fromMap(myRootToChanges).get(rootTreeNode.getRootId())).first();
    if (firstChange instanceof AddRootChange || firstChange instanceof DeleteRootChange) {
      compositeChangeType=firstChange.getType();
    }
  }
  rootTreeNode.setColor(ChangeColors.getForTree(compositeChangeType));
}
