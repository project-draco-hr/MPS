{
  List<ModelChange> changes=MapSequence.fromMap(myRootToChange).get(myRootId);
  if (ListSequence.fromList(changes).first() instanceof AddRootChange) {
    setColor(ChangeType.ADD.getTreeColor());
  }
 else   if (ListSequence.fromList(changes).first() instanceof DeleteRootChange) {
    setColor(ChangeType.DELETE.getTreeColor());
  }
 else {
    setColor(ChangeType.CHANGE.getTreeColor());
  }
  for (  SModel model : Sequence.fromIterable(Sequence.fromArray(new SModel[]{myChangeSet.getOldModel(),myChangeSet.getNewModel()}))) {
    SNode root=model.getNodeById(myRootId);
    if (root != null) {
      myPresentation=root.getPresentation();
      Icon iconFor=IconManager.getIconFor(root);
      if (iconFor != null) {
        setIcon(iconFor);
      }
    }
  }
  setText(myPresentation);
}
