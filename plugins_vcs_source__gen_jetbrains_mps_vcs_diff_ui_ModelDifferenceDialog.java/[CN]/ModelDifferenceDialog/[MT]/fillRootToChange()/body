{
  MapSequence.fromMap(myRootToChanges).clear();
  for (  ModelChange c : ListSequence.<ModelChange>fromList(myChangeSet.getModelChanges())) {
    SNodeId id=c.getRootId();
    if (id == null) {
      ListSequence.<ModelChange>fromList(myMetadataChanges).addElement(c);
    }
 else {
      if (!(MapSequence.fromMap(myRootToChanges).containsKey(id))) {
        MapSequence.<SNodeId,List<ModelChange>>fromMap(myRootToChanges).put(id,ListSequence.<ModelChange>fromList(new ArrayList<ModelChange>()));
      }
      ListSequence.<ModelChange>fromList(MapSequence.<SNodeId,List<ModelChange>>fromMap(myRootToChanges).get(id)).addElement(c);
    }
  }
}
