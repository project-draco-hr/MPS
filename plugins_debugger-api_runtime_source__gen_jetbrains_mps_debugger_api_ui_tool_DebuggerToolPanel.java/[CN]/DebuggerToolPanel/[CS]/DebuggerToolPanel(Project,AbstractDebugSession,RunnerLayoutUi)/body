{
  myDebugSession=session;
  myUiState=myDebugSession.getUiState();
  myDebugSession.addChangeListener(new DebuggerToolPanel.MySessionChangeListener());
  ui.getDefaults().initTabDefaults(0,"Debugger",null);
  JPanel framesPanel=new JPanel(new BorderLayout());
  framesPanel.add(createThreadsComponent(),BorderLayout.NORTH);
  framesPanel.add(createStackFrameComponent(),BorderLayout.CENTER);
  Content framesContent=ui.createContent(DebuggerToolContent.FRAMES,framesPanel,"Frames",Icons.FRAMES,null);
  framesContent.setCloseable(false);
  ui.addContent(framesContent,0,PlaceInGrid.left,false);
  JComponent variablesPanel=createVariablesPanel(project);
  Content variablesContent=ui.createContent(DebuggerToolContent.VARIABLES,variablesPanel,"Variables",Icons.VARIABLES,null);
  variablesContent.setCloseable(false);
  ui.addContent(variablesContent,0,PlaceInGrid.center,false);
  IEvaluationProvider evaluationProvider=myDebugSession.getEvaluationProvider();
  if (evaluationProvider != null) {
    JComponent watches=evaluationProvider.createWatchesPanel();
    if (watches != null) {
      Content watchesContent=ui.createContent(DebuggerToolContent.WATCHES,watches,"Watches",Icons.WATCHES,null);
      watchesContent.setCloseable(false);
      ui.addContent(watchesContent,0,PlaceInGrid.right,true);
    }
  }
}
