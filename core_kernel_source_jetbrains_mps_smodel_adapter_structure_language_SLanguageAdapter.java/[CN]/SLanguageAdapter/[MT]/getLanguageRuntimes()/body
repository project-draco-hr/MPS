{
  Set<SModuleReference> runtimes=new HashSet<SModuleReference>();
  Language sourceModule=getSourceModule();
  if (sourceModule == null) {
    return Collections.emptyList();
  }
  for (  Language language : SetSequence.fromSet(sourceModule.getAllExtendedLanguages())) {
    runtimes.addAll(language.getRuntimeModulesReferences());
    for (    SDependency dep : language.getDeclaredDependencies()) {
      if (dep.getScope() == SDependencyScope.GENERATES_INTO && dep.getTarget() instanceof Language) {
        runtimes.addAll(((Language)dep.getTarget()).getRuntimeModulesReferences());
      }
    }
  }
  return runtimes;
}
