{
  if (Sequence.USE_NULL_SEQUENCE) {
    if (map == null) {
      return NullSortedMapSequence.<P,Q>instance();
    }
  }
  if (map instanceof ISortedMapSequence) {
    return (ISortedMapSequence<P,Q>)map;
  }
  return new SortedMapSequence<P,Q>(map);
}
