{
  String conceptFqName=node.getConceptFqName();
  if (JoinType.concept.equals(conceptFqName)) {
    for (    SNode child : node.getChildren(JoinType.ARGUMENT)) {
      processMeetsAndJoins(child);
      if (JoinType.concept.equals(child.getConceptFqName())) {
        for (        SNode grandChild : child.getChildren(JoinType.ARGUMENT)) {
          child.removeChild(grandChild);
          node.insertChild(child,JoinType.ARGUMENT,grandChild);
        }
        node.removeChild(child);
      }
    }
  }
 else   if (MeetType.concept.equals(conceptFqName)) {
    for (    SNode child : node.getChildren(MeetType.ARGUMENT)) {
      processMeetsAndJoins(child);
      if (MeetType.concept.equals(child.getConceptFqName())) {
        for (        SNode grandChild : child.getChildren(MeetType.ARGUMENT)) {
          child.removeChild(grandChild);
          node.insertChild(child,MeetType.ARGUMENT,grandChild);
        }
        node.removeChild(child);
      }
    }
  }
}
