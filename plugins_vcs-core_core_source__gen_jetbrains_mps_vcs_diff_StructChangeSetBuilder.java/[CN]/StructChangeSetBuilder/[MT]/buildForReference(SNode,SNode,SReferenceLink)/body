{
  SReference oldReference=oldNode.getReference(role);
  SReference newReference=newNode.getReference(role);
  if (!(equalsReference(oldReference,newReference))) {
    SModelReference targetModel=check_okvhpb_a0a0c0m(newReference);
    SNodeId targetId=(newReference instanceof DynamicReference ? null : check_okvhpb_a0a1a2a21(newReference));
    ListSequence.fromList(myNewChanges).addElement(new SetReferenceStructChange(myChangeSet,oldNode.getNodeId(),newNode.getNodeId(),role,targetModel,targetId,check_okvhpb_g0a0a2a2a21(((jetbrains.mps.smodel.SReference)newReference))));
  }
}
