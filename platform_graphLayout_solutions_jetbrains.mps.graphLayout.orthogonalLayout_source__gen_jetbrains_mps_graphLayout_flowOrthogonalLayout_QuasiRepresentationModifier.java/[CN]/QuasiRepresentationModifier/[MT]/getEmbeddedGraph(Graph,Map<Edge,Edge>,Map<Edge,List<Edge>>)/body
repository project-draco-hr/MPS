{
  EmbeddedGraph representationEmbeddedGraph=new EmbeddedGraph(representationGraph);
  for (  Face face : ListSequence.fromList(myEmbeddedGraph.getFaces())) {
    Face newFace=new Face(representationGraph);
    Node last=null;
    for (    Dart dart : ListSequence.fromList(face.getDarts())) {
      Edge edge=dart.getEdge();
      Edge newEdge=MapSequence.fromMap(edgeMap).get(edge);
      Node newDartSource;
      if (dart.getSource() == edge.getSource()) {
        newDartSource=newEdge.getSource();
      }
 else {
        newDartSource=newEdge.getTarget();
      }
      connectIfNeed(last,newDartSource,newFace,longEdges,edge);
      Dart newDart=new Dart(newEdge,newDartSource);
      newFace.addLast(newDart);
      last=newDart.getTarget();
    }
    Node first=ListSequence.fromList(newFace.getDarts()).first().getSource();
    connectIfNeed(last,first,newFace,longEdges,ListSequence.fromList(face.getDarts()).first().getEdge());
    representationEmbeddedGraph.addFace(newFace);
    if (myEmbeddedGraph.isOuterFace(face)) {
      representationEmbeddedGraph.setOuterFace(newFace);
    }
  }
  return representationEmbeddedGraph;
}
