{
  IFile refactoringsFile=getRefactoringsFile(modelFile);
  refactoringsFile.createNewFile();
  Document document=new HistoryWriter().saveHistory(history);
  if (refactoringsFile.isReadOnly()) {
    LOG.error("Can't write to " + refactoringsFile.getAbsolutePath());
    return;
  }
  try {
    JDOMUtil.writeDocument(document,refactoringsFile);
  }
 catch (  IOException e) {
    LOG.error("Error in file " + refactoringsFile,e);
  }
}
