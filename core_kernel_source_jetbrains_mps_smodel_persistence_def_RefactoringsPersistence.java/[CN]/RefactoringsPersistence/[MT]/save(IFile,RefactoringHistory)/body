{
  IFile refactoringsFile=getRefactoringsFile(modelFile);
  if (!refactoringsFile.exists()) {
    refactoringsFile.createNewFile();
    VirtualFile file=VFileSystem.getFile(refactoringsFile);
    VcsMigrationUtil.getHandler().addFilesToVcs(Collections.singletonList(file),false,false);
  }
  Document document=new Document(refactorings.toElement());
  if (refactoringsFile.isReadOnly()) {
    LOG.error("Can't write to " + refactoringsFile.getAbsolutePath());
    return;
  }
  try {
    JDOMUtil.writeDocument(document,refactoringsFile);
  }
 catch (  IOException e) {
    LOG.error("Error in file " + refactoringsFile,e);
  }
}
