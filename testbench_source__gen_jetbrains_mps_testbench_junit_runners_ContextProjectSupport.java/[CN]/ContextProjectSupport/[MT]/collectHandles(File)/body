{
  Set<IFile> excludes=SetSequence.fromSet(new HashSet<IFile>());
  String mpsDir=System.getProperty("user.dir");
  SetSequence.fromSet(excludes).addElement(FileSystem.getInstance().getFileByPath(mpsDir + File.separator + "IdeaPlugin"));
  List<ModulesMiner.ModuleHandle> minedHandles=ModulesMiner.getInstance().collectModules(FileSystem.getInstance().getFileByPath(rootFolder.getAbsolutePath()),excludes,false);
  return ListSequence.fromList(minedHandles).where(new IWhereFilter<ModulesMiner.ModuleHandle>(){
    public boolean accept(    ModulesMiner.ModuleHandle it){
      return !(it.getFile().getName().endsWith(".iml"));
    }
  }
).toListSequence();
}
