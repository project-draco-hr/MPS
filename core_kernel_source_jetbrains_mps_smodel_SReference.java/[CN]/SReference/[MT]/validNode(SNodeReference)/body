{
  if (node == null) {
    return null;
  }
  if (TransientModelsModule.isTransientModel(node.getModelReference())) {
    SModuleReference moduleRef=node.getModelReference().getModuleReference();
    SModule module=moduleRef == null ? null : moduleRef.resolve(MPSModuleRepository.getInstance());
    if (module instanceof TransientModelsModule) {
      if (((TransientModelsModule)module).addModelToKeep(node.getModelReference(),false)) {
        return node;
      }
    }
    return null;
  }
  return node;
}
