{
  boolean sameParent=true;
  SNode defaultContext=null;
  for (  SNode templateFragment : templateFragments) {
    if (((TemplateFragment)BaseAdapter.fromNode(templateFragment)).getContextNodeQuery() == null) {
      SNode fragmentContextNode=templateFragment.getParent().getParent();
      if (defaultContext == null) {
        defaultContext=fragmentContextNode;
      }
 else       if (defaultContext != fragmentContextNode) {
        sameParent=false;
        break;
      }
    }
  }
  if (!sameParent) {
    List<ProblemDescription> list=new ArrayList<ProblemDescription>();
    for (    SNode templateFragment : templateFragments) {
      if (((TemplateFragment)BaseAdapter.fromNode(templateFragment)).getContextNodeQuery() == null) {
        list.add(GeneratorUtil.describe(templateFragment,"template fragment"));
      }
    }
    environment.getGenerator().getLogger().error(template,"all fragments with <default context> should have the same parent",list.toArray(new ProblemDescription[list.size()]));
  }
}
