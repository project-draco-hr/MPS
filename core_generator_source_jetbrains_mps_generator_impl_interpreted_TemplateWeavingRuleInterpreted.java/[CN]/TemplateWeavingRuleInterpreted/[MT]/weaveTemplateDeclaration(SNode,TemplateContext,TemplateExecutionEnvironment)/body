{
  if (template == null) {
    environment.getLogger().error(getRuleNode(),"couldn't evaluate weaving rule: no template");
    return;
  }
  environment.getTracer().pushInputNode(GenerationTracerUtil.getSNodePointer(context.getInput()));
  try {
    WeaveTemplateContainer wtc=getWeavingTemplateContainer(environment.getLogger());
    wtc.apply(outputContextNode,context.subContext(ruleMappingName),environment);
  }
  finally {
    environment.getTracer().closeInputNode(GenerationTracerUtil.getSNodePointer(context.getInput()));
  }
}
