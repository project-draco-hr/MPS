{
  boolean sameParent=true;
  SNode defaultContext=null;
  for (  TemplateFragment templateFragment : templateFragments) {
    if (templateFragment.getContextNodeQuery() == null) {
      SNode fragmentContextNode=BaseAdapter.fromAdapter(templateFragment.getParent().getParent());
      if (defaultContext == null) {
        defaultContext=fragmentContextNode;
      }
 else       if (defaultContext != fragmentContextNode) {
        sameParent=false;
        break;
      }
    }
  }
  if (!sameParent) {
    List<ProblemDescription> list=new ArrayList<ProblemDescription>();
    for (    TemplateFragment templateFragment : templateFragments) {
      if (templateFragment.getContextNodeQuery() == null) {
        list.add(GeneratorUtil.describe(templateFragment.getNode(),"template fragment"));
      }
    }
    environment.getGenerator().getLogger().error(template.getNode(),"all fragments with <default context> should have the same parent",list.toArray(new ProblemDescription[list.size()]));
  }
}
