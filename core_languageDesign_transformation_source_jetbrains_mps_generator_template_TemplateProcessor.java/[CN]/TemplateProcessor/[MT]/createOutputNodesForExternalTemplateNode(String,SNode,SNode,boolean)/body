{
  TemplateProcessor templateProcessor=new TemplateProcessor(myGenerator);
  List<Pair<SNode,String>> oldInputHistory=myGenerator.setInputHistory(templateProcessor.myInputHistory);
  try {
    return templateProcessor.createOutputNodesForTemplateNode(mappingName,templateNode,inputNode,0,registerTopOutput);
  }
  finally {
    myGenerator.setInputHistory(oldInputHistory);
  }
}
