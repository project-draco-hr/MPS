{
  TemplateProcessor templateProcessor=new TemplateProcessor(myGenerator);
  Map<String,SNode> old=myGenerator.setPreviousInputNodesByMappingName(templateProcessor.myInputNodesByMappingName);
  try {
    return templateProcessor.createOutputNodesForTemplateNode(mappingName,templateNode,inputNode,0,registerTopOutput);
  }
  finally {
    myGenerator.setPreviousInputNodesByMappingName(old);
  }
}
