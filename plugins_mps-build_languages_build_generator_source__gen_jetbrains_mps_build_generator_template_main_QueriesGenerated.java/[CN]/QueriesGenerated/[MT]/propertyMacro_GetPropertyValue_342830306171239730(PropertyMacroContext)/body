{
  SNode targetFolder=((SNode)_context.getVariable("folder"));
  SNode project=SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.build.structure.BuildProject",false,false);
  if (project == null) {
    _context.showErrorMessage(_context.getNode(),"no context project defined");
    return "???";
  }
  DependenciesHelper helper=new DependenciesHelper(_context,project);
  SNode layoutNode;
  if (SNodeOperations.isInstanceOf(targetFolder,"jetbrains.mps.build.structure.BuildLayout_AbstractContainer")) {
    layoutNode=SNodeOperations.as(DependenciesHelper.getOriginalNode(targetFolder,_context),"jetbrains.mps.build.structure.BuildLayout_AbstractContainer");
  }
 else {
    SNode sfolder=SNodeOperations.as(targetFolder,"jetbrains.mps.build.structure.BuildInputSingleFolder");
    layoutNode=helper.artifacts().get(DependenciesHelper.getOriginalNode((sfolder != null ? SLinkOperations.getTarget(sfolder,MetaAdapterFactory.getContainmentLink(new UUID(8755280088213897754l,-5075149991798053422l),2303926226081001727l,2303926226081001728l,"path")) : targetFolder),_context));
    if (layoutNode == null) {
      _context.showErrorMessage(_context.getNode(),"folder " + BehaviorReflection.invokeVirtual(String.class,targetFolder,"virtual_getApproximateName_5610619299014531547",new Object[]{}) + " was not found in the layout");
      return "???";
    }
  }
  String val=helper.contentLocations().get(layoutNode);
  if (val == null) {
    _context.showErrorMessage(_context.getNode(),"no content location for " + BehaviorReflection.invokeVirtual(String.class,targetFolder,"virtual_getApproximateName_5610619299014531547",new Object[]{}));
    return "???";
  }
  return val + "/" + ((String)_context.getVariable("suffix"));
}
