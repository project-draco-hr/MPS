{
  SNode targetFile=((SNode)_context.getVariable("jar"));
  SNode project=SNodeOperations.getNodeAncestor(_context.getNode(),MetaAdapterFactory.getConcept(new UUID(8755280088213897754l,-5075149991798053422l),5617550519002745363l,"jetbrains.mps.build.structure.BuildProject"),false,false);
  if (project == null) {
    _context.showErrorMessage(_context.getNode(),"no context project defined");
    return "???";
  }
  DependenciesHelper helper=new DependenciesHelper(_context,project);
  SNode layoutNode;
  if (SNodeOperations.isInstanceOf(targetFile,MetaAdapterFactory.getConcept(new UUID(8755280088213897754l,-5075149991798053422l),7389400916848036997l,"jetbrains.mps.build.structure.BuildLayout_Node"))) {
    layoutNode=SNodeOperations.as(DependenciesHelper.getOriginalNode(targetFile,_context),MetaAdapterFactory.getConcept(new UUID(8755280088213897754l,-5075149991798053422l),7389400916848036997l,"jetbrains.mps.build.structure.BuildLayout_Node"));
  }
 else {
    SNode sfile=SNodeOperations.as(targetFile,MetaAdapterFactory.getConcept(new UUID(8755280088213897754l,-5075149991798053422l),5248329904287794582l,"jetbrains.mps.build.structure.BuildInputSingleFile"));
    layoutNode=helper.artifacts().get(DependenciesHelper.getOriginalNode((sfile != null ? SLinkOperations.getTarget(sfile,MetaAdapterFactory.getContainmentLink(new UUID(8755280088213897754l,-5075149991798053422l),5248329904287794582l,5248329904287794586l,"path")) : targetFile),_context));
    if (layoutNode == null) {
      _context.showErrorMessage(_context.getNode(),"file " + BehaviorReflection.invokeVirtual(String.class,targetFile,"virtual_getApproximateName_5610619299013425878",new Object[]{}) + " was not found in the layout");
      return "???";
    }
  }
  String val=helper.locations().get(layoutNode);
  if (val == null) {
    _context.showErrorMessage(_context.getNode(),"no location for jar " + BehaviorReflection.invokeVirtual(String.class,targetFile,"virtual_getApproximateName_5610619299013425878",new Object[]{}));
    return "???";
  }
  return val;
}
