{
  if (SNodeOperations.getContainingRoot(((SNode)_context.getVariable("jar"))) == SNodeOperations.getContainingRoot(_context.getNode())) {
    return BehaviorReflection.invokeVirtual(String.class,SLinkOperations.getTarget(((SNode)_context.getVariable("jar")),"path",true),"virtual_getAntPath_8563603456895173701",new Object[]{Context.defaultContext(_context)});
  }
  SNode project=SNodeOperations.getAncestor(_context.getNode(),"jetbrains.mps.build.structure.BuildProject",false,false);
  if (project == null) {
    _context.showErrorMessage(_context.getNode(),"no context project defined");
    return "???";
  }
  DependenciesHelper helper=new DependenciesHelper(_context,project);
  SNode layoutNode=helper.artifacts().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(((SNode)_context.getVariable("jar")),"path",true),_context));
  if (layoutNode == null) {
    _context.showErrorMessage(_context.getNode(),"file " + BehaviorReflection.invokeVirtual(String.class,SLinkOperations.getTarget(((SNode)_context.getVariable("jar")),"path",true),"virtual_getRelativePath_5481553824944787371",new Object[]{}) + " was not found in the layout");
    return "???";
  }
  String val=helper.locations().get(layoutNode);
  if (val == null) {
    _context.showErrorMessage(_context.getNode(),"no location for jar " + BehaviorReflection.invokeVirtual(String.class,SLinkOperations.getTarget(((SNode)_context.getVariable("jar")),"path",true),"virtual_getRelativePath_5481553824944787371",new Object[]{}));
    return "???";
  }
  return val;
}
