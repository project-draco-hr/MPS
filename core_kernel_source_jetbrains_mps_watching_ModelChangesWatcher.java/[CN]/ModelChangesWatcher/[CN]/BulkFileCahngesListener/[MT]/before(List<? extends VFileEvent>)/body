{
  List<SModelDescriptor> modelsToDelete=new LinkedList<SModelDescriptor>();
  for (  VFileEvent event : events) {
    if (event instanceof VFileDeleteEvent) {
      VirtualFile vfile=getVFile(event);
      if (MPSFileTypesManager.isModelFile(vfile)) {
        IFile ifile=VFileSystem.toIFile(vfile);
        if ((ifile == null) || (!ifile.exists()))         continue;
        SModelDescriptor model=mySModelRepository.findModel(ifile);
        modelsToDelete.add(model);
      }
    }
  }
  for (  SModelDescriptor modelDescriptor : modelsToDelete) {
    if (Language.isAccessoryModel(modelDescriptor)) {
      Language l=Language.getLanguageFor(modelDescriptor);
      l.removeAccessoryModel(modelDescriptor);
    }
    modelDescriptor.delete();
  }
}
