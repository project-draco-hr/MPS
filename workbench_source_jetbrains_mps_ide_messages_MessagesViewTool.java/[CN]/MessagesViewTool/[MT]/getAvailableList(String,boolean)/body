{
  List<MessageList> lists=myMessageLists.containsKey(name) ? myMessageLists.get(name) : new ArrayList<MessageList>();
  if (!myMessageLists.containsKey(name)) {
    myMessageLists.put(name,lists);
  }
  for (int i=lists.size() - 1; i >= 0; --i) {
    MessageList messageList=lists.get(i);
    Content content=getMessagesService().getContentManager().getContent(messageList.getComponent());
    if (content == null || !content.isPinned()) {
      return messageList;
    }
  }
  if (createIfNotFound) {
    MessageList list=createList(name);
    lists.add(list);
    return list;
  }
  return null;
}
