{
  if (myList.getSelectedValue() == null)   return;
  JPopupMenu menu=new JPopupMenu();
  if (myList.getSelectedIndices().length != 0) {
    menu.add(new AbstractActionWithEmptyIcon("Copy Text"){
      public void actionPerformed(      ActionEvent e){
        StringBuilder sb=new StringBuilder();
        for (        Object o : myList.getSelectedValues()) {
          sb.append(((Message)o).getText());
          sb.append("\n");
        }
        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(new StringSelection(sb.toString()),null);
      }
    }
);
  }
  menu.addSeparator();
  menu.add(new AbstractActionWithEmptyIcon("Clear"){
    public void actionPerformed(    ActionEvent e){
      clear();
    }
  }
);
  if (myList.getSelectedIndices().length == 1) {
    final Message message=(Message)myList.getSelectedValue();
    if (message.getKind() == MessageKind.ERROR) {
      menu.addSeparator();
      menu.add(new AbstractActionWithEmptyIcon("Submit to Issue tracker"){
        public void actionPerformed(        ActionEvent e){
          submitToTracker(message);
        }
      }
);
    }
  }
  menu.show(myList,evt.getX(),evt.getY());
}
