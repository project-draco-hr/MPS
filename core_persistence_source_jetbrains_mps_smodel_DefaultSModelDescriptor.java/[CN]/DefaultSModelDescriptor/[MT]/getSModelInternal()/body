{
  ModelLoadingState oldState=myModel.getState();
  if (oldState.ordinal() >= ModelLoadingState.ROOTS_LOADED.ordinal()) {
    return myModel.getModel(ModelLoadingState.ROOTS_LOADED);
  }
synchronized (myModel) {
    if (myModel instanceof InvalidSModel)     return myModel.getModel(null);
    oldState=myModel.getState();
    DefaultSModel res=myModel.getModel(ModelLoadingState.ROOTS_LOADED);
    if (res == null)     return null;
    if (oldState != myModel.getState()) {
      res.setModelDescriptor(this);
      fireModelStateChanged(myModel.getState());
    }
    return res;
  }
}
