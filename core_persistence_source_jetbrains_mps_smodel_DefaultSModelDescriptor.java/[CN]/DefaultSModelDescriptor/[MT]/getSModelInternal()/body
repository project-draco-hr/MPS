{
  ModelLoadingState oldState=myModel.getState();
  if (oldState.ordinal() >= ModelLoadingState.ROOTS_LOADED.ordinal()) {
    return (DefaultSModel)myModel.getModel(ModelLoadingState.ROOTS_LOADED);
  }
synchronized (myModel) {
    if (myModel instanceof InvalidSModel)     return (DefaultSModel)myModel.getModel(null);
    oldState=myModel.getState();
    DefaultSModel res=(DefaultSModel)myModel.getModel(ModelLoadingState.ROOTS_LOADED);
    if (res == null)     return null;
    if (oldState != myModel.getState()) {
      res.setModelDescriptor(this);
      fireModelStateChanged(myModel.getState());
    }
    return res;
  }
}
