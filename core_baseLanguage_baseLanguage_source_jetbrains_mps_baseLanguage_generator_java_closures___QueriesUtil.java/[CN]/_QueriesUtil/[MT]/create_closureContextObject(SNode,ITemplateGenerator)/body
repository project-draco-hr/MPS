{
  INodeAdapter enclosingClosureOrContextOwner=nodeInsideClosure.getAdapter().findParent(new Condition<INodeAdapter>(){
    public boolean met(    INodeAdapter object){
      if (object instanceof Closure)       return true;
      return ClosuresUtil.isClosureContextOwner(object.getNode());
    }
  }
);
  SModel model=generator.getTargetModel();
  if (enclosingClosureOrContextOwner instanceof Closure) {
    Closure enclosingClosure=(Closure)enclosingClosureOrContextOwner;
    SNode closureAdapter_output=generator.findOutputNodeByInputNodeAndMappingName(enclosingClosure.getNode(),ClosuresMappingId.CLOSURE__ADAPTER_CLASS);
    ClassConcept closureAdapter_output_=(ClassConcept)closureAdapter_output.getAdapter();
    FieldDeclaration field=JavaModelUtil_new.findField(closureAdapter_output_,ClosuresMappingId.NAME__CLOSURE_ADAPTER__CLOSURE_CONTEXT_FIELD);
    if (field != null) {
      FieldReference fieldRef=FieldReference.newInstance(model);
      fieldRef.setInstance(ThisExpression.newInstance(model));
      fieldRef.setFieldDeclaration(field);
      return BaseAdapter.fromAdapter(fieldRef);
    }
  }
  if (enclosingClosureOrContextOwner != null && ClosuresUtil.isClosureContextOwner(BaseAdapter.fromAdapter(enclosingClosureOrContextOwner))) {
    SNode varDeclStmt_output=generator.findOutputNodeByInputNodeAndMappingName(enclosingClosureOrContextOwner.getNode(),ClosuresMappingId.CONTEXT_OWNER__CLOSURE_CONTEXT__VARIABLE_DECL_STMT);
    if (varDeclStmt_output != null) {
      LocalVariableDeclarationStatement varDeclStmt_output_=(LocalVariableDeclarationStatement)varDeclStmt_output.getAdapter();
      LocalVariableDeclaration varible=varDeclStmt_output_.getLocalVariableDeclaration();
      LocalVariableReference variableRef=LocalVariableReference.newInstance(model);
      variableRef.setLocalVariableDeclaration(varible);
      return BaseAdapter.fromAdapter(variableRef);
    }
  }
  return BaseAdapter.fromAdapter(NullLiteral.newInstance(model));
}
