{
  final String text=((EditorCell_Label)editorContext.getSelectedCell()).getText();
  SNode varStms=SNodeFactoryOperations.replaceWithNewChild(node,SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement")));
  SNode var=SNodeFactoryOperations.createNewNode(SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7efL,"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration")),null);
  SLinkOperations.setTarget(varStms,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8cc67c7f0L,0xf8cc67c7f1L,"localVariableDeclaration"),var);
  SConcept t=ListSequence.fromList(SConceptOperations.getAllSubConcepts2(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37f506dL,"jetbrains.mps.baseLanguage.structure.Type"),SNodeOperations.getModel(varStms))).where(new IWhereFilter<SConcept>(){
    public boolean accept(    SConcept it){
      return eq_u3xwmg_a0a0a0a0a0a0g0g2(it.getConceptAlias(),text);
    }
  }
).first();
  if (t != null) {
    SLinkOperations.setTarget(var,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x450368d90ce15bc3L,0x4ed4d318133c80ceL,"type"),SNodeFactoryOperations.createNewNode(SNodeFactoryOperations.asInstanceConcept(t),null));
  }
 else {
    SNode clazz=ListSequence.fromList(SModelOperations.nodesIncludingImported(SNodeOperations.getModel(varStms),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101d9d3ca30L,"jetbrains.mps.baseLanguage.structure.Classifier"))).where(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return eq_u3xwmg_a0a0a0a0a0a0a0a7a6c(SPropertyOperations.getString(it,MetaAdapterFactory.getProperty(0xceab519525ea4f22L,0x9b92103b95ca8c0cL,0x110396eaaa4L,0x110396ec041L,"name")),text);
      }
    }
).first();
    if (clazz != null) {
      SNode cT=SNodeFactoryOperations.createNewNode(SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101de48bf9eL,"jetbrains.mps.baseLanguage.structure.ClassifierType")),null);
      SLinkOperations.setTarget(cT,MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101de48bf9eL,0x101de490babL,"classifier"),clazz);
      SLinkOperations.setTarget(var,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x450368d90ce15bc3L,0x4ed4d318133c80ceL,"type"),cT);
      SNodeFactoryOperations.addNewChild(cT,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101de48bf9eL,0x102419671abL,"parameter"),SNodeFactoryOperations.asInstanceConcept(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c37f506dL,"jetbrains.mps.baseLanguage.structure.Type")));
      SelectionUtil.selectCell(editorContext,SLinkOperations.getTarget(var,MetaAdapterFactory.getContainmentLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x450368d90ce15bc3L,0x4ed4d318133c80ceL,"type")),SelectionManager.LAST_EDITABLE_CELL);
      return;
    }
  }
  SelectionUtil.selectCell(editorContext,var,SelectionManager.LAST_EDITABLE_CELL);
}
