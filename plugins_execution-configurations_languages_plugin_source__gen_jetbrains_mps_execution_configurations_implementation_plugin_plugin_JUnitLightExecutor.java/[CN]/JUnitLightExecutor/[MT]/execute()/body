{
  final Iterable<? extends ITestNodeWrapper> nodes=myFilter.filter(myNodes);
  TestRunState runState=new TestRunState(nodes);
  TestEventsDispatcher eventsDispatcher=new TestEventsDispatcher(runState);
  TestLightExecutor executor=new TestLightExecutor(eventsDispatcher,nodes);
  final Future<?> future=doExecute(executor);
  final FakeProcessHandler process=new FakeProcessHandler(future,executor);
  JUnitProcessPack packProcess=new JUnitProcessPacker(myProject,runState,eventsDispatcher).packProcess(process);
  return packProcess;
}
