{
  final List<ITestNodeWrapper> seq=ListSequence.fromList(new LinkedList<ITestNodeWrapper>());
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      ListSequence.fromList(seq).addSequence(Sequence.fromIterable(ts).where(new IWhereFilter<ITestNodeWrapper>(){
        public boolean accept(        ITestNodeWrapper it){
          SNode root=SNodeOperations.getContainingRoot(it.getNode());
          return SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.test.structure.NodesTestCase") || SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.test.structure.EditorTestCase");
        }
      }
));
    }
  }
);
  return seq;
}
