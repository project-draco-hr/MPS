{
  jetbrains.mps.baseLanguage.structure.ForeachStatement result=jetbrains.mps.baseLanguage.structure.ForeachStatement.newInstance(myCurrentModel);
  StatementList body;
  Statement action=processStatementRefl(x.action);
  if (action instanceof BlockStatement) {
    body=((BlockStatement)action).getStatements();
  }
 else {
    body=StatementList.newInstance(myCurrentModel);
    body.addStatement(action);
  }
  LocalVariableDeclaration localVariableDeclaration=getLocalVariableDeclaration(x.elementVariable);
  jetbrains.mps.baseLanguage.structure.Expression iterable=processExpressionRefl(x.collection);
  result.setIterable(iterable);
  result.setVariable(localVariableDeclaration);
  result.setBody(body);
  return result;
}
