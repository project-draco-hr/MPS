{
  jetbrains.mps.baseLanguage.structure.Expression result=null;
  if (expression instanceof Literal && expression.constant != null && expression.constant != Constant.NotAConstant) {
    result=(jetbrains.mps.baseLanguage.structure.Expression)dispatchRefl("processConstant",expression.constant);
  }
  if (result == null) {
    result=(jetbrains.mps.baseLanguage.structure.Expression)dispatchRefl("processExpression",expression);
  }
  int parenthesisCount=(expression.bits & ASTNode.ParenthesizedMASK) >> ASTNode.ParenthesizedSHIFT;
  for (int parenthsCreated=0; parenthsCreated < parenthesisCount; parenthsCreated++) {
    ParenthesizedExpression parenthesizedExpression=ParenthesizedExpression.newInstance(myCurrentModel);
    parenthesizedExpression.setExpression(result);
    result=parenthesizedExpression;
  }
  return result;
}
