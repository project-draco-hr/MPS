{
  AnnotationBinding annotationBinding=annotation.getCompilerAnnotation();
  AnnotationInstance annotationInstance=AnnotationInstance.newInstance(myCurrentModel);
  SNode sourceNode=annotationInstance.getNode();
  sourceNode.addReference(myTypesProvider.createClassifierReference(annotationBinding.getAnnotationType(),AnnotationInstance.ANNOTATION,sourceNode));
  ElementValuePair[] pairs=annotationBinding.getElementValuePairs();
  if (pairs != null) {
    for (    ElementValuePair pair : pairs) {
      AnnotationInstanceValue value=AnnotationInstanceValue.newInstance(myCurrentModel);
      SNode valueNode=value.getNode();
      valueNode.addReference(myTypesProvider.createMethodReference(pair.getMethodBinding(),AnnotationInstanceValue.KEY,valueNode));
      annotationInstance.addValue(value);
    }
  }
  variableDeclaration.addAnnotation(annotationInstance);
}
