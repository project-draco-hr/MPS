{
  AnnotationBinding annotationBinding=annotation.getCompilerAnnotation();
  AnnotationInstance annotationInstance=AnnotationInstance.newInstance(myCurrentModel);
  SNode sourceNode=annotationInstance.getNode();
  sourceNode.addReference(myTypesProvider.createClassifierReference(annotationBinding.getAnnotationType(),AnnotationInstance.ANNOTATION,sourceNode));
  MemberValuePair[] pairs=annotation.memberValuePairs();
  if (pairs != null) {
    for (    MemberValuePair pair : pairs) {
      AnnotationInstanceValue value=AnnotationInstanceValue.newInstance(myCurrentModel);
      value.setValue(processExpressionRefl(pair.value));
      SNode valueNode=value.getNode();
      valueNode.addReference(myTypesProvider.createMethodReference(pair.binding,AnnotationInstanceValue.KEY,valueNode));
      annotationInstance.addValue(value);
    }
  }
  variableDeclaration.addAnnotation(annotationInstance);
}
