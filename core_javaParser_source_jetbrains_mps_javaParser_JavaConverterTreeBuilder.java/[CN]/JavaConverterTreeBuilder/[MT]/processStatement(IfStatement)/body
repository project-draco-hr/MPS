{
  boolean removeThen=isOptimizedFalse(x.condition);
  boolean removeElse=isOptimizedTrue(x.condition);
  jetbrains.mps.baseLanguage.structure.Expression expr=processExpressionRefl(x.condition);
  Statement thenStmt=removeThen ? null : processStatementRefl(x.thenStatement);
  Statement elseStmt=removeElse ? null : processStatementRefl(x.elseStatement);
  jetbrains.mps.baseLanguage.structure.IfStatement result=jetbrains.mps.baseLanguage.structure.IfStatement.newInstance(myCurrentModel);
  result.setCondition(expr);
  if (elseStmt != null) {
    result.setIfFalseStatement(elseStmt);
  }
  StatementList ifTrue=getStatementListFromStatement(thenStmt);
  result.setIfTrue(ifTrue);
  return result;
}
