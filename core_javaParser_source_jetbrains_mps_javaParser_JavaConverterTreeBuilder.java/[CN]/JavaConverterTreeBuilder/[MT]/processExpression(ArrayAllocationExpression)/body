{
  if (x.initializer != null) {
    List<jetbrains.mps.baseLanguage.structure.Expression> initializers=new ArrayList<jetbrains.mps.baseLanguage.structure.Expression>();
    if (x.initializer.expressions != null) {
      for (      Expression expression : x.initializer.expressions) {
        initializers.add(processExpressionRefl(expression));
      }
    }
    ArrayCreatorWithInitializer arrayCreator=ArrayCreatorWithInitializer.newInstance(myCurrentModel);
    for (    jetbrains.mps.baseLanguage.structure.Expression initializer : initializers) {
      arrayCreator.addInitValue(initializer);
    }
    return arrayCreator;
  }
 else {
    List<jetbrains.mps.baseLanguage.structure.Expression> dims=new ArrayList<jetbrains.mps.baseLanguage.structure.Expression>();
    for (    Expression dimension : x.dimensions) {
      if (dimension == null) {
        dims.add(null);
      }
 else {
        dims.add(processExpressionRefl(dimension));
      }
    }
    ArrayCreator arrayCreator=ArrayCreator.newInstance(myCurrentModel);
    for (    jetbrains.mps.baseLanguage.structure.Expression dim : dims) {
      DimensionExpression dimensionExpression=DimensionExpression.newInstance(myCurrentModel);
      arrayCreator.addDimensionExpression(dimensionExpression);
      dimensionExpression.setExpression(dim);
    }
    return arrayCreator;
  }
}
