{
  if (!(modelDescriptor.isLoaded()))   return;
  Collection<MPSNodeVirtualFile> deletedFiles=new ArrayList<MPSNodeVirtualFile>();
  for (  SNode root : modelDescriptor.getSModel().getRootNodes()) {
    SNodeReference pointer=new jetbrains.mps.smodel.SNodePointer(root);
    MPSNodeVirtualFile vf=myVirtualFiles.get(pointer);
    if (vf == null)     continue;
    deletedFiles.add(vf);
    myVirtualFiles.remove(pointer);
  }
  VFSNotifier vfsNotifier=new VFSNotifier(deletedFiles,Collections.<Pair<MPSNodeVirtualFile,String>>emptyList());
  if (vfsNotifier.hasPendingNotifications()) {
    ModelAccess.instance().runWriteInEDT(vfsNotifier);
  }
}
