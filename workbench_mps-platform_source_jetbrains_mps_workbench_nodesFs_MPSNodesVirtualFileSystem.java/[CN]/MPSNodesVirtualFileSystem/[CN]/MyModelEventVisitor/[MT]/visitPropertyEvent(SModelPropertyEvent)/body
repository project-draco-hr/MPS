{
  if (jetbrains.mps.util.SNodeOperations.isDisposed(event.getNode()))   return;
  MPSNodeVirtualFile vf=myVirtualFiles.get(new jetbrains.mps.smodel.SNodePointer((SModelReference)event.getModel().getReference(),event.getNode().getNodeId()));
  if (!(event.getNode().getModel() != null && event.getNode().getModel().isRoot(event.getNode())) || vf == null)   return;
  String newName=event.getNode().getPresentation();
  if (!newName.equals(vf.getName())) {
    myRenamedFiles.add(new Pair<MPSNodeVirtualFile,String>(vf,newName));
  }
}
