{
  if (jetbrains.mps.util.SNodeOperations.isDisposed(event.getNode()))   return;
  MPSNodeVirtualFile vf=myVirtualFiles.get(new SNodePointer(event.getNode()));
  if (!event.getNode().isRoot() || vf == null)   return;
  String newName=event.getNode().getPresentation();
  if (!newName.equals(vf.getName())) {
    myRenamedFiles.add(new Pair<MPSNodeVirtualFile,String>(vf,newName));
  }
}
