{
  MyModelEventVisitor visitor=new MyModelEventVisitor();
  for (  SModelEvent e : events) {
    e.accept(visitor);
  }
  final VFSNotifier vfsNotifier=new VFSNotifier(visitor.myDeletedFiles,visitor.myRenamedFiles);
  if (vfsNotifier.hasPendingNotifications()) {
    for (    MPSNodeVirtualFile deletedFile : visitor.myDeletedFiles) {
      myVirtualFiles.remove(deletedFile.getSNodePointer());
    }
    SwingUtilities.invokeLater(new Runnable(){
      @Override public void run(){
        ModelAccess.instance().runWriteActionInCommand(vfsNotifier);
      }
    }
);
  }
}
