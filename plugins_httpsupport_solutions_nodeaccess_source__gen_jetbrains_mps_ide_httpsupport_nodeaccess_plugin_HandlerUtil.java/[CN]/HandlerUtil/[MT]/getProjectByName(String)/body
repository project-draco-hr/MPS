{
  List<Project> openedProjects=ProjectManager.getInstance().getOpenedProjects();
  if (ListSequence.fromList(openedProjects).isEmpty()) {
    return null;
  }
  Project project;
  if ((projectName == null || projectName.length() == 0)) {
    project=ListSequence.fromList(openedProjects).first();
  }
 else {
    project=ListSequence.fromList(openedProjects).findFirst(new IWhereFilter<Project>(){
      public boolean accept(      Project it){
        return it.getName().equals(projectName);
      }
    }
);
    if (project == null) {
      project=ListSequence.fromList(openedProjects).first();
      if (LOG.isEnabledFor(Level.WARN)) {
        LOG.warn("Can't find project '" + projectName + "'. Using '"+ project.getName()+ "' instead.");
      }
    }
  }
  return project;
}
