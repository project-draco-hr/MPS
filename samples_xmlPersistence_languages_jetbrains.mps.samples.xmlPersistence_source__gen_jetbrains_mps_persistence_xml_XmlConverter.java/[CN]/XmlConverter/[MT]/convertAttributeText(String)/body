{
  List<SNode> result=ListSequence.fromList(new ArrayList<SNode>());
  int len=s.length();
  int start=0;
  for (int e=0; e < len; e++) {
    char c=s.charAt(e);
    if (c < 0x20 || c == '\'' || c == '"' || c == '<' || c == '>' || c == '&') {
      if (e > start) {
        ListSequence.fromList(result).addElement(createXmlTextValue_h7fa2c_a0a0a0a1a3a6(s.substring(start,e)));
      }
      start=e + 1;
      if (c < 0x20) {
        ListSequence.fromList(result).addElement(createXmlCharRefValue_h7fa2c_a0a0a2a1a3a6(toHex4(c)));
      }
 else {
        String name="quot";
switch (c) {
case '\'':
          name="apos";
        break;
case '<':
      name="lt";
    break;
case '>':
  name="gt";
break;
case '&':
name="amp";
break;
default :
}
ListSequence.fromList(result).addElement(createXmlEntityRefValue_h7fa2c_a0a2a0c0b0d0g(name));
}
}
}
if (len > start) {
ListSequence.fromList(result).addElement(createXmlTextValue_h7fa2c_a0a0a4a6(s.substring(start,len)));
}
return result;
}
