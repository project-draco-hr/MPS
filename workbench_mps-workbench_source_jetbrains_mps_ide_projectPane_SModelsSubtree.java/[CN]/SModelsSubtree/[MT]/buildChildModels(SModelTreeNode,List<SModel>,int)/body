{
  int index=rootIndex + 1;
  while (index < candidates.size()) {
    SModel candidate=(SModel)candidates.get(index);
    if (treeNode.isSubfolderModel(candidate)) {
      IOperationContext context=treeNode.getOperationContext();
      int countNamePart=getCountNamePart(candidate,SNodeOperations.getModelLongName(treeNode.getSModelDescriptor()));
      SModelTreeNode newChildModel=new SModelTreeNode(candidate,null,context,countNamePart);
      treeNode.addChildModel(newChildModel);
      index=buildChildModels(newChildModel,candidates,index);
    }
 else {
      return index;
    }
  }
  return index;
}
