{
  MultiMap<SModel,SModelEvent> byModel=new MultiMap<SModel,SModelEvent>();
  for (  SModelEvent e : events) {
    final SModel model=e.getModel();
    if (model instanceof EditableSModel) {
      byModel.putValue(model,e);
    }
  }
  for (  SModel m : byModel.keySet()) {
    SModelTreeNode treeNode=findTreeNode(m);
    if (treeNode == null) {
      continue;
    }
    MySNodeTreeUpdater treeUpdater=new MySNodeTreeUpdater(treeNode.getOperationContext().getProject(),treeNode);
    treeUpdater.setDependencyRecorder(treeNode.getDependencyRecorder());
    treeUpdater.eventsHappenedInCommand(new ArrayList<SModelEvent>(byModel.get(m)));
  }
}
