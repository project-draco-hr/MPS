{
  EditorMessageIconRenderer iconRenderer=getIconRendererUnderMouse(e);
  if (iconRenderer != null) {
    if (e.getButton() == MouseEvent.BUTTON3) {
      JPopupMenu popupMenu=iconRenderer.getPopupMenu();
      if (popupMenu != null && e.getID() == MouseEvent.MOUSE_CLICKED) {
        e.consume();
        popupMenu.show(myEditorComponent,e.getX(),e.getY());
      }
      return;
    }
    AnAction action=iconRenderer.getClickAction();
    if (e.getButton() == MouseEvent.BUTTON1 && action != null) {
      if (e.getID() == MouseEvent.MOUSE_CLICKED) {
        AnActionEvent actionEvent=new AnActionEvent(e,new LeftEditorHighlighterDataContext(myEditorComponent,iconRenderer.getNode()),ICON_AREA,action.getTemplatePresentation(),ActionManager.getInstance(),e.getModifiers());
        action.update(actionEvent);
        action.actionPerformed(actionEvent);
      }
      e.consume();
    }
  }
}
