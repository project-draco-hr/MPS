{
  myLeftFoldingAreaWidth=0;
  myRightFoldingAreaWidth=0;
  for (  AbstractFoldingAreaPainter painter : myFoldingAreaPainters) {
    if (painter instanceof FoldingButtonsPainter) {
      if (updateFolding) {
        painter.relayout();
      }
    }
 else     if (painter instanceof BracketsPainter) {
      if (updateBraces) {
        painter.relayout();
      }
    }
 else {
      painter.relayout();
    }
    myLeftFoldingAreaWidth=Math.max(myLeftFoldingAreaWidth,painter.getLeftAreaWidth());
    myRightFoldingAreaWidth=Math.max(myRightFoldingAreaWidth,painter.getRightAreaWidth());
  }
}
