{
  if (!myLoaded)   return;
synchronized (myPluginsLock) {
    for (    BaseProjectPlugin plugin : myPlugins) {
      try {
        plugin.disposeNonEDT();
      }
 catch (      Throwable t) {
        LOG.error("Plugin " + plugin + " threw an exception during disposing ",t);
      }
    }
    collectState(myPlugins);
    final List<BaseProjectPlugin> plugins=new ArrayList<BaseProjectPlugin>();
    plugins.addAll(myPlugins);
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        for (        BaseProjectPlugin plugin : plugins) {
          try {
            plugin.dispose();
          }
 catch (          Throwable t) {
            LOG.error("Plugin " + plugin + " threw an exception during disposing ",t);
          }
        }
      }
    }
);
    myPlugins.clear();
  }
  myLoaded=false;
}
