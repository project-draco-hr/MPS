{
  if (!myLoaded)   return;
  for (  BaseProjectPlugin plugin : myPlugins) {
    try {
      plugin.disposeNonEDT();
    }
 catch (    Throwable t) {
      LOG.error("Plugin " + plugin + " threw an exception during disposing ",t);
    }
  }
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      collectState();
      for (      BaseProjectPlugin plugin : myPlugins) {
        try {
          plugin.dispose();
        }
 catch (        Throwable t) {
          LOG.error("Plugin " + plugin + " threw an exception during disposing ",t);
        }
      }
    }
  }
);
  myPlugins.clear();
  myLoaded=false;
}
