{
  final SearchResults<SNode> results=new SearchResults<SNode>();
  try {
    monitor.start("filtering nodes",ListSequence.fromList(nodes).count());
    for (    final SNode node : ListSequence.fromList(nodes)) {
      ModelAccess.instance().runReadAction(new Runnable(){
        public void run(){
          SNode concept=SModelUtil.findConceptDeclaration(node.getConcept().getQualifiedName());
          if (concept != null && targetScope.contains(concept)) {
            results.getSearchResults().add(new SearchResult(node,"language"));
          }
        }
      }
);
      if (monitor.isCanceled()) {
        return results;
      }
      monitor.advance(1);
    }
  }
  finally {
    monitor.done();
  }
  return results;
}
