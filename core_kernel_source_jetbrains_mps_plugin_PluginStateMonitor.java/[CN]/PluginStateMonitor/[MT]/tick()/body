{
  if (myState == State.DISCONNECTED || (myState == State.CONNECTED && isConnected()))   return;
  if (myState == State.CONNECTED) {
    setNewState(State.TRYING_TO_CONNECT);
    myTimer.setNewDelay(INITIAL_DELAY);
  }
 else {
    if (isConnected()) {
      setNewState(State.CONNECTED);
      myTimer.setNewDelay(INITIAL_DELAY);
    }
 else {
      int newDelay=(int)(myTimer.getDelay() * DELAY_MUL);
      if (newDelay <= CRITICAL_DELAY) {
        myTimer.setNewDelay(newDelay);
      }
 else {
        setNewState(State.DISCONNECTED);
        myTimer.setNewDelay(INITIAL_DELAY);
      }
    }
  }
}
