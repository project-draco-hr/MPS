{
  for (  SNode root : rootNodes) {
    for (    SNode n : SNodeUtil.getDescendants(root)) {
      SConceptId conceptId=IdHelper.getConceptId(n.getConcept());
      if (conceptId != null) {
        conceptIds.put(conceptId,n.getConcept().getQualifiedName());
      }
      if (n.getParent() != null) {
        SContainmentLink link=n.getContainmentLink();
        SContainmentLinkId linkId=IdHelper.getLinkId(link);
        linkIds.put(linkId,link.getRoleName());
      }
      for (      SProperty prop : n.getProperties()) {
        SPropertyId propId=IdHelper.getPropertyId(prop);
        propIds.put(propId,prop.getName());
      }
      for (      SReference ref : n.getReferences()) {
        SReferenceLinkId refId=IdHelper.getRefId(ref.getReferenceLink());
        refIds.put(refId,ref.getRole());
      }
    }
  }
}
