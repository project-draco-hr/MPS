{
  Set<SModelDescriptor> models=new HashSet<SModelDescriptor>(context.getMPSProject().getScope().getModelDescriptors());
  for (  SModelDescriptor model : new ArrayList<SModelDescriptor>(models)) {
    if (!SModelStereotype.isUserModel(model)) {
      models.remove(model);
    }
    if (myReturnLoadedModels) {
      if (!condition.met(model.getSModel())) {
        models.remove(model);
      }
    }
 else {
      if (!condition.met(model)) {
        models.remove(model);
      }
    }
  }
  return models;
}
