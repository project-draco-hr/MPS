{
  if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.core.structure.ScopeProvider")) {
    Scope scope=BehaviorReflection.invokeVirtual(Scope.class,SNodeOperations.cast(node,"jetbrains.mps.lang.core.structure.ScopeProvider"),"virtual_getScope_7722139651431880752",new Object[]{kind,role,index});
    if (scope != null) {
      return scope;
    }
  }
  return getScope(parent(node),node,kind);
}
