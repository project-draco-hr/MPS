{
  if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.core.structure.ScopeProvider")) {
    Scope scope=((Scope)BehaviorManager.getInstance().invoke(Object.class,SNodeOperations.cast(node,"jetbrains.mps.lang.core.structure.ScopeProvider"),"virtual_getScope_7722139651431880752",new Class[]{SNode.class,SNode.class,String.class,Integer.TYPE},kind,role,index));
    if (scope != null) {
      return scope;
    }
  }
  return getScope(parent(node),node,kind);
}
