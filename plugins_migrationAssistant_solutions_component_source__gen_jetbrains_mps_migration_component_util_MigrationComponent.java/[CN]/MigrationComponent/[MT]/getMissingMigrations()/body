{
  final List<Tuples._2<SModule,SLanguage>> result=ListSequence.fromList(new ArrayList<Tuples._2<SModule,SLanguage>>());
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      Iterable<SModule> modules=MigrationsUtil.getMigrateableModulesFromProject(ProjectHelper.toMPSProject(myProject));
      for (      SModule module : Sequence.fromIterable(modules)) {
        for (        SLanguage lang : SetSequence.fromSet(((AbstractModule)module).getAllUsedLanguages())) {
          int currentLangVersion=lang.getLanguageVersion();
          int ver=((AbstractModule)module).getUsedLanguageVersion(lang);
          ver=Math.max(ver,0);
          currentLangVersion=Math.max(currentLangVersion,0);
          if (ver >= currentLangVersion) {
            continue;
          }
          ListSequence.fromList(result).addElement(MultiTuple.<SModule,SLanguage>from(module,lang));
        }
      }
    }
  }
);
  return result;
}
