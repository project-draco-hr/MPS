{
  updateSModelReferences();
  updateModuleReferences();
  if (!isPackaged()) {
    Set<ModelRoot> visited=new HashSet<ModelRoot>();
    List<ModelRoot> remove=new ArrayList<ModelRoot>();
    ModuleDescriptor descriptor=getModuleDescriptor();
    if (descriptor == null)     return;
    for (    ModelRoot e : descriptor.getStubModelEntries()) {
      if (visited.contains(e)) {
        remove.add(e);
      }
      visited.add(e);
    }
    descriptor.getStubModelEntries().removeAll(remove);
  }
}
