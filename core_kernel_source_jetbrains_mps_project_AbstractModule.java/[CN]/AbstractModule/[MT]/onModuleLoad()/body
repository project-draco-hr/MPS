{
  boolean save=false;
  if (isPackaged()) {
    updateDescriptorClasspath();
  }
 else {
    Set<String> visited=new HashSet<String>();
    for (    ClassPathEntry e : getModuleDescriptor().getClassPathEntrys()) {
      if (visited.contains(e.getPath())) {
        e.delete();
        save=true;
      }
      visited.add(e.getPath());
    }
  }
  boolean setModuleDescriptor=convertRenamedDependencies();
  if (setModuleDescriptor && !isPackaged()) {
    setModuleDescriptor(getModuleDescriptor());
  }
  if ((save || setModuleDescriptor) && !isPackaged()) {
    save();
  }
}
