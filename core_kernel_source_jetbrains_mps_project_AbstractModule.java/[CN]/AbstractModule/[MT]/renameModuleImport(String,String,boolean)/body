{
  return CommandProcessor.instance().executeCommand(new Calculable<ModuleDescriptor>(){
    public ModuleDescriptor calculate(){
      ModuleDescriptor md=getModuleDescriptor();
      if (md == null)       return null;
      for (      ModuleReference r : md.getDependencys()) {
        if (oldModuleUID.equals(r.getName())) {
          md.removeChild(r);
        }
      }
      ModuleReference ref=ModuleReference.newInstance(md.getModel());
      ref.setName(newModuleUID);
      md.addDependency(ref);
      if (setModuleDescriptor) {
        setModuleDescriptor(md);
        save();
      }
      return md;
    }
  }
);
}
