{
  LOG.assertLog(myModuleReference == null || EqualUtil.equals(myModuleReference.getModuleId(),reference.getModuleId()),reference.getModuleFqName());
  jetbrains.mps.project.structure.modules.ModuleReference oldValue=myModuleReference;
  myModuleReference=reference;
  if (oldValue != null && oldValue.getModuleFqName() != null && !oldValue.getModuleFqName().equals(myModuleReference.getModuleFqName())) {
    MPSModuleRepository.getInstance().moduleFqNameChanged(this,oldValue.getModuleFqName());
  }
}
