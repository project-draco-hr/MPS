{
  if (base == null) {
    return null;
  }
  if (path.startsWith(base)) {
    return path.substring(base.length());
  }
  String relativeToParent=getPathRelativeTo(path,new File(base).getParent());
  if (relativeToParent.startsWith(File.separator)) {
    return ".." + relativeToParent;
  }
 else {
    return ".." + File.separator + relativeToParent;
  }
}
