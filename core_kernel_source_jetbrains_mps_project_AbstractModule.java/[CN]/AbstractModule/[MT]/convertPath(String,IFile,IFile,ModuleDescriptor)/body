{
  String packagedSourcesPath=getModuleSourceDir() != null ? getModuleSourceDir().getPath() : null;
  String canonicalPath=FileUtil.getCanonicalPath(originalPath).toLowerCase();
  if (packagedSourcesPath == null || !canonicalPath.startsWith(packagedSourcesPath)) {
    String shrinked=MacrosFactory.forModule(this).shrinkPath(originalPath);
    if (MacrosFactory.containsNonMPSMacros(shrinked)) {
      return originalPath;
    }
  }
  return null;
}
