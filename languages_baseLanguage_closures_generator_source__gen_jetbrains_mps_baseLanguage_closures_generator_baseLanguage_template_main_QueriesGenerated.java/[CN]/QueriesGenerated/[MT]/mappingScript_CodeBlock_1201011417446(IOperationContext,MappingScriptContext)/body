{
  for (  SNode cl : SModelOperations.getNodes(_context.getModel(),"jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral")) {
    if (ClosureLiteralUtil.hasYieldStatement(cl)) {
      PrepStatementUtil.prepStatementList(_context,SLinkOperations.getTarget(cl,"body",true),((TemplateQueryContext)_context).getGenerator());
      for (      SNode varRef : SNodeOperations.getDescendants(SLinkOperations.getTarget(cl,"body",true),"jetbrains.mps.baseLanguage.structure.VariableReference",false,new String[]{})) {
        if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(varRef,"variableDeclaration",false),"jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration") && Values.CLOSURE_DATA.get(_context,SLinkOperations.getTarget(varRef,"variableDeclaration",false)) != null) {
          if (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(varRef),"jetbrains.mps.baseLanguage.closures.structure.ClosureArgReference"))) {
            SNode argRef=SNodeOperations.replaceWithNewChild(varRef,"jetbrains.mps.baseLanguage.closures.structure.ClosureArgReference");
            SLinkOperations.setTarget(argRef,"original",varRef,true);
          }
        }
      }
    }
  }
}
