{
  SNode refNode=ShowClassInHierarchy_Action.this.editorCell.getSNodeWRTReference();
  if (SNodeOperations.isInstanceOf(refNode,"jetbrains.mps.baseLanguage.structure.Classifier")) {
    return SNodeOperations.cast(refNode,"jetbrains.mps.baseLanguage.structure.Classifier");
  }
  if (SNodeOperations.isInstanceOf(refNode,"jetbrains.mps.baseLanguage.structure.ConstructorDeclaration")) {
    SNode classifier=SNodeOperations.getAncestor(refNode,"jetbrains.mps.baseLanguage.structure.Classifier",false,false);
    if (classifier != null) {
      return classifier;
    }
  }
  SNode outerClass=SNodeOperations.cast(SNodeOperations.getAncestorWhereConceptInList(ShowClassInHierarchy_Action.this.node,new String[]{"jetbrains.mps.baseLanguage.structure.ClassConcept","jetbrains.mps.baseLanguage.structure.Interface"},true,false),"jetbrains.mps.baseLanguage.structure.Classifier");
  return outerClass;
}
