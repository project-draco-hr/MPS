{
  SNode refNode=((EditorCell)MapSequence.fromMap(_params).get("editorCell")).getSNodeWRTReference();
  if (SNodeOperations.isInstanceOf(refNode,"jetbrains.mps.baseLanguage.structure.Classifier")) {
    return SNodeOperations.cast(refNode,"jetbrains.mps.baseLanguage.structure.Classifier");
  }
  if (SNodeOperations.isInstanceOf(refNode,"jetbrains.mps.baseLanguage.structure.ConstructorDeclaration")) {
    SNode classifier=SNodeOperations.getAncestor(refNode,"jetbrains.mps.baseLanguage.structure.Classifier",false,false);
    if (classifier != null) {
      return classifier;
    }
  }
  SNode outerClass=SNodeOperations.cast(SNodeOperations.getAncestorWhereConceptInList(((SNode)MapSequence.fromMap(_params).get("node")),new String[]{"jetbrains.mps.baseLanguage.structure.ClassConcept","jetbrains.mps.baseLanguage.structure.Interface"},true,false),"jetbrains.mps.baseLanguage.structure.Classifier");
  return outerClass;
}
