{
  if (myInvalidatedFlag.compareAndSet(true,false)) {
    myModuleWatcher.clear();
    Set<SModuleReference> result=new LinkedHashSet<SModuleReference>();
    THashSet<Language> langs=new THashSet<Language>();
    collectAllExtendedLanguages(langs);
    for (    Language lang : langs) {
      myModuleWatcher.watchLanguage(lang);
      result.add(lang.getModuleReference());
    }
    this.myCachedDeps=Collections.unmodifiableSet(result);
    myCacheInitGuard.countDown();
  }
  while (true) {
    try {
      myCacheInitGuard.await();
      break;
    }
 catch (    InterruptedException e) {
    }
  }
  return myCachedDeps;
}
