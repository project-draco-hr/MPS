{
  SNode newLastNode=null;
  SNode prevNode=null;
  for (  SNode child : getChildIterable()) {
    if (next && prevNode == myLastNode) {
      newLastNode=child;
      break;
    }
    if (!next && child == myLastNode) {
      newLastNode=prevNode;
      break;
    }
    prevNode=child;
  }
  return newLastNode != null ? new NodeRangeSelection(getEditorComponent(),myFirstNode,newLastNode,myFilter) : null;
}
