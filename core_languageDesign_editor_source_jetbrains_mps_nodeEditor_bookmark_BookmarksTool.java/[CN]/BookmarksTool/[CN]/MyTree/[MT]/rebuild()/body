{
  MPSTreeNode root=new TextTreeNode("no bookmarks"){
    public ActionGroup getActionGroup(){
      BaseAction hierarchyAction=new BaseAction("Remove All Bookmarks"){
        protected void doExecute(        AnActionEvent e){
          myBookmarkManager.clearBookmarks();
        }
      }
;
      return ActionUtils.groupFromActions(hierarchyAction);
    }
  }
;
  root.setIcon(Icons.DEFAULT_ICON);
  List<SNodePointer> nodePointers=myBookmarkManager.getAllBookmarks();
  boolean hasBookmarks=false;
  for (int i=0; i < nodePointers.size(); i++) {
    final SNodePointer nodePointer=nodePointers.get(i);
    if (nodePointer != null && nodePointer.getNode() != null) {
      hasBookmarks=true;
      TextTreeNode textTreeNode=new MyTextTreeNode(i);
      textTreeNode.setIcon(BookmarkManager.getIcon(i));
      textTreeNode.add(new MySNodeTreeNode(nodePointer.getNode(),null,getProject().getComponent(MPSProjectHolder.class).getMPSProject().createOperationContext()));
      root.add(textTreeNode);
    }
  }
  if (hasBookmarks) {
    root.setText("bookmarks");
  }
  return root;
}
