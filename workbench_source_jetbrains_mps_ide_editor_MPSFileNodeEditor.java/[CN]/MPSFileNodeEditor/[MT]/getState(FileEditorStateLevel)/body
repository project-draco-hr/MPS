{
  final MPSEditorStateWrapper state=new MPSEditorStateWrapper();
  if (!isDisposed()) {
    ModelAccess.instance().runReadAction(new Runnable(){
      public void run(){
        state.setEditorState(myNodeEditor.saveState(level));
      }
    }
);
  }
  state.setLevel(level);
  return state;
}
