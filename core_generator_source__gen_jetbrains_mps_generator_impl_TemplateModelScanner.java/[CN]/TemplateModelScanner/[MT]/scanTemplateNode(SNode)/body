{
  SetSequence.fromSet(myTargetLanguages).addElement(node.getLanguageNamespace());
  for (  SNode n : node.getChildrenIterable()) {
    if (SNodeOperations.isInstanceOf(n,"jetbrains.mps.lang.generator.structure.NodeMacro") || SNodeOperations.isInstanceOf(n,"jetbrains.mps.lang.generator.structure.RootTemplateAnnotation") || SNodeOperations.isInstanceOf(n,"jetbrains.mps.lang.generator.structure.PropertyMacro")|| SNodeOperations.isInstanceOf(n,"jetbrains.mps.lang.generator.structure.ReferenceMacro")|| SNodeOperations.isInstanceOf(n,"jetbrains.mps.lang.generator.structure.TemplateFragment")) {
      scanQueryNode(n);
    }
 else {
      scanTemplateNode(n);
    }
  }
}
