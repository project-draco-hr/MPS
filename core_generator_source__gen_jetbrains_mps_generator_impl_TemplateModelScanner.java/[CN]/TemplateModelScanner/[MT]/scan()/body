{
  for (  SNode root : myTemplateModel.getRootNodes()) {
    if (safeIsInstanceOf(root,SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.MappingConfiguration"))) {
      scanControlNode(root);
    }
 else     if (safeIsInstanceOf(root,SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.TemplateSwitch"))) {
      scanControlNode(SNodeOperations.cast(root,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1112730859144l,"jetbrains.mps.lang.generator.structure.TemplateSwitch")));
    }
 else     if (safeIsInstanceOf(root,SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.TemplateDeclaration"))) {
      scanTemplateContextNode(SLinkOperations.getTarget(SNodeOperations.cast(root,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1092059087312l,"jetbrains.mps.lang.generator.structure.TemplateDeclaration")),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1092059087312l,1092060348987l,"contentNode")));
      for (      SNode n : SLinkOperations.getChildren(SNodeOperations.cast(root,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1092059087312l,"jetbrains.mps.lang.generator.structure.TemplateDeclaration")),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),982871510064032177l,982871510064032342l,"parameter"))) {
        scanControlNode(n);
      }
    }
 else     if (safeIsInstanceOf(root,SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.MappingScript"))) {
      scanQueryNode(SLinkOperations.getTarget(SLinkOperations.getTarget(SNodeOperations.cast(root,MetaAdapterFactory.getConcept(new UUID(-5475912601019530992l,-8082971551085732881l),1195499912406l,"jetbrains.mps.lang.generator.structure.MappingScript")),MetaAdapterFactory.getContainmentLink(new UUID(-5475912601019530992l,-8082971551085732881l),1195499912406l,1195501105008l,"codeBlock")),MetaAdapterFactory.getContainmentLink(new UUID(-935030926396207931l,-6610165693999523818l),1137021947720l,1137022507850l,"body")));
    }
 else {
      if ((safeNodeAttribute(root,SConceptOperations.findConceptDeclaration("jetbrains.mps.lang.generator.structure.RootTemplateAnnotation")) != null)) {
        scanTemplateNode(root);
      }
    }
  }
  SetSequence.fromSet(myTargetLanguages).removeElement("jetbrains.mps.lang.generator");
  if (myTemplateModel.getRootNodes().iterator().hasNext()) {
    SetSequence.fromSet(myQueryLanguages).addElement("jetbrains.mps.lang.generator");
  }
}
