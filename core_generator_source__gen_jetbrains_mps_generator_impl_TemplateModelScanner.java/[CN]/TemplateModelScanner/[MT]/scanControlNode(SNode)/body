{
  if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.generator.structure.InlineTemplateWithContext_RuleConsequence")) {
    scanTemplateContextNode(SLinkOperations.getTarget(SNodeOperations.cast(node,"jetbrains.mps.lang.generator.structure.InlineTemplateWithContext_RuleConsequence"),"contentNode",true));
  }
 else   if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence")) {
    scanTemplateNode(SLinkOperations.getTarget(SNodeOperations.cast(node,"jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence"),"templateNode",true));
  }
 else   if (SNodeOperations.isInstanceOf(node,"jetbrains.mps.lang.generator.structure.PatternReduction_MappingRule")) {
    SetSequence.fromSet(myQueryLanguages).addElement("jetbrains.mps.lang.pattern");
    scanControlNode(SLinkOperations.getTarget(SNodeOperations.cast(node,"jetbrains.mps.lang.generator.structure.PatternReduction_MappingRule"),"ruleConsequence",true));
    scanQueryNode(SLinkOperations.getTarget(SNodeOperations.cast(node,"jetbrains.mps.lang.generator.structure.PatternReduction_MappingRule"),"conditionFunction",true));
  }
 else {
    if ("jetbrains.mps.lang.generator".equals(node.getLanguageNamespace())) {
      for (      SNode child : node.getChildrenIterable()) {
        scanControlNode(child);
      }
    }
 else {
      scanQueryNode(node);
    }
  }
}
