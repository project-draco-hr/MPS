{
  if (safeIsInstanceOf(node,concept_rc_InlineTemplateWithContext)) {
    scanTemplateContextNode(SLinkOperations.getTarget(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x7b85dded0be53d6cL,"jetbrains.mps.lang.generator.structure.InlineTemplateWithContext_RuleConsequence")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x7b85dded0be53d6cL,0x7b85dded0be53d6fL,"contentNode")));
  }
 else   if (safeIsInstanceOf(node,concept_rc_InlineTemplate)) {
    scanTemplateNode(SLinkOperations.getTarget(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x112103dd1e8L,"jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x112103dd1e8L,0x112103ebf76L,"templateNode")));
  }
 else   if (safeIsInstanceOf(node,concept_rule_PatternReduction)) {
    SetSequence.fromSet(myQueryLanguages).addElement("jetbrains.mps.lang.pattern");
    scanControlNode(SLinkOperations.getTarget(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x190d31fe6a12ebb4L,"jetbrains.mps.lang.generator.structure.PatternReduction_MappingRule")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x190d31fe6a12ebb4L,0x190d31fe6a12ebb8L,"ruleConsequence")));
    scanQueryNode(SLinkOperations.getTarget(SNodeOperations.cast(node,MetaAdapterFactory.getConcept(0xb401a68083254110L,0x8fd384331ff25befL,0x190d31fe6a12ebb4L,"jetbrains.mps.lang.generator.structure.PatternReduction_MappingRule")),MetaAdapterFactory.getContainmentLink(0xb401a68083254110L,0x8fd384331ff25befL,0x190d31fe6a12ebb4L,0x190d31fe6a12ebb5L,"conditionFunction")));
  }
 else {
    if ("jetbrains.mps.lang.generator".equals(node.getConcept().getLanguage().getQualifiedName())) {
      for (      SNode child : node.getChildren()) {
        scanControlNode(child);
      }
    }
 else {
      scanQueryNode(node);
    }
  }
}
