{
  boolean wasAutoExpandEnabled=myAutoExpandEnabled;
  try {
    myAutoExpandEnabled=false;
    for (int i=0; i < node.getChildCount(); i++) {
      collapseAll((MPSTreeNode)node.getChildAt(i));
    }
    if (node.isInitialized()) {
      super.collapsePath(new TreePath(node.getPath()));
    }
  }
  finally {
    myAutoExpandEnabled=wasAutoExpandEnabled;
  }
}
