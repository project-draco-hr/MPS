{
  List<SNode> layouts=SModelOperations.getRoots(_context.getModel(),"jetbrains.mps.build.packaging.structure.MPSLayout");
  for (  SNode layout : Sequence.fromIterable(layouts)) {
    List<String> allMAcroNames=MPSLayout_Behavior.call_getAllMacroNames_1220980057360(layout,true);
    for (    String macroName : Sequence.fromIterable(allMAcroNames)) {
      SNode macro=SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.Macro",null);
      SPropertyOperations.set(macro,"name",macroName);
      SPropertyOperations.set(macro,"path",MPSLayout_Behavior.call_evaluateMacro_1220980091008(layout,macroName).replace("\\",Util.SEPARATOR));
      SLinkOperations.addChild(layout,"macro",macro);
    }
  }
}
