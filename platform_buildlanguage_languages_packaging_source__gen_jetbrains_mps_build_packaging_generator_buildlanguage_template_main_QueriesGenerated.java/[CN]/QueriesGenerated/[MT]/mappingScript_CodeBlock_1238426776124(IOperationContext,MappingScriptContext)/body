{
  List<SNode> layouts=SModelOperations.getRoots(_context.getModel(),"jetbrains.mps.build.packaging.structure.MPSLayout");
  for (  SNode layout : ListSequence.fromList(layouts)) {
    Set<IModule> modules=SetSequence.fromSet(new HashSet<IModule>());
    for (    SNode m : ListSequence.fromList(MPSLayout_Behavior.call_getModules_1213877228340(layout))) {
      SetSequence.fromSet(modules).addElement(Module_Behavior.call_getModule_1213877515148(m));
    }
    for (    IModule module : SetSequence.fromSet(modules)) {
      Set<IModule> dependency=module.getDependenciesManager().getAllDependOnModules();
      if (module instanceof DevKit) {
        DevKit d=(DevKit)module;
        dependency.addAll(d.getAllExportedLanguages());
        dependency.addAll(d.getAllExportedSolutions());
        dependency.addAll(d.getAllExtendedDevkits());
      }
      for (      IModule dependent : SetSequence.fromSet(dependency)) {
        if (!(dependent instanceof Generator) && !(SetSequence.fromSet(modules).contains(dependent)) && !(dependent.isPackaged())&& dependent.getDescriptorFile() != null) {
          String errorText="Required module " + dependent.getModuleFqName() + " is absent. Used by module "+ module.getModuleFqName()+ ".";
          System.err.println(errorText);
          _context.showErrorMessage(null,errorText);
        }
      }
    }
  }
}
