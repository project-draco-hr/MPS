{
  DateTimeComparator dtc=type != null ? DateTimeComparator.getInstance(type) : DateTimeComparator.getInstance();
  int compareValue;
  if (op1 == null) {
    compareValue=op2 != null ? -1 : 0;
  }
 else {
    compareValue=op2 != null ? dtc.compare(op1,op2) : 1;
  }
  boolean result;
switch (cmp) {
case EQ:
    result=compareValue == 0;
  break;
case NE:
result=compareValue != 0;
break;
case LT:
result=compareValue < 0;
break;
case GT:
result=compareValue > 0;
break;
case LE:
result=compareValue <= 0;
break;
case GE:
result=compareValue >= 0;
break;
default :
throw new UnsupportedOperationException("Unsupported compare type: " + cmp);
}
return result;
}
