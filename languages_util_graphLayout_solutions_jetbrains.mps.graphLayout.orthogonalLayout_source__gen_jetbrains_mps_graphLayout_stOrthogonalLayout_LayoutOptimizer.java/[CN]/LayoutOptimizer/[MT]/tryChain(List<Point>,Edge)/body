{
  boolean verMid=ListSequence.<Point>fromList(chain).getElement(1).x == ListSequence.<Point>fromList(chain).getElement(2).x;
  boolean zLike;
  if (verMid) {
    zLike=Util1D.insideOpenSegment(ListSequence.<Point>fromList(chain).getElement(0).x,ListSequence.<Point>fromList(chain).getElement(3).x,ListSequence.<Point>fromList(chain).getElement(1).x);
  }
 else {
    zLike=Util1D.insideOpenSegment(ListSequence.<Point>fromList(chain).getElement(0).y,ListSequence.<Point>fromList(chain).getElement(3).y,ListSequence.<Point>fromList(chain).getElement(1).y);
  }
  if (zLike) {
    if (testRect(GeomUtil.getRectangle(ListSequence.<Point>fromList(chain).getElement(0),ListSequence.<Point>fromList(chain).getElement(2)),edge)) {
      return getChain(ListSequence.<Point>fromList(chain).getElement(0),ListSequence.<Point>fromList(chain).getElement(2),ListSequence.<Point>fromList(chain).getElement(3));
    }
    if (testRect(GeomUtil.getRectangle(ListSequence.<Point>fromList(chain).getElement(1),ListSequence.<Point>fromList(chain).getElement(3)),edge)) {
      return ListSequence.<Point>fromList(getChain(ListSequence.<Point>fromList(chain).getElement(3),ListSequence.<Point>fromList(chain).getElement(1),ListSequence.<Point>fromList(chain).getElement(0))).reversedList();
    }
  }
 else {
    Rectangle first=GeomUtil.getRectangle(ListSequence.<Point>fromList(chain).getElement(0),ListSequence.<Point>fromList(chain).getElement(2));
    Rectangle second=GeomUtil.getRectangle(ListSequence.<Point>fromList(chain).getElement(1),ListSequence.<Point>fromList(chain).getElement(3));
    boolean firstSmaller=first.height <= second.height && first.width <= second.width;
    if (firstSmaller) {
      if (testRect(first,edge)) {
        return getChain(ListSequence.<Point>fromList(chain).getElement(0),ListSequence.<Point>fromList(chain).getElement(2),ListSequence.<Point>fromList(chain).getElement(3));
      }
    }
 else {
      if (testRect(second,edge)) {
        return ListSequence.<Point>fromList(getChain(ListSequence.<Point>fromList(chain).getElement(3),ListSequence.<Point>fromList(chain).getElement(1),ListSequence.<Point>fromList(chain).getElement(0))).reversedList();
      }
    }
  }
  return null;
}
