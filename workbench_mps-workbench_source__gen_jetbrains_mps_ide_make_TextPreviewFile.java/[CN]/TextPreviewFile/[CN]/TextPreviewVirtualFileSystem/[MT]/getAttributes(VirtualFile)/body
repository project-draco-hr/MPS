{
  if (file instanceof TextPreviewFile) {
    TextPreviewFile previewFile=(TextPreviewFile)file;
    long length=COMPLEX_CONTENT.length();
    if (previewFile.forks.size() == 1) {
      Object next=previewFile.forks.values().iterator().next();
      if (next instanceof String) {
        length=((String)next).length();
      }
    }
    return new FileAttributes(false,false,false,false,length,previewFile.getModificationStamp(),false);
  }
  return null;
}
