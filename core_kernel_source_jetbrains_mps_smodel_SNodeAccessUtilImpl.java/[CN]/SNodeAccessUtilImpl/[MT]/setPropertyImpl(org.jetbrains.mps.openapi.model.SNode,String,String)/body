{
  Set<Pair<org.jetbrains.mps.openapi.model.SNode,String>> threadSet=ourPropertySettersInProgress.get();
  Pair<org.jetbrains.mps.openapi.model.SNode,String> pair=new Pair<org.jetbrains.mps.openapi.model.SNode,String>(node,propertyName);
  if (threadSet.contains(pair)) {
    node.setProperty(propertyName,propertyValue);
    return;
  }
  PropertyConstraintsDescriptor descriptor=ConceptRegistry.getInstance().getConstraintsDescriptor(node.getConcept().getQualifiedName()).getProperty(propertyName);
  threadSet.add(pair);
  try {
    descriptor.setValue(node,propertyValue);
  }
 catch (  Exception t) {
    LOG.error(null,t);
  }
 finally {
    threadSet.remove(pair);
  }
}
