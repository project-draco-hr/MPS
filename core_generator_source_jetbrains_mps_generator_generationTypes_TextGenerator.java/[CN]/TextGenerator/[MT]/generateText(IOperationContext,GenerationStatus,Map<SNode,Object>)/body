{
  boolean hasErrors=false;
  ModelDependencies dependRoot=new ModelDependencies();
  DebugInfo info=null;
  if (myGenerateDebugInfo) {
    status.setDebugInfo(info=new DebugInfo());
  }
  status.setBLDependencies(dependRoot);
  SModel outputModel=status.getOutputModel();
  if (outputModel == null)   return !hasErrors;
  for (  SNode outputNode : outputModel.roots()) {
    try {
      TextGenerationResult result=TextGenerationUtil.generateText(context,outputNode,myFailIfNoTextgen,myGenerateDebugInfo);
      hasErrors|=result.hasErrors();
      if (result.hasErrors()) {
        myTextGenErrors.addAll(result.errors());
      }
 else {
        Object contents=result.getResult();
        if (TextGenerationUtil.NO_TEXTGEN != contents) {
          String fileName=outputNode.getName() + "." + TextGenManager.instance().getExtension(outputNode);
          if (info != null) {
            fillDebugInfo(info,fileName,result);
          }
          fillDependencies(dependRoot,outputNode,fileName,result);
          outputNodeContents.put(outputNode,contents);
        }
 else {
        }
      }
    }
  finally {
      TextGenManager.reset();
    }
  }
  return !hasErrors;
}
