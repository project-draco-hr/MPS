{
  MyFileEditorState result=new MyFileEditorState();
  if (getEditorContext() != null) {
    boolean full=level == FileEditorStateLevel.UNDO || level == FileEditorStateLevel.FULL;
    result.myMemento=getEditorContext().createMemento(full);
    EditorComponent editorComponent=getCurrentEditorComponent();
    if (editorComponent != null) {
      result.myInspectorMemento=((NodeEditorComponent)editorComponent).getInspector().getEditorContext().createMemento(full);
    }
  }
  result.myCurrentTab=myTabbedPane.getCurrentTabIndex();
  for (  ILazyTab tab : myTabbedPane.getTabs()) {
    result.myInnerCurrentTabs.add(tab.getCurrentTab());
  }
  return result;
}
