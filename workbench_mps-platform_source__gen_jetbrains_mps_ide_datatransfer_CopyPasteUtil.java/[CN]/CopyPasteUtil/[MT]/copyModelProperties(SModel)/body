{
  SModelReference modelReference=model.getReference();
  SModelFqName fqName=new SModelFqName(SModelStereotype.withoutStereotype(modelReference.getModelName()),SModelStereotype.INTERNAL_COPY);
  jetbrains.mps.smodel.SModel newModel=new jetbrains.mps.smodel.SModel(new jetbrains.mps.smodel.SModelReference(fqName,SModelId.generate()));
  for (  SModuleReference language : ((SModelInternal)model).importedLanguages()) {
    newModel.addLanguage(language);
  }
  for (  SModelReference importedModel : SModelOperations.getImportedModelUIDs(model)) {
    newModel.addModelImport(importedModel,false);
  }
  for (  SModuleReference devKit : ((SModelInternal)model).importedDevkits()) {
    newModel.addDevKit(devKit);
  }
  return newModel;
}
