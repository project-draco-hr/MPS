{
  if (requiredLanguages.length == 0 && requiredImports.length == 0) {
    return null;
  }
  return new Runnable(){
    @Override public void run(){
      for (      SModelReference imported : requiredImports) {
        ((SModelInternal)targetModel).addModelImport(imported,false);
      }
      for (      SModuleReference language : requiredLanguages) {
        ((SModelInternal)targetModel).addLanguage(language);
      }
      SModule targetModule=targetModel.getModule();
      if (targetModule == null) {
        return;
      }
      for (      SModuleReference language : requiredLanguages) {
        ((AbstractModule)targetModule).addUsedLanguage(language);
      }
      for (      SModelReference modelRef : requiredImports) {
        SModel model=modelRef.resolve(p.getRepository());
        if (model == null) {
          continue;
        }
        SModule module=model.getModule();
        if (module == null || module == targetModule) {
          continue;
        }
        ((AbstractModule)targetModule).addDependency(module.getModuleReference(),false);
      }
    }
  }
;
}
