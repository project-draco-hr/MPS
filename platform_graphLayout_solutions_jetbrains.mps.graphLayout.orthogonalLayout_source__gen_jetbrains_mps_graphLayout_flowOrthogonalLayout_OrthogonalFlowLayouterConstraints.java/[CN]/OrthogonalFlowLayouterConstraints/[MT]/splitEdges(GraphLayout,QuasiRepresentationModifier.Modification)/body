{
  List<Edge> edges=modification.getModifiedEdges();
  Edge firstEdge=ListSequence.fromList(edges).first();
  List<Point> path=layout.getLayoutFor(firstEdge);
  Node node=modification.getSource();
  Direction2D dartsDir;
  if (firstEdge.getSource() == node) {
    dartsDir=GeomUtil.getDirection(ListSequence.fromList(path).getElement(0),ListSequence.fromList(path).getElement(1));
  }
 else {
    int last=ListSequence.fromList(path).count() - 1;
    dartsDir=GeomUtil.getDirection(ListSequence.fromList(path).getElement(last),ListSequence.fromList(path).getElement(last - 1));
  }
  Direction2D shiftDir=dartsDir.turnClockwise(3);
  int dx=shiftDir.dx();
  int dy=shiftDir.dy();
  int nodeLenght;
  if (dx != 0) {
    nodeLenght=layout.getLayoutFor(node).width;
  }
 else {
    nodeLenght=layout.getLayoutFor(node).height;
  }
  int unitShift=nodeLenght / (2 * ListSequence.fromList(edges).count());
  int curShift=0;
  for (  Edge edge : ListSequence.fromList(edges)) {
    if (edge != ListSequence.fromList(edges).first()) {
      layout.removeStraightBends(edge);
      List<Point> edgeLayout=layout.getLayoutFor(edge);
      List<Point> pointsToShift;
      if (edge.getSource() == node) {
        pointsToShift=ListSequence.fromListAndArray(new ArrayList<Point>(),ListSequence.fromList(edgeLayout).getElement(0),ListSequence.fromList(edgeLayout).getElement(1));
      }
 else {
        int last=ListSequence.fromList(edgeLayout).count() - 1;
        pointsToShift=ListSequence.fromListAndArray(new ArrayList<Point>(),ListSequence.fromList(edgeLayout).getElement(last),ListSequence.fromList(edgeLayout).getElement(last - 1));
      }
      for (      Point point : ListSequence.fromList(pointsToShift)) {
        point.translate(dx * curShift,dy * curShift);
      }
    }
    curShift+=unitShift;
  }
}
