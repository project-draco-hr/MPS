{
  LOG.debug("Updating class path");
  if (changeModule == null) {
    refreshBundles(myOSGIBundles.values().toArray(new Bundle[0]),true);
  }
 else {
    refreshBundles(new Bundle[]{myOSGIBundles.get(changeModule.getModuleUID())},true);
  }
  if (changeModule == null) {
    for (    IModule m : myModuleRepository.getAllModules()) {
      m.reloadStubs();
      ((AbstractModule)m).updateRuntimeClassPath();
    }
  }
 else {
    changeModule.reloadStubs();
    ((AbstractModule)changeModule).updateRuntimeClassPath();
  }
  LOG.debug("Done");
}
