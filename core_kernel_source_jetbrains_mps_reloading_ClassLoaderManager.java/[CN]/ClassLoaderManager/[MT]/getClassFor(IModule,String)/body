{
  if (myUseOSGI) {
    Bundle b=myOSGIBundles.get(module.getModuleUID());
    if (b == null) {
      LOG.error("Can't find a bundle for module " + module.getModuleUID());
      return null;
    }
    try {
      return b.loadClass(classFqName);
    }
 catch (    ClassNotFoundException e) {
      if (e.getMessage().contains("because the bundle")) {
        LOG.error(e);
      }
      return null;
    }
catch (    NoClassDefFoundError e) {
      LOG.error(e);
      return null;
    }
  }
 else {
    RBundle bundle=myRuntimeEnvironment.get(module.getModuleUID());
    if (bundle == null) {
      LOG.error("Can't find a bundle " + module.getModuleUID());
      return null;
    }
    ClassLoader loader=bundle.getClassLoader();
    try {
      return Class.forName(classFqName,true,loader);
    }
 catch (    ClassNotFoundException e) {
      return null;
    }
  }
}
