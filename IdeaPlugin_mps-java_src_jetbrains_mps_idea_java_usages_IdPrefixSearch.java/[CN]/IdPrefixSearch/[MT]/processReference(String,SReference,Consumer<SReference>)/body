{
  if (!(ref instanceof StaticReference))   return;
  SNodeId target=ref.getTargetNodeId();
  if (!(target instanceof Foreign))   return;
  String targetNodeIdStr=target.toString();
  boolean found=false;
  int idx=targetNodeIdStr.indexOf(prefix);
  while (idx >= 0) {
    if (idx == 0) {
      found=true;
      break;
    }
    char c=targetNodeIdStr.charAt(idx - 1);
    if (c == '.' || Character.isLetterOrDigit(c)) {
      idx=targetNodeIdStr.indexOf(prefix,idx + 1);
      continue;
    }
    found=true;
    break;
  }
  if (found) {
    consumer.consume(ref);
  }
}
