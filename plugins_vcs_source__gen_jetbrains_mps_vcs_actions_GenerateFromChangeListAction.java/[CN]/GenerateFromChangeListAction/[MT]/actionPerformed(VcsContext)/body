{
  List<SModelDescriptor> modelsToGenerate=getModelsToGenerate(vcsContext);
  Project project=vcsContext.getProject();
  IOperationContext context=new ProjectOperationContext(ProjectHelper.toMPSProject(project));
  if (myMakeSession.compareAndSet(null,new MakeSession(context))) {
    try {
      if (IMakeService.INSTANCE.get().openNewSession(myMakeSession.get())) {
        doPerformAction(myMakeSession.get(),context,modelsToGenerate);
      }
    }
  finally {
      myMakeSession.set(null);
    }
  }
}
