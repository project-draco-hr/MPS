{
  SModel onDisk=new jetbrains.mps.smodel.SModel(inMemory.getReference());
  try {
    onDisk=ModelPersistence.readModel(new FileDataSource(modelFile),false);
  }
 catch (  ModelReadException e) {
    LOG.error("Could not read model",e);
  }
  Project project=ProjectManager.getInstance().getOpenProjects()[0];
  final ModelDifferenceDialog dialog=new ModelDifferenceDialog(onDisk,inMemory,project,"Filesystem version (Read-Only)","Memory Version");
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      dialog.toFront();
    }
  }
);
  dialog.show();
}
