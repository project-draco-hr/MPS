{
  if (!myFindUsagesSupported)   return Collections.emptySet();
  if (myNeedSearchForStrings) {
    Set<String> strings=new HashSet<String>();
    for (    SNode node : nodes) {
      strings.add(quoteSpecialXMLCharacters(node.getId()));
    }
    if (!myModelRootManager.containsSomeString(myModelDescriptor,strings))     return Collections.emptySet();
  }
  SModel model=myModelDescriptor.getSModel();
  if (model == null)   return Collections.emptySet();
  Set<SReference> result=new HashSet<SReference>();
  for (  SNode root : model.getRoots()) {
    addUsages(root,nodes,result);
  }
  return result;
}
