{
  if (myDataSource == null)   return new HashSet<SNode>();
  boolean changed=false;
  if (myModelDescriptor instanceof EditableSModelDescriptor) {
    changed=((EditableSModelDescriptor)myModelDescriptor).isChanged();
  }
  if (!myNeedSearchForStrings && !changed && !descendantsKnownInModel.isEmpty())   return descendantsKnownInModel;
  if (myNeedSearchForStrings && !myDataSource.containsString(myModelDescriptor,node.getId()))   return descendantsKnownInModel;
  SModel model=myModelDescriptor.getSModel();
  Set<SNode> result=new HashSet<SNode>();
  if (model != null) {
    for (    SNode root : model.roots()) {
      addDescendants(root,node,result);
    }
  }
  descendantsKnownInModel.clear();
  descendantsKnownInModel.addAll(result);
  return descendantsKnownInModel;
}
