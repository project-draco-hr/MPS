{
  ArrayDeque<MPSTreeNode> queue=new ArrayDeque<MPSTreeNode>(128);
  queue.add(start);
  while (!queue.isEmpty()) {
    MPSTreeNode tn=queue.removeFirst();
    if (resultCondition.met(tn)) {
      return tn;
    }
    if (descendCondition.met(tn)) {
      if (!tn.isInitialized()) {
        tn.init();
      }
      for (      MPSTreeNode node : tn) {
        queue.addLast(node);
      }
    }
  }
  return null;
}
