{
  final MPSProject project=launchProject();
  final ChangeModelProcessor changeModelProcessor=new ChangeModelProcessor(project,modelName,changer);
  final IGenerationType filesGenType=getFilesGenType();
  changeModelProcessor.changeStep(filesGenType);
  final EditorGenerateType genType=new EditorGenerateType(true);
  changeModelProcessor.generateTestModel(genType);
  changeModelProcessor.generateModelToChange(genType);
  final Boolean[] returnValue=new Boolean[]{null};
  final SModel testModel=changeModelProcessor.getTestModel();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      try {
        SNode test=ListSequence.fromList(SModelOperations.getRoots(testModel,null)).first();
        String className=NameUtil.nodeFQName(test);
        genType.compile(IAdaptiveProgressMonitor.NULL_PROGRESS_MONITOR);
        ClassLoader classLoader=genType.getCompiler().getClassLoader(MakeAssert.class.getClassLoader());
        Class testClass=classLoader.loadClass(className);
        Method method=testClass.getMethods()[0];
        returnValue[0]=(Boolean)method.invoke(null);
        System.out.println("Test " + className + "."+ method.getName()+ " return "+ returnValue[0]);
        changeModelProcessor.revertStep(filesGenType);
        changeModelProcessor.generateModelToChange(filesGenType);
      }
 catch (      Throwable t) {
        disposeProject(project);
        t.printStackTrace();
        Assert.assertTrue("Exception: " + t,false);
      }
    }
  }
);
  disposeProject(project);
  Assert.assertFalse(MESSAGE_DEPENDENCY_NOT_CHECKED,returnValue[0]);
}
