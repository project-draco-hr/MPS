{
  if (r instanceof SReferenceLinkAdapterById) {
    return ((SReferenceLinkAdapterById)r).getRoleId();
  }
 else {
    return ConceptRegistry.getInstance().getConceptDescriptor(r.getContainingConcept().getQualifiedName()).getRefDescriptor(r.getRoleName()).getId();
  }
}
