{
  Project p=new Project();
  ArrayList<File> res=new ArrayList<File>();
  for (  File dir : path) {
    FileSet fs=new FileSet();
    fs.setProject(p);
    fs.setDir(dir);
    for (    FilesCollector.FilePattern fp : filePtns) {
      ((fp.include ? fs.createInclude() : fs.createExclude())).setName(fp.filePtn);
    }
    for (Iterator it=fs.iterator(); it.hasNext(); ) {
      res.add(((FileResource)it.next()).getFile());
    }
  }
  return res;
}
