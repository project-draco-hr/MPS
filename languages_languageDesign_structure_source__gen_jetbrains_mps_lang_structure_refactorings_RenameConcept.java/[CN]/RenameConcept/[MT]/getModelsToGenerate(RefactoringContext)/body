{
  Set<SModel> result=SetSequence.fromSetWithValues(new HashSet<SModel>(),(List<SModel>)refactoringContext.getModelsFromUsages(refactoringContext.getSelectedModel().getSModel()));
  Language sourceLanguage=Language.getLanguageFor(SNodeOperations.getModel(refactoringContext.getSelectedNode()).getModelDescriptor());
  if (sourceLanguage != null) {
    for (    List<SModel> value : Sequence.fromIterable(RefactoringUtil.getLanguageAndItsExtendingLanguageModels(refactoringContext.getSelectedProject(),sourceLanguage).values())) {
      SetSequence.fromSet(result).addSequence(ListSequence.fromList(value));
    }
  }
  return SetSequence.fromSet(result).toListSequence();
}
