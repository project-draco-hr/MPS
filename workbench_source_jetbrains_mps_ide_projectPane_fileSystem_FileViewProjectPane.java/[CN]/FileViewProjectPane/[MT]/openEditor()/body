{
  TreePath selectionPath=getTree().getSelectionPath();
  if (selectionPath == null)   return;
  if (!(selectionPath.getLastPathComponent() instanceof FileTreeNode))   return;
  final FileTreeNode fileTreeNode=(FileTreeNode)selectionPath.getLastPathComponent();
  com.intellij.openapi.command.CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    public void run(){
      myProject.getComponent(IdeDocumentHistory.class).includeCurrentCommandAsNavigation();
      FileEditorManager editorManager=FileEditorManager.getInstance(myProject);
      editorManager.openFile(fileTreeNode.getFile(),true);
    }
  }
,"navigate","");
}
