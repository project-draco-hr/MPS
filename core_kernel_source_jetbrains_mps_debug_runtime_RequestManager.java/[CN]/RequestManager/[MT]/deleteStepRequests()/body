{
  DebuggerManagerThread.assertIsManagerThread();
  List<StepRequest> stepRequests=myEventRequestManager.stepRequests();
  if (stepRequests.size() > 0) {
    List<StepRequest> toDelete=new ArrayList<StepRequest>(stepRequests.size());
    for (    StepRequest request : stepRequests) {
      ThreadReference threadReference=request.thread();
      if (threadReference.status() != ThreadReference.THREAD_STATUS_UNKNOWN) {
        toDelete.add(request);
      }
    }
    for (    StepRequest stepRequest : toDelete) {
      Requestor requestor=findRequestor(stepRequest);
      if (requestor != null) {
        Set<EventRequest> requestSet=myRequestorToBelongedRequests.get(requestor);
        requestSet.remove(stepRequest);
        if (requestSet.isEmpty()) {
          myRequestorToBelongedRequests.remove(requestor);
        }
      }
    }
    myEventRequestManager.deleteEventRequests(toDelete);
  }
}
