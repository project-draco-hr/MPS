{
  AbstractEditorComponent nodeEditorComponent=context.getNodeEditorComponent();
  EditorCell selection=nodeEditorComponent.getDeepestSelectedCell();
  nodeEditorComponent.clearSelectionStack();
  EditorCell target=findTarget(selection);
  nodeEditorComponent.changeSelection(target);
  if (selection.isPunctuationLayout() && target instanceof EditorCell_Label) {
    EditorCell_Label targetLabel=(EditorCell_Label)target;
    TextLine textLine=targetLabel.getRenderedTextLine();
    int textLength=textLine.getText().length();
    if (textLength > 0) {
      if (textLine == targetLabel.getNullTextLine()) {
        textLine.setCaretPosition(0);
      }
 else {
        textLine.setCaretPosition(textLength - 1);
      }
    }
 else {
      if (this.canExecute(context))       this.execute(context);
    }
  }
 else   if (target instanceof EditorCell_Label) {
    ((EditorCell_Label)target).end();
  }
}
