{
  EditorCell selectedCell=context.getNodeEditorComponent().getSelectedCell();
  SNode selectedNode=selectedCell.getSNode();
  SModel model=selectedNode.getModel();
  SModel modelProperties=CopyPasteNodeUtil.getModelPropertiesFromClipboard();
  Set<String> necessaryLanguages=CopyPasteNodeUtil.getNecessryLanguagesFromClipboard();
  Set<SModelUID> necessaryImports=CopyPasteNodeUtil.getNecessaryImportsFromClipboard();
  if (!CopyPasteNodeUtil.addImportsAndLanguagesToModel(model,modelProperties,necessaryLanguages,necessaryImports,context.getOperationContext()))   return;
  CopyPasteNodeUtil.NodesAndOutgoingReferences nodesAndOutgoingReferences=CopyPasteNodeUtil.getNodesAndOutgoingReferencesFromClipboard(selectedNode.getModel());
  List<SNode> pasteNodes=nodesAndOutgoingReferences.getNodes();
  Set<SReference> outgoingReferences=nodesAndOutgoingReferences.getOutgoingReferences();
  SNode anchor=pasteNodes.get(0);
  IOperationContext operationContext=context.getOperationContext();
  EditorsPane editorsPane=operationContext.getComponent(EditorsPane.class);
  PasteUtil.paste(selectedCell,anchor,operationContext,editorsPane);
  for (int i=1; i < pasteNodes.size(); i++) {
    SNode node=pasteNodes.get(i);
    PasteUtil.pasteRelative(anchor,node,false,operationContext);
    anchor=node;
  }
  Resolver.resolveReferences(outgoingReferences,operationContext);
  AbstractEditorComponent editor=context.getNodeEditorComponent();
  editor.rebuildEditorContent();
}
