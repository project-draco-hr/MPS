{
  super("Revision Range");
  myColumn=column;
  myFileAnnotation=fileAnnotation;
  myBeforeAction=new VcsRevisionRange.HiglightAction(true);
  myAfterAction=new VcsRevisionRange.HiglightAction(false);
  myRevisionNumberToRevision=MapSequence.fromMap(new HashMap<VcsRevisionNumber,VcsFileRevision>());
  for (  VcsFileRevision rev : ListSequence.fromList(myFileAnnotation.getRevisions())) {
    MapSequence.fromMap(myRevisionNumberToRevision).put(rev.getRevisionNumber(),rev);
  }
  setPopup(false);
  add(myBeforeAction);
  add(myAfterAction);
  add(new BaseAction("Remove Highlighting"){
    protected void doExecute(    AnActionEvent event,    Map<String,Object> map){
      myBeforeAction.myRevision=null;
      myAfterAction.myRevision=null;
      myColumn.invalidateLayout();
    }
  }
);
}
