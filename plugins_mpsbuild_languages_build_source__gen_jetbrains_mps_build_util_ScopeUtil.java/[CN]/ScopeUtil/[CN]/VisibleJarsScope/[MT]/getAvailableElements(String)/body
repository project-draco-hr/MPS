{
  if (StringUtils.isEmpty(prefix)) {
    return Sequence.fromIterable(getAllNodes()).select(new ISelector<SNode,SNode>(){
      public SNode select(      SNode it){
        return (SNodeOperations.isInstanceOf(it,"jetbrains.mps.build.structure.BuildSource_SingleFile") ? it : SLinkOperations.getTarget(SNodeOperations.cast(it,"jetbrains.mps.build.structure.BuildLayout_Copy"),"fileset",true));
      }
    }
).toListSequence();
  }
  List<SNode> result=new ArrayList<SNode>();
  for (  SNode n : getAllNodes()) {
    String name=getName(n);
    if (prefix == null || name.startsWith(prefix)) {
      ListSequence.fromList(result).addElement((SNodeOperations.isInstanceOf(n,"jetbrains.mps.build.structure.BuildSource_SingleFile") ? n : SLinkOperations.getTarget(SNodeOperations.cast(n,"jetbrains.mps.build.structure.BuildLayout_Copy"),"fileset",true)));
    }
  }
  return result;
}
