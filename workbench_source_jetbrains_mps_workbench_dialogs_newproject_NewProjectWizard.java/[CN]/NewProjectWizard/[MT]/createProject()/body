{
  myCreatedProject=ProjectManagerEx.getInstanceEx().newProject(myOptions.getProjectName(),myOptions.getProjectPath() + File.separator + myOptions.getProjectName()+ MPSExtentions.DOT_IDEAPROJECT,true,false);
  final MPSProject mpsProject=myCreatedProject.getComponent(MPSProjectHolder.class).getMPSProject();
  ModelAccess.instance().runWriteAction(new Runnable(){
    public void run(){
      if (myOptions.getCreateNewLanguage()) {
        myCreatedLanguage=createNewLanguage(mpsProject);
        mpsProject.addProjectLanguage(myCreatedLanguage);
      }
      if (myOptions.getCreateNewSolution()) {
        IFile solutionDescriptorFile=createNewSolution();
        myCreatedSolution=mpsProject.addProjectSolution(solutionDescriptorFile.toFile());
      }
    }
  }
);
}
