{
  if (!(myModelDescriptor instanceof EditableSModel)) {
    return;
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      addNewModels();
      removeUnusedModels();
      addNewLanguages();
      removeUnusedLanguages();
      addNewDevKits();
      removeUnusedDevKits();
      addNewEngagedOnGenerationLanguages();
      removeUnusedEngagedOnGenerationLanguages();
      if (myModelDescriptor instanceof GeneratableSModel) {
        GeneratableSModel dmd=(GeneratableSModel)myModelDescriptor;
        if (dmd.isDoNotGenerate() != myDoNotGenerate) {
          dmd.setDoNotGenerate(myDoNotGenerate);
        }
      }
      if (myModelDescriptor instanceof DefaultSModelDescriptor) {
        DefaultSModel dm=(DefaultSModel)myModelDescriptor.getSModel();
        if (myGenerateIntoModelFolder) {
          dm.getSModelHeader().setOptionalProperty(USE_MODEL_FOLDER_FOR_GENERATION,Boolean.TRUE.toString());
        }
 else {
          dm.getSModelHeader().removeOptionalProperty(USE_MODEL_FOLDER_FOR_GENERATION);
        }
      }
      ((EditableSModel)myModelDescriptor).save();
    }
  }
);
  new MissingDependenciesFixer(myModelDescriptor).fix(true);
}
