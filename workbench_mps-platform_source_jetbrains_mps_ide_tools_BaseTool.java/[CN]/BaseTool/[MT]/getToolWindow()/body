{
  if (!ThreadUtils.isEventDispatchThread()) {
    throw new IllegalStateException("Can't use this outside of EDT");
  }
  if (!isRegistered())   register();
  return myWindowManager.getToolWindow(myId);
}
