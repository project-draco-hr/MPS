{
  if (oldNodeId != null) {
    String key=node.getModel().getUID() + "#" + oldNodeId;
    myMap.remove(key);
  }
  if (node.hasId()) {
    String key=node.getModel().getUID() + "#" + node.getId();
    if (myMap.containsKey(key)) {
      LOG.assertLog(myMap.get(key).getModel().isDisposed(),"attempt to put another node with same key: " + key);
    }
    myMap.put(key,node);
  }
}
