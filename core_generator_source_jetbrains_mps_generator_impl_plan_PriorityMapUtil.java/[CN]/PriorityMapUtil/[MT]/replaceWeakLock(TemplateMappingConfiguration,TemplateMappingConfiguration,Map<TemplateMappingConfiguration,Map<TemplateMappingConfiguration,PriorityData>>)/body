{
  Map<TemplateMappingConfiguration,PriorityData> locksToUpdate=priorityMap.get(lockedMapping);
  PriorityData dataToKeep=locksToUpdate.get(weakLockMapping);
  locksToUpdate.remove(weakLockMapping);
  Map<TemplateMappingConfiguration,PriorityData> locksToAdd=priorityMap.get(weakLockMapping);
  for (  TemplateMappingConfiguration lockMappingToAdd : locksToAdd.keySet()) {
    PriorityData priorityData=locksToUpdate.get(lockMappingToAdd);
    if (priorityData != null) {
      priorityData.update(locksToAdd.get(lockMappingToAdd));
      priorityData.update(dataToKeep);
    }
 else {
      priorityData=new PriorityData(locksToAdd.get(lockMappingToAdd));
      priorityData.update(dataToKeep);
      locksToUpdate.put(lockMappingToAdd,priorityData);
    }
  }
}
