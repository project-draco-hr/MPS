{
  Object searchScopeOrListOfNodes=this.createSearchScopeOrListOfNodes(operationContext,_context);
  if (searchScopeOrListOfNodes == null) {
    return new EmptySearchScope();
  }
  if (searchScopeOrListOfNodes instanceof ISearchScope) {
    return (ISearchScope)searchScopeOrListOfNodes;
  }
  if (searchScopeOrListOfNodes instanceof List) {
    return new SimpleSearchScope((List)searchScopeOrListOfNodes);
  }
  if (searchScopeOrListOfNodes instanceof Iterable) {
    return new SimpleSearchScope(CollectionUtil.asList((Iterable)searchScopeOrListOfNodes));
  }
  throw new RuntimeException("unexpected type in search-scope provider " + searchScopeOrListOfNodes.getClass());
}
