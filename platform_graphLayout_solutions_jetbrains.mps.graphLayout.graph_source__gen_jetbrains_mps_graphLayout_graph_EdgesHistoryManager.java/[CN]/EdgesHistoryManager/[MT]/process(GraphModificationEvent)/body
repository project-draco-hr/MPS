{
  List<Edge> history;
switch (event.getType()) {
case EDGE_SPLITTED:
    Edge edge=event.getEdge();
  history=event.getSplit();
if (!(checkConnection(edge.getSource(),ListSequence.fromList(history).first()))) {
  history=ListSequence.fromList(history).reversedList();
}
MapSequence.fromMap(myHistory).put(event.getEdge(),history);
break;
case EDGE_REVERTED:
history=MapSequence.fromMap(myHistory).get(event.getEdge());
if (history != null) {
MapSequence.fromMap(myHistory).put(event.getEdge(),ListSequence.fromList(history).reversedList());
break;
}
default :
}
}
