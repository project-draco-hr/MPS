{
  ModelDigestHelper.getInstance().addDigestProvider(new DigestProvider(){
    @Override public Map<String,String> getGenerationHashes(    final IOperationContext operationContext,    @NotNull IFile modelFile){
      try {
        VirtualFile file=VirtualFileUtils.getVirtualFile(modelFile);
        if (file == null)         return null;
        final Map<String,String>[] valueArray=new Map[]{null};
        FileBasedIndex.getInstance().processValues(ModelDigestIndex.NAME,FileBasedIndex.getFileId(file),file,new ValueProcessor<Map<String,String>>(){
          public boolean process(          VirtualFile file,          Map<String,String> values){
            valueArray[0]=values;
            return true;
          }
        }
,GlobalSearchScope.allScope(operationContext.getProject()));
        return valueArray[0];
      }
 catch (      IndexNotReadyException e) {
      }
catch (      ProcessCanceledException e) {
      }
      return null;
    }
  }
);
}
