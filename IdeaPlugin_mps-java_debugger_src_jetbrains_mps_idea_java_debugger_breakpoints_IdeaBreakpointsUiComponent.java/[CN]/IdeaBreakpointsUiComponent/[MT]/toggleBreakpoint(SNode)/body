{
  boolean breakpointWasSet=false;
  GeneratedSourcePosition sourcePosition=GeneratedSourcePosition.fromNode(node);
  if (sourcePosition != null) {
    PsiFile psiFile=sourcePosition.getPsiFile(myProject);
    if (psiFile != null) {
      Document document=PsiDocumentManager.getInstance(myProject).getDocument(psiFile);
      if (document != null) {
        if (!hasMethodOrFieldsAtLine(document,psiFile,sourcePosition.getLineNumber())) {
          breakpointWasSet=toggleAtLine(psiFile,sourcePosition.getLineNumber());
        }
      }
    }
  }
  if (!breakpointWasSet) {
    LOG.debug("Failed to create a breakpoint at this location");
  }
}
