{
  int lineStartOffset=document.getLineStartOffset(lineNumber);
  int lineEndOffset=document.getLineEndOffset(lineNumber);
  Class<? extends PsiElement>[] elementsLookingFor=new Class[]{PsiMethod.class,PsiField.class};
  for (int i=lineStartOffset; i < lineEndOffset; ++i) {
    for (    Class<? extends PsiElement> elementClass : elementsLookingFor) {
      PsiElement psiElement=PsiTreeUtil.findElementOfClassAtOffset(file,i,elementClass,true);
      if (psiElement != null && document.getLineNumber(psiElement.getTextOffset()) == lineNumber) {
        return true;
      }
    }
  }
  return false;
}
