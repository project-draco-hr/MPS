{
  CycleDetector cd=new CycleDetector();
  for (  Entry edge : myRulePriorityEntries) {
    if (edge.isTrivial() || edge.isStrict()) {
      continue;
    }
    cd.feed(edge);
  }
  ArrayList<Group> rv=new ArrayList<Group>();
  HashSet<Entry> toDrop=new HashSet<Entry>();
  Collection<Cycle> cycles=cd.detect();
  for (  Cycle c : cycles) {
    rv.add(new Group(c.elements));
    toDrop.addAll(c.edges);
  }
  myRulePriorityEntries.removeAll(toDrop);
  return rv;
}
