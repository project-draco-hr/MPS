{
  if (SNodeOperations.getModel(project).isTransient()) {
    IModule transientModule=SNodeOperations.getModel(project).getModelDescriptor().getModule();
    return new ModelPlusImportedScope(SNodeOperations.getModel(project),false,transientModule.getScope(),"jetbrains.mps.buildScript.structure.BuildLayout_Node");
  }
  VisibleArtifacts artifacts=new VisibleArtifacts(project,null);
  artifacts.collect();
  return new ScopeUtil.VisibleArtifactsScope(artifacts);
}
