{
  if (context == null || !(context instanceof IncrementalTypecheckingContext))   return;
  ((IncrementalTypecheckingContext)context).runTypeCheckingAction(new Runnable(){
    @Override public void run(){
      IncrementalTypechecking typesComponent=context.getBaseNodeTypesComponent();
      if (!wasCheckedOnce || !context.isCheckedRoot(true) || context.messagesChanged(editorContext.getEditorComponent().getClass())) {
        try {
          myMessagesChanged=true;
          context.checkIfNotChecked(rootNode,false);
        }
 catch (        Throwable t) {
          LOG.error(t);
          typesComponent.setCheckedTypesystem();
          return;
        }
      }
      collectMessagesForNodesWithErrors(context,editorContext,messages,true);
    }
  }
);
}
