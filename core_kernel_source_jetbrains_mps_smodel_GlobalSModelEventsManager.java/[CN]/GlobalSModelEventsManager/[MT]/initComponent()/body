{
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      mySModelRepository.addModelRepositoryListener(new SModelRepositoryAdapter(){
        public void modelAdded(        SModelDescriptor modelDescriptor){
          addListeners(modelDescriptor);
        }
        public void modelRemoved(        SModelDescriptor modelDescriptor){
          removeListeners(modelDescriptor);
        }
      }
);
      for (      SModelDescriptor sm : mySModelRepository.getAllModelDescriptors()) {
        addListeners(sm);
      }
    }
  }
);
  CommandProcessor.getInstance().addCommandListener(myCommandListener);
}
