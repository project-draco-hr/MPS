{
  if (ourInstance != null) {
    throw new IllegalStateException("already initialized");
  }
  ourInstance=this;
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      mySModelRepository.addModelRepositoryListener(new SModelRepositoryAdapter(SModelRepositoryListenerPriority.PLATFORM){
        @Override public void modelAdded(        SModel modelDescriptor){
          addListeners(modelDescriptor);
        }
        @Override public void modelRemoved(        SModel modelDescriptor){
          removeListeners(modelDescriptor);
        }
      }
);
      for (      SModel sm : mySModelRepository.getModelDescriptors()) {
        addListeners(sm);
      }
    }
  }
);
}
