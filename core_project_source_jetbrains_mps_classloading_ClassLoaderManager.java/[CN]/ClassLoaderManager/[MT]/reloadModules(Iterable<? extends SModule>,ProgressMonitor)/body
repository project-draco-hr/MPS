{
  try {
    monitor.start("Reloading modules' class loaders...",2);
    Set<SModule> modulesToReload=new HashSet<SModule>();
    for (    SModule module : modules) {
      if (canLoad(module))       modulesToReload.add(module);
    }
    Set<SModule> unloadedModules=unloadModules(modulesToReload,monitor.subTask(1));
    return loadModules(unloadedModules,monitor.subTask(1));
  }
  finally {
    monitor.done();
  }
}
