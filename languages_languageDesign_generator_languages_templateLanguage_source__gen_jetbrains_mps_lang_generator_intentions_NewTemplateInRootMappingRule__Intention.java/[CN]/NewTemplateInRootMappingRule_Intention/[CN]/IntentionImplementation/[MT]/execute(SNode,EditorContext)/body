{
  final Wrappers._T<String> name=new Wrappers._T<String>(CreateFromUsageUtil.getText(editorContext));
  if (name.value == null || name.value.length() == 0) {
    name.value="map_" + SPropertyOperations.getString(SLinkOperations.getTarget(node,MetaAdapterFactory.getReferenceLink(new UUID(-5475912601019530992l,-8082971551085732881l),1167169308231l,1167169349424l,"applicableConcept")),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"));
  }
  final SNode rule=node;
  CreateFromUsageUtil.showCreateNewRootMenu(editorContext,new Condition<SNode>(){
    public boolean met(    SNode n){
      SNode c=(SNode)n;
      if (SConceptOperations.isExactly(c,"jetbrains.mps.lang.generator.structure.TemplateSwitch")) {
        return false;
      }
      if (SConceptOperations.isExactly(c,"jetbrains.mps.lang.generator.structure.MappingConfiguration")) {
        return false;
      }
      if (SConceptOperations.isExactly(c,"jetbrains.mps.lang.generator.structure.TemplateDeclaration")) {
        return false;
      }
      if (SConceptOperations.isExactly(c,"jetbrains.mps.lang.generator.structure.MappingScript")) {
        return false;
      }
      return true;
    }
  }
,new Setter<SNode>(){
    public void set(    SNode root){
      if (!(SNodeOperations.isInstanceOf(root,"jetbrains.mps.lang.core.structure.INamedConcept"))) {
        return;
      }
      SPropertyOperations.set(SNodeOperations.cast(root,"jetbrains.mps.lang.core.structure.INamedConcept"),MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l,-7236703803128771572l),1169194658468l,1169194664001l,"name"),name.value);
      MacroIntentionsUtil.copyVirtualPackage(root,node);
      SLinkOperations.setTarget(AttributeOperations.getAttribute(root,new IAttributeDescriptor.NodeAttribute("jetbrains.mps.lang.generator.structure.RootTemplateAnnotation")),MetaAdapterFactory.getReferenceLink(new UUID(-5475912601019530992l,-8082971551085732881l),1168619357332l,1168619429071l,"applicableConcept"),SLinkOperations.getTarget(rule,MetaAdapterFactory.getReferenceLink(new UUID(-5475912601019530992l,-8082971551085732881l),1167169308231l,1167169349424l,"applicableConcept")));
      SLinkOperations.setTarget(rule,MetaAdapterFactory.getReferenceLink(new UUID(-5475912601019530992l,-8082971551085732881l),1167514355419l,1167514355421l,"template"),SNodeOperations.cast(root,"jetbrains.mps.lang.core.structure.INamedConcept"));
      SelectionUtil.selectCell(editorContext,rule,"templateName");
    }
  }
);
}
