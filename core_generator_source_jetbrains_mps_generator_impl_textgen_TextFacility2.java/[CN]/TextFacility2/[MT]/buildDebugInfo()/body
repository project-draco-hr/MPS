{
  SModel originalInput=myGenStatus.getOriginalInputModel();
  DebugInfoBuilder debugInfoBuilder=new DebugInfoBuilder();
  for (  TextUnit tu : myTextResult.getUnits()) {
    if (tu.getState() == TextUnit.Status.Empty) {
      continue;
    }
    if (!(tu instanceof CompatibilityTextUnit)) {
      continue;
    }
    final TextGenerationResult result=((CompatibilityTextUnit)tu).getLegacyResult();
    debugInfoBuilder.fillDebugInfo(TextGen.getFileName(tu.getStartNode()),result.getPositions(),result.getScopePositions(),result.getUnitPositions(),originalInput);
  }
  return debugInfoBuilder.getDebugInfo();
}
