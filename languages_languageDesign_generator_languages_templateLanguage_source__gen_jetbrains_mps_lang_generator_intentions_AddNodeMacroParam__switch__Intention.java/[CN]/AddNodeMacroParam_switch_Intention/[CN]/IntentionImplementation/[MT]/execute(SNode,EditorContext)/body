{
  SNode nodeMacro=QueriesUtil.addNodeMacro(node);
  SNode switchMacro=SNodeFactoryOperations.createNewNode("jetbrains.mps.lang.generator.structure.SwitchMacro",null);
  SNodeOperations.replaceWithAnother(nodeMacro,switchMacro);
  SLinkOperations.setTarget(switchMacro,"templateSwitch",myParameter,false);
  SelectionUtil.selectLabelCellAnSetCaret(editorContext,switchMacro,SelectionManager.FIRST_CELL,1);
}
