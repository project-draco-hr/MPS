{
  BufferedImage image=new BufferedImage(DEFAULT_ICON_SIZE,DEFAULT_ICON_SIZE,BufferedImage.TYPE_INT_ARGB);
  Graphics2D g=image.createGraphics();
  drawer.consume(new DrawContext(g,DEFAULT_ICON_SIZE,DEFAULT_ICON_SIZE));
  g.dispose();
  try {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    try (ImageOutputStream ios=ImageIO.createImageOutputStream(baos)){
      ImageIO.write(image,"png",ios);
    }
     return baos.toByteArray();
  }
 catch (  IOException ex) {
    LOG.error("Can't produce icon",ex);
    return null;
  }
}
