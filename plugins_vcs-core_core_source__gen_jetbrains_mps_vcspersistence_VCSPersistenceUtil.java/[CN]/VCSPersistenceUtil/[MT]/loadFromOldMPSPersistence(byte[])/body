{
  SModelHeader header;
  try {
    header=VCSPersistenceSupport.loadDescriptor(new InputSource(new ByteArrayInputStream(content)));
  }
 catch (  IOException e) {
    return null;
  }
  try {
    final ModelLoadResult readModel=VCSPersistenceSupport.readModel(header,new PersistenceUtil.StreamDataSourceBase(){
      @Override public InputStream openInputStream() throws IOException {
        return new ByteArrayInputStream(content);
      }
    }
,ModelLoadingState.FULLY_LOADED);
    jetbrains.mps.smodel.SModel model=readModel.getModel();
    if (model instanceof InvalidSModel) {
      return null;
    }
    return new LazyEditableSModelBase(header.getModelReference(),new NullDataSource()){
      protected ModelLoadResult loadSModel(      ModelLoadingState p0){
        return readModel;
      }
      protected boolean saveModel() throws IOException, ModelSaveException {
        throw new UnsupportedOperationException();
      }
    }
;
  }
 catch (  ModelReadException e) {
    return null;
  }
}
