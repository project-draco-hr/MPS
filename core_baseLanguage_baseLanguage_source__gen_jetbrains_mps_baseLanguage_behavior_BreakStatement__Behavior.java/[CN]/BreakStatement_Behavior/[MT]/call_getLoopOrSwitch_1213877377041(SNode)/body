{
  for (  SNode item : SNodeOperations.getAncestors(thisNode,null,false)) {
    if (SNodeOperations.isInstanceOf(item,"jetbrains.mps.baseLanguage.structure.SwitchStatement") && SPropertyOperations.getString(thisNode,"label") == null) {
      return item;
    }
    if (SNodeOperations.isInstanceOf(item,"jetbrains.mps.baseLanguage.structure.AbstractLoopStatement")) {
      SNode loop=SNodeOperations.cast(item,"jetbrains.mps.baseLanguage.structure.AbstractLoopStatement");
      if (SPropertyOperations.getString(thisNode,"label") == null) {
        if (SPropertyOperations.getString(loop,"label") == null) {
          return loop;
        }
      }
 else {
        if (SPropertyOperations.getString(thisNode,"label").equals(SPropertyOperations.getString(loop,"label"))) {
          return loop;
        }
      }
    }
  }
  return null;
}
