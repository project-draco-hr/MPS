{
  for (  ConfigurationFactory factory : Sequence.fromIterable(Sequence.fromArray(configurationType.getConfigurationFactories()))) {
    if (factory.getClass().getName().equals(configurationFactoryClassName)) {
      return factory;
    }
  }
  if (LOG.isEnabledFor(Priority.WARN)) {
    LOG.warn("Cound not find configuration factory for " + configurationFactoryClassName + " in type "+ configurationType.getDisplayName()+ ".");
  }
  return configurationType.getConfigurationFactories()[0];
}
