{
  SearchResults global_results=new SearchResults();
{
    Set<SNode> nodes=new HashSet<SNode>();
    global_results.getSearchedNodePointers().add(new SNodePointer(searchQuery.getNodePointer().getNode()));
    nodes.add(searchQuery.getNodePointer().getNode());
    for (    SNode node : searchQuery.getNodePointer().getNode().allChildren()) {
      global_results.getSearchedNodePointers().add(new SNodePointer(node));
      nodes.add(node);
    }
    Set<SReference> resRefs=FindUsagesManager.getInstance().findUsages(nodes,searchQuery.getScope(),null);
    for (    SReference reference : resRefs) {
      if (!(nodes.contains(reference.getSourceNode()))) {
        global_results.getSearchResults().add(new SearchResult(new SNodePointer(reference.getSourceNode()),"Node Descendants Usages"));
      }
    }
  }
  return global_results;
}
