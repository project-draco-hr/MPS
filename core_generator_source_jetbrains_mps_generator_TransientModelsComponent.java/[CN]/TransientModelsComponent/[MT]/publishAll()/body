{
  int i;
  for (i=0; i < 3 && !ModelAccess.instance().tryWrite(new Runnable(){
    public void run(){
      for (      TransientModelsModule m : myModuleMap.values()) {
        m.publishAll();
      }
    }
  }
); ++i) {
    try {
      Thread.sleep((1 << i) * 100);
    }
 catch (    InterruptedException ignore) {
    }
  }
  if (i >= 3) {
    throw new RuntimeException("Failed to acquire write lock");
  }
}
