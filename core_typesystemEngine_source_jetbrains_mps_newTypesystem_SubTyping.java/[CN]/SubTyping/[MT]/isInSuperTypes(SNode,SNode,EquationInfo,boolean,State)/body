{
  if (subType == null) {
    return false;
  }
  Set<SNode> frontier=new HashSet<SNode>();
  Set<SNode> newFrontier=new HashSet<SNode>();
  Set<SNode> yetPassed=new HashSet<SNode>();
  frontier.add(subType);
  while (!frontier.isEmpty()) {
    Set<SNode> yetPassedRaw=new HashSet<SNode>();
    Set<SNode> ancestors=new HashSet<SNode>();
    for (    SNode node : frontier) {
      collectImmediateSuperTypes(node,isWeak,ancestors,state.getTypeCheckingContext(),superType.getConceptFqName());
      yetPassedRaw.add(node);
    }
    ArrayList<SNode> ancestorsSorted;
    ancestorsSorted=new ArrayList<SNode>(ancestors);
    Collections.sort(ancestorsSorted,new Comparator<SNode>(){
      public int compare(      SNode o1,      SNode o2){
        return o2.depth() - o1.depth();
      }
    }
);
    boolean wasMatch=false;
    for (    SNode ancestor : ancestorsSorted) {
      if (TypesUtil.match(ancestor,superType,null,info)) {
        return true;
      }
    }
    for (    SNode passedNodeRaw : yetPassedRaw) {
      yetPassed.add(passedNodeRaw);
    }
    for (    SNode passedNode : yetPassed) {
      ancestors.remove(passedNode);
    }
    newFrontier.addAll(ancestors);
    yetPassed.addAll(ancestors);
    frontier=newFrontier;
    newFrontier=new HashSet<SNode>();
  }
  return false;
}
