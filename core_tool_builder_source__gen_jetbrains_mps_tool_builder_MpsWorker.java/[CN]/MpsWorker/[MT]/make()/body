{
  MPSCompilationResult mpsCompilationResult=ModelAccess.instance().runReadAction(new Computable<MPSCompilationResult>(){
    public MPSCompilationResult compute(){
      ModuleMaker maker=new ModuleMaker();
      final JavaCompilerProperties properties=new JavaCompilerProperties(myWhatToDo);
      return maker.make(IterableUtil.asCollection(MPSModuleRepository.getInstance().getModules()),new EmptyProgressMonitor(),new JavaCompilerOptions(JavaCompilerOptionsComponent.JavaVersion.parse(properties.getTargetJavaVersion())));
    }
  }
);
  reload(mpsCompilationResult);
}
