{
  if (!(MapSequence.fromMap(targetsView).containsKey(target))) {
    throw new IllegalArgumentException("unknown target");
  }
  return ListSequence.<ITarget.Name>fromList(MapSequence.<ITarget.Name,TargetRange.TargetRefs>fromMap(allRefs).get(target).after).where(new IWhereFilter<ITarget.Name>(){
    public boolean accept(    ITarget.Name tn){
      return MapSequence.fromMap(allRefs).containsKey(tn);
    }
  }
).<ITarget>select(new ISelector<ITarget.Name,ITarget>(){
    public ITarget select(    ITarget.Name tn){
      return MapSequence.<ITarget.Name,ITarget>fromMap(targetsView).get(tn);
    }
  }
);
}
