{
  MultiMap<SModel,SNode> candidates=findCandidates(scope,nodes,processedConsumer,new Mapper<SNode,String>(){
    @Override public String value(    SNode key){
      return key.getNodeId().toString();
    }
  }
);
  for (  Entry<SModel,Collection<SNode>> candidate : candidates.entrySet()) {
    new NodeUsageFinder(candidate.getValue(),consumer).collectUsages(candidate.getKey());
  }
}
