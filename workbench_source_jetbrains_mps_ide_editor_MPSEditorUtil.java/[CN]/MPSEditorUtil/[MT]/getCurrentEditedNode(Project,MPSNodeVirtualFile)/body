{
  FileEditor[] editors=FileEditorManager.getInstance(project).getEditors(file);
  if (editors.length <= 0)   return null;
  FileEditor editor=editors[0];
  if (!(editor instanceof MPSFileNodeEditor))   return null;
  Editor nodeEditor=((MPSFileNodeEditor)editor).getNodeEditor();
  if (nodeEditor == null || !nodeEditor.isTabbed())   return null;
  EditorComponent tabEditor=nodeEditor.getCurrentEditorComponent();
  if (!(tabEditor instanceof NodeEditorComponent))   return null;
  return tabEditor.getEditedNode();
}
