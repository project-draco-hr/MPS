{
  if (!(SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(varRef)),MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c77f1e98L,"jetbrains.mps.baseLanguage.structure.VariableReference")))) {
    return null;
  }
  SReference ref=SNodeOperations.getReference(varRef,MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xf8c77f1e98L,0xf8cc6bf960L,"variableDeclaration"));
  if (!(ref instanceof DynamicReference)) {
    return null;
  }
  if (ref.getTargetNode() != null) {
    return null;
  }
  SNode gateway=SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(MetaAdapterFactory.getInterfaceConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x70ea1dc4c5721865L,"jetbrains.mps.baseLanguage.structure.IYetUnresolved")));
  String enumConstName=((DynamicReference)ref).getResolveInfo();
  for (  SNode enclosingEnum : ListSequence.fromList(SNodeOperations.getNodeAncestors(varRef,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xfc367070a5L,"jetbrains.mps.baseLanguage.structure.EnumClass"),false))) {
    SNode enumConstRef=makeEnumConstRef(enclosingEnum,enumConstName);
    if (enumConstRef != null) {
      return enumConstRef;
    }
  }
  SNode root=SNodeOperations.getContainingRoot(varRef);
  if (!(SNodeOperations.isInstanceOf(root,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101d9d3ca30L,"jetbrains.mps.baseLanguage.structure.Classifier")))) {
    return null;
  }
  SNode javaImports=AttributeOperations.getAttribute(SNodeOperations.cast(root,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x101d9d3ca30L,"jetbrains.mps.baseLanguage.structure.Classifier")),new IAttributeDescriptor.NodeAttribute(MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x53f7c33f069862f2L,"jetbrains.mps.baseLanguage.structure.JavaImports")));
  if ((javaImports == null)) {
    return null;
  }
  for (  SNode singleNameImport : Sequence.fromIterable(((Iterable<SNode>)BHReflection.invoke(javaImports,SMethodTrimmedId.create("staticSingleName",MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x53f7c33f069862f2L,"jetbrains.mps.baseLanguage.structure.JavaImports"),"4ykJ8Y6iJRa"))))) {
    if (!(enumConstName.equals(((String)BHReflection.invoke(singleNameImport,SMethodTrimmedId.create("lastToken",MetaAdapterFactory.getInterfaceConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x5a98df4004080866L,"jetbrains.mps.baseLanguage.structure.Tokens"),"17WpDCYLyrY")))))) {
      continue;
    }
    String enumClassCandidateName=((String)BHReflection.invoke(singleNameImport,SMethodTrimmedId.create("withoutLastToken",MetaAdapterFactory.getInterfaceConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x5a98df4004080866L,"jetbrains.mps.baseLanguage.structure.Tokens"),"5ll4uk6512$")));
    SNode enumClassCandidate=((SNode)BHReflection.invoke(gateway,SMethodTrimmedId.create("findClass",MetaAdapterFactory.getInterfaceConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x70ea1dc4c5721865L,"jetbrains.mps.baseLanguage.structure.IYetUnresolved"),"4ykJ8Y83bdr"),varRef,enumClassCandidateName));
    if ((enumClassCandidate == null)) {
      return null;
    }
    if (!(SNodeOperations.isInstanceOf(enumClassCandidate,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xfc367070a5L,"jetbrains.mps.baseLanguage.structure.EnumClass")))) {
      return null;
    }
    SNode result=makeEnumConstRef(SNodeOperations.cast(enumClassCandidate,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xfc367070a5L,"jetbrains.mps.baseLanguage.structure.EnumClass")),enumConstName);
    if (result != null) {
      return null;
    }
  }
  for (  SNode onDemandImport : Sequence.fromIterable(((Iterable<SNode>)BHReflection.invoke(javaImports,SMethodTrimmedId.create("staticOnDemand",MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x53f7c33f069862f2L,"jetbrains.mps.baseLanguage.structure.JavaImports"),"4ykJ8Y6iCVz"))))) {
    SNode claz=((SNode)BHReflection.invoke(gateway,SMethodTrimmedId.create("findClass",MetaAdapterFactory.getInterfaceConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x70ea1dc4c5721865L,"jetbrains.mps.baseLanguage.structure.IYetUnresolved"),"4ykJ8Y83bdr"),varRef,SPropertyOperations.getString(onDemandImport,MetaAdapterFactory.getProperty(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0x5a98df4004080866L,0x1996ec29712bdd92L,"tokens"))));
    if ((claz == null)) {
      continue;
    }
    if (!(SNodeOperations.isInstanceOf(claz,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xfc367070a5L,"jetbrains.mps.baseLanguage.structure.EnumClass")))) {
      continue;
    }
    SNode result=makeEnumConstRef(SNodeOperations.cast(claz,MetaAdapterFactory.getConcept(0xf3061a5392264cc5L,0xa443f952ceaf5816L,0xfc367070a5L,"jetbrains.mps.baseLanguage.structure.EnumClass")),enumConstName);
    if (result != null) {
      return null;
    }
  }
  return null;
}
