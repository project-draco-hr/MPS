{
  final Wrappers._T<List<SModuleReference>> genRefs=new Wrappers._T<List<SModuleReference>>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      Iterable<Generator> generators=ModuleRepositoryFacade.getInstance().getAllModules(Generator.class);
      genRefs.value=Sequence.fromIterable(generators).select(new ISelector<Generator,SModuleReference>(){
        public SModuleReference select(        Generator it){
          return it.getModuleReference();
        }
      }
).toListSequence();
    }
  }
);
  return CommonChoosers.showDialogModuleCollectionChooser(null,"generator",genRefs.value,null);
}
