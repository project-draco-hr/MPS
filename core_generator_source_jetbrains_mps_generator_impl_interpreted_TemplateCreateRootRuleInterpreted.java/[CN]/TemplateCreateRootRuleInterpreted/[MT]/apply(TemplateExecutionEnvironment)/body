{
  SNode templateNode=ruleNode.getReferent(CreateRootRule.TEMPLATE_NODE);
  if (templateNode != null) {
    SNode labelDeclaration=ruleNode.getReferent(CreateRootRule.LABEL);
    String ruleMappingName=labelDeclaration != null ? labelDeclaration.getProperty(MappingLabelDeclaration.NAME) : null;
    return new TemplateProcessor(environment.getGenerator(),environment.getReductionContext()).processTemplateNode(ruleMappingName,templateNode,new DefaultTemplateContext(null));
  }
 else {
    environment.getGenerator().showErrorMessage(null,null,ruleNode,"'create root' rule has no template");
    return null;
  }
}
