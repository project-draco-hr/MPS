{
  if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(node),"jetbrains.mps.baseLanguage.structure.StatementList")) {
    final SNode statementList=SNodeOperations.cast(SNodeOperations.getParent(node),"jetbrains.mps.baseLanguage.structure.StatementList");
    final Wrappers._int index=new Wrappers._int(ListSequence.fromList(SLinkOperations.getTargets(statementList,"statement",true)).indexOf(node));
    ListSequence.fromList(SLinkOperations.getTargets(statementList,"statement",true)).removeElementAt(index.value);
    ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(node,"body",true),"statement",true)).visitAll(new IVisitor<SNode>(){
      public void visit(      SNode it){
        ListSequence.fromList(SLinkOperations.getTargets(statementList,"statement",true)).insertElement(index.value,it);
        index.value+=1;
      }
    }
);
  }
 else {
    SNode statement=SNodeFactoryOperations.replaceWithNewChild(node,"jetbrains.mps.baseLanguage.structure.BlockStatement");
    SLinkOperations.setTarget(statement,"statements",SLinkOperations.getTarget(node,"body",true),true);
  }
  SNodeOperations.deleteNode(node);
}
