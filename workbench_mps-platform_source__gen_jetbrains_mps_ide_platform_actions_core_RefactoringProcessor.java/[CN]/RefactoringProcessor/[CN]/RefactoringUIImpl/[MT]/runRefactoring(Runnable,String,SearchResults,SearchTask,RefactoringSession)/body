{
  RefactoringAccessEx.getInstance().showRefactoringView(myProject,new RefactoringViewAction(){
    public void performAction(    RefactoringViewItem refactoringViewItem){
      try {
        myRepository.getModelAccess().executeCommand(new Runnable(){
          public void run(){
            performRefactoringTask.run();
            myRefactoringSession.close();
          }
        }
);
      }
 catch (      RuntimeException exception) {
        if (LOG.isEnabledFor(Level.ERROR)) {
          LOG.error("Exception during refactoring: ",exception);
        }
      }
      refactoringViewItem.close();
    }
  }
,searchResults,rerunTask,refactoringName);
}
