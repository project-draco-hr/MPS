{
  if (!(dataSource instanceof StreamDataSource)) {
    throw new UnsupportedDataSourceException(dataSource);
  }
  StreamDataSource source=(StreamDataSource)dataSource;
  SModelHeader binaryModelHeader;
  try {
    binaryModelHeader=BinaryPersistence.readHeader(source);
  }
 catch (  ModelReadException e) {
    if (e.getCause() instanceof IOException) {
      throw (IOException)e.getCause();
    }
    throw new IOException(e.getMessageEx(),e);
  }
  return new DefaultSModelDescriptor(new PersistenceFacility(this,source),binaryModelHeader);
}
