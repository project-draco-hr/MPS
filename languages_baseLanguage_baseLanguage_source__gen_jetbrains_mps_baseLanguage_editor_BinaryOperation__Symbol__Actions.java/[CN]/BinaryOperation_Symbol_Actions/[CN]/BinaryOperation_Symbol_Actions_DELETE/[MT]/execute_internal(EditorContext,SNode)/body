{
  SNode newExpression=SLinkOperations.getTarget(node,"rightExpression",true);
  if (newExpression == null) {
    newExpression=SLinkOperations.getTarget(node,"leftExpression",true);
  }
  SNodeOperations.replaceWithAnother(node,newExpression);
  editorContext.flushEvents();
  EditorComponent editor=editorContext.getEditorComponent();
  jetbrains.mps.nodeEditor.cells.EditorCell cell=(jetbrains.mps.nodeEditor.cells.EditorCell)editor.findNodeCell(newExpression);
  if (cell != null) {
    jetbrains.mps.nodeEditor.cells.EditorCell firstLeaf=cell.getFirstLeaf(CellConditions.SELECTABLE);
    editor.changeSelection(firstLeaf);
    if (firstLeaf instanceof EditorCell_Label) {
      ((EditorCell_Label)firstLeaf).home();
    }
  }
}
