{
  final int[] exitCode=new int[]{-1};
  try {
    ProcessHandlerBuilder.startCountDown(process,exitCode).await(timeout,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
    process.destroyProcess();
  }
  if (exitCode[0] < 0) {
    process.destroyProcess();
  }
  return exitCode[0];
}
