{
  Graph graph=node1.getGraph();
  Edge connectingEdge=ListSequence.<Edge>fromList(node1.getEdges()).findFirst(new IWhereFilter<Edge>(){
    public boolean accept(    Edge edge){
      return edge.getOpposite(node1) == node2;
    }
  }
);
  if (connectingEdge != null) {
    return;
  }
  Edge edge;
  if (direction == Direction2D.UP || direction == Direction2D.RIGHT) {
    edge=graph.connect(node1,node2);
  }
 else {
    edge=graph.connect(node2,node1);
  }
  if (ConstraintsGraphProcessor.SHOW_INFO > 0) {
    if (direction.isHorizontal()) {
      System.out.println("added " + edge + " to ver");
    }
 else {
      System.out.println("added " + edge + " to hor");
    }
  }
}
