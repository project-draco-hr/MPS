{
  myBaseNode=baseNode;
  myPossibleTabs=possibleTabs;
  myEditor=editor;
  myCallback=callback;
  myShowGrayed=showGrayed;
  TabColorProvider[] extensions=Extensions.getExtensions(TabColorProvider.EP_NAME,ProjectHelper.toIdeaProject(operationContext.getProject()));
  myColorProvider=extensions.length > 0 ? extensions[0] : null;
  myOperationContext=operationContext;
  myCreateModeCallback=createModeCallback;
  AnAction addAction=new AddAspectAction(myBaseNode,myPossibleTabs,new NodeChangeCallback(){
    public void changeNode(    SNode newNode){
      updateTabs();
      onNodeChange(newNode);
    }
  }
){
    protected RelationDescriptor getCurrentAspect(){
      return getCurrentTabAspect();
    }
  }
;
  myComponent=new JPanel(new BorderLayout());
  ActionButton btn=new ActionButton(addAction,addAction.getTemplatePresentation(),ActionPlaces.UNKNOWN,new Dimension(23,23));
  myComponent.add(btn,BorderLayout.WEST);
  addListeners();
}
