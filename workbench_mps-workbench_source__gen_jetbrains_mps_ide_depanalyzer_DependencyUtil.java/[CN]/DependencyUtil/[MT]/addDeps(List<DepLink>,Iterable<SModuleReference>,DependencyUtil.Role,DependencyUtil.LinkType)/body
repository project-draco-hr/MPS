{
  if (modules == null) {
    return;
  }
  ListSequence.fromList(result).addSequence(Sequence.fromIterable(modules).select(new ISelector<SModuleReference,SModule>(){
    public SModule select(    SModuleReference ref){
      return ref.resolve(MPSModuleRepository.getInstance());
    }
  }
).where(new IWhereFilter<SModule>(){
    public boolean accept(    SModule module){
      return module != null;
    }
  }
).select(new ISelector<SModule,DepLink>(){
    public DepLink select(    SModule module){
      return new DepLink(module,role,linktype);
    }
  }
));
}
