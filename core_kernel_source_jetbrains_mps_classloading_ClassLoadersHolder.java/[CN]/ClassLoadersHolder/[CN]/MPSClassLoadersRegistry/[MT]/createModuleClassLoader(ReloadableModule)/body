{
  LOG.debug("Creating ModuleClassLoader for " + module);
  Collection<? extends ReloadableModule> deps=myModulesWatcher.getResolvedDependencies(Collections.singletonList(module));
  final ModuleClassLoaderSupport support=ModuleClassLoaderSupport.create(module,deps);
  return new ModelAccessHelper(myRepository).runReadAction(new Computable<ModuleClassLoader>(){
    @Override public ModuleClassLoader compute(){
      return new ModuleClassLoader(support);
    }
  }
);
}
