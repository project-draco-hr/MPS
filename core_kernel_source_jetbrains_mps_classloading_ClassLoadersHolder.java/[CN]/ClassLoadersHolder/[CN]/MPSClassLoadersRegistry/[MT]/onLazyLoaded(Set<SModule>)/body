{
  Set<SModule> lazyLoaded=new LinkedHashSet<SModule>();
  for (  SModule module : toLoadLazy) {
    ClassLoadingProgress classLoadingProgress=myMPSLoadableModules.get(module);
    if (classLoadingProgress != null) {
      LOG.error("Illegal state: module is already loaded " + module,new Throwable());
    }
 else {
      myMPSLoadableModules.put(module,ClassLoadingProgress.LAZY_LOADED);
      lazyLoaded.add(module);
    }
  }
  return lazyLoaded;
}
