{
switch (kind) {
case LINE_BREAKPOINT:
    final JavaBreakpointInfo breakpointInfo=XmlSerializer.deserialize(state,JavaBreakpointInfo.class);
  MPSBreakpoint breakpoint=ModelAccess.instance().runReadAction(new Computable<MPSBreakpoint>(){
    @Override public MPSBreakpoint compute(){
      SNodePointer pointer=new SNodePointer(breakpointInfo.myModelReference,breakpointInfo.myNodeId);
      return new MPSBreakpoint(pointer.getNode(),project);
    }
  }
);
breakpointInfo.initBreakpoint(breakpoint);
return breakpoint;
case EXCEPTION_BREAKPOINT:
ExceptionBreakpointInfo exceptionBreakpointInfo=XmlSerializer.deserialize(state,ExceptionBreakpointInfo.class);
ExceptionBreakpoint exceptionBreakpoint=new ExceptionBreakpoint(exceptionBreakpointInfo.myExceptionName,project);
exceptionBreakpointInfo.initBreakpoint(exceptionBreakpoint);
return exceptionBreakpoint;
case METHOD_BREAKPOINT:
final MethodBreakpointInfo methodBreakpointInfo=XmlSerializer.deserialize(state,MethodBreakpointInfo.class);
MethodBreakpoint methodBreakpoint=ModelAccess.instance().runReadAction(new Computable<MethodBreakpoint>(){
@Override public MethodBreakpoint compute(){
SNodePointer pointer=new SNodePointer(methodBreakpointInfo.myModelReference,methodBreakpointInfo.myNodeId);
return new MethodBreakpoint(pointer.getNode(),methodBreakpointInfo.myMethodName,methodBreakpointInfo.myJniSignature,project);
}
}
);
methodBreakpointInfo.initBreakpoint(methodBreakpoint);
return methodBreakpoint;
case FIELD_BREAKPOINT:
final FieldBreakpointInfo fieldBreakpointInfo=XmlSerializer.deserialize(state,FieldBreakpointInfo.class);
FieldBreakpoint fieldBreakpoint=ModelAccess.instance().runReadAction(new Computable<FieldBreakpoint>(){
@Override public FieldBreakpoint compute(){
SNodePointer pointer=new SNodePointer(fieldBreakpointInfo.myModelReference,fieldBreakpointInfo.myNodeId);
return new FieldBreakpoint(pointer.getNode(),fieldBreakpointInfo.myFieldName,project);
}
}
);
fieldBreakpointInfo.initBreakpoint(fieldBreakpoint);
return fieldBreakpoint;
}
return null;
}
