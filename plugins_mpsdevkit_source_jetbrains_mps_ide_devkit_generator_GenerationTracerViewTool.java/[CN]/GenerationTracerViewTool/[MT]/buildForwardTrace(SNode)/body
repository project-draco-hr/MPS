{
  if (GenerationFacade.isLegacyGenTraceEnabled()) {
    return myTracer.buildTraceInputTree(node);
  }
 else {
    final GenerationTrace ngt=myTransientModelsOwner.getTrace(node.getModel().getReference());
    if (ngt == null) {
      return null;
    }
    TraceNodeUI newTrace=new TraceNodeUI("New gen tracer",jetbrains.mps.ide.devkit.generator.icons.Icons.COLLECTION,node.getReference());
    for (    TraceNodeUI n : TraceBuilderUI.buildTrace(ngt,node)) {
      newTrace.addChild(n);
    }
    return newTrace;
  }
}
