{
  List<String> commandLine=new ArrayList<String>();
  commandLine.add(JavaEnvUtils.getJreExecutable("java"));
  StringBuilder sb=new StringBuilder();
  String pathSeparator="";
  for (  File cp : classPaths) {
    sb.append(pathSeparator);
    pathSeparator=System.getProperty("path.separator");
    sb.append(cp.getAbsolutePath());
  }
  commandLine.add("-classpath");
  commandLine.add(sb.toString());
  if ("true".equalsIgnoreCase(System.getProperty("mps.make.debug"))) {
    commandLine.add("-Xdebug");
    commandLine.add("-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5006");
  }
  commandLine.add(AntBootstrap.class.getCanonicalName());
  commandLine.add(getWorkerClass().getCanonicalName());
  try {
    File cfgFile=myMakeConfiguration.dumpToFile();
    commandLine.add(cfgFile.getAbsolutePath());
  }
 catch (  FileNotFoundException e) {
    LOG.error("Unable to write configuration",e);
    throw new Exception(e);
  }
  return commandLine;
}
