{
  List<SRepositoryEvent> batchedEvents;
  try {
    do {
      batchedEvents=myBatchEventsProcessor.flush();
      if (!batchedEvents.isEmpty()) {
        fireModuleEvents(batchedEvents);
      }
    }
 while (!batchedEvents.isEmpty());
  }
  finally {
    myBatchEventsProcessor.finishBatching();
  }
}
