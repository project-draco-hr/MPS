{
  if (ourHomePath != null) {
    return ourHomePath;
  }
  String rootPath=getContainingJar(PathManager.class);
  if (rootPath == null)   return new File(".").getAbsolutePath();
  File root=new File(rootPath);
  root=root.getAbsoluteFile();
  while ((!isMpsDir(root)) && (root.getParentFile() != null)) {
    root=root.getParentFile();
  }
  ourHomePath=root.getAbsolutePath();
  if (ourHomePath.equals("/")) {
    throw new IllegalStateException("cannot detect MPS location");
  }
  return ourHomePath;
}
