{
  if (node != null && myOperationContext != null) {
    if (keepModel(node.getModelReference(),kind != MessageKind.ERROR)) {
      Message message=new Message(kind,text);
      NodeWithContext context=new NodeWithContext(node,myOperationContext.getInvocationContext());
      message.setHintObject(context);
      return message;
    }
  }
  return super.prepare(kind,text,node);
}
