{
  if (!(this.checkValidity())) {
    return false;
  }
  ModelAccess.instance().runWriteActionInCommand(new Runnable(){
    public void run(){
      LanguagePropertiesDialog.this.myProperties.saveTo(LanguagePropertiesDialog.this.myLanguage.getModuleDescriptor());
      LanguagePropertiesDialog.this.myLanguage.setLanguageDescriptor(LanguagePropertiesDialog.this.myLanguage.getModuleDescriptor(),true);
      LanguagePropertiesDialog.this.myLanguage.validateExtends();
      LanguagePropertiesDialog.this.myLanguage.save();
    }
  }
,getOperationContext().getProject());
  ThreadUtils.runInUIThreadNoWait(new Runnable(){
    public void run(){
      Project project=LanguagePropertiesDialog.this.getOperationContext().getProject();
      ProjectPane.getInstance(project).selectModule(LanguagePropertiesDialog.this.myLanguage);
    }
  }
);
  return true;
}
