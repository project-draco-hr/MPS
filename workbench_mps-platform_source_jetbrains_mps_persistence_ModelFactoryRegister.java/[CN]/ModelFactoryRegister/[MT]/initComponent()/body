{
  for (  ModelFactoryProvider provider : ModelFactoryProvider.EP_MODEL_FACTORY.getExtensions()) {
    try {
      ModelFactory modelFactory=provider.instantiate(provider.getImplementationClass(),ApplicationManager.getApplication().getPicoContainer());
      myRegisteredFactories.add(modelFactory);
      myPersistenceRegistry.setModelFactory(modelFactory.getFileExtension(),modelFactory);
    }
 catch (    ClassNotFoundException e) {
      String m=String.format("Failed to load ModelFactoryProvider in plugin %s",provider.getPluginDescriptor().getPluginId());
      LogManager.getLogger(ModelFactoryRegister.class).error(m,e);
    }
  }
}
