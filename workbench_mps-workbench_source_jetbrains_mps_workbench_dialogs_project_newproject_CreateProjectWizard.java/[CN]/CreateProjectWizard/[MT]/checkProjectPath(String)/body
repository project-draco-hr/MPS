{
  final VirtualFile virtualFile=VirtualFileUtils.getVirtualFile(newProjectPath);
  if (virtualFile != null)   VirtualFileUtils.refreshSynchronouslyRecursively(virtualFile);
  boolean isProjectPath=virtualFile != null ? OpenMPSProjectFileChooserDescriptor.isMpsProjectDirectory(virtualFile) : false;
  if (virtualFile != null && !isProjectPath) {
    for (    VirtualFile child : virtualFile.getChildren()) {
      if (OpenMPSProjectFileChooserDescriptor.isMpsProjectFile(child)) {
        isProjectPath=true;
        break;
      }
    }
  }
  if (isProjectPath) {
    setErrorText("Project under this path already exists!");
    getOKAction().setEnabled(false);
  }
 else {
    setErrorText(null);
    getOKAction().setEnabled(true);
  }
}
