{
  SConcept concept=node.getConcept();
  if (concept instanceof SConceptAdapterByName) {
    os.writeByte(0x70);
  }
 else {
    os.writeByte(0x71);
    os.writeString(IdHelper.getConceptId(concept).serialize());
  }
  os.writeString(concept.getQualifiedName());
  os.writeNodeId(node.getNodeId());
  SContainmentLink roleInParentId=node.getContainmentLink();
  os.writeString(roleInParentId == null ? null : IdHelper.getLinkId(roleInParentId).serialize());
  os.writeString(roleInParentId == null ? null : roleInParentId.getRoleName());
  os.writeByte(getNodeInfo(node));
  os.writeByte('{');
  writeProperties(node,os);
  writeReferences(node,os);
  writeChildren(node,os);
  writeUserObjects(node,os);
  os.writeByte('}');
}
