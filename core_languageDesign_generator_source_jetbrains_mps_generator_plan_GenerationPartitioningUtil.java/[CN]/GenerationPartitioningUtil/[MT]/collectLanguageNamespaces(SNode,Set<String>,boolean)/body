{
  String namespace1=node.getLanguageNamespace();
  if (!namespace1.equals("jetbrains.mps.lang.generator")) {
    namespaces.add(namespace1);
    for (    SNode child : node.getChildren()) {
      collectLanguageNamespaces(child,namespaces,excludeTLBase);
    }
  }
 else {
    if (excludeTLBase) {
      if (node.getAdapter() instanceof TemplateDeclaration) {
        BaseConcept content=((TemplateDeclaration)node.getAdapter()).getContentNode();
        if (content != null) {
          collectLanguageNamespaces(content.getNode(),namespaces,excludeTLBase);
        }
      }
    }
 else {
      namespaces.add(namespace1);
      for (      SNode child : node.getChildren()) {
        collectLanguageNamespaces(child,namespaces,excludeTLBase);
      }
    }
  }
}
