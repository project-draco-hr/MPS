{
  fireBeforeModelRemoved(modelDescriptor);
  myModelsToOwners.clearFirst(modelDescriptor);
  myModelDescriptors.remove(modelDescriptor);
  boolean result=removeModelFromFileCache(modelDescriptor);
  assert result;
  if (modelDescriptor.getModelUID().getSModelId() != null) {
    myIdToModelDescriptorMap.remove(modelDescriptor.getModelUID().getSModelId());
  }
  myFqNameToModelDescriptorMap.remove(modelDescriptor.getModelUID().getSModelFqName());
  myChangedModels.remove(modelDescriptor);
  myModelsWithNoOwners.remove(modelDescriptor);
  removeListeners(modelDescriptor);
  fireModelRemoved(modelDescriptor);
  modelDescriptor.dispose();
}
