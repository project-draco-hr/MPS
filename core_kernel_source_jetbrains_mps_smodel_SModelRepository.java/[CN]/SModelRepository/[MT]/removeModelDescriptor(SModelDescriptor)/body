{
  ModelAccess.assertLegalWrite();
  fireBeforeModelRemoved(modelDescriptor);
  myModelsToOwners.clearFirst(modelDescriptor);
  myModelDescriptors.remove(modelDescriptor);
  boolean result=removeModelFromFileCache(modelDescriptor);
  LOG.assertLog(result,"model " + modelDescriptor + " do not have a path in file cache");
  if (modelDescriptor.getSModelReference().getSModelId() != null) {
    myIdToModelDescriptorMap.remove(modelDescriptor.getSModelReference().getSModelId());
  }
  myFqNameToModelDescriptorMap.remove(modelDescriptor.getSModelReference().getSModelFqName());
  myChangedModels.remove(modelDescriptor);
  myModelsWithNoOwners.remove(modelDescriptor);
  removeListeners(modelDescriptor);
  fireModelRemoved(modelDescriptor);
  modelDescriptor.dispose();
}
