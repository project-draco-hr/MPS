{
synchronized (myModelsLock) {
    List<ModelOwner> owners=myModelsWithOwners.get(md);
    if (!owners.remove(owner))     throw new IllegalStateException();
    Set<SModelDescriptor> ownerModels=myModelsByOwner.get(owner);
    if (!ownerModels.remove(md))     throw new IllegalStateException();
    fireModelOwnerRemoved(md,owner);
    if (owners.isEmpty()) {
      removeModelDescriptor(md);
    }
  }
}
