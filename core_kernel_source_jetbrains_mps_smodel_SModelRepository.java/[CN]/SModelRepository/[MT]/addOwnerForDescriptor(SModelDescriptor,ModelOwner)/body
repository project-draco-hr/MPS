{
synchronized (myModelsLock) {
    if (!myModelDescriptors.contains(modelDescriptor)) {
      throw new IllegalStateException();
    }
    if (modelDescriptor.getModule() != null && modelDescriptor.getModule() != owner && modelDescriptor.getStereotype() != "java_stub") {
      throw new IllegalStateException();
    }
    myModelsToOwners.addLink(modelDescriptor,owner);
    myModelsWithNoOwners.remove(modelDescriptor);
  }
  fireModelOwnerAdded(modelDescriptor,owner);
}
