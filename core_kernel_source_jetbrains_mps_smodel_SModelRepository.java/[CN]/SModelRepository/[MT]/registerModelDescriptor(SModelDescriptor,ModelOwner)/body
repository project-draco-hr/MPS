{
  SModelUID modelUID=modelDescriptor.getModelUID();
  SModelDescriptor registeredModel=getModelDescriptor(modelUID);
  LOG.assertLog(registeredModel == null || registeredModel == modelDescriptor,"Another model \"" + modelUID + "\" is already registered!");
  Set<ModelOwner> owners=myModelsToOwners.getByFirst(modelDescriptor);
  LOG.assertLog(owners == null || !owners.contains(owner),"Another model \"" + modelUID + "\" is already registered!");
  myModelsToOwners.addLink(modelDescriptor,owner);
  if (modelUID.getSModelId() != null) {
    myIdToModelDescriptorMap.put(modelUID.getSModelId(),modelDescriptor);
  }
  myFqNameToModelDescriptorMap.put(modelUID.getSModelFqName(),modelDescriptor);
  myModelDescriptors.add(modelDescriptor);
  addModelToFileCache(modelDescriptor);
  myModelsWithNoOwners.remove(modelDescriptor);
  addListeners(modelDescriptor);
  fireModelAdded(modelDescriptor);
}
