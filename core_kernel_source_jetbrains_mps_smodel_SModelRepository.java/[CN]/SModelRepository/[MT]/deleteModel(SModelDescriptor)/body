{
  ModelAccess.assertLegalWrite();
  fireModelWillBeDeletedEvent(d);
  removeModelDescriptor(d);
  DataSource source=d.getSource();
  if (source instanceof FileDataSource) {
    IFile modelFile=((FileDataSource)source).getFile();
    if (modelFile != null && modelFile.exists()) {
      modelFile.delete();
    }
  }
  SModelRepository.getInstance().fireModelDeletedEvent(d);
}
