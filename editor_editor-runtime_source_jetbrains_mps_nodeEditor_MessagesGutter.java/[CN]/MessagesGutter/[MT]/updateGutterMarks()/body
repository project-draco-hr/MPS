{
  if (scrollbar == null) {
    return;
  }
  getUpdateQueue().queue(new Update(myUpdateIdentity){
    @Override public void run(){
      GutterStatus status=GutterStatus.OK;
      List<GutterMark> marks=new ArrayList<GutterMark>();
      for (      SimpleEditorMessage message : myMessages) {
        GutterMark mark=new GutterMark(message);
        if (!mark.isValid()) {
          continue;
        }
        GutterStatus messageStatus=GutterStatus.getStatus(message.getStatus());
        if (messageStatus.ordinal() > status.ordinal()) {
          status=messageStatus;
        }
        marks.add(mark);
      }
      Collections.sort(marks,new Comparator<GutterMark>(){
        @Override public int compare(        GutterMark mark1,        GutterMark mark2){
          if (mark1 == mark2)           return 0;
          SimpleEditorMessage message1=mark1.getEditorMessage();
          SimpleEditorMessage message2=mark2.getEditorMessage();
          if (message1 instanceof EditorMessage == message2 instanceof EditorMessage) {
            if (message1 instanceof EditorMessage) {
              return mark1.getStatus() != mark2.getStatus() ? mark1.getStatus().ordinal() - mark2.getStatus().ordinal() : mark1.getY() - mark2.getY();
            }
 else {
              return mark1.getY() - mark2.getY();
            }
          }
 else {
            return message1 instanceof EditorMessage ? 1 : -1;
          }
        }
      }
);
      myGutterMarks=marks;
      setStatus(status);
      if (scrollbar != null) {
        scrollbar.repaint();
      }
    }
  }
);
}
