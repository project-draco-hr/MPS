{
  final Wrappers._T<SNode> root=new Wrappers._T<SNode>();
  doSomethingAndUndo(myUiDiff,new _FunctionTypes._return_P0_E0<SNode>(){
    public SNode invoke(){
      SModel model=myUiDiff.getModelDescriptor().getSModel();
      root.value=createNewRoot(model);
      return (SNode)null;
    }
  }
,new _FunctionTypes._return_P0_E0<SNode>(){
    public SNode invoke(){
      SPropertyOperations.set(root.value,"name","NewRootName");
      return root.value;
    }
  }
);
}
