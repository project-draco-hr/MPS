{
  if (myRules_all.containsKey(inputConcept))   return;
  List<ConceptDeclaration> hierarchy=new ArrayList<ConceptDeclaration>(5);
  while (inputConcept != null) {
    hierarchy.add(inputConcept);
    if (myRules_all.containsKey(inputConcept)) {
      break;
    }
    myRules_applicableInheritor.put(inputConcept,new ArrayList<Reduction_MappingRule>());
    inputConcept=getExtendedConcept(inputConcept,baseConcept);
  }
  Collections.reverse(hierarchy);
  List<Reduction_MappingRule> rulesForInheritor=null;
  for (  ConceptDeclaration hrrConcept : hierarchy) {
    rulesForInheritor=updateRulesForInheritor(hrrConcept,rulesForInheritor);
    List<Reduction_MappingRule> list=myRules_applicableExactly.get(hrrConcept);
    if (list != null) {
      for (      Reduction_MappingRule rule : list) {
        if (rule.getApplyToConceptInheritors()) {
          rulesForInheritor.add(rule);
        }
      }
    }
  }
  for (  ConceptDeclaration hrrConcept : hierarchy) {
    if (myRules_all.containsKey(hrrConcept)) {
      continue;
    }
    myRules_all.put(hrrConcept,new ArrayList<Reduction_MappingRule>(5));
    List<Reduction_MappingRule> rulesExectly=myRules_applicableExactly.get(hrrConcept);
    if (rulesExectly != null) {
      myRules_all.get(hrrConcept).addAll(rulesExectly);
    }
    myRules_all.get(hrrConcept).addAll(myRules_applicableInheritor.get(hrrConcept));
  }
}
