{
  ConceptDeclaration concept=node.getConceptDeclarationAdapter();
  List<Reduction_MappingRule> allRules=myRules_all.get(concept);
  if (allRules == null) {
    cacheAllApplicableRules(concept,SModelUtil_new.getBaseConcept());
    allRules=myRules_all.get(concept);
  }
  for (  Reduction_MappingRule rule : allRules) {
    if (TemplateGenUtil.checkConditionForBaseMappingRule(node,(BaseMappingRule)rule.getNode(),generator)) {
      return BaseAdapter.fromAdapter(rule);
    }
  }
  return null;
}
