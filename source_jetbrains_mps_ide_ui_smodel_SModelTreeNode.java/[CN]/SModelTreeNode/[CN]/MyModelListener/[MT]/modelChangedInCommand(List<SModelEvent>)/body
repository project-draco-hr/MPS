{
  getTree().rebuildTree(new Runnable(){
    public void run(){
      SModelEventVisitor visitor=new SModelEventVisitor(){
        public void visitRootEvent(        SModelRootEvent event){
          SModelTreeNode.this.update();
          updateTreeWithRoot(event.getRoot());
        }
        public void visitChildEvent(        SModelChildEvent event){
          updateTreeWithRoot(event.getParent());
        }
        public void visitPropertyEvent(        SModelPropertyEvent event){
          if (event.getNode().isRoot() && needChangeRootNodePosition(event)) {
            SModelTreeNode.this.update();
            updateTreeWithRoot(event.getNode());
            return;
          }
          DefaultTreeModel treeModel=(DefaultTreeModel)getTree().getModel();
          treeModel.nodeStructureChanged(findDescendantWith(event.getNode()));
        }
        public void visitReferenceEvent(        SModelReferenceEvent event){
        }
      }
;
      for (      SModelEvent event : events) {
        event.accept(visitor);
      }
    }
  }
,EventUtil.isDramaticalChange(events) || EventUtil.isRootNameChange(events));
}
