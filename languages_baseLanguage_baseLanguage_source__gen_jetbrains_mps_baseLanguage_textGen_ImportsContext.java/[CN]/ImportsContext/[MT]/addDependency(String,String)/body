{
  String nestedName=nestedName(packageName,fqName);
  int dotIndex=nestedName.indexOf(".");
  String dependencyFqName;
  if (dotIndex == -1) {
    dependencyFqName=fqName;
  }
 else {
    dependencyFqName=packageName + "." + nestedName.substring(0,dotIndex);
  }
  Set<String> dependencies=(Set<String>)buffer.getUserObject(TextGenManager.DEPENDENCY);
  if (dependencies == null) {
    dependencies=SetSequence.fromSet(new HashSet<String>());
    buffer.putUserObject(TextGenManager.DEPENDENCY,dependencies);
  }
  SetSequence.fromSet(dependencies).addElement(InternUtil.intern(dependencyFqName));
}
