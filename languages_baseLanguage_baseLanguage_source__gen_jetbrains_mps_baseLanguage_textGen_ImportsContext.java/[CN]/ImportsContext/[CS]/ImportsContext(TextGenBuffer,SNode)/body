{
  this.buffer=buffer;
  this.packageName=SNodeOperations.getModel(rootNode).getSModelReference().getLongName();
  contextClassifiersCache=MapSequence.fromMap(new HashMap<_2<SNode,String>,Map<String,String>>());
  bindings=new HashMap<String,String>();
  packageSimpleNames=new HashSet<String>();
  for (  SNode classifier : SModelOperations.getRoots(SNodeOperations.getModel(rootNode),"jetbrains.mps.baseLanguage.structure.Classifier")) {
    SetSequence.fromSet(packageSimpleNames).addElement(SPropertyOperations.getString(classifier,"name"));
  }
  classifiersInRoot=SetSequence.fromSet(new HashSet<String>());
  for (  SNode classifier : SNodeOperations.getModel(rootNode).getFastNodeFinder().getNodes("jetbrains.mps.baseLanguage.structure.Classifier",true)) {
    if (SNodeOperations.getContainingRoot(classifier) == rootNode) {
      SetSequence.fromSet(classifiersInRoot).addElement(INamedConcept_Behavior.call_getFqName_1213877404258(SNodeOperations.cast(classifier,"jetbrains.mps.baseLanguage.structure.Classifier")));
    }
  }
}
