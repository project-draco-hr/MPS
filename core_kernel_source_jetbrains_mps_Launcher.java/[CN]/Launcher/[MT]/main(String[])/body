{
  String mpsInternal=System.getProperty("mps.internal");
  System.setProperty("idea.is.internal",mpsInternal != null ? mpsInternal : "false");
  System.setProperty("idea.no.jre.check","true");
  System.setProperty("idea.load.plugins","true");
  ArrayList<URL> paths=new ArrayList<URL>();
  addLanguagesClassPath(paths);
  StringBuilder cp=new StringBuilder(System.getProperty("idea.additional.classpath",""));
  for (  URL p : paths) {
    cp.append(File.pathSeparatorChar).append(p.getPath());
  }
  System.setProperty("idea.additional.classpath",cp.toString());
  System.out.println("*** CP: " + cp);
  Bootstrap.main(args,MPSMainImpl.class.getName(),"start");
}
