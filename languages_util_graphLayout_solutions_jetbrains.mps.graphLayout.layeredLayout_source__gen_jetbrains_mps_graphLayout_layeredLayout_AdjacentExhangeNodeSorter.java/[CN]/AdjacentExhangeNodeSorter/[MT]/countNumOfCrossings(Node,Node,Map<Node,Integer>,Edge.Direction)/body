{
  int numOfCrossings=0;
  for (  Edge firstEdge : ListSequence.<Edge>fromList(first.getEdges(dir))) {
    for (    Edge secondEdge : ListSequence.<Edge>fromList(second.getEdges(dir))) {
      if (MapSequence.<Node,Integer>fromMap(posInLayer).get(firstEdge.getTarget(dir)) > MapSequence.<Node,Integer>fromMap(posInLayer).get(secondEdge.getTarget(dir))) {
        numOfCrossings++;
      }
    }
  }
  return numOfCrossings;
}
