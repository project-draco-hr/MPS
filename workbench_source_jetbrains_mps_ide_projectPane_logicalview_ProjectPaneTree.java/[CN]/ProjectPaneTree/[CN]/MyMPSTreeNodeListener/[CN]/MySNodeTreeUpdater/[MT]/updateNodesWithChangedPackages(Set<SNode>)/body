{
  DefaultTreeModel treeModel=(DefaultTreeModel)getTree().getModel();
  for (  SNode node : nodesWithChangedPackages) {
    SNodeTreeNode treeNode=findRootSNodeTreeNode(node);
    if (treeNode == null)     continue;
    MPSTreeNode parent=(MPSTreeNode)treeNode.getParent();
    treeModel.removeNodeFromParent(treeNode);
    if (parent.getChildCount() == 0 && parent instanceof SNodeGroupTreeNode) {
      myTreeNode.groupBecameEmpty((SNodeGroupTreeNode)parent);
    }
  }
  myTreeNode.insertRoots(nodesWithChangedPackages);
}
