{
  SModel m=new SModel(descriptor.getSModelReference());
  SNode root=SModelOperations.createNewRootNode(m,"jetbrains.mps.gtext.structure.GDocument",null);
  SNode text=SLinkOperations.addNewChild(root,"item","jetbrains.mps.gtext.structure.GText");
  try {
    InputStream is=file.openInputStream();
    byte[] buf=new byte[1000000];
    int len=is.read(buf);
    SPropertyOperations.set(text,"text",new String(buf,0,len));
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return new ModelLoadResult(m,ModelLoadingState.FULLY_LOADED);
}
