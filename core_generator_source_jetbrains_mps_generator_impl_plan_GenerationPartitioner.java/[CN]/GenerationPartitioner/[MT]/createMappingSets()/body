{
  ArrayList<TemplateMappingConfiguration> allMappingConfigurations=new ArrayList<TemplateMappingConfiguration>();
  for (  TemplateModule generator : myGenerators) {
    for (    TemplateModel model : generator.getModels()) {
      allMappingConfigurations.addAll(model.getConfigurations());
    }
  }
  mySolver.prepare(allMappingConfigurations);
  loadRules();
  final List<GenerationPhase> generationPhases=mySolver.solve();
  if (LOG.isDebugEnabled()) {
    dump(generationPhases);
  }
  return phaseGroupedByGenerator(generationPhases);
}
