{
  myOperationContext=operationContext;
  myEditorsProvider=new EditorsProvider(operationContext.getProject());
  setLayout(new GridBagLayout());
  myGridBagConstraints=new GridBagConstraints();
  myGridBagConstraints.gridx=0;
  myGridBagConstraints.gridy=0;
  myGridBagConstraints.weightx=1;
  myGridBagConstraints.weighty=0;
  myGridBagConstraints.anchor=GridBagConstraints.NORTH;
  myGridBagConstraints.fill=GridBagConstraints.BOTH;
  myDebugCurrentRootButton=new JButton(new AbstractAction("Debug Current Root"){
    public void actionPerformed(    ActionEvent e){
      IEditor currentEditor=myEditorsProvider.getCurrentEditor();
      if (currentEditor != null) {
        EditorComponent editorComponent=currentEditor.getCurrentEditorComponent();
        if (editorComponent != null) {
          final SNode currentRoot=editorComponent.getEditedNode();
          ISlicer slicer=ModelAccess.instance().runReadAction(new Computable<ISlicer>(){
            public ISlicer compute(){
              return TypeChecker.getInstance().debugRoot(currentRoot);
            }
          }
);
          for (          SliceInfo sliceInfo : slicer.getSliceInfos()) {
            addSliceItem(sliceInfo);
          }
        }
      }
    }
  }
);
  JPanel upperPanel=new JPanel();
  upperPanel.setLayout(new GridBagLayout());
  GridBagConstraints constraints=new GridBagConstraints();
  constraints.gridx=0;
  constraints.gridy=0;
  constraints.weightx=0;
  constraints.weighty=0;
  constraints.anchor=GridBagConstraints.NORTHWEST;
  upperPanel.add(myDebugCurrentRootButton,constraints);
  constraints.weightx=1;
  constraints.gridx=1;
  upperPanel.add(new JPanel(),constraints);
  addItem(upperPanel);
}
