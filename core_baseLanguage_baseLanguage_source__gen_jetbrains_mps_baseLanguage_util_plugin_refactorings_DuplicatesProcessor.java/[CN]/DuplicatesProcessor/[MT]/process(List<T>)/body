{
  boolean replaceAll=false;
  for (  T duplicate : ListSequence.fromList(duplicates)) {
    if (!(replaceAll)) {
      List<EditorMessage> messages=this.createEditorMessages(duplicate);
      this.myEditorContext.getNodeEditorComponent().getHighlightManager().mark(messages);
      AskDialog dialog=new AskDialog(this.myEditorContext.getOperationContext().getMainFrame(),"Process Duplicates");
      dialog.showDialog();
      AskDialog.DialogResults shouldSubstitute=dialog.getResult();
      for (      EditorMessage message : ListSequence.fromList(messages)) {
        this.myEditorContext.getNodeEditorComponent().getHighlightManager().unmark(message);
      }
      myEditorContext.getNodeEditorComponent().getHighlightManager().repaintAndRebuildEditorMessages();
      if (shouldSubstitute == AskDialog.DialogResults.SUBSTITUTE) {
        this.substitute(duplicate);
      }
 else       if (shouldSubstitute == AskDialog.DialogResults.SUBSTITUTE_ALL) {
        this.substitute(duplicate);
        replaceAll=true;
      }
 else       if (shouldSubstitute == AskDialog.DialogResults.CANCEL_ALL) {
        break;
      }
    }
 else {
      this.substitute(duplicate);
    }
  }
}
