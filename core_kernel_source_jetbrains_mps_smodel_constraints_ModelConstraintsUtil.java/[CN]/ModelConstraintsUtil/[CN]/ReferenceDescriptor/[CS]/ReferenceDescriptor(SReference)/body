{
  myReference=reference;
  SNode node=reference.getSourceNode();
  myRefRole=reference.getRole();
  myRefConcept=node.getConceptDeclarationNode();
  SNode linkDeclaration=SModelSearchUtil.findLinkDeclaration(myRefConcept,myRefRole);
  myReferentConstraintContext=createReferentConstraintContext(true,node.getParent(),node,myRefRole,0,SModelUtil.getLinkDeclarationTarget(linkDeclaration),node.getRoleLink());
  myScopeProvider=ModelConstraintsManager.getNodeReferentSearchScopeProvider(myRefConcept,myRefRole);
}
