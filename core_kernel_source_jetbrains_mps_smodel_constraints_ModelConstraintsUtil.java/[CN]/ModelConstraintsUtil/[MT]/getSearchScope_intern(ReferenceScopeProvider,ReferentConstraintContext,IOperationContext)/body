{
  DefaultReferencePresentation referencePresentation=null;
  if (scopeProvider != null) {
    referencePresentation=scopeProvider.hasPresentation() ? new DefaultReferencePresentation(context,referentConstraintContext,scopeProvider) : null;
    ISearchScope searchScope=scopeProvider.createSearchScope(context,referentConstraintContext);
    if (!(searchScope instanceof UndefinedSearchScope)) {
      return newOK(searchScope,referencePresentation,false,scopeProvider.getSearchScopeValidatorNode());
    }
  }
  ISearchScope searchScope=createDefaultScope(referentConstraintContext.getModel(),context);
  return newOK(searchScope,referencePresentation,true,null);
}
