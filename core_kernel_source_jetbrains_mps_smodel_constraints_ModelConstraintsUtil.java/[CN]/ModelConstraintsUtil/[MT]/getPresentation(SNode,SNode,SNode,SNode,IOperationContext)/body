{
  String linkRole=SModelUtil.getGenuineLinkRole(referenceLinkDeclaration);
  SNode linkTarget=SModelUtil.getLinkDeclarationTarget(referenceLinkDeclaration);
  final SModel model;
  if (enclosingNode != null) {
    model=enclosingNode.getModel();
  }
 else   if (referenceNode != null) {
    model=referenceNode.getModel();
    enclosingNode=referenceNode.getParent();
  }
 else {
    model=null;
  }
  INodeReferentSearchScopeProvider scopeProvider=getSearchScopeProvider(referenceNodeConcept,linkRole);
  ReferentConstraintContext referentConstraintContext=new ReferentConstraintContext(model,enclosingNode,referenceNode,linkTarget);
  return new DefaultReferencPresentation(context,referentConstraintContext,scopeProvider);
}
