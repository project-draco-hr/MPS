{
  INodeReferentSearchScopeProvider scopeProvider=ModelConstraintsManager.getInstance().getNodeReferentSearchScopeProvider(referenceNodeConcept,linkRole);
  ReferentConstraintContext referentConstraintContext=new ReferentConstraintContext(model,enclosingNode,referenceNode,BaseAdapter.fromAdapter(linkTarget));
  if (scopeProvider != null) {
    ISearchScope searchScope=scopeProvider.createNodeReferentSearchScope(context,referentConstraintContext);
    return newOK(searchScope,scopeProvider.hasPresentation() ? new DefaultReferencPresentation(context,referentConstraintContext,scopeProvider) : null,false);
  }
  ISearchScope searchScope=SModelSearchUtil.createModelAndImportedModelsScope(model,false,context.getScope());
  return newOK(searchScope,null,true);
}
