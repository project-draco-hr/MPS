{
  if (!duringSelection) {
    myCaretPosition=Math.min(myText.length(),position);
    myStartTextSelectionPosition=myCaretPosition;
    myEndTextSelectionPosition=myCaretPosition;
    return;
  }
  int old=myCaretPosition;
  myCaretPosition=Math.min(myText.length(),position);
  if (myEndTextSelectionPosition == old)   myEndTextSelectionPosition=myCaretPosition;
 else   myStartTextSelectionPosition=myCaretPosition;
  if (myEndTextSelectionPosition < myStartTextSelectionPosition) {
    int temp=myEndTextSelectionPosition;
    myEndTextSelectionPosition=myStartTextSelectionPosition;
    myStartTextSelectionPosition=temp;
  }
}
