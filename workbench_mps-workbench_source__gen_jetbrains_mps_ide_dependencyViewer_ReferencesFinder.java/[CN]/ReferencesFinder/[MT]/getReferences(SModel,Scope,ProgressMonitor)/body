{
  List<SReference> result=myModelsRefsCache.get(model);
  monitor.step(model.getModelName());
  if (result != null) {
    return result;
  }
  result=ListSequence.fromList(new ArrayList<SReference>());
  for (  SNode root : model.getRootNodes()) {
    ListSequence.fromList(result).addSequence(ListSequence.fromList(getReferences(root,scope)));
    monitor.advance(1);
    if (monitor.isCanceled()) {
      return result;
    }
  }
  myModelsRefsCache.put(model,result);
  return result;
}
