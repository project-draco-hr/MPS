{
  if (myOptions.getCreateNewLanguage()) {
    if (myPath.getPath().length() == 0) {
      throw new CommitStepException("Enter language directory");
    }
    File file=new File(myPath.getPath());
    if (file.exists()) {
      throw new CommitStepException("Language directory already exists");
    }
    File dir=file.getParentFile();
    if (!(dir.isAbsolute())) {
      throw new CommitStepException("Path should be absolute");
    }
    if (myNamespace.getText().length() == 0) {
      throw new CommitStepException("Enter language name");
    }
    if (MPSModuleRepository.getInstance().getModuleByFqName(myNamespace.getText()) != null) {
      throw new CommitStepException("Language namespace already exists");
    }
    if (NameUtil.shortNameFromLongName(myNamespace.getText()).length() == 0) {
      throw new CommitStepException("Enter valid namespace");
    }
    if (!(SourceVersion.isName(myNamespace.getText()))) {
      throw new CommitStepException("Language namespace should be valid Java package");
    }
  }
}
