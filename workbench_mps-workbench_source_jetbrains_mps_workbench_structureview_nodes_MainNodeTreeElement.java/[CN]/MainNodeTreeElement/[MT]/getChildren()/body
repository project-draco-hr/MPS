{
  final List<TreeElement> result=new ArrayList<TreeElement>();
  ModelAccess.instance().runReadAction(new Runnable(){
    @Override public void run(){
      SNode node=myNode.resolve(MPSModuleRepository.getInstance());
      for (      RelationDescriptor tab : ProjectPluginManager.getApplicableTabs(myProject,node)) {
        for (        SNode aspectNode : tab.getNodes(node)) {
          SNode baseNode=tab.getBaseNode(aspectNode);
          boolean bijection=(baseNode == node || baseNode == null);
          result.add(new AspectTreeElement(new jetbrains.mps.smodel.SNodePointer(aspectNode),tab,bijection));
        }
      }
    }
  }
);
  return result.toArray(new TreeElement[result.size()]);
}
