{
  AbstractVcs vcs=myManager.getVcsFor(vf);
  if (vcs != null) {
    CheckinEnvironment ci=vcs.getCheckinEnvironment();
    if (ci != null && !isUnderVCS(myProject,vf)) {
      List<VirtualFile> vfs=new ArrayList<VirtualFile>();
      vfs.add(vf);
      List<VcsException> result=ci.scheduleUnversionedFilesForAddition(vfs);
      VcsDirtyScopeManager.getInstance(myProject).fileDirty(vf);
    }
  }
}
