{
  myTasksQueue.invokeLater(new Runnable(){
    public void run(){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          List<VirtualFile> virtualFileList=new LinkedList<VirtualFile>();
          for (          File f : files) {
            VirtualFile virtualFile=VFileSystem.refreshAndGetFile(f);
            if (virtualFile != null) {
              virtualFileList.add(virtualFile);
            }
 else {
              LOG.error("Cannot find virtual file for File " + f);
            }
          }
          addInternal(virtualFileList);
        }
      }
);
    }
  }
);
  return true;
}
