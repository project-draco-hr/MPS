{
  String nodeConcept=node.getConceptFqName();
  Class<SNodeTextGen> textgenClass=myClassesCache == null ? loadTextGenClass(node.getConceptDeclarationNode()) : myClassesCache.get(nodeConcept);
  if (textgenClass == null) {
    textgenClass=loadTextGenClass(node.getConceptDeclarationNode());
    myClassesCache.put(nodeConcept,textgenClass);
  }
  try {
    SNodeTextGen result=textgenClass.newInstance();
    result.setContext(context);
    return result;
  }
 catch (  InstantiationException e) {
    LOG.error(e,node);
  }
catch (  IllegalAccessException e) {
    LOG.error(e,node);
  }
  DefaultTextGen result=new DefaultTextGen();
  result.setContext(context);
  return result;
}
