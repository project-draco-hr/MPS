{
  List<String> additionalLanguages=new ArrayList<String>();
  List<SModelUID> additionalModels=new ArrayList<SModelUID>();
  List<String> additionalDevKits=new ArrayList<String>();
  List<String> languagesFromPattern=new ArrayList<String>(modelPropertiesPattern.getExplicitlyImportedLanguages());
  List<SModelUID> importsFromPattern=new ArrayList<SModelUID>(modelPropertiesPattern.getImportedModelUIDs());
  List<String> devKitsFromPattern=new ArrayList<String>(modelPropertiesPattern.getDevKitNamespaces());
  importsFromPattern.addAll(necessaryImports);
  languagesFromPattern.addAll(necessaryLanguages);
  for (  String namespace : languagesFromPattern) {
    if (!targetModel.hasLanguage(namespace))     additionalLanguages.add(namespace);
  }
  for (  SModelUID modelUID : importsFromPattern) {
    if (!(targetModel.hasImportedModel(modelUID)) && !(targetModel.getUID().equals(modelUID)))     additionalModels.add(modelUID);
  }
  for (  String devKit : devKitsFromPattern) {
    if (!(targetModel.hasDevKit(devKit)))     additionalDevKits.add(devKit);
  }
  necessaryImports.retainAll(importsFromPattern);
  necessaryLanguages.retainAll(languagesFromPattern);
  if ((!additionalModels.isEmpty()) || (!additionalLanguages.isEmpty())) {
    AddRequiredModelImportsDialog dialog=new AddRequiredModelImportsDialog(context.getMainFrame(),targetModel,additionalModels,additionalLanguages,additionalDevKits,necessaryImports,necessaryLanguages);
    dialog.setModal(true);
    dialog.showDialog();
    return (!dialog.isCanceled());
  }
  return true;
}
