{
  SModel model=sourceNode.getModel();
  model.setLoading(true);
  Map<SNode,SNode> sourceNodesToNewNodes=new HashMap<SNode,SNode>();
  Set<SReference> allReferences=new HashSet<SReference>();
  SNode targetNode=copyNode_internal(sourceNode,sourceNodesToNewNodes,allReferences);
  processReferencesIn(sourceNodesToNewNodes,allReferences);
  model.setLoading(false);
  return targetNode;
}
