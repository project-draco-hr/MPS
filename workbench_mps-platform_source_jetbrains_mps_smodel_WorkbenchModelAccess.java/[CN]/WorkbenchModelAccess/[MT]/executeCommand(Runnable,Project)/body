{
  if (project == null) {
    project=CurrentProjectAccessUtil.getMPSProjectFromUI();
  }
  String name="", groupId=null;
  if (r instanceof UndoRunnable) {
    UndoRunnable ur=(UndoRunnable)r;
    name=ur.getName();
    groupId=ur.getGroupId();
  }
  runWriteActionInCommand(r,name,groupId,false,project);
}
