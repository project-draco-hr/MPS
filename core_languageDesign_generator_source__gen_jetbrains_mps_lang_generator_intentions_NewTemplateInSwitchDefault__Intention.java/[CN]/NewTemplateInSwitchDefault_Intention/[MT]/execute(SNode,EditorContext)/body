{
  String name=CreateFromUsageUtil.getText(editorContext);
  if (name == null || name.length() == 0) {
    name="default_" + SPropertyOperations.getString(node,"name");
  }
  SNode t=SModelOperations.createNewRootNode(SNodeOperations.getModel(node),"jetbrains.mps.lang.generator.structure.TemplateDeclaration",null);
  SPropertyOperations.set(t,"name",name);
  SNode tr=SConceptOperations.createNewNode("jetbrains.mps.lang.generator.structure.TemplateDeclarationReference",null);
  SLinkOperations.setTarget(tr,"template",t,false);
  SLinkOperations.setTarget(node,"defaultConsequence",tr,true);
}
