{
  List<MigrationScript> migrationScripts=new ArrayList<MigrationScript>();
  for (  Language language : languages) {
    SModelDescriptor scriptsModel=language.getScriptsModelDescriptor();
    if (scriptsModel == null)     continue;
    migrationScripts.addAll(scriptsModel.getSModel().getRootsAdapters(MigrationScript.class));
  }
  Map<String,List<MigrationScript>> byCategory=new HashMap<String,List<MigrationScript>>();
  for (  MigrationScript migrationScript : migrationScripts) {
    String cat=migrationScript.getCategory();
    if (cat == null) {
      cat="<uncategorized>";
    }
    if (!byCategory.containsKey(cat)) {
      byCategory.put(cat,new ArrayList<MigrationScript>());
    }
    byCategory.get(cat).add(migrationScript);
  }
  for (  String cat : byCategory.keySet()) {
    ActionGroup categoryGroup=new ActionGroup(cat);
    for (    MigrationScript script : byCategory.get(cat)) {
      categoryGroup.add(new RunMigrationScriptAction(script,makeScriptActionName(null,script.getTitle(),script.getMigrationFromBuild())));
    }
    ownerGroup.add(categoryGroup);
  }
}
