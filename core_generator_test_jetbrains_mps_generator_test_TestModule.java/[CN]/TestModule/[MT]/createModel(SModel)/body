{
  String stereotype="999";
  while (!isValidName(SNodeOperations.getModelLongName(originalModel),stereotype)) {
    stereotype+="_";
  }
  SModelFqName fqName=new SModelFqName(SNodeOperations.getModelLongName(originalModel),stereotype);
  SModel result=new TestSModelDescriptor(fqName,jetbrains.mps.util.SNodeOperations.getModelLongName(originalModel),originalModel);
  myModels.put(result.getReference().getModelName(),result);
  myOriginalModels.put(result,originalModel);
  invalidateCaches();
  return result;
}
