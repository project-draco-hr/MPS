{
  String stereotype="999";
  while (!isValidName(SNodeOperations.getModelLongName(originalModel),stereotype)) {
    stereotype+="_";
  }
  SModelFqName fqName=new SModelFqName(SNodeOperations.getModelLongName(originalModel),stereotype);
  SModelDescriptor result=new TestSModelDescriptor(fqName,jetbrains.mps.util.SNodeOperations.getModelLongName(originalModel),originalModel.getSModel());
  myModels.put(result.getReference().getSModelFqName(),result);
  myOriginalModels.put(result,originalModel);
  invalidateCaches();
  return result;
}
