{
  if (!myToCopy.isLoaded()) {
    myToCopy.load();
  }
  Document document=ModelPersistence.saveModel(((SModelBase)myToCopy).getSModel());
  Element rootElement=document.getRootElement();
  rootElement.setAttribute(ModelPersistence.REF,getReference().toString());
  String modelContent=JDOMUtil.asString(document);
  try {
    return new ModelLoadResult<jetbrains.mps.smodel.SModel>(ModelPersistence.readModel(modelContent,false),ModelLoadingState.FULLY_LOADED);
  }
 catch (  ModelReadException e) {
    return new ModelLoadResult<jetbrains.mps.smodel.SModel>(new StubModel(PersistenceFacade.getInstance().createModelReference(getName().getLongName()),e),ModelLoadingState.FULLY_LOADED);
  }
}
