{
  if (getState() == PQNode.State.EMPTY) {
    return this;
  }
  if (ListSequence.<PQNode>fromList(getChildren()).count() == 0) {
    if (getState() == PQNode.State.FULL) {
      return null;
    }
 else {
      return this;
    }
  }
 else {
    Iterator<PQNode> childItr=ListSequence.<PQNode>fromList(getChildren()).iterator();
    while (childItr.hasNext()) {
      if (childItr.next().makeEmpty() == null) {
        childItr.remove();
      }
    }
    setState(PQNode.State.EMPTY);
    if (ListSequence.<PQNode>fromList(getChildren()).count() == 0) {
      return null;
    }
 else {
      return this;
    }
  }
}
