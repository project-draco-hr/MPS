{
  SearchQuery query=new SearchQuery(new ModulesOnlyScope(project.getComponent(MPSProject.class).getModulesWithGenerators()));
  MigrationScriptFinder finder=new MigrationScriptFinder(scripts,ProjectOperationContext.get(project));
  IResultProvider provider=FindUtils.makeProvider(finder);
  SearchResults<SNode> results=FindUtils.getSearchResults(new EmptyProgressIndicator(),query,provider);
  for (  SearchResult<SNode> aliveIncludedResult : results.getAliveResults()) {
    SNode node=aliveIncludedResult.getObject();
    AbstractMigrationRefactoring migrationRefactoring=finder.getRefactoring(aliveIncludedResult);
    MigrationScriptUtil.performRefactoring(node,migrationRefactoring);
  }
}
