{
  Sequence.<ModelChange>fromIterable(changes).where(new IWhereFilter<ModelChange>(){
    public boolean accept(    ModelChange ch){
      return ch instanceof NodeGroupChange;
    }
  }
).visitAll(new IVisitor<ModelChange>(){
    public void visit(    ModelChange ch){
      ((NodeGroupChange)ch).prepare();
    }
  }
);
  for (  ModelChange c : Sequence.<ModelChange>fromIterable(changes)) {
    applyChange(c);
  }
}
