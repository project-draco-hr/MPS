{
  myResultModel.setLoading(true);
  MergeContextState stateCopy=new MergeContextState(state);
  ListSequence.fromList(SModelOperations.getRoots(myResultModel,null)).visitAll(new IVisitor<SNode>(){
    public void visit(    SNode r){
      SNodeOperations.deleteNode(r);
    }
  }
);
  CopyUtil.clearModelProperties(myResultModel);
  CopyUtil.copyModelProperties(stateCopy.myResultModel,myResultModel);
  ListSequence.fromList(SModelOperations.getRoots(stateCopy.myResultModel,null)).visitAll(new IVisitor<SNode>(){
    public void visit(    SNode r){
      SModelOperations.addRootNode(myResultModel,r);
    }
  }
);
  myResultModel.setLoading(false);
  myResolvedChanges=stateCopy.myResolvedChanges;
  myNodeCopier.setState(stateCopy.myIdReplacementCache,myResultModel);
}
