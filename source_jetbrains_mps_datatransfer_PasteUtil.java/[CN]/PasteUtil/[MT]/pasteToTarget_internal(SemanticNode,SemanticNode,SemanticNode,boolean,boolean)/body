{
  SemanticTypeDeclaration pasteTargetType=SemanticModelUtil.getTypeDeclaration(pasteTarget);
  SemanticTypeDeclaration pasteNodeType=SemanticModelUtil.getTypeDeclaration(pasteNode);
  if (pasteTargetType == null || pasteNodeType == null) {
    return false;
  }
  final SemanticLinkDeclaration metalink=findListlikeMetalink(pasteTargetType,pasteNodeType);
  if (metalink == null) {
    return false;
  }
  if (reallyPaste) {
    CommandProcessor.instance().executeCommand(null,new Runnable(){
      public void run(){
        CommandUtil.addNodeRefernce(pasteTarget,pasteNode,metalink.getRole(),metalink.getMetaClass(),anchorNode,pasteBefore);
      }
    }
,"paste");
  }
  return true;
}
