{
  List<IFile> result=ListSequence.fromList(new ArrayList<IFile>());
  for (  IFile entry : Sequence.fromIterable(filesAndDirs)) {
    if (!(entry.isDirectory()) && accept(entry)) {
      ListSequence.fromList(result).addElement(entry);
      continue;
    }
    for (    IFile file : ListSequence.fromList(IFileUtils.getAllFiles(entry))) {
      if (accept(file)) {
        ListSequence.fromList(result).addElement(file);
      }
    }
  }
  return result;
}
