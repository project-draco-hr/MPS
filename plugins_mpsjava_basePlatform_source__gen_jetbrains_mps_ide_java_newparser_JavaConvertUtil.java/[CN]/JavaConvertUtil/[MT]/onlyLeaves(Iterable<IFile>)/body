{
  List<IFile> result=ListSequence.fromListWithValues(new ArrayList<IFile>(),all);
  Set<IFile> dirs=SetSequence.fromSetWithValues(new HashSet<IFile>(),Sequence.fromIterable(all).where(new IWhereFilter<IFile>(){
    public boolean accept(    IFile it){
      return it.isDirectory();
    }
  }
));
  for (  IFile item : Sequence.fromIterable(all)) {
    IFile parent=item.getParent();
    if (SetSequence.fromSet(dirs).contains(parent)) {
      ListSequence.fromList(result).removeElement(parent);
    }
  }
  return result;
}
