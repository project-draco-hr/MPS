{
  Set<IFile> dirs=SetSequence.fromSetWithValues(new HashSet<IFile>(),Sequence.fromIterable(all).where(new IWhereFilter<IFile>(){
    public boolean accept(    IFile it){
      return it.isDirectory();
    }
  }
));
  Set<IFile> excluded=SetSequence.fromSet(new HashSet<IFile>());
  for (  IFile item : Sequence.fromIterable(all)) {
    IFile parent=item.getParent();
    if (SetSequence.fromSet(dirs).contains(parent)) {
      SetSequence.fromSet(excluded).addElement(parent);
    }
  }
  return Sequence.fromIterable(all).subtract(SetSequence.fromSet(excluded));
}
