{
  path=path.replace(File.separator,Util.SEPARATOR);
  SNode pathHolder=new Module_Behavior.QuotationClass_835h7m_a0a1a71().createNode(ModuleUtil.getRelativePath(path,AbstractProjectComponent_Behavior.call_getHomeFile_1213877333764(thisNode).getPath()),thisNode,ModuleUtil.getRelativePath(path,Module_Behavior.call_getModuleDescriptorPath_4777659345280330855(thisNode)));
  if (SPropertyOperations.getString(pathHolder,"fullPath").equals(path)) {
    ModuleUtil.findMacro(pathHolder,SLinkOperations.getTargets(SNodeOperations.getAncestor(thisNode,"jetbrains.mps.build.packaging.structure.Layout",true,true),"macro",true));
  }
 else {
    SLinkOperations.setTarget(pathHolder,"macro",ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.getAncestor(thisNode,"jetbrains.mps.build.packaging.structure.Layout",true,true),"macro",true)).findFirst(new IWhereFilter<SNode>(){
      public boolean accept(      SNode it){
        return eq_835h7m_a0a0a0a0a2a0a0c0r(SPropertyOperations.getString(it,"name"),Layout_Behavior.getBasedirName_1226509010730());
      }
    }
),false);
  }
  if (SPropertyOperations.getString(pathHolder,"moduleRelativePath").equals(path)) {
    if (path.equals(Module_Behavior.call_getModuleDescriptorPath_4777659345280330855(thisNode))) {
      SPropertyOperations.set(pathHolder,"moduleRelativePath","");
    }
 else {
      SPropertyOperations.set(pathHolder,"moduleRelativePath",null);
    }
  }
  return pathHolder;
}
