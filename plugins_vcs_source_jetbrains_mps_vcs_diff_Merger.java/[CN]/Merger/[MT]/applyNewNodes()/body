{
  List<NewNodeChange> newNodeChanges=getChanges(NewNodeChange.class);
  Map<SNodeId,NewNodeChange> changesMap=new HashMap<SNodeId,NewNodeChange>();
  for (  NewNodeChange c : newNodeChanges) {
    if (myPreviewMode && !myAppliedChanges.contains(c))     continue;
    if (myExcludedChanges.contains(c) || isChangeUnresolved(c))     continue;
    changesMap.put(c.getAffectedNodeId(),c);
  }
  for (  NewNodeChange c : newNodeChanges) {
    applyNewNodeChange(c,changesMap);
  }
}
