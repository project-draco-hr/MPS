{
  mySourceModels[Version.BASE.ordinal()]=base;
  mySourceModels[Version.MINE.ordinal()]=mine;
  mySourceModels[Version.REPO.ordinal()]=repo;
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      DiffBuilder mineDiffBuilder=new DiffBuilder(getBase(mySourceModels),getMine(mySourceModels));
      myBaseMineChanges=mineDiffBuilder.getChanges();
      myChangeGroups.putAll(mineDiffBuilder.getChangeGroups());
      DiffBuilder repoDiffBuilder=new DiffBuilder(getBase(mySourceModels),getRepo(mySourceModels));
      myBaseRepoChanges=repoDiffBuilder.getChanges();
      myChangeGroups.putAll(repoDiffBuilder.getChangeGroups());
    }
  }
);
}
