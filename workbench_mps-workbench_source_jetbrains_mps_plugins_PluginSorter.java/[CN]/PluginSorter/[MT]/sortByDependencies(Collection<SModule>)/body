{
  List<Item> items=new ArrayList<Item>();
  Map<SModule,Item> module2Item=new HashMap<SModule,Item>();
  for (  SModule module : modules) {
    Item item=new Item(module,-1);
    items.add(item);
    module2Item.put(module,item);
  }
  int initIndex=0;
  for (  Item item : items) {
    if (item.myInitIndex == -1) {
      initIndex=init(item,module2Item,initIndex);
    }
  }
  SModule[] result=new SModule[initIndex];
  for (  Item item : items) {
    result[item.myInitIndex]=item.myModule;
  }
  return Arrays.asList(result);
}
