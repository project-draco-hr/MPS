{
  if (!directory.isDirectory()) {
    throw new IllegalArgumentException("Not a directory");
  }
  List<IFile> result=new ArrayList<IFile>();
  collectFiles(directory,result);
  return result;
}
