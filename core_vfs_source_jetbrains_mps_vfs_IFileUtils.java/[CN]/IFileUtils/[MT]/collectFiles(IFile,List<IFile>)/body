{
  for (  IFile child : dir.getChildren()) {
    if (child.isDirectory()) {
      collectFiles(child,result);
    }
 else {
      result.add(child);
    }
  }
}
