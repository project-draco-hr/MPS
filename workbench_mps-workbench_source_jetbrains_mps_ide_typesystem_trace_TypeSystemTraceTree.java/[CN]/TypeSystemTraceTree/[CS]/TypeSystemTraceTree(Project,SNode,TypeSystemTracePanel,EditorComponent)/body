{
  myProject=mpsProject;
  myContextTracker=new TypecheckingContextTracker(node.getContainingRoot());
  myParent=parent;
  myEditorComponent=editorComponent;
  mySelectedNode=node;
  initNodes(node);
  setGenerationMode(TraceSettings.isGenerationMode());
  this.myHighlightManager=editorComponent.getHighlightManager();
  this.myMessageOwner=new EditorMessageOwner(){
  }
;
  EditorCell nodeCell=myEditorComponent.findNodeCell(mySelectedNode);
  if (nodeCell != null) {
    myHighlightManager.mark(new TypeSystemTraceTree.SelectedNodeEditorMessage(nodeCell,""));
  }
  this.rebuildNow();
  expandAll();
  this.myDetailsTree=new TypeSystemTraceTree.DetailsTree(null);
  addTreeSelectionListener(new TypeSystemTraceTree.ShowDetailsUpdater());
  getSelectionModel().setSelectionMode(TreeSelectionModel.CONTIGUOUS_TREE_SELECTION);
}
