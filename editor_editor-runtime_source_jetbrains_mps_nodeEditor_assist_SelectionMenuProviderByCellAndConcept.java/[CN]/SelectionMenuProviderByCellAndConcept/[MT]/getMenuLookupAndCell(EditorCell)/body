{
  EditorCell cell=selectedCell;
  while (cell != null) {
    TransformationMenuLookup key=cell.getTransformationMenuLookup();
    if (key != null && MenuFacade.isMenuDefined(key,myMenuLocation,cell.getSNode())) {
      return new Pair<>(key,cell);
    }
    if (cell.isBig()) {
      SConcept concept=cell.getSNode().getConcept();
      DefaultTransformationMenuLookup menuLookup=new DefaultTransformationMenuLookup(LanguageRegistry.getInstance(cell.getContext().getRepository()),concept);
      if (MenuFacade.isMenuDefined(menuLookup,myMenuLocation,cell.getSNode())) {
        return new Pair<>(menuLookup,cell);
      }
    }
    cell=cell.getParent();
  }
  return null;
}
