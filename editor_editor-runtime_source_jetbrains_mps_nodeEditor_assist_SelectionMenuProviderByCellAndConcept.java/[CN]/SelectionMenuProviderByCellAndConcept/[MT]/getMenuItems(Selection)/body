{
  EditorCell selectedCell=SingularSelectionUtil.getSingleSelectedCell(selection);
  if (selectedCell == null)   return Collections.emptyList();
  final Pair<MenuLookup<TransformationMenu>,EditorCell> menuLookupAndCell=getMenuLookupAndCell(selectedCell);
  if (menuLookupAndCell == null)   return Collections.emptyList();
  EditorCell editorCell=menuLookupAndCell.o2;
  if (editorCell == null || editorCell.getSNode() == null) {
    return Collections.emptyList();
  }
  DefaultTransformationMenuContext context=DefaultTransformationMenuContext.createInitialContextForCell(menuLookupAndCell.o2,myMenuLocation);
  return context.createItems(menuLookupAndCell.o1);
}
