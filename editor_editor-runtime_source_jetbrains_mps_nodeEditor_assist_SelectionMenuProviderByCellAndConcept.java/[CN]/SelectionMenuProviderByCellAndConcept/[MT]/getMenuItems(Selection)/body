{
  EditorCell selectedCell=SingularSelectionUtil.getSingleSelectedCell(selection);
  if (selectedCell == null)   return Collections.emptyList();
  final Pair<TransformationMenuLookup,EditorCell> menuLookupAndCell=getMenuLookupAndCell(selectedCell);
  if (menuLookupAndCell == null)   return Collections.emptyList();
  EditorCell editorCell=menuLookupAndCell.o2;
  if (editorCell == null || editorCell.getSNode() == null) {
    return Collections.emptyList();
  }
  return MenuUtil.createMenu(menuLookupAndCell.o1,myMenuLocation,editorCell);
}
