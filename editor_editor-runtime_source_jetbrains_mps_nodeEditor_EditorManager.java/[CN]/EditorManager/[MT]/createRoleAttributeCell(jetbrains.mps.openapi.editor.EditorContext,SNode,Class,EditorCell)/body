{
  EditorCell attributeCell=(EditorCell)context.createRoleAttributeCell(attributeKind,cellWithRole,roleAttribute);
  if (attributeCell == cellWithRole) {
    return cellWithRole;
  }
  if (cellWithRole.getStyle().get(StyleAttributes.INDENT_LAYOUT_NEW_LINE)) {
    attributeCell.getStyle().set(StyleAttributes.INDENT_LAYOUT_NEW_LINE,true);
  }
  EditorComponent editor=(EditorComponent)context.getEditorComponent();
  Set<SNode> newAttributeCell_DependOn=new HashSet<SNode>();
  Set<SNode> attributeCell_DependOn=editor.getNodesCellDependOn(attributeCell);
  if (attributeCell_DependOn != null) {
    newAttributeCell_DependOn.addAll(attributeCell_DependOn);
  }
  Set<SNodePointer> newAttributeCell_RefTargetsDependsOn=new HashSet<SNodePointer>();
  Set<SNodePointer> attributeCell_RefTargetsDependsOn=editor.getCopyOfRefTargetsCellDependsOn(attributeCell);
  if (attributeCell_RefTargetsDependsOn != null) {
    newAttributeCell_RefTargetsDependsOn.addAll(attributeCell_RefTargetsDependsOn);
  }
  Set<SNode> cellWithRole_DependOn=editor.getNodesCellDependOn(cellWithRole);
  if (cellWithRole_DependOn != null) {
    newAttributeCell_DependOn.addAll(cellWithRole_DependOn);
  }
  Set<SNodePointer> cellWithRole_RefTargetsDependsOn=editor.getCopyOfRefTargetsCellDependsOn(cellWithRole);
  if (cellWithRole_RefTargetsDependsOn != null) {
    newAttributeCell_RefTargetsDependsOn.addAll(cellWithRole_RefTargetsDependsOn);
  }
  if (attributeKind != AttributeKind.Node.class) {
    NodeReadAccessInEditorListener readAccessListener=NodeReadAccessCasterInEditor.getReadAccessListener();
    if (readAccessListener != null) {
      newAttributeCell_DependOn.addAll(readAccessListener.getNodesToDependOn());
      newAttributeCell_RefTargetsDependsOn.addAll(readAccessListener.getRefTargetsToDependOn());
    }
  }
  editor.putCellAndNodesToDependOn(attributeCell,newAttributeCell_DependOn,newAttributeCell_RefTargetsDependsOn);
  return attributeCell;
}
