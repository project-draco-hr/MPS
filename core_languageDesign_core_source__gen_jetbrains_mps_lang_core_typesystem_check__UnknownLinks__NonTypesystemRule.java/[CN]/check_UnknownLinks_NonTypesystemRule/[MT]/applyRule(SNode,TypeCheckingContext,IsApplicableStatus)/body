{
  for (  SNode child : ListSequence.fromList(SNodeOperations.getChildren(node)).where(new IWhereFilter<SNode>(){
    public boolean accept(    SNode it){
      return !(SNodeOperations.isAttribute(it));
    }
  }
)) {
    SNode link=SNodeOperations.getContainingLinkDeclaration(child);
    if (link == null || !(SPropertyOperations.hasValue(link,"metaClass","aggregation","reference"))) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"Child of undeclared role \"" + SNodeOperations.getContainingLinkRole(child) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","1556973682253868925",null,errorTarget);
{
          BaseQuickFixProvider intentionProvider=new BaseQuickFixProvider("jetbrains.mps.lang.core.typesystem.RemoveUnknownChildren_QuickFix",false);
          intentionProvider.putArgument("role",SNodeOperations.getContainingLinkRole(child));
          _reporter_2309309498.addIntentionProvider(intentionProvider);
        }
      }
    }
  }
  for (  SReference reference : Sequence.fromIterable(SNodeOperations.getReferences(node))) {
    SNode link=SLinkOperations.findLinkDeclaration(reference);
    if (link == null || !(SPropertyOperations.hasValue(link,"metaClass","reference","reference"))) {
{
        MessageTarget errorTarget=new NodeMessageTarget();
        IErrorReporter _reporter_2309309498=typeCheckingContext.reportTypeError(node,"Reference of undeclared role \"" + SLinkOperations.getRole(reference) + "\"","r:cec599e3-51d2-48a7-af31-989e3cbd593c(jetbrains.mps.lang.core.typesystem)","1556973682253870183",null,errorTarget);
{
          BaseQuickFixProvider intentionProvider=new BaseQuickFixProvider("jetbrains.mps.lang.core.typesystem.RemoveUnknownReference_QuickFix",false);
          intentionProvider.putArgument("role",SLinkOperations.getRole(reference));
          _reporter_2309309498.addIntentionProvider(intentionProvider);
        }
      }
    }
  }
}
