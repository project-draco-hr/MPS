{
  if (descriptor == null || descriptorFile.isReadOnly()) {
    return;
  }
  excludeGeneratedSourcesDir(ProjectPathUtil.getGeneratorOutputPath(descriptorFile.getParent(),descriptor),excludes);
  excludeGeneratedSourcesDir(ProjectPathUtil.getGeneratorTestsOutputPath(descriptorFile,descriptor),excludes);
  excludeIdeaClassesGen(descriptorFile,descriptor,excludes);
  excludeClassesGen(descriptorFile,descriptor,excludes);
  for (  String p : descriptor.getSourcePaths()) {
    excludes.add(FileSystem.getInstance().getFileByPath(p));
  }
  for (  ModelRootDescriptor rootDescriptor : descriptor.getModelRootDescriptors()) {
    ModelRoot root=rootDescriptor.getRoot();
    if (root == null || root.getManager() != null && root.getManager() != LanguageID.JAVA_MANAGER) {
      continue;
    }
    excludes.add(FileSystem.getInstance().getFileByPath(root.getPath()));
  }
  for (  String entry : descriptor.getAdditionalJavaStubPaths()) {
    excludes.add(FileSystem.getInstance().getFileByPath(entry));
  }
  if (descriptor instanceof LanguageDescriptor) {
    for (    GeneratorDescriptor generator : ((LanguageDescriptor)descriptor).getGenerators()) {
      processExcludes(descriptorFile,generator,excludes);
    }
  }
}
