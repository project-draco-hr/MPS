{
  final GenerationFacade generationFacade=new GenerationFacade(p.getRepository(),options);
  generationFacade.taskHandler(new LegacyTaskListener(generationHandler)).messages(messages).transients(tmProvider);
  generationFacade.modelStreams(new ModelStreamProviderImpl());
  final DefaultTaskBuilder<GeneratorTaskBase> tb=new DefaultTaskBuilder<GeneratorTaskBase>(new Factory<GeneratorTaskBase>(){
    @Override public GeneratorTaskBase create(    SModel inputModel){
      return new GeneratorTaskBase(inputModel);
    }
  }
);
  tb.addAll(inputModels);
  return generationFacade.process0(monitor,tb.getResult());
}
