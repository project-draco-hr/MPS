{
  IModule currentModule=modelDescriptor.getModule();
  boolean deleteIfAsked=true;
  if (currentModule instanceof Language) {
    deleteIfAsked=deleteModelFromLanguage((Language)currentModule,modelDescriptor);
  }
 else   if (currentModule instanceof Solution) {
    deleteModelFromSolution((Solution)currentModule,modelDescriptor);
  }
 else   if (currentModule instanceof Generator) {
    deleteModelFromGenerator((Generator)currentModule,modelDescriptor);
  }
 else {
    LOG.warning("Module type " + currentModule.getClass().getSimpleName() + " is not supported by delete refactoring. Changes will not be saved automatically for modules of this type.");
  }
  if (deleteFiles && deleteIfAsked) {
    modelDescriptor.delete();
  }
  currentModule.save();
}
