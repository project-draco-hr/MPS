{
  GenericRefactoringAction safeDeleteAction=new GenericRefactoringAction(new SafeDeleteModelRefactoring(deleteFiles));
  DataContext dc=new DataContext(){
    private DataContext myRealContext=DataManager.getInstance().getDataContext();
    @Nullable public Object getData(    @NonNls String dataId){
      if (dataId.equals(MPSDataKeys.MPS_PROJECT.getName()))       return project.getComponent(MPSProjectHolder.class).getMPSProject();
 else       if (dataId.equals(MPSDataKeys.MODEL.getName()))       return modelDescriptor;
 else       return myRealContext.getData(dataId);
    }
  }
;
  AnActionEvent event=ActionUtils.createEvent(ActionPlaces.UNKNOWN,dc);
  safeDeleteAction.update(event);
  if (event.getPresentation().isEnabled()) {
    safeDeleteAction.actionPerformed(event);
  }
}
