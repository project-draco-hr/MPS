{
  myRealTabs.clear();
  myTabRemovalListener.clearAspects();
  ArrayList<EditorTabDescriptor> tabs=new ArrayList<EditorTabDescriptor>(myPossibleTabs);
  Collections.sort(tabs,new EditorTabComparator());
  for (  EditorTabDescriptor d : tabs) {
    List<SNode> nodes=d.getNodes(myBaseNode.getNode());
    if (nodes.isEmpty())     continue;
    for (    SNode node : nodes) {
      myTabRemovalListener.aspectAdded(node.getContainingRoot());
    }
    final EditorTab tab=new EditorTab(this,myRealTabs.size(),d,myBaseNode);
    myRealTabs.add(tab);
  }
  DefaultActionGroup group=new DefaultActionGroup();
  group.add(myAddButton.getAction());
  for (  EditorTab tab : myRealTabs) {
    group.add(tab.getAction(myShortcutComponent));
  }
  if (myToolbar != null) {
    remove(myToolbar);
  }
  ActionToolbar actionToolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,true);
  actionToolbar.setLayoutPolicy(ActionToolbar.WRAP_LAYOUT_POLICY);
  myToolbar=actionToolbar.getComponent();
  add(myToolbar,BorderLayout.CENTER);
}
