{
  final SNode[] created=new SNode[1];
  final Runnable r1=new Runnable(){
    public void run(){
      created[0]=myDescriptor.createNode(myBaseNode.getNode(),myConcept);
    }
  }
;
  final Runnable r2=new Runnable(){
    public void run(){
      String mainPack=myBaseNode.getNode().getProperty(SNode.PACK);
      created[0].setProperty(SNode.PACK,mainPack);
      myCallback.changeNode(created[0]);
    }
  }
;
  if (myDescriptor.commandOnCreate()) {
    ModelAccess.instance().runWriteActionInCommand(new Runnable(){
      public void run(){
        r1.run();
        if (created[0] == null)         return;
        r2.run();
      }
    }
);
  }
 else {
    r1.run();
    if (created[0] == null)     return;
    ModelAccess.instance().runWriteActionInCommand(r2);
  }
}
