{
  setColor(Color.BLACK);
  doUpdatePresentation();
  if (myTree == null) {
    myTree=getTree();
  }
  if (myTree != null) {
    myTree.fireTreeNodeUpdated(this);
  }
  Color c=null;
  String additionalText=null;
synchronized (myTreeMessagesLock) {
    if (myTreeMessages != null) {
      int maxColorPriority=Integer.MIN_VALUE;
      int maxAdditionalTextPriority=Integer.MIN_VALUE;
      for (      TreeMessage message : myTreeMessages) {
        if (maxColorPriority < message.getPriority() && message.alternatesColor()) {
          c=message.getColor();
        }
        if (maxAdditionalTextPriority < message.getPriority() && message.hasAdditionalText()) {
          additionalText=message.getAdditionalText();
        }
      }
    }
  }
  if (c != null) {
    setColor(c);
  }
  if (additionalText != null) {
    setAdditionalText(additionalText);
  }
}
