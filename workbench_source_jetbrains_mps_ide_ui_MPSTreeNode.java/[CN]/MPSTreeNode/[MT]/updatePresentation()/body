{
  setColor(Color.BLACK);
  doUpdatePresentation();
  if (myTreeMessages != null) {
    Color c=null;
    int maxColorPriority=Integer.MIN_VALUE;
    String additionalText=null;
    int maxAdditionalTextPriority=Integer.MIN_VALUE;
    for (    TreeMessage message : myTreeMessages) {
      if (maxColorPriority < message.getPriority() && message.alternatesColor()) {
        c=message.getColor();
      }
      if (maxAdditionalTextPriority < message.getPriority() && message.hasAdditionalText()) {
        additionalText=message.getAdditionalText();
      }
    }
    if (c != null) {
      setColor(c);
    }
    if (additionalText != null) {
      setAdditionalText(additionalText);
    }
  }
}
