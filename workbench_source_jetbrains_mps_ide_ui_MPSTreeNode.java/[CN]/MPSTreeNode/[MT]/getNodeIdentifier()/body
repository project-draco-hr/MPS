{
  if (myNodeIdentifier == null) {
    String parentId=null;
    if (getParent() instanceof MPSTreeNode) {
      parentId=((MPSTreeNode)getParent()).getNodeIdentifier();
    }
    throw new IllegalStateException("MPSTreeNode identifier cannot be null, class=" + getClass().getName() + ", parent id="+ parentId);
  }
 else {
    return myNodeIdentifier;
  }
}
