{
  ErrorState state=ErrorState.NONE;
  if (propogateErrorUpwards()) {
    for (int i=0; i < getChildCount(); i++) {
      MPSTreeNode node=(MPSTreeNode)getChildAt(i);
      state=state.combine(node.getAggregatedErrorState());
    }
  }
  myCombinedErrorState=state.combine(myErrorState);
  if (getParent() != null) {
    ((MPSTreeNode)getParent()).updateErrorState();
  }
}
