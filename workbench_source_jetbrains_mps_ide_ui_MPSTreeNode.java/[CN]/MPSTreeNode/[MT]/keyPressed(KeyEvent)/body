{
  if (keyEvent.isAltDown() && keyEvent.isControlDown() && ((!SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_INSERT) || (SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_HELP))) {
    final DataContext dataContext=DataManager.getInstance().getDataContext(this.getTree());
    ListPopup popup=ModelAccess.instance().runReadAction(new Computable<ListPopup>(){
      public ListPopup compute(){
        ActionGroup group=getQuickCreateGroup(true);
        if (group == null)         return null;
        Presentation presentation=new Presentation();
        AnActionEvent event=new AnActionEvent(keyEvent,dataContext,ActionPlaces.UNKNOWN,presentation,ActionManager.getInstance(),0);
        ActionUtils.updateGroup(group,event);
        return JBPopupFactory.getInstance().createActionGroupPopup("New",group,dataContext,JBPopupFactory.ActionSelectionAid.SPEEDSEARCH,false);
      }
    }
);
    if (popup == null)     return;
    popup.showInBestPositionFor(dataContext);
  }
 else   if (keyEvent.isAltDown() && ((!SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_INSERT) || (SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_HELP))) {
    MPSTree mpsTree=getTree();
    if (mpsTree == null)     return;
    JPopupMenu popupMenu=ModelAccess.instance().runReadAction(new Computable<JPopupMenu>(){
      public JPopupMenu compute(){
        ActionGroup actionGroup=getQuickCreateGroup(false);
        if (actionGroup == null)         return null;
        return ActionManager.getInstance().createActionPopupMenu(ActionPlaces.PROJECT_VIEW_POPUP,actionGroup).getComponent();
      }
    }
);
    if (popupMenu == null)     return;
    Rectangle rectangle=mpsTree.getPathBounds(mpsTree.getSelectionPath());
    popupMenu.show(mpsTree,rectangle.x + rectangle.width / 2,rectangle.y);
  }
}
