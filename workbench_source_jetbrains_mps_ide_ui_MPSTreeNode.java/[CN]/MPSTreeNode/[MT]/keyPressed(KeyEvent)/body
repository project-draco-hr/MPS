{
  if (keyEvent.isAltDown() && keyEvent.isControlDown() && ((!SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_INSERT) || (SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_HELP))) {
    final DataContext dataContext=DataManager.getInstance().getDataContext(this.getTree());
    ListPopup popup=ModelAccess.instance().runReadAction(new Computable<ListPopup>(){
      public ListPopup compute(){
        ActionGroup group=getQuickCreateGroup(true);
        ListPopup popup=null;
        if (group != null) {
          Presentation presentation=new Presentation();
          AnActionEvent event=new AnActionEvent(keyEvent,dataContext,ActionPlaces.UNKNOWN,presentation,ActionManager.getInstance(),0);
          ActionUtils.updateGroup(group,event);
          popup=JBPopupFactory.getInstance().createActionGroupPopup(IdeBundle.message("title.popup.new.element"),group,dataContext,JBPopupFactory.ActionSelectionAid.SPEEDSEARCH,false);
        }
        return popup;
      }
    }
);
    if (popup == null)     return;
    popup.showInBestPositionFor(dataContext);
  }
 else   if (keyEvent.isAltDown() && ((!SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_INSERT) || (SystemInfo.isMac && keyEvent.getKeyCode() == KeyEvent.VK_HELP))) {
    JPopupMenu popupMenu=ModelAccess.instance().runReadAction(new Computable<JPopupMenu>(){
      public JPopupMenu compute(){
        return getQuickCreatePopupMenu();
      }
    }
);
    if (popupMenu != null) {
      MPSTree mpsTree=getTree();
      if (mpsTree == null)       return;
      Rectangle rectangle=mpsTree.getPathBounds(mpsTree.getSelectionPath());
      popupMenu.show(mpsTree,rectangle.x + rectangle.width / 2,rectangle.y);
    }
  }
}
