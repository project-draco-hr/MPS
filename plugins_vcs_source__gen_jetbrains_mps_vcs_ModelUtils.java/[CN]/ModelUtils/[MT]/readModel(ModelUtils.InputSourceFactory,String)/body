{
  try {
    if (inputSourceFactory == null) {
      return new SModel(SModelReference.fromPath(path));
    }
    final Ref<IOException> ex=new Ref<IOException>();
    SModel model=ModelAccess.instance().runReadAction(new Computable<SModel>(){
      public SModel compute(){
        try {
          DescriptorLoadResult loadResult=ModelPersistence.loadDescriptor(inputSourceFactory.create());
          return ModelPersistence.readModel(loadResult.getHeader(),inputSourceFactory.create(),ModelLoadingState.FULLY_LOADED).getModel();
        }
 catch (        IOException e) {
          ex.set(e);
          return null;
        }
      }
    }
);
    if (model == null) {
      throw ex.get();
    }
 else {
      return model;
    }
  }
 catch (  Exception t) {
    throw new ModelDiffTool.ReadException(t);
  }
}
