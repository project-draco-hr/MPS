{
  final IOException[] ioException=new IOException[1];
  final SModel[] model=new SModel[1];
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      try {
        DescriptorLoadResult loadResult=ModelPersistence.loadDescriptor(inputSourceFactory.create());
        BaseSModelDescriptor.ModelLoadResult result=ModelPersistence.readModel(loadResult.getHeader(),inputSourceFactory.create(),ModelLoadingState.FULLY_LOADED);
        if (result.getState() != ModelLoadingState.FULLY_LOADED) {
          model[0]=null;
        }
 else {
          model[0]=result.getModel();
        }
      }
 catch (      IOException e) {
        ioException[0]=e;
      }
    }
  }
);
  if (ioException[0] != null) {
    throw ioException[0];
  }
 else {
    return model[0];
  }
}
