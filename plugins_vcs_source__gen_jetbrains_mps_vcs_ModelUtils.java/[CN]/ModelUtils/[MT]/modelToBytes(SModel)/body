{
  final Wrappers._T<Document> document=new Wrappers._T<Document>();
  ModelAccess.instance().runReadAction(new Runnable(){
    public void run(){
      document.value=ModelPersistence.saveModel(result);
    }
  }
);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    JDOMUtil.writeDocument(document.value,baos);
    return baos.toByteArray();
  }
 catch (  IOException e) {
    if (log.isErrorEnabled()) {
      log.error("",e);
    }
  }
  return new byte[0];
}
