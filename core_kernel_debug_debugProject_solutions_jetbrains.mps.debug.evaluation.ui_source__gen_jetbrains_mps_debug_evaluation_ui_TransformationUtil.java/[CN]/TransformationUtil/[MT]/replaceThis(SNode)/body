{
  SNode evaluateMethod=TransformationUtil.findEvaluateMethod(evaluator);
  List<SNode> thisExpressions=SNodeOperations.getDescendants(evaluateMethod,"jetbrains.mps.baseLanguage.structure.ThisExpression",false,new String[]{});
  for (  SNode thisExpression : ListSequence.fromList(thisExpressions)) {
    SNodeOperations.replaceWithAnother(thisExpression,TransformationUtil.createThisNodeReplacement());
  }
}
