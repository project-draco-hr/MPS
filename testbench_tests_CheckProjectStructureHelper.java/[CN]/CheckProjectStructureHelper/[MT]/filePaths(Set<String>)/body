{
  List<ModuleHandle> moduleHandles=ModulesMiner.getInstance().collectModules(FileSystem.getInstance().getFileByPath(System.getProperty("user.dir")),excludeSet,false);
  ArrayList<Object[]> res=new ArrayList<Object[]>();
  for (  ModuleHandle moduleHandle : moduleHandles) {
    if (moduleHandle.getFile().getName().endsWith(".iml")) {
      continue;
    }
    if (disabledModules.contains(moduleHandle.getDescriptor().getModuleReference().getModuleName())) {
      continue;
    }
    res.add(new Object[]{getDescription(moduleHandle),moduleHandle});
  }
  Collections.sort(res,new Comparator<Object[]>(){
    @Override public int compare(    Object[] o1,    Object[] o2){
      return ((String)o1[0]).compareTo((String)o2[0]);
    }
  }
);
  return res;
}
