{
  HashMap<SModelDescriptor,HashSet<ConceptDeclaration>> knownDescendantsInModelDescriptors=myConceptsToKnownDescendantsInModelDescriptors.get(ancestor);
  if (knownDescendantsInModelDescriptors == null) {
    knownDescendantsInModelDescriptors=new HashMap<SModelDescriptor,HashSet<ConceptDeclaration>>();
    myConceptsToKnownDescendantsInModelDescriptors.put(ancestor,knownDescendantsInModelDescriptors);
  }
  SModelDescriptor model=descendant.getModel().getModelDescriptor();
  HashSet<ConceptDeclaration> descendantsKnownInModel=knownDescendantsInModelDescriptors.get(model);
  if (descendantsKnownInModel == null) {
    descendantsKnownInModel=new HashSet<ConceptDeclaration>();
    knownDescendantsInModelDescriptors.put(model,descendantsKnownInModel);
  }
  descendantsKnownInModel.add(descendant);
}
