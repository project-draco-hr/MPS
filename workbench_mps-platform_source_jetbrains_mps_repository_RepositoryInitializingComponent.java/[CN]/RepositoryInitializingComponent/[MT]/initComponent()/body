{
  improveLoadingOnSources();
  myBootstrapLibraryContributor=new BootstrapLibraryContributor(myFS);
  myWorkbenchLibraryContributor=new WorkbenchLibraryContributor(myFS);
  myPluginLibraryContributor=new PluginLibraryContributor(myFS);
  final List<LibraryContributor> contributors=Arrays.asList(myBootstrapLibraryContributor,myWorkbenchLibraryContributor,myPluginLibraryContributor);
  final Application application=ApplicationManager.getApplication();
  application.invokeAndWait(new Runnable(){
    @Override public void run(){
      application.runWriteAction(new Runnable(){
        @Override public void run(){
          myLibraryInitializer.loadRefreshed(contributors);
        }
      }
);
    }
  }
,ModalityState.defaultModalityState());
}
