{
  Set<IModule> result;
  List<IModule> moduleList=e.getData(MPSDataKeys.MODULES);
  if (moduleList == null)   moduleList=new ArrayList<IModule>();
  result=new HashSet(moduleList);
  if (result.isEmpty()) {
    IModule contextModule=e.getData(MPSDataKeys.CONTEXT_MODULE);
    if (contextModule != null) {
      result.add(contextModule);
    }
  }
  return result;
}
