{
  Set<IModule> result;
  List<IModule> moduleList=MPSDataKeys.MODULES.getData(e.getDataContext());
  if (moduleList == null)   moduleList=new ArrayList<IModule>();
  result=new HashSet(moduleList);
  if (result.isEmpty()) {
    IModule contextModule=MPSDataKeys.CONTEXT_MODULE.getData(e.getDataContext());
    if (contextModule != null) {
      result.add(contextModule);
    }
  }
  return result;
}
