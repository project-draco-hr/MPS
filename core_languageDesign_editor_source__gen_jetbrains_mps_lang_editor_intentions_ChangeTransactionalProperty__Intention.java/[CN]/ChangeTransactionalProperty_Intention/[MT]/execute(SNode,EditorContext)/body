{
  SNode transactional=SConceptOperations.createNewNode("jetbrains.mps.lang.editor.structure.CellModel_Property",null);
  SLinkOperations.setTarget(transactional,"relationDeclaration",SLinkOperations.getTarget(node,"property",false),false);
  SLinkOperations.setTarget(node,"property",null,false);
  SNodeOperations.detachNode(SLinkOperations.getTarget(node,"handlerBlock",true));
  for (  SNode child : ListSequence.fromList(node.getChildren())) {
    String role=child.getRole_();
    node.removeChild(child);
    transactional.addChild(role,child);
  }
  for (  Map.Entry<String,String> propertyEntry : SetSequence.fromSet(node.getProperties().entrySet())) {
    transactional.setProperty(propertyEntry.getKey(),propertyEntry.getValue());
  }
  for (  SReference reference : ListSequence.fromList(node.getReferences())) {
    transactional.addReference(reference);
  }
  SNodeOperations.replaceWithAnother(node,transactional);
}
