{
  if (excludes != null) {
    myExcludes.addAll(excludes);
  }
  if (refreshFiles) {
    LOG.debug("Refreshing recursively in the " + dir);
    new FileRefresh(dir).run();
  }
  myOutcome.clear();
  collectModules(dir);
  return new ArrayList<ModuleHandle>(myOutcome);
}
