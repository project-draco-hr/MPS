{
  if (stream.readShort() != 0x1be0)   throw new IOException("bad stream: no start marker");
  String file=stream.readString();
  ModuleDescriptor descriptor;
  int type=stream.readByte();
  if (type == 1) {
    descriptor=new LanguageDescriptor();
  }
 else   if (type == 2) {
    descriptor=new SolutionDescriptor();
  }
 else   if (type == 3) {
    descriptor=new DevkitDescriptor();
  }
 else {
    throw new IOException("broken stream: invalid descriptor type");
  }
  descriptor.load(stream);
  return new ModuleHandle(getFileSystem().getFile(file),descriptor);
}
